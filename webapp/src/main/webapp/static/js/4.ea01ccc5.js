webpackJsonp([4],Array(730).concat([function(t,e,n){"use strict";n.d(e,"i",function(){return r}),n.d(e,"j",function(){return i}),n.d(e,"o",function(){return o}),n.d(e,"l",function(){return a}),n.d(e,"q",function(){return s}),n.d(e,"w",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"r",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"g",function(){return p}),n.d(e,"f",function(){return g}),n.d(e,"k",function(){return v}),n.d(e,"n",function(){return m}),n.d(e,"p",function(){return y}),n.d(e,"t",function(){return x}),n.d(e,"s",function(){return _}),n.d(e,"u",function(){return b}),n.d(e,"v",function(){return w}),e.b=function(t){return t>1?0:t<-1?o:Math.acos(t)},e.c=function(t){return t>1?a:t<-1?-a:Math.asin(t)},e.m=function(t){return(t=x(t/2))*t};var r=1e-6,i=1e-12,o=Math.PI,a=o/2,s=o/4,u=2*o,l=180/o,c=o/180,h=Math.abs,f=Math.atan,d=Math.atan2,p=Math.cos,g=Math.ceil,v=Math.exp,m=(Math.floor,Math.log),y=Math.pow,x=Math.sin,_=Math.sign||function(t){return t>0?1:t<0?-1:0},b=Math.sqrt,w=Math.tan},,,,function(t,e,n){var r;try{r=n(789)}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1320);n.d(e,"create",function(){return r.a});var i=n(816);n.d(e,"creator",function(){return i.a});var o=n(1349);n.d(e,"local",function(){return o.a});var a=n(949);n.d(e,"matcher",function(){return a.a});var s=n(1350);n.d(e,"mouse",function(){return s.a});var u=n(847);n.d(e,"namespace",function(){return u.a});var l=n(848);n.d(e,"namespaces",function(){return l.a});var c=n(817);n.d(e,"clientPoint",function(){return c.a});var h=n(947);n.d(e,"select",function(){return h.a});var f=n(1351);n.d(e,"selectAll",function(){return f.a});var d=n(756);n.d(e,"selection",function(){return d.b});var p=n(849);n.d(e,"selector",function(){return p.a});var g=n(948);n.d(e,"selectorAll",function(){return g.a});var v=n(952);n.d(e,"style",function(){return v.b});var m=n(1352);n.d(e,"touch",function(){return m.a});var y=n(1353);n.d(e,"touches",function(){return y.a});var x=n(850);n.d(e,"window",function(){return x.a});var _=n(851);n.d(e,"event",function(){return _.c}),n.d(e,"customEvent",function(){return _.a})},,,,,,,function(t,e,n){"use strict";var r=n(1422);n.d(e,"b",function(){return r.a});var i=n(821);n.d(e,"c",function(){return i.a});var o=n(1451);n.d(e,"f",function(){return o.a});var a=n(971);n.d(e,"g",function(){return a.a});var s=n(1452);n.d(e,"h",function(){return s.a});var u=n(862);n.d(e,"i",function(){return u.a});var l=n(863);n.d(e,"j",function(){return l.a});var c=n(822);n.d(e,"a",function(){return c.a});var h=n(969);n.d(e,"k",function(){return h.a});var f=n(1453);n.d(e,"l",function(){return f.a});var d=n(758);n.d(e,"m",function(){return d.b});var p=n(864);n.d(e,"n",function(){return p.a});var g=n(970);n.d(e,"o",function(){return g.a});var v=n(974);n.d(e,"p",function(){return v.b});var m=n(1454);n.d(e,"q",function(){return m.a});var y=n(1455);n.d(e,"r",function(){return y.a});var x=n(865);n.d(e,"s",function(){return x.a});var _=n(866);n.d(e,"e",function(){return _.c}),n.d(e,"d",function(){return _.a})},function(t,e,n){"use strict";e.a=function t(e,n,o,a){function s(t){return e(t=new Date(+t)),t}s.floor=s;s.ceil=function(t){return e(t=new Date(t-1)),n(t,1),e(t),t};s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n};s.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t};s.range=function(t,r,i){var o,a=[];if(t=s.ceil(t),i=null==i?1:Math.floor(i),!(t<r&&i>0))return a;do{a.push(o=new Date(+t)),n(t,i),e(t)}while(o<t&&t<r);return a};s.filter=function(r){return t(function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););})};o&&(s.count=function(t,n){return r.setTime(+t),i.setTime(+n),e(r),e(i),Math.floor(o(r,i))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null});return s};var r=new Date,i=new Date},function(t,e,n){"use strict";var r=n(734),i=n(755).Graph;function o(t,e,n,i){var o;do{o=r.uniqueId(i)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function a(t){return r.max(r.map(t.nodes(),function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n}))}t.exports={addDummyNode:o,simplify:function(t){var e=(new i).setGraph(t.graph());return r.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),r.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),r.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=r.map(t.nodes(),function(e){var n={};return r.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),function(e){var n={};return r.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,l=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),function(){return[]});return r.forEach(t.nodes(),function(n){var i=t.node(n),o=i.rank;r.isUndefined(o)||(e[o][i.order]=n)}),e},normalizeRanks:function(t){var e=r.minBy(r.map(t.nodes(),function(e){return t.node(e).rank}));r.forEach(t.nodes(),function(n){var i=t.node(n);r.has(i,"rank")&&(i.rank-=e)})},removeEmptyRanks:function(t){var e=r.minBy(r.map(t.nodes(),function(e){return t.node(e).rank})),n=[];r.forEach(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var i=0,o=t.graph().nodeRankFactor;r.forEach(n,function(e,n){r.isUndefined(e)&&n%o!=0?--i:i&&r.forEach(e,function(e){t.node(e).rank+=i})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return o(t,"border",i,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){r.now();try{return e()}finally{}},notime:function(t,e){return e()}}},function(t,e,n){"use strict";var r=n(934);n.d(e,"b",function(){return r.c}),n.d(e,"d",function(){return r.b}),n.d(e,"c",function(){return r.a});var i=n(791);n.d(e,"a",function(){return i.a});var o=n(935);n.d(e,"e",function(){return o.a});var a=n(1296);n.d(e,"f",function(){return a.a});var s=n(1297);n.d(e,"g",function(){return s.a});var u=n(937);n.d(e,"h",function(){return u.a});var l=n(939);n.d(e,"i",function(){return l.a});var c=n(1298);n.d(e,"j",function(){return c.a});var h=n(1301);n.d(e,"w",function(){return h.a});var f=n(1302);n.d(e,"x",function(){return f.a});var d=n(943);n.d(e,"y",function(){return d.a});var p=n(1303);n.d(e,"k",function(){return p.a});var g=n(1304);n.d(e,"l",function(){return g.a});var v=n(1305);n.d(e,"m",function(){return v.a});var m=n(1306);n.d(e,"n",function(){return m.a});var y=n(944);n.d(e,"o",function(){return y.a});var x=n(936);n.d(e,"p",function(){return x.a});var _=n(1307);n.d(e,"q",function(){return _.a});var b=n(846);n.d(e,"r",function(){return b.a});var w=n(941);n.d(e,"s",function(){return w.a});var M=n(1308);n.d(e,"t",function(){return M.a});var S=n(1309);n.d(e,"u",function(){return S.a});var A=n(1310);n.d(e,"v",function(){return A.a});var T=n(942);n.d(e,"B",function(){return T.a}),n.d(e,"z",function(){return T.b}),n.d(e,"A",function(){return T.c});var O=n(945);n.d(e,"C",function(){return O.a});var C=n(938);n.d(e,"D",function(){return C.a});var I=n(1311);n.d(e,"E",function(){return I.a})},,,function(t,e,n){var r;try{r=n(789)}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){var r=n(790);t.exports={isSubgraph:function(t,e){return!!t.children(e).length},edgeToId:function(t){return o(t.v)+":"+o(t.w)+":"+o(t.name)},applyStyle:function(t,e){e&&t.attr("style",e)},applyClass:function(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))},applyTransition:function(t,e){var n=e.graph();if(r.isPlainObject(n)){var i=n.transition;if(r.isFunction(i))return i(t)}return t}};var i=/:/g;function o(t){return t?String(t).replace(i,"\\:"):""}},,,,,,function(t,e,n){var r;try{r=n(922)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){"use strict";n.d(e,"c",function(){return E}),e.a=P;var r=n(1321),i=n(1322),o=n(1323),a=n(1324),s=n(950),u=n(1326),l=n(1327),c=n(1328),h=n(1329),f=n(1330),d=n(1331),p=n(1332),g=n(1333),v=n(1334),m=n(1335),y=n(1336),x=n(952),_=n(1337),b=n(1338),w=n(1339),M=n(1340),S=n(1341),A=n(1342),T=n(1343),O=n(1344),C=n(1345),I=n(1346),k=n(1347),D=n(851),L=n(1348),E=[null];function P(t,e){this._groups=t,this._parents=e}function N(){return new P([[document.documentElement]],E)}P.prototype=N.prototype={constructor:P,select:r.a,selectAll:i.a,filter:o.a,data:a.a,enter:s.b,exit:u.a,merge:l.a,order:c.a,sort:h.a,call:f.a,nodes:d.a,node:p.a,size:g.a,empty:v.a,each:m.a,attr:y.a,style:x.a,property:_.a,classed:b.a,text:w.a,html:M.a,raise:S.a,lower:A.a,append:T.a,insert:O.a,remove:C.a,clone:I.a,datum:k.a,on:D.b,dispatch:L.a},e.b=N},function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d}),e.g=function(t,e){var n=p(t,e);if(n.state>s)throw new Error("too late; already scheduled");return n},e.h=function(t,e){var n=p(t,e);if(n.state>l)throw new Error("too late; already started");return n},e.f=p;var r=n(792),i=n(857),o=Object(r.a)("start","end","interrupt"),a=[],s=0,u=1,l=2,c=3,h=4,f=5,d=6;function p(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}e.e=function(t,e,n,r,p,g){var v=t.__transition;if(v){if(n in v)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function a(f){var g,v,m,y;if(n.state!==u)return p();for(g in o)if((y=o[g]).name===n.name){if(y.state===c)return Object(i.b)(a);y.state===h?(y.state=d,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete o[g]):+g<e&&(y.state=d,y.timer.stop(),delete o[g])}if(Object(i.b)(function(){n.state===c&&(n.state=h,n.timer.restart(s,n.delay,n.time),s(f))}),n.state=l,n.on.call("start",t,t.__data__,n.index,n.group),n.state===l){for(n.state=c,r=new Array(m=n.tween.length),g=0,v=-1;g<m;++g)(y=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(r[++v]=y);r.length=v+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(p),n.state=f,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===f&&(n.on.call("end",t,t.__data__,n.index,n.group),p())}function p(){for(var r in n.state=d,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Object(i.c)(function(t){n.state=u,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:p,on:o,tween:a,time:g.time,delay:g.delay,duration:g.duration,ease:g.ease,timer:null,state:s})}},function(t,e,n){"use strict";n.d(e,"c",function(){return E}),e.a=P;var r=n(1423),i=n(1424),o=n(1425),a=n(1426),s=n(972),u=n(1428),l=n(1429),c=n(1430),h=n(1431),f=n(1432),d=n(1433),p=n(1434),g=n(1435),v=n(1436),m=n(1437),y=n(1438),x=n(974),_=n(1439),b=n(1440),w=n(1441),M=n(1442),S=n(1443),A=n(1444),T=n(1445),O=n(1446),C=n(1447),I=n(1448),k=n(1449),D=n(866),L=n(1450),E=[null];function P(t,e){this._groups=t,this._parents=e}function N(){return new P([[document.documentElement]],E)}P.prototype=N.prototype={constructor:P,select:r.a,selectAll:i.a,filter:o.a,data:a.a,enter:s.b,exit:u.a,merge:l.a,order:c.a,sort:h.a,call:f.a,nodes:d.a,node:p.a,size:g.a,empty:v.a,each:m.a,attr:y.a,style:x.a,property:_.a,classed:b.a,text:w.a,html:M.a,raise:S.a,lower:A.a,append:T.a,insert:O.a,remove:C.a,clone:I.a,datum:k.a,on:D.b,dispatch:L.a},e.b=N},function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d}),e.g=function(t,e){var n=p(t,e);if(n.state>s)throw new Error("too late; already scheduled");return n},e.h=function(t,e){var n=p(t,e);if(n.state>l)throw new Error("too late; already started");return n},e.f=p;var r=n(820),i=n(893),o=Object(r.a)("start","end","interrupt"),a=[],s=0,u=1,l=2,c=3,h=4,f=5,d=6;function p(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}e.e=function(t,e,n,r,p,g){var v=t.__transition;if(v){if(n in v)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function a(f){var g,v,m,y;if(n.state!==u)return p();for(g in o)if((y=o[g]).name===n.name){if(y.state===c)return Object(i.c)(a);y.state===h?(y.state=d,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete o[g]):+g<e&&(y.state=d,y.timer.stop(),delete o[g])}if(Object(i.c)(function(){n.state===c&&(n.state=h,n.timer.restart(s,n.delay,n.time),s(f))}),n.state=l,n.on.call("start",t,t.__data__,n.index,n.group),n.state===l){for(n.state=c,r=new Array(m=n.tween.length),g=0,v=-1;g<m;++g)(y=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(r[++v]=y);r.length=v+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(p),n.state=f,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===f&&(n.on.call("end",t,t.__data__,n.index,n.group),p())}function p(){for(var r in n.state=d,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Object(i.d)(function(t){n.state=u,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:p,on:o,tween:a,time:g.time,delay:g.delay,duration:g.duration,ease:g.ease,timer:null,state:s})}},,function(t,e,n){"use strict";var r=n(853);n.d(e,"a",function(){return r.a});n(959),n(856),n(957),n(960),n(1358),n(1359);var i=n(818);n.d(e,"c",function(){return i.a});n(961);var o=n(1360);n.d(e,"e",function(){return o.a});var a=n(962);n.d(e,"f",function(){return a.a});var s=n(1361);n.d(e,"g",function(){return s.a}),n.d(e,"h",function(){return s.b});var u=n(1364);n.d(e,"i",function(){return u.a});var l=n(956);n.d(e,"d",function(){return l.a});n(1365),n(1366),n(1367);var c=n(1368);n.d(e,"b",function(){return c.a});n(1369),n(1370)},function(t,e,n){"use strict";e.a=function(t){return p(function(){return t})()},e.b=p;var r=n(986),i=n(992),o=n(825),a=n(985),s=n(875),u=n(730),l=n(824),c=n(826),h=n(878),f=n(1515),d=Object(c.b)({point:function(t,e){this.stream.point(t*u.r,e*u.r)}});function p(t){var e,n,p,g,v,m,y,x,_,b,w=150,M=480,S=250,A=0,T=0,O=0,C=0,I=0,k=null,D=r.a,L=null,E=s.a,P=.5,N=Object(f.a)(z,P);function j(t){return[(t=v(t[0]*u.r,t[1]*u.r))[0]*w+n,p-t[1]*w]}function R(t){return(t=v.invert((t[0]-n)/w,(p-t[1])/w))&&[t[0]*u.h,t[1]*u.h]}function z(t,r){return[(t=e(t,r))[0]*w+n,p-t[1]*w]}function B(){v=Object(a.a)(g=Object(l.b)(O,C,I),e);var t=e(A,T);return n=M-t[0]*w,p=S+t[1]*w,V()}function V(){return _=b=null,j}return j.stream=function(t){return _&&b===t?_:_=d(function(t){return Object(c.b)({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(g)(D(N(E(b=t)))))},j.preclip=function(t){return arguments.length?(D=t,k=void 0,V()):D},j.postclip=function(t){return arguments.length?(E=t,L=m=y=x=null,V()):E},j.clipAngle=function(t){return arguments.length?(D=+t?Object(i.a)(k=t*u.r):(k=null,r.a),V()):k*u.h},j.clipExtent=function(t){return arguments.length?(E=null==t?(L=m=y=x=null,s.a):Object(o.a)(L=+t[0][0],m=+t[0][1],y=+t[1][0],x=+t[1][1]),V()):null==L?null:[[L,m],[y,x]]},j.scale=function(t){return arguments.length?(w=+t,B()):w},j.translate=function(t){return arguments.length?(M=+t[0],S=+t[1],B()):[M,S]},j.center=function(t){return arguments.length?(A=t[0]%360*u.r,T=t[1]%360*u.r,B()):[A*u.h,T*u.h]},j.rotate=function(t){return arguments.length?(O=t[0]%360*u.r,C=t[1]%360*u.r,I=t.length>2?t[2]%360*u.r:0,B()):[O*u.h,C*u.h,I*u.h]},j.precision=function(t){return arguments.length?(N=Object(f.a)(z,P=t*t),V()):Object(u.u)(P)},j.fitExtent=function(t,e){return Object(h.a)(j,t,e)},j.fitSize=function(t,e){return Object(h.c)(j,t,e)},j.fitWidth=function(t,e){return Object(h.d)(j,t,e)},j.fitHeight=function(t,e){return Object(h.b)(j,t,e)},function(){return e=t.apply(this,arguments),j.invert=e.invert&&R,B()}}},function(t,e,n){"use strict";var r=n(854);n.d(e,"a",function(){return r.e}),n.d(e,"f",function(){return r.g}),n.d(e,"d",function(){return r.f});var i=n(1356);n.d(e,"e",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(1357);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s});var r=1e3,i=6e4,o=36e5,a=864e5,s=6048e5},,function(t,e,n){var r;if(!r)try{r=n(1294)}catch(t){}r||(r=window.d3),t.exports=r},function(t,e,n){"use strict";e.a=w,e.b=function(){return++b};var r=n(735),i=n(1376),o=n(1377),a=n(1378),s=n(1379),u=n(1380),l=n(1381),c=n(1382),h=n(1383),f=n(1384),d=n(1385),p=n(1386),g=n(1387),v=n(1388),m=n(1389),y=n(1390),x=n(1391),_=n(819),b=0;function w(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}var M=r.selection.prototype;w.prototype=function(t){return Object(r.selection)().transition(t)}.prototype={constructor:w,select:d.a,selectAll:p.a,filter:l.a,merge:c.a,selection:g.a,transition:x.a,call:M.call,nodes:M.nodes,node:M.node,size:M.size,empty:M.empty,each:M.each,on:h.a,attr:i.a,attrTween:o.a,style:v.a,styleTween:m.a,text:y.a,remove:f.a,tween:_.a,delay:a.a,duration:s.a,ease:u.a}},function(t,e,n){"use strict";var r=n(860);n.d(e,"a",function(){return r.e}),n.d(e,"f",function(){return r.g}),n.d(e,"d",function(){return r.f});var i=n(1418);n.d(e,"e",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(1419);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";e.a=w,e.b=M,e.c=function(){return++b};var r=n(742),i=n(1645),o=n(1646),a=n(1647),s=n(1648),u=n(1649),l=n(1650),c=n(1651),h=n(1652),f=n(1653),d=n(1654),p=n(1655),g=n(1656),v=n(1657),m=n(1658),y=n(1659),x=n(1660),_=n(836),b=0;function w(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function M(t){return Object(r.m)().transition(t)}var S=r.m.prototype;w.prototype=M.prototype={constructor:w,select:d.a,selectAll:p.a,filter:l.a,merge:c.a,selection:g.a,transition:x.a,call:S.call,nodes:S.nodes,node:S.node,size:S.size,empty:S.empty,each:S.each,on:h.a,attr:i.a,attrTween:o.a,style:v.a,styleTween:m.a,text:y.a,remove:f.a,tween:_.a,delay:a.a,duration:s.a,ease:u.a}},,,,,function(t,e,n){"use strict";var r=n(1412);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e){t&&o.hasOwnProperty(t.type)&&o[t.type](t,e)}var i={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)r(n[i].geometry,e)}},o={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){a(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)a(n[r],e,0)},Polygon:function(t,e){s(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)s(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)r(n[i],e)}};function a(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function s(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)a(t[n],e,1);e.polygonEnd()}e.a=function(t,e){t&&i.hasOwnProperty(t.type)?i[t.type](t,e):r(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},,,,,,,,,,,function(t,e,n){(function(t,r){var i;(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,d=2,p=4,g=1,v=2,m=1,y=2,x=4,_=8,b=16,w=32,M=64,S=128,A=256,T=512,O=30,C="...",I=800,k=16,D=1,L=2,E=1/0,P=9007199254740991,N=1.7976931348623157e308,j=NaN,R=4294967295,z=R-1,B=R>>>1,V=[["ary",S],["bind",m],["bindKey",y],["curry",_],["curryRight",b],["flip",T],["partial",w],["partialRight",M],["rearg",A]],F="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",G="[object Boolean]",q="[object Date]",U="[object DOMException]",Y="[object Error]",X="[object Function]",Z="[object GeneratorFunction]",$="[object Map]",K="[object Number]",J="[object Null]",Q="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",at="[object WeakMap]",st="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",ht="[object Float64Array]",ft="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",gt="[object Uint8Array]",vt="[object Uint8ClampedArray]",mt="[object Uint16Array]",yt="[object Uint32Array]",xt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,Mt=/[&<>"']/g,St=RegExp(wt.source),At=RegExp(Mt.source),Tt=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kt=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,Et=RegExp(Lt.source),Pt=/^\s+|\s+$/g,Nt=/^\s+/,jt=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,Yt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Qt+"]",ne="["+Jt+"]",re="\\d+",ie="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+Qt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+oe+"|"+ae+")",de="(?:"+he+"|"+ae+")",pe="(?:"+ne+"|"+se+")"+"?",ge="[\\ufe0e\\ufe0f]?"+pe+("(?:\\u200d(?:"+[ue,le,ce].join("|")+")[\\ufe0e\\ufe0f]?"+pe+")*"),ve="(?:"+[ie,le,ce].join("|")+")"+ge,me="(?:"+[ue+ne+"?",ne,le,ce,te].join("|")+")",ye=RegExp("['’]","g"),xe=RegExp(ne,"g"),_e=RegExp(se+"(?="+se+")|"+me+ge,"g"),be=RegExp([he+"?"+oe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,he,"$"].join("|")+")",de+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,he+fe,"$"].join("|")+")",he+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",he+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,ve].join("|"),"g"),we=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),Me=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ae=-1,Te={};Te[ct]=Te[ht]=Te[ft]=Te[dt]=Te[pt]=Te[gt]=Te[vt]=Te[mt]=Te[yt]=!0,Te[F]=Te[H]=Te[ut]=Te[G]=Te[lt]=Te[q]=Te[Y]=Te[X]=Te[$]=Te[K]=Te[Q]=Te[et]=Te[nt]=Te[rt]=Te[at]=!1;var Oe={};Oe[F]=Oe[H]=Oe[ut]=Oe[lt]=Oe[G]=Oe[q]=Oe[ct]=Oe[ht]=Oe[ft]=Oe[dt]=Oe[pt]=Oe[$]=Oe[K]=Oe[Q]=Oe[et]=Oe[nt]=Oe[rt]=Oe[it]=Oe[gt]=Oe[vt]=Oe[mt]=Oe[yt]=!0,Oe[Y]=Oe[X]=Oe[at]=!1;var Ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ie=parseFloat,ke=parseInt,De="object"==typeof t&&t&&t.Object===Object&&t,Le="object"==typeof self&&self&&self.Object===Object&&self,Ee=De||Le||Function("return this")(),Pe="object"==typeof e&&e&&!e.nodeType&&e,Ne=Pe&&"object"==typeof r&&r&&!r.nodeType&&r,je=Ne&&Ne.exports===Pe,Re=je&&De.process,ze=function(){try{var t=Ne&&Ne.require&&Ne.require("util").types;return t||Re&&Re.binding&&Re.binding("util")}catch(t){}}(),Be=ze&&ze.isArrayBuffer,Ve=ze&&ze.isDate,Fe=ze&&ze.isMap,He=ze&&ze.isRegExp,We=ze&&ze.isSet,Ge=ze&&ze.isTypedArray;function qe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ue(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function $e(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ke(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Je(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Qe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var on=fn("length");function an(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function sn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):sn(t,cn,n)}function ln(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function cn(t){return t!=t}function hn(t,e){var n=null==t?0:t.length;return n?gn(t,e)/n:j}function fn(t){return function(e){return null==e?o:e[t]}}function dn(t){return function(e){return null==t?o:t[e]}}function pn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function gn(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function vn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function mn(t){return function(e){return t(e)}}function yn(t,e){return Qe(e,function(e){return t[e]})}function xn(t,e){return t.has(e)}function _n(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function bn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var wn=dn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Mn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(t){return"\\"+Ce[t]}function An(t){return we.test(t)}function Tn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function On(t,e){return function(n){return t(e(n))}}function Cn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==h||(t[n]=h,o[i++]=n)}return o}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function kn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Dn(t){return An(t)?function(t){var e=_e.lastIndex=0;for(;_e.test(t);)++e;return e}(t):on(t)}function Ln(t){return An(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.split("")}(t)}var En=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function t(e){var n,r=(e=null==e?Ee:Pn.defaults(Ee.Object(),e,Pn.pick(Ee,Se))).Array,i=e.Date,Jt=e.Error,Qt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,re=e.String,ie=e.TypeError,oe=r.prototype,ae=Qt.prototype,se=ee.prototype,ue=e["__core-js_shared__"],le=ae.toString,ce=se.hasOwnProperty,he=0,fe=(n=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",de=se.toString,pe=le.call(ee),ge=Ee._,ve=ne("^"+le.call(ce).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=je?e.Buffer:o,_e=e.Symbol,we=e.Uint8Array,Ce=me?me.allocUnsafe:o,De=On(ee.getPrototypeOf,ee),Le=ee.create,Pe=se.propertyIsEnumerable,Ne=oe.splice,Re=_e?_e.isConcatSpreadable:o,ze=_e?_e.iterator:o,on=_e?_e.toStringTag:o,dn=function(){try{var t=Bo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Nn=e.clearTimeout!==Ee.clearTimeout&&e.clearTimeout,jn=i&&i.now!==Ee.Date.now&&i.now,Rn=e.setTimeout!==Ee.setTimeout&&e.setTimeout,zn=te.ceil,Bn=te.floor,Vn=ee.getOwnPropertySymbols,Fn=me?me.isBuffer:o,Hn=e.isFinite,Wn=oe.join,Gn=On(ee.keys,ee),qn=te.max,Un=te.min,Yn=i.now,Xn=e.parseInt,Zn=te.random,$n=oe.reverse,Kn=Bo(e,"DataView"),Jn=Bo(e,"Map"),Qn=Bo(e,"Promise"),tr=Bo(e,"Set"),er=Bo(e,"WeakMap"),nr=Bo(ee,"create"),rr=er&&new er,ir={},or=ha(Kn),ar=ha(Jn),sr=ha(Qn),ur=ha(tr),lr=ha(er),cr=_e?_e.prototype:o,hr=cr?cr.valueOf:o,fr=cr?cr.toString:o;function dr(t){if(Cs(t)&&!ms(t)&&!(t instanceof mr)){if(t instanceof vr)return t;if(ce.call(t,"__wrapped__"))return fa(t)}return new vr(t)}var pr=function(){function t(){}return function(e){if(!Os(e))return{};if(Le)return Le(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function gr(){}function vr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function mr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function yr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _r;++e<n;)this.add(t[e])}function wr(t){var e=this.__data__=new xr(t);this.size=e.size}function Mr(t,e){var n=ms(t),r=!n&&vs(t),i=!n&&!r&&bs(t),o=!n&&!r&&!i&&js(t),a=n||r||i||o,s=a?vn(t.length,re):[],u=s.length;for(var l in t)!e&&!ce.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Uo(l,u))||s.push(l);return s}function Sr(t){var e=t.length;return e?t[bi(0,e-1)]:o}function Ar(t,e){return ua(no(t),Pr(e,0,t.length))}function Tr(t){return ua(no(t))}function Or(t,e,n){(n===o||ds(t[e],n))&&(n!==o||e in t)||Lr(t,e,n)}function Cr(t,e,n){var r=t[e];ce.call(t,e)&&ds(r,n)&&(n!==o||e in t)||Lr(t,e,n)}function Ir(t,e){for(var n=t.length;n--;)if(ds(t[n][0],e))return n;return-1}function kr(t,e,n,r){return Br(t,function(t,i,o){e(r,t,n(t),o)}),r}function Dr(t,e){return t&&ro(e,iu(e),t)}function Lr(t,e,n){"__proto__"==e&&dn?dn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Er(t,e){for(var n=-1,i=e.length,a=r(i),s=null==t;++n<i;)a[n]=s?o:Qs(t,e[n]);return a}function Pr(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Nr(t,e,n,r,i,a){var s,u=e&f,l=e&d,c=e&p;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!Os(t))return t;var h=ms(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return no(t,s)}else{var g=Ho(t),v=g==X||g==Z;if(bs(t))return $i(t,u);if(g==Q||g==F||v&&!i){if(s=l||v?{}:Go(t),!u)return l?function(t,e){return ro(t,Fo(t),e)}(t,function(t,e){return t&&ro(e,ou(e),t)}(s,t)):function(t,e){return ro(t,Vo(t),e)}(t,Dr(s,t))}else{if(!Oe[g])return i?t:{};s=function(t,e,n){var r,i,o,a=t.constructor;switch(e){case ut:return Ki(t);case G:case q:return new a(+t);case lt:return function(t,e){var n=e?Ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case ht:case ft:case dt:case pt:case gt:case vt:case mt:case yt:return Ji(t,n);case $:return new a;case K:case rt:return new a(t);case et:return(o=new(i=t).constructor(i.source,Wt.exec(i))).lastIndex=i.lastIndex,o;case nt:return new a;case it:return r=t,hr?ee(hr.call(r)):{}}}(t,g,u)}}a||(a=new wr);var m=a.get(t);if(m)return m;if(a.set(t,s),Es(t))return t.forEach(function(r){s.add(Nr(r,e,n,r,t,a))}),s;if(Is(t))return t.forEach(function(r,i){s.set(i,Nr(r,e,n,i,t,a))}),s;var y=h?o:(c?l?Lo:Do:l?ou:iu)(t);return Ye(y||t,function(r,i){y&&(r=t[i=r]),Cr(s,i,Nr(r,e,n,i,t,a))}),s}function jr(t,e,n){var r=n.length;if(null==t)return!r;for(t=ee(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function Rr(t,e,n){if("function"!=typeof t)throw new ie(u);return ia(function(){t.apply(o,n)},e)}function zr(t,e,n,r){var i=-1,o=Ke,s=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=Qe(e,mn(n))),r?(o=Je,s=!1):e.length>=a&&(o=xn,s=!1,e=new br(e));t:for(;++i<u;){var h=t[i],f=null==n?h:n(h);if(h=r||0!==h?h:0,s&&f==f){for(var d=c;d--;)if(e[d]===f)continue t;l.push(h)}else o(e,f,r)||l.push(h)}return l}dr.templateSettings={escape:Tt,evaluate:Ot,interpolate:Ct,variable:"",imports:{_:dr}},dr.prototype=gr.prototype,dr.prototype.constructor=dr,vr.prototype=pr(gr.prototype),vr.prototype.constructor=vr,mr.prototype=pr(gr.prototype),mr.prototype.constructor=mr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yr.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===l?o:n}return ce.call(e,t)?e[t]:o},yr.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==o:ce.call(e,t)},yr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===o?l:e,this},xr.prototype.clear=function(){this.__data__=[],this.size=0},xr.prototype.delete=function(t){var e=this.__data__,n=Ir(e,t);return!(n<0||(n==e.length-1?e.pop():Ne.call(e,n,1),--this.size,0))},xr.prototype.get=function(t){var e=this.__data__,n=Ir(e,t);return n<0?o:e[n][1]},xr.prototype.has=function(t){return Ir(this.__data__,t)>-1},xr.prototype.set=function(t,e){var n=this.__data__,r=Ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},_r.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Jn||xr),string:new yr}},_r.prototype.delete=function(t){var e=Ro(this,t).delete(t);return this.size-=e?1:0,e},_r.prototype.get=function(t){return Ro(this,t).get(t)},_r.prototype.has=function(t){return Ro(this,t).has(t)},_r.prototype.set=function(t,e){var n=Ro(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},br.prototype.add=br.prototype.push=function(t){return this.__data__.set(t,l),this},br.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.clear=function(){this.__data__=new xr,this.size=0},wr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},wr.prototype.get=function(t){return this.__data__.get(t)},wr.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xr){var r=n.__data__;if(!Jn||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _r(r)}return n.set(t,e),this.size=n.size,this};var Br=ao(Yr),Vr=ao(Xr,!0);function Fr(t,e){var n=!0;return Br(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Hr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s==s&&!Ns(s):n(s,u)))var u=s,l=a}return l}function Wr(t,e){var n=[];return Br(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Gr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=qo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Gr(s,e-1,n,r,i):tn(i,s):r||(i[i.length]=s)}return i}var qr=so(),Ur=so(!0);function Yr(t,e){return t&&qr(t,e,iu)}function Xr(t,e){return t&&Ur(t,e,iu)}function Zr(t,e){return $e(e,function(e){return Ss(t[e])})}function $r(t,e){for(var n=0,r=(e=Ui(e,t)).length;null!=t&&n<r;)t=t[ca(e[n++])];return n&&n==r?t:o}function Kr(t,e,n){var r=e(t);return ms(t)?r:tn(r,n(t))}function Jr(t){return null==t?t===o?ot:J:on&&on in ee(t)?function(t){var e=ce.call(t,on),n=t[on];try{t[on]=o;var r=!0}catch(t){}var i=de.call(t);return r&&(e?t[on]=n:delete t[on]),i}(t):function(t){return de.call(t)}(t)}function Qr(t,e){return t>e}function ti(t,e){return null!=t&&ce.call(t,e)}function ei(t,e){return null!=t&&e in ee(t)}function ni(t,e,n){for(var i=n?Je:Ke,a=t[0].length,s=t.length,u=s,l=r(s),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Qe(f,mn(e))),c=Un(f.length,c),l[u]=!n&&(e||a>=120&&f.length>=120)?new br(u&&f):o}f=t[0];var d=-1,p=l[0];t:for(;++d<a&&h.length<c;){var g=f[d],v=e?e(g):g;if(g=n||0!==g?g:0,!(p?xn(p,v):i(h,v,n))){for(u=s;--u;){var m=l[u];if(!(m?xn(m,v):i(t[u],v,n)))continue t}p&&p.push(v),h.push(g)}}return h}function ri(t,e,n){var r=null==(t=ea(t,e=Ui(e,t)))?t:t[ca(Ma(e))];return null==r?o:qe(r,t,n)}function ii(t){return Cs(t)&&Jr(t)==F}function oi(t,e,n,r,i){return t===e||(null==t||null==e||!Cs(t)&&!Cs(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var s=ms(t),u=ms(e),l=s?H:Ho(t),c=u?H:Ho(e),h=(l=l==F?Q:l)==Q,f=(c=c==F?Q:c)==Q,d=l==c;if(d&&bs(t)){if(!bs(e))return!1;s=!0,h=!1}if(d&&!h)return a||(a=new wr),s||js(t)?Io(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new we(t),new we(e)));case G:case q:case K:return ds(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case $:var s=Tn;case nt:var u=r&g;if(s||(s=In),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=v,a.set(t,e);var c=Io(s(t),s(e),r,i,o,a);return a.delete(t),c;case it:if(hr)return hr.call(t)==hr.call(e)}return!1}(t,e,l,n,r,i,a);if(!(n&g)){var p=h&&ce.call(t,"__wrapped__"),m=f&&ce.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,x=m?e.value():e;return a||(a=new wr),i(y,x,n,r,a)}}return!!d&&(a||(a=new wr),function(t,e,n,r,i,a){var s=n&g,u=Do(t),l=u.length,c=Do(e).length;if(l!=c&&!s)return!1;for(var h=l;h--;){var f=u[h];if(!(s?f in e:ce.call(e,f)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var p=!0;a.set(t,e),a.set(e,t);for(var v=s;++h<l;){f=u[h];var m=t[f],y=e[f];if(r)var x=s?r(y,m,f,e,t,a):r(m,y,f,t,e,a);if(!(x===o?m===y||i(m,y,n,r,a):x)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,r,i,a))}(t,e,n,r,oi,i))}function ai(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=ee(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var l=(u=n[i])[0],c=t[l],h=u[1];if(s&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new wr;if(r)var d=r(c,h,l,t,e,f);if(!(d===o?oi(h,c,g|v,r,f):d))return!1}}return!0}function si(t){return!(!Os(t)||fe&&fe in t)&&(Ss(t)?ve:Ut).test(ha(t))}function ui(t){return"function"==typeof t?t:null==t?ku:"object"==typeof t?ms(t)?pi(t[0],t[1]):di(t):Bu(t)}function li(t){if(!Ko(t))return Gn(t);var e=[];for(var n in ee(t))ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ci(t){if(!Os(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Ko(t),n=[];for(var r in t)("constructor"!=r||!e&&ce.call(t,r))&&n.push(r);return n}function hi(t,e){return t<e}function fi(t,e){var n=-1,i=xs(t)?r(t.length):[];return Br(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function di(t){var e=zo(t);return 1==e.length&&e[0][2]?Qo(e[0][0],e[0][1]):function(n){return n===t||ai(n,t,e)}}function pi(t,e){return Xo(t)&&Jo(e)?Qo(ca(t),e):function(n){var r=Qs(n,t);return r===o&&r===e?tu(n,t):oi(e,r,g|v)}}function gi(t,e,n,r,i){t!==e&&qr(e,function(a,s){if(Os(a))i||(i=new wr),function(t,e,n,r,i,a,s){var u=na(t,n),l=na(e,n),c=s.get(l);if(c)Or(t,n,c);else{var h=a?a(u,l,n+"",t,e,s):o,f=h===o;if(f){var d=ms(l),p=!d&&bs(l),g=!d&&!p&&js(l);h=l,d||p||g?ms(u)?h=u:_s(u)?h=no(u):p?(f=!1,h=$i(l,!0)):g?(f=!1,h=Ji(l,!0)):h=[]:Ds(l)||vs(l)?(h=u,vs(u)?h=Gs(u):Os(u)&&!Ss(u)||(h=Go(l))):f=!1}f&&(s.set(l,h),i(h,l,r,a,s),s.delete(l)),Or(t,n,h)}}(t,e,s,n,gi,r,i);else{var u=r?r(na(t,s),a,s+"",t,e,i):o;u===o&&(u=a),Or(t,s,u)}},ou)}function vi(t,e){var n=t.length;if(n)return Uo(e+=e<0?n:0,n)?t[e]:o}function mi(t,e,n){var r=-1;return e=Qe(e.length?e:[ku],mn(jo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(fi(t,function(t,n,i){return{criteria:Qe(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Qi(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function yi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=$r(t,a);n(s,a)&&Ti(o,Ui(a,t),s)}return o}function xi(t,e,n,r){var i=r?ln:un,o=-1,a=e.length,s=t;for(t===e&&(e=no(e)),n&&(s=Qe(t,mn(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Ne.call(s,u,1),Ne.call(t,u,1);return t}function _i(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Uo(i)?Ne.call(t,i,1):zi(t,i)}}return t}function bi(t,e){return t+Bn(Zn()*(e-t+1))}function wi(t,e){var n="";if(!t||e<1||e>P)return n;do{e%2&&(n+=t),(e=Bn(e/2))&&(t+=t)}while(e);return n}function Mi(t,e){return oa(ta(t,e,ku),t+"")}function Si(t){return Sr(du(t))}function Ai(t,e){var n=du(t);return ua(n,Pr(e,0,n.length))}function Ti(t,e,n,r){if(!Os(t))return t;for(var i=-1,a=(e=Ui(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var l=ca(e[i]),c=n;if(i!=s){var h=u[l];(c=r?r(h,l,u):o)===o&&(c=Os(h)?h:Uo(e[i+1])?[]:{})}Cr(u,l,c),u=u[l]}return t}var Oi=rr?function(t,e){return rr.set(t,e),t}:ku,Ci=dn?function(t,e){return dn(t,"toString",{configurable:!0,enumerable:!1,value:Ou(e),writable:!0})}:ku;function Ii(t){return ua(du(t))}function ki(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Di(t,e){var n;return Br(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Li(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=B){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ns(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ei(t,e,ku,n)}function Ei(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,s=e!=e,u=null===e,l=Ns(e),c=e===o;i<a;){var h=Bn((i+a)/2),f=n(t[h]),d=f!==o,p=null===f,g=f==f,v=Ns(f);if(s)var m=r||g;else m=c?g&&(r||d):u?g&&d&&(r||!p):l?g&&d&&!p&&(r||!v):!p&&!v&&(r?f<=e:f<e);m?i=h+1:a=h}return Un(a,z)}function Pi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!ds(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Ni(t){return"number"==typeof t?t:Ns(t)?j:+t}function ji(t){if("string"==typeof t)return t;if(ms(t))return Qe(t,ji)+"";if(Ns(t))return fr?fr.call(t):"";var e=t+"";return"0"==e&&1/t==-E?"-0":e}function Ri(t,e,n){var r=-1,i=Ke,o=t.length,s=!0,u=[],l=u;if(n)s=!1,i=Je;else if(o>=a){var c=e?null:Mo(t);if(c)return In(c);s=!1,i=xn,l=new br}else l=e?[]:u;t:for(;++r<o;){var h=t[r],f=e?e(h):h;if(h=n||0!==h?h:0,s&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue t;e&&l.push(f),u.push(h)}else i(l,f,n)||(l!==u&&l.push(f),u.push(h))}return u}function zi(t,e){return null==(t=ea(t,e=Ui(e,t)))||delete t[ca(Ma(e))]}function Bi(t,e,n,r){return Ti(t,e,n($r(t,e)),r)}function Vi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ki(t,r?0:o,r?o+1:i):ki(t,r?o+1:0,r?i:o)}function Fi(t,e){var n=t;return n instanceof mr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Hi(t,e,n){var i=t.length;if(i<2)return i?Ri(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=zr(a[o]||s,t[u],e,n));return Ri(Gr(a,1),e,n)}function Wi(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function Gi(t){return _s(t)?t:[]}function qi(t){return"function"==typeof t?t:ku}function Ui(t,e){return ms(t)?t:Xo(t,e)?[t]:la(qs(t))}var Yi=Mi;function Xi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:ki(t,e,n)}var Zi=Nn||function(t){return Ee.clearTimeout(t)};function $i(t,e){if(e)return t.slice();var n=t.length,r=Ce?Ce(n):new t.constructor(n);return t.copy(r),r}function Ki(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function Ji(t,e){var n=e?Ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Qi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=Ns(t),s=e!==o,u=null===e,l=e==e,c=Ns(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function to(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,c=qn(a-s,0),h=r(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[n[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function eo(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,h=qn(a-u,0),f=r(h+c),d=!i;++o<h;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=e[l];for(;++s<u;)(d||o<a)&&(f[p+n[s]]=t[o++]);return f}function no(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function ro(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?Lr(n,u,l):Cr(n,u,l)}return n}function io(t,e){return function(n,r){var i=ms(n)?Ue:kr,o=e?e():{};return i(n,t,jo(r,2),o)}}function oo(t){return Mi(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&Yo(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=ee(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}function ao(t,e){return function(n,r){if(null==n)return n;if(!xs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=ee(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function so(t){return function(e,n,r){for(var i=-1,o=ee(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function uo(t){return function(e){var n=An(e=qs(e))?Ln(e):o,r=n?n[0]:e.charAt(0),i=n?Xi(n,1).join(""):e.slice(1);return r[t]()+i}}function lo(t){return function(e){return en(Su(vu(e).replace(ye,"")),t,"")}}function co(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pr(t.prototype),r=t.apply(n,e);return Os(r)?r:n}}function ho(t){return function(e,n,r){var i=ee(e);if(!xs(e)){var a=jo(n,3);e=iu(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function fo(t){return ko(function(e){var n=e.length,r=n,i=vr.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new ie(u);if(i&&!s&&"wrapper"==Po(a))var s=new vr([],!0)}for(r=s?r:n;++r<n;){var l=Po(a=e[r]),c="wrapper"==l?Eo(a):o;s=c&&Zo(c[0])&&c[1]==(S|_|w|A)&&!c[4].length&&1==c[9]?s[Po(c[0])].apply(s,c[3]):1==a.length&&Zo(a)?s[l]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&ms(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function po(t,e,n,i,a,s,u,l,c,h){var f=e&S,d=e&m,p=e&y,g=e&(_|b),v=e&T,x=p?o:co(t);return function m(){for(var y=arguments.length,_=r(y),b=y;b--;)_[b]=arguments[b];if(g)var w=No(m),M=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,w);if(i&&(_=to(_,i,a,g)),s&&(_=eo(_,s,u,g)),y-=M,g&&y<h){var S=Cn(_,w);return bo(t,e,po,m.placeholder,n,_,S,l,c,h-y)}var A=d?n:this,T=p?A[t]:t;return y=_.length,l?_=function(t,e){for(var n=t.length,r=Un(e.length,n),i=no(t);r--;){var a=e[r];t[r]=Uo(a,n)?i[a]:o}return t}(_,l):v&&y>1&&_.reverse(),f&&c<y&&(_.length=c),this&&this!==Ee&&this instanceof m&&(T=x||co(T)),T.apply(A,_)}}function go(t,e){return function(n,r){return function(t,e,n,r){return Yr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function vo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ji(n),r=ji(r)):(n=Ni(n),r=Ni(r)),i=t(n,r)}return i}}function mo(t){return ko(function(e){return e=Qe(e,mn(jo())),Mi(function(n){var r=this;return t(e,function(t){return qe(t,r,n)})})})}function yo(t,e){var n=(e=e===o?" ":ji(e)).length;if(n<2)return n?wi(e,t):e;var r=wi(e,zn(t/Dn(e)));return An(e)?Xi(Ln(r),0,t).join(""):r.slice(0,t)}function xo(t){return function(e,n,i){return i&&"number"!=typeof i&&Yo(e,n,i)&&(n=i=o),e=Vs(e),n===o?(n=e,e=0):n=Vs(n),function(t,e,n,i){for(var o=-1,a=qn(zn((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=i===o?e<n?1:-1:Vs(i),t)}}function _o(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ws(e),n=Ws(n)),t(e,n)}}function bo(t,e,n,r,i,a,s,u,l,c){var h=e&_;e|=h?w:M,(e&=~(h?M:w))&x||(e&=~(m|y));var f=[t,e,i,h?a:o,h?s:o,h?o:a,h?o:s,u,l,c],d=n.apply(o,f);return Zo(t)&&ra(d,f),d.placeholder=r,aa(d,t,e)}function wo(t){var e=te[t];return function(t,n){if(t=Ws(t),n=null==n?0:Un(Fs(n),292)){var r=(qs(t)+"e").split("e");return+((r=(qs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Mo=tr&&1/In(new tr([,-0]))[1]==E?function(t){return new tr(t)}:Nu;function So(t){return function(e){var n=Ho(e);return n==$?Tn(e):n==nt?kn(e):function(t,e){return Qe(e,function(e){return[e,t[e]]})}(e,t(e))}}function Ao(t,e,n,i,a,s,l,c){var f=e&y;if(!f&&"function"!=typeof t)throw new ie(u);var d=i?i.length:0;if(d||(e&=~(w|M),i=a=o),l=l===o?l:qn(Fs(l),0),c=c===o?c:Fs(c),d-=a?a.length:0,e&M){var p=i,g=a;i=a=o}var v=f?o:Eo(t),T=[t,e,n,i,a,p,g,s,l,c];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(m|y|S),a=r==S&&n==_||r==S&&n==A&&t[7].length<=e[8]||r==(S|A)&&e[7].length<=e[8]&&n==_;if(!o&&!a)return t;r&m&&(t[2]=e[2],i|=n&m?0:x);var s=e[3];if(s){var u=t[3];t[3]=u?to(u,s,e[4]):s,t[4]=u?Cn(t[3],h):e[4]}(s=e[5])&&(u=t[5],t[5]=u?eo(u,s,e[6]):s,t[6]=u?Cn(t[5],h):e[6]),(s=e[7])&&(t[7]=s),r&S&&(t[8]=null==t[8]?e[8]:Un(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(T,v),t=T[0],e=T[1],n=T[2],i=T[3],a=T[4],!(c=T[9]=T[9]===o?f?0:t.length:qn(T[9]-d,0))&&e&(_|b)&&(e&=~(_|b)),e&&e!=m)O=e==_||e==b?function(t,e,n){var i=co(t);return function a(){for(var s=arguments.length,u=r(s),l=s,c=No(a);l--;)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:Cn(u,c);return(s-=h.length)<n?bo(t,e,po,a.placeholder,o,u,h,o,o,n-s):qe(this&&this!==Ee&&this instanceof a?i:t,this,u)}}(t,e,c):e!=w&&e!=(m|w)||a.length?po.apply(o,T):function(t,e,n,i){var o=e&m,a=co(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=i.length,h=r(c+u),f=this&&this!==Ee&&this instanceof e?a:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++s];return qe(f,o?n:this,h)}}(t,e,n,i);else var O=function(t,e,n){var r=e&m,i=co(t);return function e(){return(this&&this!==Ee&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return aa((v?Oi:ra)(O,T),t,e)}function To(t,e,n,r){return t===o||ds(t,se[n])&&!ce.call(r,n)?e:t}function Oo(t,e,n,r,i,a){return Os(t)&&Os(e)&&(a.set(e,t),gi(t,e,o,Oo,a),a.delete(e)),t}function Co(t){return Ds(t)?o:t}function Io(t,e,n,r,i,a){var s=n&g,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var h=-1,f=!0,d=n&v?new br:o;for(a.set(t,e),a.set(e,t);++h<u;){var p=t[h],m=e[h];if(r)var y=s?r(m,p,h,e,t,a):r(p,m,h,t,e,a);if(y!==o){if(y)continue;f=!1;break}if(d){if(!rn(e,function(t,e){if(!xn(d,e)&&(p===t||i(p,t,n,r,a)))return d.push(e)})){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function ko(t){return oa(ta(t,o,ya),t+"")}function Do(t){return Kr(t,iu,Vo)}function Lo(t){return Kr(t,ou,Fo)}var Eo=rr?function(t){return rr.get(t)}:Nu;function Po(t){for(var e=t.name+"",n=ir[e],r=ce.call(ir,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function No(t){return(ce.call(dr,"placeholder")?dr:t).placeholder}function jo(){var t=dr.iteratee||Du;return t=t===Du?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function Ro(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function zo(t){for(var e=iu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Jo(i)]}return e}function Bo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return si(n)?n:o}var Vo=Vn?function(t){return null==t?[]:(t=ee(t),$e(Vn(t),function(e){return Pe.call(t,e)}))}:Hu,Fo=Vn?function(t){for(var e=[];t;)tn(e,Vo(t)),t=De(t);return e}:Hu,Ho=Jr;function Wo(t,e,n){for(var r=-1,i=(e=Ui(e,t)).length,o=!1;++r<i;){var a=ca(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ts(i)&&Uo(a,i)&&(ms(t)||vs(t))}function Go(t){return"function"!=typeof t.constructor||Ko(t)?{}:pr(De(t))}function qo(t){return ms(t)||vs(t)||!!(Re&&t&&t[Re])}function Uo(t,e){var n=typeof t;return!!(e=null==e?P:e)&&("number"==n||"symbol"!=n&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function Yo(t,e,n){if(!Os(n))return!1;var r=typeof e;return!!("number"==r?xs(n)&&Uo(e,n.length):"string"==r&&e in n)&&ds(n[e],t)}function Xo(t,e){if(ms(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ns(t))||kt.test(t)||!It.test(t)||null!=e&&t in ee(e)}function Zo(t){var e=Po(t),n=dr[e];if("function"!=typeof n||!(e in mr.prototype))return!1;if(t===n)return!0;var r=Eo(n);return!!r&&t===r[0]}(Kn&&Ho(new Kn(new ArrayBuffer(1)))!=lt||Jn&&Ho(new Jn)!=$||Qn&&"[object Promise]"!=Ho(Qn.resolve())||tr&&Ho(new tr)!=nt||er&&Ho(new er)!=at)&&(Ho=function(t){var e=Jr(t),n=e==Q?t.constructor:o,r=n?ha(n):"";if(r)switch(r){case or:return lt;case ar:return $;case sr:return"[object Promise]";case ur:return nt;case lr:return at}return e});var $o=ue?Ss:Wu;function Ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Jo(t){return t==t&&!Os(t)}function Qo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in ee(n))}}function ta(t,e,n){return e=qn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=qn(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),qe(t,this,u)}}function ea(t,e){return e.length<2?t:$r(t,ki(e,0,-1))}function na(t,e){if("__proto__"!=e)return t[e]}var ra=sa(Oi),ia=Rn||function(t,e){return Ee.setTimeout(t,e)},oa=sa(Ci);function aa(t,e,n){var r=e+"";return oa(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Rt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ye(V,function(n){var r="_."+n[0];e&n[1]&&!Ke(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(zt);return e?e[1].split(Bt):[]}(r),n)))}function sa(t){var e=0,n=0;return function(){var r=Yn(),i=k-(r-n);if(n=r,i>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(o,arguments)}}function ua(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=bi(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var la=function(t){var e=ss(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Dt,function(t,n,r,i){e.push(r?i.replace(Ft,"$1"):n||t)}),e});function ca(t){if("string"==typeof t||Ns(t))return t;var e=t+"";return"0"==e&&1/t==-E?"-0":e}function ha(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fa(t){if(t instanceof mr)return t.clone();var e=new vr(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var da=Mi(function(t,e){return _s(t)?zr(t,Gr(e,1,_s,!0)):[]}),pa=Mi(function(t,e){var n=Ma(e);return _s(n)&&(n=o),_s(t)?zr(t,Gr(e,1,_s,!0),jo(n,2)):[]}),ga=Mi(function(t,e){var n=Ma(e);return _s(n)&&(n=o),_s(t)?zr(t,Gr(e,1,_s,!0),o,n):[]});function va(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Fs(n);return i<0&&(i=qn(r+i,0)),sn(t,jo(e,3),i)}function ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Fs(n),i=n<0?qn(r+i,0):Un(i,r-1)),sn(t,jo(e,3),i,!0)}function ya(t){return null!=t&&t.length?Gr(t,1):[]}function xa(t){return t&&t.length?t[0]:o}var _a=Mi(function(t){var e=Qe(t,Gi);return e.length&&e[0]===t[0]?ni(e):[]}),ba=Mi(function(t){var e=Ma(t),n=Qe(t,Gi);return e===Ma(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ni(n,jo(e,2)):[]}),wa=Mi(function(t){var e=Ma(t),n=Qe(t,Gi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ni(n,o,e):[]});function Ma(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Sa=Mi(Aa);function Aa(t,e){return t&&t.length&&e&&e.length?xi(t,e):t}var Ta=ko(function(t,e){var n=null==t?0:t.length,r=Er(t,e);return _i(t,Qe(e,function(t){return Uo(t,n)?+t:t}).sort(Qi)),r});function Oa(t){return null==t?t:$n.call(t)}var Ca=Mi(function(t){return Ri(Gr(t,1,_s,!0))}),Ia=Mi(function(t){var e=Ma(t);return _s(e)&&(e=o),Ri(Gr(t,1,_s,!0),jo(e,2))}),ka=Mi(function(t){var e=Ma(t);return e="function"==typeof e?e:o,Ri(Gr(t,1,_s,!0),o,e)});function Da(t){if(!t||!t.length)return[];var e=0;return t=$e(t,function(t){if(_s(t))return e=qn(t.length,e),!0}),vn(e,function(e){return Qe(t,fn(e))})}function La(t,e){if(!t||!t.length)return[];var n=Da(t);return null==e?n:Qe(n,function(t){return qe(e,o,t)})}var Ea=Mi(function(t,e){return _s(t)?zr(t,e):[]}),Pa=Mi(function(t){return Hi($e(t,_s))}),Na=Mi(function(t){var e=Ma(t);return _s(e)&&(e=o),Hi($e(t,_s),jo(e,2))}),ja=Mi(function(t){var e=Ma(t);return e="function"==typeof e?e:o,Hi($e(t,_s),o,e)}),Ra=Mi(Da);var za=Mi(function(t){var e=t.length,n=e>1?t[e-1]:o;return La(t,n="function"==typeof n?(t.pop(),n):o)});function Ba(t){var e=dr(t);return e.__chain__=!0,e}function Va(t,e){return e(t)}var Fa=ko(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Er(e,t)};return!(e>1||this.__actions__.length)&&r instanceof mr&&Uo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Va,args:[i],thisArg:o}),new vr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Ha=io(function(t,e,n){ce.call(t,n)?++t[n]:Lr(t,n,1)});var Wa=ho(va),Ga=ho(ma);function qa(t,e){return(ms(t)?Ye:Br)(t,jo(e,3))}function Ua(t,e){return(ms(t)?Xe:Vr)(t,jo(e,3))}var Ya=io(function(t,e,n){ce.call(t,n)?t[n].push(e):Lr(t,n,[e])});var Xa=Mi(function(t,e,n){var i=-1,o="function"==typeof e,a=xs(t)?r(t.length):[];return Br(t,function(t){a[++i]=o?qe(e,t,n):ri(t,e,n)}),a}),Za=io(function(t,e,n){Lr(t,n,e)});function $a(t,e){return(ms(t)?Qe:fi)(t,jo(e,3))}var Ka=io(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Ja=Mi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Yo(t,e[0],e[1])?e=[]:n>2&&Yo(e[0],e[1],e[2])&&(e=[e[0]]),mi(t,Gr(e,1),[])}),Qa=jn||function(){return Ee.Date.now()};function ts(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Ao(t,S,o,o,o,o,e)}function es(t,e){var n;if("function"!=typeof e)throw new ie(u);return t=Fs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var ns=Mi(function(t,e,n){var r=m;if(n.length){var i=Cn(n,No(ns));r|=w}return Ao(t,r,e,n,i)}),rs=Mi(function(t,e,n){var r=m|y;if(n.length){var i=Cn(n,No(rs));r|=w}return Ao(e,r,t,n,i)});function is(t,e,n){var r,i,a,s,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new ie(u);function g(e){var n=r,a=i;return r=i=o,h=e,s=t.apply(a,n)}function v(t){var n=t-c;return c===o||n>=e||n<0||d&&t-h>=a}function m(){var t=Qa();if(v(t))return y(t);l=ia(m,function(t){var n=e-(t-c);return d?Un(n,a-(t-h)):n}(t))}function y(t){return l=o,p&&r?g(t):(r=i=o,s)}function x(){var t=Qa(),n=v(t);if(r=arguments,i=this,c=t,n){if(l===o)return function(t){return h=t,l=ia(m,e),f?g(t):s}(c);if(d)return l=ia(m,e),g(c)}return l===o&&(l=ia(m,e)),s}return e=Ws(e)||0,Os(n)&&(f=!!n.leading,a=(d="maxWait"in n)?qn(Ws(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),x.cancel=function(){l!==o&&Zi(l),h=0,r=c=i=l=o},x.flush=function(){return l===o?s:y(Qa())},x}var os=Mi(function(t,e){return Rr(t,1,e)}),as=Mi(function(t,e,n){return Rr(t,Ws(e)||0,n)});function ss(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(u);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ss.Cache||_r),n}function us(t){if("function"!=typeof t)throw new ie(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ss.Cache=_r;var ls=Yi(function(t,e){var n=(e=1==e.length&&ms(e[0])?Qe(e[0],mn(jo())):Qe(Gr(e,1),mn(jo()))).length;return Mi(function(r){for(var i=-1,o=Un(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return qe(t,this,r)})}),cs=Mi(function(t,e){var n=Cn(e,No(cs));return Ao(t,w,o,e,n)}),hs=Mi(function(t,e){var n=Cn(e,No(hs));return Ao(t,M,o,e,n)}),fs=ko(function(t,e){return Ao(t,A,o,o,o,e)});function ds(t,e){return t===e||t!=t&&e!=e}var ps=_o(Qr),gs=_o(function(t,e){return t>=e}),vs=ii(function(){return arguments}())?ii:function(t){return Cs(t)&&ce.call(t,"callee")&&!Pe.call(t,"callee")},ms=r.isArray,ys=Be?mn(Be):function(t){return Cs(t)&&Jr(t)==ut};function xs(t){return null!=t&&Ts(t.length)&&!Ss(t)}function _s(t){return Cs(t)&&xs(t)}var bs=Fn||Wu,ws=Ve?mn(Ve):function(t){return Cs(t)&&Jr(t)==q};function Ms(t){if(!Cs(t))return!1;var e=Jr(t);return e==Y||e==U||"string"==typeof t.message&&"string"==typeof t.name&&!Ds(t)}function Ss(t){if(!Os(t))return!1;var e=Jr(t);return e==X||e==Z||e==W||e==tt}function As(t){return"number"==typeof t&&t==Fs(t)}function Ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=P}function Os(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Cs(t){return null!=t&&"object"==typeof t}var Is=Fe?mn(Fe):function(t){return Cs(t)&&Ho(t)==$};function ks(t){return"number"==typeof t||Cs(t)&&Jr(t)==K}function Ds(t){if(!Cs(t)||Jr(t)!=Q)return!1;var e=De(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&le.call(n)==pe}var Ls=He?mn(He):function(t){return Cs(t)&&Jr(t)==et};var Es=We?mn(We):function(t){return Cs(t)&&Ho(t)==nt};function Ps(t){return"string"==typeof t||!ms(t)&&Cs(t)&&Jr(t)==rt}function Ns(t){return"symbol"==typeof t||Cs(t)&&Jr(t)==it}var js=Ge?mn(Ge):function(t){return Cs(t)&&Ts(t.length)&&!!Te[Jr(t)]};var Rs=_o(hi),zs=_o(function(t,e){return t<=e});function Bs(t){if(!t)return[];if(xs(t))return Ps(t)?Ln(t):no(t);if(ze&&t[ze])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ze]());var e=Ho(t);return(e==$?Tn:e==nt?In:du)(t)}function Vs(t){return t?(t=Ws(t))===E||t===-E?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}function Fs(t){var e=Vs(t),n=e%1;return e==e?n?e-n:e:0}function Hs(t){return t?Pr(Fs(t),0,R):0}function Ws(t){if("number"==typeof t)return t;if(Ns(t))return j;if(Os(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Os(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pt,"");var n=qt.test(t);return n||Yt.test(t)?ke(t.slice(2),n?2:8):Gt.test(t)?j:+t}function Gs(t){return ro(t,ou(t))}function qs(t){return null==t?"":ji(t)}var Us=oo(function(t,e){if(Ko(e)||xs(e))ro(e,iu(e),t);else for(var n in e)ce.call(e,n)&&Cr(t,n,e[n])}),Ys=oo(function(t,e){ro(e,ou(e),t)}),Xs=oo(function(t,e,n,r){ro(e,ou(e),t,r)}),Zs=oo(function(t,e,n,r){ro(e,iu(e),t,r)}),$s=ko(Er);var Ks=Mi(function(t,e){t=ee(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Yo(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=ou(a),u=-1,l=s.length;++u<l;){var c=s[u],h=t[c];(h===o||ds(h,se[c])&&!ce.call(t,c))&&(t[c]=a[c])}return t}),Js=Mi(function(t){return t.push(o,Oo),qe(su,o,t)});function Qs(t,e,n){var r=null==t?o:$r(t,e);return r===o?n:r}function tu(t,e){return null!=t&&Wo(t,e,ei)}var eu=go(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=n},Ou(ku)),nu=go(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]},jo),ru=Mi(ri);function iu(t){return xs(t)?Mr(t):li(t)}function ou(t){return xs(t)?Mr(t,!0):ci(t)}var au=oo(function(t,e,n){gi(t,e,n)}),su=oo(function(t,e,n,r){gi(t,e,n,r)}),uu=ko(function(t,e){var n={};if(null==t)return n;var r=!1;e=Qe(e,function(e){return e=Ui(e,t),r||(r=e.length>1),e}),ro(t,Lo(t),n),r&&(n=Nr(n,f|d|p,Co));for(var i=e.length;i--;)zi(n,e[i]);return n});var lu=ko(function(t,e){return null==t?{}:function(t,e){return yi(t,e,function(e,n){return tu(t,n)})}(t,e)});function cu(t,e){if(null==t)return{};var n=Qe(Lo(t),function(t){return[t]});return e=jo(e),yi(t,n,function(t,n){return e(t,n[0])})}var hu=So(iu),fu=So(ou);function du(t){return null==t?[]:yn(t,iu(t))}var pu=lo(function(t,e,n){return e=e.toLowerCase(),t+(n?gu(e):e)});function gu(t){return Mu(qs(t).toLowerCase())}function vu(t){return(t=qs(t))&&t.replace(Zt,wn).replace(xe,"")}var mu=lo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yu=lo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),xu=uo("toLowerCase");var _u=lo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var bu=lo(function(t,e,n){return t+(n?" ":"")+Mu(e)});var wu=lo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Mu=uo("toUpperCase");function Su(t,e,n){return t=qs(t),(e=n?o:e)===o?function(t){return Me.test(t)}(t)?function(t){return t.match(be)||[]}(t):function(t){return t.match(Vt)||[]}(t):t.match(e)||[]}var Au=Mi(function(t,e){try{return qe(t,o,e)}catch(t){return Ms(t)?t:new Jt(t)}}),Tu=ko(function(t,e){return Ye(e,function(e){e=ca(e),Lr(t,e,ns(t[e],t))}),t});function Ou(t){return function(){return t}}var Cu=fo(),Iu=fo(!0);function ku(t){return t}function Du(t){return ui("function"==typeof t?t:Nr(t,f))}var Lu=Mi(function(t,e){return function(n){return ri(n,t,e)}}),Eu=Mi(function(t,e){return function(n){return ri(t,n,e)}});function Pu(t,e,n){var r=iu(e),i=Zr(e,r);null!=n||Os(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Zr(e,iu(e)));var o=!(Os(n)&&"chain"in n&&!n.chain),a=Ss(t);return Ye(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Nu(){}var ju=mo(Qe),Ru=mo(Ze),zu=mo(rn);function Bu(t){return Xo(t)?fn(ca(t)):function(t){return function(e){return $r(e,t)}}(t)}var Vu=xo(),Fu=xo(!0);function Hu(){return[]}function Wu(){return!1}var Gu=vo(function(t,e){return t+e},0),qu=wo("ceil"),Uu=vo(function(t,e){return t/e},1),Yu=wo("floor");var Xu,Zu=vo(function(t,e){return t*e},1),$u=wo("round"),Ku=vo(function(t,e){return t-e},0);return dr.after=function(t,e){if("function"!=typeof e)throw new ie(u);return t=Fs(t),function(){if(--t<1)return e.apply(this,arguments)}},dr.ary=ts,dr.assign=Us,dr.assignIn=Ys,dr.assignInWith=Xs,dr.assignWith=Zs,dr.at=$s,dr.before=es,dr.bind=ns,dr.bindAll=Tu,dr.bindKey=rs,dr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ms(t)?t:[t]},dr.chain=Ba,dr.chunk=function(t,e,n){e=(n?Yo(t,e,n):e===o)?1:qn(Fs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=r(zn(i/e));a<i;)u[s++]=ki(t,a,a+=e);return u},dr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},dr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(ms(n)?no(n):[n],Gr(e,1))},dr.cond=function(t){var e=null==t?0:t.length,n=jo();return t=e?Qe(t,function(t){if("function"!=typeof t[1])throw new ie(u);return[n(t[0]),t[1]]}):[],Mi(function(n){for(var r=-1;++r<e;){var i=t[r];if(qe(i[0],this,n))return qe(i[1],this,n)}})},dr.conforms=function(t){return function(t){var e=iu(t);return function(n){return jr(n,t,e)}}(Nr(t,f))},dr.constant=Ou,dr.countBy=Ha,dr.create=function(t,e){var n=pr(t);return null==e?n:Dr(n,e)},dr.curry=function t(e,n,r){var i=Ao(e,_,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},dr.curryRight=function t(e,n,r){var i=Ao(e,b,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},dr.debounce=is,dr.defaults=Ks,dr.defaultsDeep=Js,dr.defer=os,dr.delay=as,dr.difference=da,dr.differenceBy=pa,dr.differenceWith=ga,dr.drop=function(t,e,n){var r=null==t?0:t.length;return r?ki(t,(e=n||e===o?1:Fs(e))<0?0:e,r):[]},dr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ki(t,0,(e=r-(e=n||e===o?1:Fs(e)))<0?0:e):[]},dr.dropRightWhile=function(t,e){return t&&t.length?Vi(t,jo(e,3),!0,!0):[]},dr.dropWhile=function(t,e){return t&&t.length?Vi(t,jo(e,3),!0):[]},dr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Yo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Fs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Fs(r))<0&&(r+=i),r=n>r?0:Hs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},dr.filter=function(t,e){return(ms(t)?$e:Wr)(t,jo(e,3))},dr.flatMap=function(t,e){return Gr($a(t,e),1)},dr.flatMapDeep=function(t,e){return Gr($a(t,e),E)},dr.flatMapDepth=function(t,e,n){return n=n===o?1:Fs(n),Gr($a(t,e),n)},dr.flatten=ya,dr.flattenDeep=function(t){return null!=t&&t.length?Gr(t,E):[]},dr.flattenDepth=function(t,e){return null!=t&&t.length?Gr(t,e=e===o?1:Fs(e)):[]},dr.flip=function(t){return Ao(t,T)},dr.flow=Cu,dr.flowRight=Iu,dr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},dr.functions=function(t){return null==t?[]:Zr(t,iu(t))},dr.functionsIn=function(t){return null==t?[]:Zr(t,ou(t))},dr.groupBy=Ya,dr.initial=function(t){return null!=t&&t.length?ki(t,0,-1):[]},dr.intersection=_a,dr.intersectionBy=ba,dr.intersectionWith=wa,dr.invert=eu,dr.invertBy=nu,dr.invokeMap=Xa,dr.iteratee=Du,dr.keyBy=Za,dr.keys=iu,dr.keysIn=ou,dr.map=$a,dr.mapKeys=function(t,e){var n={};return e=jo(e,3),Yr(t,function(t,r,i){Lr(n,e(t,r,i),t)}),n},dr.mapValues=function(t,e){var n={};return e=jo(e,3),Yr(t,function(t,r,i){Lr(n,r,e(t,r,i))}),n},dr.matches=function(t){return di(Nr(t,f))},dr.matchesProperty=function(t,e){return pi(t,Nr(e,f))},dr.memoize=ss,dr.merge=au,dr.mergeWith=su,dr.method=Lu,dr.methodOf=Eu,dr.mixin=Pu,dr.negate=us,dr.nthArg=function(t){return t=Fs(t),Mi(function(e){return vi(e,t)})},dr.omit=uu,dr.omitBy=function(t,e){return cu(t,us(jo(e)))},dr.once=function(t){return es(2,t)},dr.orderBy=function(t,e,n,r){return null==t?[]:(ms(e)||(e=null==e?[]:[e]),ms(n=r?o:n)||(n=null==n?[]:[n]),mi(t,e,n))},dr.over=ju,dr.overArgs=ls,dr.overEvery=Ru,dr.overSome=zu,dr.partial=cs,dr.partialRight=hs,dr.partition=Ka,dr.pick=lu,dr.pickBy=cu,dr.property=Bu,dr.propertyOf=function(t){return function(e){return null==t?o:$r(t,e)}},dr.pull=Sa,dr.pullAll=Aa,dr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?xi(t,e,jo(n,2)):t},dr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?xi(t,e,o,n):t},dr.pullAt=Ta,dr.range=Vu,dr.rangeRight=Fu,dr.rearg=fs,dr.reject=function(t,e){return(ms(t)?$e:Wr)(t,us(jo(e,3)))},dr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=jo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return _i(t,i),n},dr.rest=function(t,e){if("function"!=typeof t)throw new ie(u);return Mi(t,e=e===o?e:Fs(e))},dr.reverse=Oa,dr.sampleSize=function(t,e,n){return e=(n?Yo(t,e,n):e===o)?1:Fs(e),(ms(t)?Ar:Ai)(t,e)},dr.set=function(t,e,n){return null==t?t:Ti(t,e,n)},dr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Ti(t,e,n,r)},dr.shuffle=function(t){return(ms(t)?Tr:Ii)(t)},dr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Yo(t,e,n)?(e=0,n=r):(e=null==e?0:Fs(e),n=n===o?r:Fs(n)),ki(t,e,n)):[]},dr.sortBy=Ja,dr.sortedUniq=function(t){return t&&t.length?Pi(t):[]},dr.sortedUniqBy=function(t,e){return t&&t.length?Pi(t,jo(e,2)):[]},dr.split=function(t,e,n){return n&&"number"!=typeof n&&Yo(t,e,n)&&(e=n=o),(n=n===o?R:n>>>0)?(t=qs(t))&&("string"==typeof e||null!=e&&!Ls(e))&&!(e=ji(e))&&An(t)?Xi(Ln(t),0,n):t.split(e,n):[]},dr.spread=function(t,e){if("function"!=typeof t)throw new ie(u);return e=null==e?0:qn(Fs(e),0),Mi(function(n){var r=n[e],i=Xi(n,0,e);return r&&tn(i,r),qe(t,this,i)})},dr.tail=function(t){var e=null==t?0:t.length;return e?ki(t,1,e):[]},dr.take=function(t,e,n){return t&&t.length?ki(t,0,(e=n||e===o?1:Fs(e))<0?0:e):[]},dr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ki(t,(e=r-(e=n||e===o?1:Fs(e)))<0?0:e,r):[]},dr.takeRightWhile=function(t,e){return t&&t.length?Vi(t,jo(e,3),!1,!0):[]},dr.takeWhile=function(t,e){return t&&t.length?Vi(t,jo(e,3)):[]},dr.tap=function(t,e){return e(t),t},dr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ie(u);return Os(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),is(t,e,{leading:r,maxWait:e,trailing:i})},dr.thru=Va,dr.toArray=Bs,dr.toPairs=hu,dr.toPairsIn=fu,dr.toPath=function(t){return ms(t)?Qe(t,ca):Ns(t)?[t]:no(la(qs(t)))},dr.toPlainObject=Gs,dr.transform=function(t,e,n){var r=ms(t),i=r||bs(t)||js(t);if(e=jo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Os(t)&&Ss(o)?pr(De(t)):{}}return(i?Ye:Yr)(t,function(t,r,i){return e(n,t,r,i)}),n},dr.unary=function(t){return ts(t,1)},dr.union=Ca,dr.unionBy=Ia,dr.unionWith=ka,dr.uniq=function(t){return t&&t.length?Ri(t):[]},dr.uniqBy=function(t,e){return t&&t.length?Ri(t,jo(e,2)):[]},dr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Ri(t,o,e):[]},dr.unset=function(t,e){return null==t||zi(t,e)},dr.unzip=Da,dr.unzipWith=La,dr.update=function(t,e,n){return null==t?t:Bi(t,e,qi(n))},dr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Bi(t,e,qi(n),r)},dr.values=du,dr.valuesIn=function(t){return null==t?[]:yn(t,ou(t))},dr.without=Ea,dr.words=Su,dr.wrap=function(t,e){return cs(qi(e),t)},dr.xor=Pa,dr.xorBy=Na,dr.xorWith=ja,dr.zip=Ra,dr.zipObject=function(t,e){return Wi(t||[],e||[],Cr)},dr.zipObjectDeep=function(t,e){return Wi(t||[],e||[],Ti)},dr.zipWith=za,dr.entries=hu,dr.entriesIn=fu,dr.extend=Ys,dr.extendWith=Xs,Pu(dr,dr),dr.add=Gu,dr.attempt=Au,dr.camelCase=pu,dr.capitalize=gu,dr.ceil=qu,dr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Ws(n))==n?n:0),e!==o&&(e=(e=Ws(e))==e?e:0),Pr(Ws(t),e,n)},dr.clone=function(t){return Nr(t,p)},dr.cloneDeep=function(t){return Nr(t,f|p)},dr.cloneDeepWith=function(t,e){return Nr(t,f|p,e="function"==typeof e?e:o)},dr.cloneWith=function(t,e){return Nr(t,p,e="function"==typeof e?e:o)},dr.conformsTo=function(t,e){return null==e||jr(t,e,iu(e))},dr.deburr=vu,dr.defaultTo=function(t,e){return null==t||t!=t?e:t},dr.divide=Uu,dr.endsWith=function(t,e,n){t=qs(t),e=ji(e);var r=t.length,i=n=n===o?r:Pr(Fs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},dr.eq=ds,dr.escape=function(t){return(t=qs(t))&&At.test(t)?t.replace(Mt,Mn):t},dr.escapeRegExp=function(t){return(t=qs(t))&&Et.test(t)?t.replace(Lt,"\\$&"):t},dr.every=function(t,e,n){var r=ms(t)?Ze:Fr;return n&&Yo(t,e,n)&&(e=o),r(t,jo(e,3))},dr.find=Wa,dr.findIndex=va,dr.findKey=function(t,e){return an(t,jo(e,3),Yr)},dr.findLast=Ga,dr.findLastIndex=ma,dr.findLastKey=function(t,e){return an(t,jo(e,3),Xr)},dr.floor=Yu,dr.forEach=qa,dr.forEachRight=Ua,dr.forIn=function(t,e){return null==t?t:qr(t,jo(e,3),ou)},dr.forInRight=function(t,e){return null==t?t:Ur(t,jo(e,3),ou)},dr.forOwn=function(t,e){return t&&Yr(t,jo(e,3))},dr.forOwnRight=function(t,e){return t&&Xr(t,jo(e,3))},dr.get=Qs,dr.gt=ps,dr.gte=gs,dr.has=function(t,e){return null!=t&&Wo(t,e,ti)},dr.hasIn=tu,dr.head=xa,dr.identity=ku,dr.includes=function(t,e,n,r){t=xs(t)?t:du(t),n=n&&!r?Fs(n):0;var i=t.length;return n<0&&(n=qn(i+n,0)),Ps(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},dr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Fs(n);return i<0&&(i=qn(r+i,0)),un(t,e,i)},dr.inRange=function(t,e,n){return e=Vs(e),n===o?(n=e,e=0):n=Vs(n),function(t,e,n){return t>=Un(e,n)&&t<qn(e,n)}(t=Ws(t),e,n)},dr.invoke=ru,dr.isArguments=vs,dr.isArray=ms,dr.isArrayBuffer=ys,dr.isArrayLike=xs,dr.isArrayLikeObject=_s,dr.isBoolean=function(t){return!0===t||!1===t||Cs(t)&&Jr(t)==G},dr.isBuffer=bs,dr.isDate=ws,dr.isElement=function(t){return Cs(t)&&1===t.nodeType&&!Ds(t)},dr.isEmpty=function(t){if(null==t)return!0;if(xs(t)&&(ms(t)||"string"==typeof t||"function"==typeof t.splice||bs(t)||js(t)||vs(t)))return!t.length;var e=Ho(t);if(e==$||e==nt)return!t.size;if(Ko(t))return!li(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},dr.isEqual=function(t,e){return oi(t,e)},dr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?oi(t,e,o,n):!!r},dr.isError=Ms,dr.isFinite=function(t){return"number"==typeof t&&Hn(t)},dr.isFunction=Ss,dr.isInteger=As,dr.isLength=Ts,dr.isMap=Is,dr.isMatch=function(t,e){return t===e||ai(t,e,zo(e))},dr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,ai(t,e,zo(e),n)},dr.isNaN=function(t){return ks(t)&&t!=+t},dr.isNative=function(t){if($o(t))throw new Jt(s);return si(t)},dr.isNil=function(t){return null==t},dr.isNull=function(t){return null===t},dr.isNumber=ks,dr.isObject=Os,dr.isObjectLike=Cs,dr.isPlainObject=Ds,dr.isRegExp=Ls,dr.isSafeInteger=function(t){return As(t)&&t>=-P&&t<=P},dr.isSet=Es,dr.isString=Ps,dr.isSymbol=Ns,dr.isTypedArray=js,dr.isUndefined=function(t){return t===o},dr.isWeakMap=function(t){return Cs(t)&&Ho(t)==at},dr.isWeakSet=function(t){return Cs(t)&&Jr(t)==st},dr.join=function(t,e){return null==t?"":Wn.call(t,e)},dr.kebabCase=mu,dr.last=Ma,dr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Fs(n))<0?qn(r+i,0):Un(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):sn(t,cn,i,!0)},dr.lowerCase=yu,dr.lowerFirst=xu,dr.lt=Rs,dr.lte=zs,dr.max=function(t){return t&&t.length?Hr(t,ku,Qr):o},dr.maxBy=function(t,e){return t&&t.length?Hr(t,jo(e,2),Qr):o},dr.mean=function(t){return hn(t,ku)},dr.meanBy=function(t,e){return hn(t,jo(e,2))},dr.min=function(t){return t&&t.length?Hr(t,ku,hi):o},dr.minBy=function(t,e){return t&&t.length?Hr(t,jo(e,2),hi):o},dr.stubArray=Hu,dr.stubFalse=Wu,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=Zu,dr.nth=function(t,e){return t&&t.length?vi(t,Fs(e)):o},dr.noConflict=function(){return Ee._===this&&(Ee._=ge),this},dr.noop=Nu,dr.now=Qa,dr.pad=function(t,e,n){t=qs(t);var r=(e=Fs(e))?Dn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return yo(Bn(i),n)+t+yo(zn(i),n)},dr.padEnd=function(t,e,n){t=qs(t);var r=(e=Fs(e))?Dn(t):0;return e&&r<e?t+yo(e-r,n):t},dr.padStart=function(t,e,n){t=qs(t);var r=(e=Fs(e))?Dn(t):0;return e&&r<e?yo(e-r,n)+t:t},dr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Xn(qs(t).replace(Nt,""),e||0)},dr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Yo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Vs(t),e===o?(e=t,t=0):e=Vs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zn();return Un(t+i*(e-t+Ie("1e-"+((i+"").length-1))),e)}return bi(t,e)},dr.reduce=function(t,e,n){var r=ms(t)?en:pn,i=arguments.length<3;return r(t,jo(e,4),n,i,Br)},dr.reduceRight=function(t,e,n){var r=ms(t)?nn:pn,i=arguments.length<3;return r(t,jo(e,4),n,i,Vr)},dr.repeat=function(t,e,n){return e=(n?Yo(t,e,n):e===o)?1:Fs(e),wi(qs(t),e)},dr.replace=function(){var t=arguments,e=qs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},dr.result=function(t,e,n){var r=-1,i=(e=Ui(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[ca(e[r])];a===o&&(r=i,a=n),t=Ss(a)?a.call(t):a}return t},dr.round=$u,dr.runInContext=t,dr.sample=function(t){return(ms(t)?Sr:Si)(t)},dr.size=function(t){if(null==t)return 0;if(xs(t))return Ps(t)?Dn(t):t.length;var e=Ho(t);return e==$||e==nt?t.size:li(t).length},dr.snakeCase=_u,dr.some=function(t,e,n){var r=ms(t)?rn:Di;return n&&Yo(t,e,n)&&(e=o),r(t,jo(e,3))},dr.sortedIndex=function(t,e){return Li(t,e)},dr.sortedIndexBy=function(t,e,n){return Ei(t,e,jo(n,2))},dr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Li(t,e);if(r<n&&ds(t[r],e))return r}return-1},dr.sortedLastIndex=function(t,e){return Li(t,e,!0)},dr.sortedLastIndexBy=function(t,e,n){return Ei(t,e,jo(n,2),!0)},dr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Li(t,e,!0)-1;if(ds(t[n],e))return n}return-1},dr.startCase=bu,dr.startsWith=function(t,e,n){return t=qs(t),n=null==n?0:Pr(Fs(n),0,t.length),e=ji(e),t.slice(n,n+e.length)==e},dr.subtract=Ku,dr.sum=function(t){return t&&t.length?gn(t,ku):0},dr.sumBy=function(t,e){return t&&t.length?gn(t,jo(e,2)):0},dr.template=function(t,e,n){var r=dr.templateSettings;n&&Yo(t,e,n)&&(e=o),t=qs(t),e=Xs({},e,r,To);var i,a,s=Xs({},e.imports,r.imports,To),u=iu(s),l=yn(s,u),c=0,h=e.interpolate||$t,f="__p += '",d=ne((e.escape||$t).source+"|"+h.source+"|"+(h===Ct?Ht:$t).source+"|"+(e.evaluate||$t).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ae+"]")+"\n";t.replace(d,function(e,n,r,o,s,u){return r||(r=o),f+=t.slice(c,u).replace(Kt,Sn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var g=e.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(xt,""):f).replace(_t,"$1").replace(bt,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Au(function(){return Qt(u,p+"return "+f).apply(o,l)});if(v.source=f,Ms(v))throw v;return v},dr.times=function(t,e){if((t=Fs(t))<1||t>P)return[];var n=R,r=Un(t,R);e=jo(e),t-=R;for(var i=vn(r,e);++n<t;)e(n);return i},dr.toFinite=Vs,dr.toInteger=Fs,dr.toLength=Hs,dr.toLower=function(t){return qs(t).toLowerCase()},dr.toNumber=Ws,dr.toSafeInteger=function(t){return t?Pr(Fs(t),-P,P):0===t?t:0},dr.toString=qs,dr.toUpper=function(t){return qs(t).toUpperCase()},dr.trim=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(Pt,"");if(!t||!(e=ji(e)))return t;var r=Ln(t),i=Ln(e);return Xi(r,_n(r,i),bn(r,i)+1).join("")},dr.trimEnd=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(jt,"");if(!t||!(e=ji(e)))return t;var r=Ln(t);return Xi(r,0,bn(r,Ln(e))+1).join("")},dr.trimStart=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(Nt,"");if(!t||!(e=ji(e)))return t;var r=Ln(t);return Xi(r,_n(r,Ln(e))).join("")},dr.truncate=function(t,e){var n=O,r=C;if(Os(e)){var i="separator"in e?e.separator:i;n="length"in e?Fs(e.length):n,r="omission"in e?ji(e.omission):r}var a=(t=qs(t)).length;if(An(t)){var s=Ln(t);a=s.length}if(n>=a)return t;var u=n-Dn(r);if(u<1)return r;var l=s?Xi(s,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),Ls(i)){if(t.slice(u).search(i)){var c,h=l;for(i.global||(i=ne(i.source,qs(Wt.exec(i))+"g")),i.lastIndex=0;c=i.exec(h);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(ji(i),u)!=u){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r},dr.unescape=function(t){return(t=qs(t))&&St.test(t)?t.replace(wt,En):t},dr.uniqueId=function(t){var e=++he;return qs(t)+e},dr.upperCase=wu,dr.upperFirst=Mu,dr.each=qa,dr.eachRight=Ua,dr.first=xa,Pu(dr,(Xu={},Yr(dr,function(t,e){ce.call(dr.prototype,e)||(Xu[e]=t)}),Xu),{chain:!1}),dr.VERSION="4.17.11",Ye(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dr[t].placeholder=dr}),Ye(["drop","take"],function(t,e){mr.prototype[t]=function(n){n=n===o?1:qn(Fs(n),0);var r=this.__filtered__&&!e?new mr(this):this.clone();return r.__filtered__?r.__takeCount__=Un(n,r.__takeCount__):r.__views__.push({size:Un(n,R),type:t+(r.__dir__<0?"Right":"")}),r},mr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ye(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==D||3==n;mr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:jo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Ye(["head","last"],function(t,e){var n="take"+(e?"Right":"");mr.prototype[t]=function(){return this[n](1).value()[0]}}),Ye(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");mr.prototype[t]=function(){return this.__filtered__?new mr(this):this[n](1)}}),mr.prototype.compact=function(){return this.filter(ku)},mr.prototype.find=function(t){return this.filter(t).head()},mr.prototype.findLast=function(t){return this.reverse().find(t)},mr.prototype.invokeMap=Mi(function(t,e){return"function"==typeof t?new mr(this):this.map(function(n){return ri(n,t,e)})}),mr.prototype.reject=function(t){return this.filter(us(jo(t)))},mr.prototype.slice=function(t,e){t=Fs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new mr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Fs(e))<0?n.dropRight(-e):n.take(e-t)),n)},mr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},mr.prototype.toArray=function(){return this.take(R)},Yr(mr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=dr[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(dr.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof mr,l=s[0],c=u||ms(e),h=function(t){var e=i.apply(dr,tn([t],s));return r&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=a&&!f,g=u&&!d;if(!a&&c){e=g?e:new mr(this);var v=t.apply(e,s);return v.__actions__.push({func:Va,args:[h],thisArg:o}),new vr(v,f)}return p&&g?t.apply(this,s):(v=this.thru(h),p?r?v.value()[0]:v.value():v)})}),Ye(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);dr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ms(i)?i:[],t)}return this[n](function(n){return e.apply(ms(n)?n:[],t)})}}),Yr(mr.prototype,function(t,e){var n=dr[e];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:e,func:n})}}),ir[po(o,y).name]=[{name:"wrapper",func:o}],mr.prototype.clone=function(){var t=new mr(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},mr.prototype.reverse=function(){if(this.__filtered__){var t=new mr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},mr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ms(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Un(e,t+a);break;case"takeRight":t=qn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=Un(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return Fi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[l+=e];++g<h;){var m=c[g],y=m.iteratee,x=m.type,_=y(v);if(x==L)v=_;else if(!_){if(x==D)continue t;break t}}p[f++]=v}return p},dr.prototype.at=Fa,dr.prototype.chain=function(){return Ba(this)},dr.prototype.commit=function(){return new vr(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===o&&(this.__values__=Bs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},dr.prototype.plant=function(t){for(var e,n=this;n instanceof gr;){var r=fa(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},dr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof mr){var e=t;return this.__actions__.length&&(e=new mr(this)),(e=e.reverse()).__actions__.push({func:Va,args:[Oa],thisArg:o}),new vr(e,this.__chain__)}return this.thru(Oa)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return Fi(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,ze&&(dr.prototype[ze]=function(){return this}),dr}();Ee._=Pn,(i=function(){return Pn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(e,n(38),n(373)(t))},function(t,e,n){var r;try{r=n(789)}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){"use strict";e.a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";var r=n(1318);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";e.c=function(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(r.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?o:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(r.a)(isNaN(e)?n:e)}},e.a=o;var r=n(958);function i(t,e){return function(n){return t+n*e}}function o(t,e){var n=e-t;return n?i(t,n):Object(r.a)(isNaN(t)?e:t)}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(){this.reset()}e.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){o(i,t,this.t),o(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new r;function o(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}},function(t,e,n){"use strict";e.a=function(){return Math.random()}},,,,function(t,e,n){"use strict";e.a=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";var r=n(1413);n.d(e,"d",function(){return r.a});var i=n(1414);n.d(e,"e",function(){return i.a});var o=n(859);n.d(e,"c",function(){return o.a});var a=n(1415);n.d(e,"b",function(){return a.a});var s=n(1416);n.d(e,"f",function(){return s.a});var u=n(1417);n.d(e,"a",function(){return u.a})},function(t,e,n){"use strict";e.g=function(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]},e.a=function(t){var e=t[0],n=t[1],i=Object(r.g)(n);return[i*Object(r.g)(e),i*Object(r.t)(e),Object(r.t)(n)]},e.d=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},e.c=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},e.b=function(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]},e.f=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},e.e=function(t){var e=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e};var r=n(730)},function(t,e,n){"use strict";e.b=function(t){return function(e,n){var i=Object(r.g)(e),o=Object(r.g)(n),a=t(i*o);return[a*o*Object(r.t)(e),a*Object(r.t)(n)]}},e.a=function(t){return function(e,n){var i=Object(r.u)(e*e+n*n),o=t(i),a=Object(r.t)(o),s=Object(r.g)(o);return[Object(r.e)(e*a,i*s),Object(r.c)(i&&n*a/i)]}};var r=n(730)},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}},function(t,e,n){"use strict";var r=n(883);n.d(e,"a",function(){return r.a});var i=n(1005);n.d(e,"b",function(){return i.a});var o=n(884);n.d(e,"c",function(){return o.b});var a=n(1003);n.d(e,"d",function(){return a.a});var s=n(1006);n.d(e,"g",function(){return s.a});var u=n(828);n.d(e,"m",function(){return u.a});var l=n(1007);n.d(e,"n",function(){return l.a});var c=n(1550);n.d(e,"r",function(){return c.a});var h=n(1008);n.d(e,"s",function(){return h.a});var f=n(1551);n.d(e,"t",function(){return f.a}),n.d(e,"u",function(){return f.b});var d=n(1554);n.d(e,"v",function(){return d.a});var p=n(1002);n.d(e,"o",function(){return p.a}),n.d(e,"p",function(){return p.b}),n.d(e,"q",function(){return p.c});var g=n(1555);n.d(e,"j",function(){return g.a}),n.d(e,"k",function(){return g.b});var v=n(1556);n.d(e,"l",function(){return v.a});var m=n(1557);n.d(e,"h",function(){return m.a}),n.d(e,"i",function(){return m.b});var y=n(1558);n.d(e,"e",function(){return y.b}),n.d(e,"f",function(){return y.a});var x=n(1559);n.d(e,"w",function(){return x.a})},function(t,e,n){"use strict";e.c=function(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(r.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?o:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(r.a)(isNaN(e)?n:e)}},e.a=o;var r=n(1004);function i(t,e){return function(n){return t+n*e}}function o(t,e){var n=e-t;return n?i(t,n):Object(r.a)(isNaN(t)?e:t)}},function(t,e,n){"use strict";e.b=s,e.a=function t(){var e=Object(o.b)(o.c,i.c);e.copy=function(){return Object(o.a)(e,t())};return s(e)};var r=n(745),i=n(761),o=n(830),a=n(1585);function s(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(r.B)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Object(a.a)(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,o=e(),a=0,s=o.length-1,u=o[a],l=o[s];return l<u&&(i=u,u=l,l=i,i=a,a=s,s=i),(i=Object(r.z)(u,l,n))>0?(u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i,i=Object(r.z)(u,l,n)):i<0&&(u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i,i=Object(r.z)(u,l,n)),i>0?(o[a]=Math.floor(u/i)*i,o[s]=Math.ceil(l/i)*i,e(o)):i<0&&(o[a]=Math.ceil(u*i)/i,o[s]=Math.floor(l*i)/i,e(o)),t},t}},function(t,e,n){"use strict";e.a=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"l",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"j",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"m",function(){return d}),e.b=function(t){return t>1?0:t<-1?h:Math.acos(t)},e.c=function(t){return t>=1?f:t<=-1?-f:Math.asin(t)};var r=Math.abs,i=Math.atan2,o=Math.cos,a=Math.max,s=Math.min,u=Math.sin,l=Math.sqrt,c=1e-12,h=Math.PI,f=h/2,d=2*h},function(t,e,n){"use strict";e.a=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}},function(t,e,n){"use strict";n.d(e,"f",function(){return f}),n.d(e,"g",function(){return d}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),e.d=g;var r,i,o,a,s=n(1666),u=n(1035),l=n(1036),c=n(896),h=n(895),f=1e-6,d=1e-12;function p(t,e){return e[1]-t[1]||e[0]-t[0]}function g(t,e){var n,f,d,g=t.sort(p).pop();for(a=[],i=new Array(t.length),r=new h.b,o=new h.b;;)if(d=l.c,g&&(!d||g[1]<d.y||g[1]===d.y&&g[0]<d.x))g[0]===n&&g[1]===f||(Object(s.a)(g),n=g[0],f=g[1]),g=t.pop();else{if(!d)break;Object(s.b)(d.arc)}if(Object(u.d)(),e){var v=+e[0][0],m=+e[0][1],y=+e[1][0],x=+e[1][1];Object(c.a)(v,m,y,x),Object(u.b)(v,m,y,x)}this.edges=a,this.cells=i,r=o=a=i=null}g.prototype={constructor:g,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Object(u.a)(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,c=n.site,h=-1,f=e[i[o-1]],d=f.left===c?f.right:f.left;++h<o;)a=d,d=(f=e[i[h]]).left===c?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(u=a,l=d,((s=c)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&t.push([c.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}}},,,function(t,e,n){"use strict";var r=n(734);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),function n(i){var o=t.node(i);if(r.has(e,i))return o.rank;e[i]=!0;var a=r.minBy(r.map(t.outEdges(i),function(e){return n(e.w)-t.edge(e).minlen}));a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0);return o.rank=a})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){"use strict";var r=n(847),i=n(848);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}})(e)}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){"use strict";e.b=function(t,e,n){var i=t._id;return t.each(function(){var t=Object(r.h)(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Object(r.f)(t,i).value[e]}};var r=n(757);e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=Object(r.f)(this.node(),n).tween,a=0,s=o.length;a<s;++a)if((i=o[a]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var o=Object(r.h)(this,t),a=o.tween;if(a!==n)for(var s=0,u=(i=n=a).length;s<u;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}o.tween=i}}:function(t,e,n){var i,o;if("function"!=typeof n)throw new Error;return function(){var a=Object(r.h)(this,t),s=a.tween;if(s!==i){o=(i=s).slice();for(var u={name:e,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=u;break}l===c&&o.push(u)}a.tween=o}})(n,t,e))}},function(t,e,n){"use strict";var r=n(1420);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(862),i=n(863);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}})(e)}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";var r=n(874);e.a=function(t){return(t=Object(r.a)(Math.abs(t)))?t[1]:NaN}},function(t,e,n){"use strict";e.b=a;var r=n(985),i=n(730);function o(t,e){return[t>i.o?t-i.w:t<-i.o?t+i.w:t,e]}function a(t,e,n){return(t%=i.w)?e||n?Object(r.a)(u(t),l(e,n)):u(t):e||n?l(e,n):o}function s(t){return function(e,n){return[(e+=t)>i.o?e-i.w:e<-i.o?e+i.w:e,n]}}function u(t){var e=s(t);return e.invert=s(-t),e}function l(t,e){var n=Object(i.g)(t),r=Object(i.t)(t),o=Object(i.g)(e),a=Object(i.t)(e);function s(t,e){var s=Object(i.g)(e),u=Object(i.g)(t)*s,l=Object(i.t)(t)*s,c=Object(i.t)(e),h=c*n+u*r;return[Object(i.e)(l*o-h*a,u*n-c*r),Object(i.c)(h*o+l*a)]}return s.invert=function(t,e){var s=Object(i.g)(e),u=Object(i.g)(t)*s,l=Object(i.t)(t)*s,c=Object(i.t)(e),h=c*o-l*a;return[Object(i.e)(l*o+c*a,u*n+h*r),Object(i.c)(h*n-u*r)]},s}o.invert=o,e.a=function(t){function e(e){return(e=t(e[0]*i.r,e[1]*i.r))[0]*=i.h,e[1]*=i.h,e}return t=a(t[0]*i.r,t[1]*i.r,t.length>2?t[2]*i.r:0),e.invert=function(e){return(e=t.invert(e[0]*i.r,e[1]*i.r))[0]*=i.h,e[1]*=i.h,e},e}},function(t,e,n){"use strict";e.a=function(t,e,n,c){function h(r,i){return t<=r&&r<=n&&e<=i&&i<=c}function f(r,i,o,a){var s=0,u=0;if(null==r||(s=d(r,o))!==(u=d(i,o))||g(r,i)<0^o>0)do{a.point(0===s||3===s?t:n,s>1?c:e)}while((s=(s+o+4)%4)!==u);else a.point(i[0],i[1])}function d(i,o){return Object(r.a)(i[0]-t)<r.i?o>0?0:3:Object(r.a)(i[0]-n)<r.i?o>0?2:1:Object(r.a)(i[1]-e)<r.i?o>0?1:0:o>0?3:2}function p(t,e){return g(t.x,e.x)}function g(t,e){var n=d(t,1),r=d(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var d,g,v,m,y,x,_,b,w,M,S,A=r,T=Object(i.a)(),O={point:C,lineStart:function(){O.point=I,g&&g.push(v=[]);M=!0,w=!1,_=b=NaN},lineEnd:function(){d&&(I(m,y),x&&w&&T.rejoin(),d.push(T.result()));O.point=C,w&&A.lineEnd()},polygonStart:function(){A=T,d=[],g=[],S=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=g.length;n<r;++n)for(var i,o,a=g[n],s=1,u=a.length,l=a[0],h=l[0],f=l[1];s<u;++s)i=h,o=f,l=a[s],h=l[0],f=l[1],o<=c?f>c&&(h-i)*(c-o)>(f-o)*(t-i)&&++e:f<=c&&(h-i)*(c-o)<(f-o)*(t-i)&&--e;return e}(),n=S&&e,i=(d=Object(s.n)(d)).length;(n||i)&&(r.polygonStart(),n&&(r.lineStart(),f(null,null,1,r),r.lineEnd()),i&&Object(a.a)(d,p,e,f,r),r.polygonEnd());A=r,d=g=v=null}};function C(t,e){h(t,e)&&A.point(t,e)}function I(r,i){var a=h(r,i);if(g&&v.push([r,i]),M)m=r,y=i,x=a,M=!1,a&&(A.lineStart(),A.point(r,i));else if(a&&w)A.point(r,i);else{var s=[_=Math.max(l,Math.min(u,_)),b=Math.max(l,Math.min(u,b))],f=[r=Math.max(l,Math.min(u,r)),i=Math.max(l,Math.min(u,i))];Object(o.a)(s,f,t,e,n,c)?(w||(A.lineStart(),A.point(s[0],s[1])),A.point(f[0],f[1]),a||A.lineEnd(),S=!1):a&&(A.lineStart(),A.point(r,i),S=!1)}_=r,b=i,w=a}return O}};var r=n(730),i=n(988),o=n(1505),a=n(989),s=n(745),u=1e9,l=-u},function(t,e,n){"use strict";function r(t){return function(e){var n=new i;for(var r in t)n[r]=t[r];return n.stream=e,n}}function i(){}e.b=r,e.a=function(t){return{stream:r(t)}},i.prototype={constructor:i,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){"use strict";var r=n(885);e.a=function(t,e){return function(n,i){var o=Object(r.a)(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return o.get(i)}return o}}},function(t,e,n){"use strict";e.c=l,e.a=function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())},e.b=function(t,e){var n,r,a,f=u,d=u,p=i.a,g=!1;function v(){return n=Math.min(f.length,d.length)>2?h:c,r=a=null,m}function m(e){return(r||(r=n(f,d,g?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,p)))(+e)}return m.invert=function(t){return(a||(a=n(d,f,l,g?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},m.domain=function(t){return arguments.length?(f=o.a.call(t,s.a),v()):f.slice()},m.range=function(t){return arguments.length?(d=o.b.call(t),v()):d.slice()},m.rangeRound=function(t){return d=o.b.call(t),p=i.e,v()},m.clamp=function(t){return arguments.length?(g=!!t,v()):g},m.interpolate=function(t){return arguments.length?(p=t,v()):p},v()};var r=n(745),i=n(761),o=n(777),a=n(886),s=n(1013),u=[0,1];function l(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Object(a.a)(e)}function c(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function h(t,e,n,i){var o=Math.min(t.length,e.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<o;)a[u]=n(t[u],t[u+1]),s[u]=i(e[u],e[u+1]);return function(e){var n=Object(r.b)(t,e,1,o)-1;return s[n](a[n](e))}}},function(t,e,n){"use strict";var r=n(743);n.d(e,"g",function(){return r.a});var i=n(1591);n.d(e,"h",function(){return i.a}),n.d(e,"i",function(){return i.b}),n.d(e,"L",function(){return i.a}),n.d(e,"M",function(){return i.b});var o=n(1592);n.d(e,"r",function(){return o.a}),n.d(e,"s",function(){return o.b}),n.d(e,"V",function(){return o.a}),n.d(e,"W",function(){return o.b});var a=n(1593);n.d(e,"j",function(){return a.a}),n.d(e,"k",function(){return a.b});var s=n(1594);n.d(e,"e",function(){return s.a}),n.d(e,"f",function(){return s.b});var u=n(1595);n.d(e,"a",function(){return u.b}),n.d(e,"b",function(){return u.a});var l=n(1596);n.d(e,"B",function(){return l.g}),n.d(e,"C",function(){return l.h}),n.d(e,"t",function(){return l.g}),n.d(e,"u",function(){return l.h}),n.d(e,"l",function(){return l.c}),n.d(e,"m",function(){return l.d}),n.d(e,"x",function(){return l.k}),n.d(e,"y",function(){return l.l}),n.d(e,"z",function(){return l.m}),n.d(e,"A",function(){return l.n}),n.d(e,"v",function(){return l.i}),n.d(e,"w",function(){return l.j}),n.d(e,"c",function(){return l.a}),n.d(e,"d",function(){return l.b}),n.d(e,"p",function(){return l.e}),n.d(e,"q",function(){return l.f});var c=n(1597);n.d(e,"n",function(){return c.a}),n.d(e,"o",function(){return c.b});var h=n(1598);n.d(e,"D",function(){return h.a}),n.d(e,"E",function(){return h.b});var f=n(1599);n.d(e,"N",function(){return f.a}),n.d(e,"O",function(){return f.b});var d=n(1600);n.d(e,"J",function(){return d.a}),n.d(e,"K",function(){return d.b});var p=n(1601);n.d(e,"F",function(){return p.a}),n.d(e,"G",function(){return p.b});var g=n(1602);n.d(e,"_5",function(){return g.g}),n.d(e,"_6",function(){return g.h}),n.d(e,"X",function(){return g.g}),n.d(e,"Y",function(){return g.h}),n.d(e,"P",function(){return g.c}),n.d(e,"Q",function(){return g.d}),n.d(e,"_1",function(){return g.k}),n.d(e,"_2",function(){return g.l}),n.d(e,"_3",function(){return g.m}),n.d(e,"_4",function(){return g.n}),n.d(e,"Z",function(){return g.i}),n.d(e,"_0",function(){return g.j}),n.d(e,"H",function(){return g.a}),n.d(e,"I",function(){return g.b}),n.d(e,"T",function(){return g.e}),n.d(e,"U",function(){return g.f});var v=n(1603);n.d(e,"R",function(){return v.a}),n.d(e,"S",function(){return v.b});var m=n(1604);n.d(e,"_7",function(){return m.a}),n.d(e,"_8",function(){return m.b})},function(t,e,n){"use strict";function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i(t){this._context=t}e.c=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.b=function(t){return new i(t)}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function i(t,e){this._context=t,this._k=(1-e)/6}e.c=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:r(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";e.b=function(t,e,n){var i=t._id;return t.each(function(){var t=Object(r.h)(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Object(r.f)(t,i).value[e]}};var r=n(759);e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=Object(r.f)(this.node(),n).tween,a=0,s=o.length;a<s;++a)if((i=o[a]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var o=Object(r.h)(this,t),a=o.tween;if(a!==n)for(var s=0,u=(i=n=a).length;s<u;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}o.tween=i}}:function(t,e,n){var i,o;if("function"!=typeof n)throw new Error;return function(){var a=Object(r.h)(this,t),s=a.tween;if(s!==i){o=(i=s).slice();for(var u={name:e,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=u;break}l===c&&o.push(u)}a.tween=o}})(n,t,e))}},,,,,,,function(t,e,n){n(7).__DEV__;var r=n(0),i=n(1117),o=n(8).parsePercent,a=n(44),s=a.createScaleByModel,u=a.niceScaleExtent,l=n(63),c=n(51).getStackedDimension;function h(t,e){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();r.each(e.mapDimension("radius",!0),function(t){o.scale.unionExtentFromData(e,c(e,t))}),r.each(e.mapDimension("angle",!0),function(t){i.scale.unionExtentFromData(e,c(e,t))})}}),u(i.scale,i.model),u(o.scale,o.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),s=360/i.scale.count();i.inverse?a[1]+=s:a[1]-=s,i.setExtent(a[0],a[1])}}function f(t,e){if(t.type=e.get("type"),t.scale=s(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}n(1120);var d={dimensions:i.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,r){var a=new i(r);a.update=h;var s=a.getRadiusAxis(),u=a.getAngleAxis(),l=t.findAxisModel("radiusAxis"),c=t.findAxisModel("angleAxis");f(s,l),f(u,c),function(t,e,n){var r=e.get("center"),i=n.getWidth(),a=n.getHeight();t.cx=o(r[0],i),t.cy=o(r[1],a);var s=t.getRadiusAxis(),u=Math.min(i,a)/2,l=o(e.get("radius"),u);s.inverse?s.setExtent(l,0):s.setExtent(0,l)}(a,t,e),n.push(a),t.coordinateSystem=a,a.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}};l.register("polar",d)},function(t,e,n){"use strict";var r=n(748);t.exports=s;var i="\0",o="\0",a="";function s(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(t,e){t[e]?t[e]++:t[e]=1}function l(t,e){--t[e]||delete t[e]}function c(t,e,n,o){var s=""+e,u=""+n;if(!t&&s>u){var l=s;s=u,u=l}return s+a+u+a+(r.isUndefined(o)?i:o)}function h(t,e){return c(t,e.v,e.w,e.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(t){return this._label=t,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var t=this;return r.filter(this.nodes(),function(e){return r.isEmpty(t._in[e])})},s.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),function(e){return r.isEmpty(t._out[e])})},s.prototype.setNodes=function(t,e){var n=arguments,i=this;return r.each(t,function(t){n.length>1?i.setNode(t,e):i.setNode(t)}),this},s.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children[o][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},s.prototype.node=function(t){return this._nodes[t]},s.prototype.hasNode=function(t){return r.has(this._nodes,t)},s.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},s.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=o;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},s.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},s.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==o)return e}},s.prototype.children=function(t){if(r.isUndefined(t)&&(t=o),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},s.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},s.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},s.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},s.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},s.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),r.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var i={};return this._isCompound&&r.each(e.nodes(),function(t){e.setParent(t,function t(r){var o=n.parent(r);return void 0===o||e.hasNode(o)?(i[r]=o,o):o in i?i[o]:t(o)}(t))}),e},s.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(t,e){var n=this,i=arguments;return r.reduce(t,function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r}),this},s.prototype.setEdge=function(){var t,e,n,i,o=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(t=a.v,e=a.w,n=a.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=a,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var s=c(this._isDirected,t,e,n);if(r.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=o?i:this._defaultEdgeLabelFn(t,e,n);var l=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,t,e,n);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[s]=l,u(this._preds[e],t),u(this._sucs[t],e),this._in[e][s]=l,this._out[t][s]=l,this._edgeCount++,this},s.prototype.edge=function(t,e,n){var r=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n);return r.has(this._edgeLabels,i)},s.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?h(this._isDirected,arguments[0]):c(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],l(this._preds[e],t),l(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},s.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=r.values(n);return e?r.filter(i,function(t){return t.v===e}):i}},s.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=r.values(n);return e?r.filter(i,function(t){return t.w===e}):i}},s.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e){t.exports=function(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,u=Math.sqrt(e*e*s*s+n*n*a*a),l=Math.abs(e*n*a/u);r.x<i&&(l=-l);var c=Math.abs(e*n*s/u);r.y<o&&(c=-c);return{x:i+l,y:o+c}}},function(t,e,n){"use strict";var r=n(800);e.a=function(t,e,n){if(null==n&&(n=r.a),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),s=+n(t[a],a,t);return s+(+n(t[a+1],a+1,t)-s)*(o-a)}}},function(t,e,n){"use strict";var r=n(848);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),e.a=function(t,e,n,r){var o=i;t.sourceEvent=i,i=t;try{return e.apply(n,r)}finally{i=o}};var r={},i=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"}));function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(t,e,n){return function(r){var o=i;i=r;try{t.call(this,this.__data__,e,n)}finally{i=o}}}function s(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function u(t,e,n){var i=r.hasOwnProperty(t.type)?o:a;return function(r,o,a){var s,u=this.__on,l=i(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}e.b=function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(l=e?u:s,null==n&&(n=!1),r=0;r<a;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var c,h=0,f=l.length;h<f;++h)for(r=0,c=l[h];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}},function(t,e,n){"use strict";var r=n(851);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";var r=n(763),i=n(956),o=n(959),a=n(960),s=n(818),u=n(961),l=n(962),c=n(958);e.a=function(t,e){var n,h=typeof e;return null==e||"boolean"===h?Object(c.a)(e):("number"===h?s.a:"string"===h?(n=Object(r.a)(e))?(e=n,i.a):l.a:e instanceof r.a?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";e.a=i,n.d(e,"d",function(){return o}),n.d(e,"c",function(){return a}),e.e=x,e.h=w,e.g=M,e.b=S,e.f=O;var r=n(855);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,h=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),g=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),m=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(t){var e;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?new S((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=h.exec(t))?_(parseInt(e[1],16)):(e=f.exec(t))?new S(e[1],e[2],e[3],1):(e=d.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?b(e[1],e[2],e[3],e[4]):(e=g.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?T(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?T(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?_(y[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function _(t){return new S(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,r){return r<=0&&(t=e=n=NaN),new S(t,e,n,r)}function w(t){return t instanceof i||(t=x(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function M(t,e,n,r){return 1===arguments.length?w(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function A(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function T(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new C(t,e,n,r)}function O(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof C)return new C(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=x(t)),!t)return new C;if(t instanceof C)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,l=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=l<.5?a+o:2-a-o,s*=60):u=l>0&&l<1?0:s,new C(s,u,l,t.opacity)}(t):new C(t,e,n,null==r?1:r)}function C(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function I(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(r.a)(i,x,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Object(r.a)(S,M,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+A(this.r)+A(this.g)+A(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(r.a)(C,O,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new C(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new C(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new S(I(t>=240?t-240:t+120,i,r),I(t,i,r),I(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";var r=n(858);n.d(e,"a",function(){return r.b}),n.d(e,"c",function(){return r.c});var i=n(1373);n.d(e,"b",function(){return i.a});n(1374)},function(t,e,n){"use strict";e.b=p,e.a=v,e.c=m;var r,i,o=0,a=0,s=0,u=1e3,l=0,c=0,h=0,f="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return c||(d(g),c=f.now()+h)}function g(){c=0}function v(){this._call=this._time=this._next=null}function m(t,e,n){var r=new v;return r.restart(t,e,n),r}function y(){c=(l=f.now())+h,o=a=0;try{!function(){p(),++o;for(var t,e=r;e;)(t=c-e._time)>=0&&e._call.call(null,t),e=e._next;--o}()}finally{o=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,_(o)}(),c=0}}function x(){var t=f.now(),e=t-l;e>u&&(h-=e,l=t)}function _(t){o||(a&&(a=clearTimeout(a)),t-c>24?(t<1/0&&(a=setTimeout(y,t-f.now()-h)),s&&(s=clearInterval(s))):(s||(l=f.now(),s=setInterval(x,u)),o=1,d(y)))}v.prototype=m.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,_()},stop:function(){this._call&&(this._call=null,this._time=1/0,_())}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="$";function i(){}function o(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(r=t[o],o,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}i.prototype=o.prototype={constructor:i,has:function(t){return r+t in this},get:function(t){return this[r+t]},set:function(t,e){return this[r+t]=e,this},remove:function(t){var e=r+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===r&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===r&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===r&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===r&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===r&&++t;return t},empty:function(){for(var t in this)if(t[0]===r)return!1;return!0},each:function(t){for(var e in this)e[0]===r&&t(this[e],e.slice(1),this)}},e.a=o},function(t,e,n){"use strict";e.a=i,n.d(e,"d",function(){return o}),n.d(e,"c",function(){return a}),e.e=x,e.h=w,e.g=M,e.b=S,e.f=T;var r=n(861);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,h=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),g=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),m=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(t){var e;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?new S((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=h.exec(t))?_(parseInt(e[1],16)):(e=f.exec(t))?new S(e[1],e[2],e[3],1):(e=d.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?b(e[1],e[2],e[3],e[4]):(e=g.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?_(y[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function _(t){return new S(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,r){return r<=0&&(t=e=n=NaN),new S(t,e,n,r)}function w(t){return t instanceof i||(t=x(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function M(t,e,n,r){return 1===arguments.length?w(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new O(t,e,n,r)}function T(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof O)return new O(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=x(t)),!t)return new O;if(t instanceof O)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,l=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=l<.5?a+o:2-a-o,s*=60):u=l>0&&l<1?0:s,new O(s,u,l,t.opacity)}(t):new O(t,e,n,null==r?1:r)}function O(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function C(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(r.a)(i,x,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(r.a)(S,M,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(r.a)(O,T,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new O(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new O(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new S(C(t>=240?t-240:t+120,i,r),C(t,i,r),C(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";var r=n(863);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),e.a=function(t,e,n,r){var o=i;t.sourceEvent=i,i=t;try{return e.apply(n,r)}finally{i=o}};var r={},i=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"}));function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(t,e,n){return function(r){var o=i;i=r;try{t.call(this,this.__data__,e,n)}finally{i=o}}}function s(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function u(t,e,n){var i=r.hasOwnProperty(t.type)?o:a;return function(r,o,a){var s,u=this.__on,l=i(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}e.b=function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(l=e?u:s,null==n&&(n=!1),r=0;r<a;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var c,h=0,f=l.length;h<f;++h)for(r=0,c=l[h];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}},function(t,e,n){"use strict";var r=n(866);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";var r=n(869);n.d(e,"e",function(){return r.a});var i=n(1458);n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b});var o=n(1459);n.d(e,"h",function(){return o.c}),n.d(e,"i",function(){return o.d}),n.d(e,"f",function(){return o.a}),n.d(e,"g",function(){return o.b})},function(t,e,n){"use strict";var r={},i={},o=34,a=10,s=13;function u(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}e.a=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function l(t,e){var u,l=[],c=t.length,h=0,f=0,d=c<=0,p=!1;function g(){if(d)return i;if(p)return p=!1,r;var e,u,l=h;if(t.charCodeAt(l)===o){for(;h++<c&&t.charCodeAt(h)!==o||t.charCodeAt(++h)===o;);return(e=h)>=c?d=!0:(u=t.charCodeAt(h++))===a?p=!0:u===s&&(p=!0,t.charCodeAt(h)===a&&++h),t.slice(l+1,e-1).replace(/""/g,'"')}for(;h<c;){if((u=t.charCodeAt(e=h++))===a)p=!0;else if(u===s)p=!0,t.charCodeAt(h)===a&&++h;else if(u!==n)continue;return t.slice(l,e)}return d=!0,t.slice(l,c)}for(t.charCodeAt(c-1)===a&&--c,t.charCodeAt(c-1)===s&&--c;(u=g())!==i;){for(var v=[];u!==r&&u!==i;)v.push(u),u=g();e&&null==(v=e(v,f++))||l.push(v)}return l}function c(e){return e.map(h).join(t)}function h(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,i=l(t,function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=u(t);return function(r,i){return e(n(r),i,t)}}(t,e):u(t)});return i.columns=r||[],i},parseRows:l,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(h).join(t)].concat(e.map(function(e){return n.map(function(t){return h(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(c).join("\n")}}}},function(t,e,n){"use strict";e.a=function(){return 1e-6*(Math.random()-.5)}},function(t,e,n){"use strict";var r=n(1473);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}},function(t,e,n){"use strict";var r=n(1491);n.d(e,"b",function(){return r.a}),n.d(e,"a",function(){return r.b}),n.d(e,"d",function(){return r.c});var i=n(979);n.d(e,"c",function(){return i.a});var o=n(980);n.d(e,"e",function(){return o.a});var a=n(1497);n.d(e,"f",function(){return a.a});var s=n(1498);n.d(e,"g",function(){return s.a});var u=n(1499);n.d(e,"h",function(){return u.a})},function(t,e,n){"use strict";e.a=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";e.a=a;var r=n(730),i=n(877),o=n(1516);function a(t,e){var n=Object(r.t)(t),i=(n+Object(r.t)(e))/2;if(Object(r.a)(i)<r.i)return Object(o.a)(t);var a=1+n*(2*i-n),s=Object(r.u)(a)/i;function u(t,e){var n=Object(r.u)(a-2*i*Object(r.t)(e))/i;return[n*Object(r.t)(t*=i),s-n*Object(r.g)(t)]}return u.invert=function(t,e){var n=s-e;return[Object(r.e)(t,Object(r.a)(n))/i*Object(r.s)(n),Object(r.c)((a-(t*t+n*n)*i*i)/(2*i))]},u}e.b=function(){return Object(i.a)(a).scale(155.424).center([0,33.6442])}},function(t,e,n){"use strict";e.a=function(t){var e=0,n=r.o/3,o=Object(i.b)(t),a=o(e,n);return a.parallels=function(t){return arguments.length?o(e=t[0]*r.r,n=t[1]*r.r):[e*r.h,n*r.h]},a};var r=n(730),i=n(762)},function(t,e,n){"use strict";e.a=a,e.c=function(t,e,n){return a(t,[[0,0],e],n)},e.d=function(t,e,n){return o(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)},e.b=function(t,e,n){return o(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)};var r=n(776),i=n(995);function o(t,e,n){var o=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Object(r.a)(n,t.stream(i.a)),e(i.a.result()),null!=o&&t.clipExtent(o),t}function a(t,e,n){return o(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}},function(t,e,n){"use strict";e.c=a,e.b=s;var r=n(730),i=n(824),o=n(762);function a(t,e){return[t,Object(r.n)(Object(r.v)((r.l+e)/2))]}function s(t){var e,n,s,u=Object(o.a)(t),l=u.center,c=u.scale,h=u.translate,f=u.clipExtent,d=null;function p(){var o=r.o*c(),l=u(Object(i.a)(u.rotate()).invert([0,0]));return f(null==d?[[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]]:t===a?[[Math.max(l[0]-o,d),e],[Math.min(l[0]+o,n),s]]:[[d,Math.max(l[1]-o,e)],[n,Math.min(l[1]+o,s)]])}return u.scale=function(t){return arguments.length?(c(t),p()):c()},u.translate=function(t){return arguments.length?(h(t),p()):h()},u.center=function(t){return arguments.length?(l(t),p()):l()},u.clipExtent=function(t){return arguments.length?(null==t?d=e=n=s=null:(d=+t[0][0],e=+t[0][1],n=+t[1][0],s=+t[1][1]),p()):null==d?null:[[d,e],[n,s]]},p()}a.invert=function(t,e){return[t,2*Object(r.d)(Object(r.k)(e))-r.l]},e.a=function(){return s(a).scale(961/r.w)}},function(t,e,n){"use strict";e.c=p,e.b=m,e.a=y;var r=n(1530),i=n(1531),o=n(1532),a=n(1533),s=n(1534),u=n(1535),l=n(1536),c=n(1537),h=n(1538),f=n(1539),d=n(1540);function p(t,e){var n,r,i,o,a,s=new y(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=g);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new y(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(m)}function g(t){return t.children}function v(t){t.data=t.data.data}function m(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function y(t){this.data=t,this.depth=this.height=0,this.parent=null}y.prototype=p.prototype={constructor:y,count:r.a,each:i.a,eachAfter:a.a,eachBefore:o.a,sum:s.a,sort:u.a,path:l.a,ancestors:c.a,descendants:h.a,leaves:f.a,links:d.a,copy:function(){return p(this).eachBefore(v)}}},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new Error;return t}e.a=function(t){return null==t?null:r(t)},e.b=r},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),e.c=a;var r=n(804),i=n(827),o=(1+Math.sqrt(5))/2;function a(t,e,n,o,a,s){for(var u,l,c,h,f,d,p,g,v,m,y,x=[],_=e.children,b=0,w=0,M=_.length,S=e.value;b<M;){c=a-n,h=s-o;do{f=_[w++].value}while(!f&&w<M);for(d=p=f,y=f*f*(m=Math.max(h/c,c/h)/(S*t)),v=Math.max(p/y,y/d);w<M;++w){if(f+=l=_[w].value,l<d&&(d=l),l>p&&(p=l),y=f*f*m,(g=Math.max(p/y,y/d))>v){f-=l;break}v=g}x.push(u={value:f,dice:c<h,children:_.slice(b,w)}),u.dice?Object(r.a)(u,n,o,a,S?o+=h*f/S:s):Object(i.a)(u,n,o,S?n+=c*f/S:a,s),S-=f,b=w}return x}e.a=function t(e){function n(t,n,r,i,o){a(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(o)},function(t,e,n){"use strict";var r=n(768),i=n(1002),o=n(1005),a=n(1006),s=n(828),u=n(1007),l=n(1008),c=n(1004);e.a=function(t,e){var n,h=typeof e;return null==e||"boolean"===h?Object(c.a)(e):("number"===h?s.a:"string"===h?(n=Object(r.a)(e))?(e=n,i.a):l.a:e instanceof r.a?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";var r=n(801),i=n(792);e.a=function(t,e){var n,o,a,s,u=Object(i.a)("beforesend","progress","load","error"),l=Object(r.c)(),c=new XMLHttpRequest,h=null,f=null,d=0;function p(t){var e,r=c.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||r>=200&&r<300||304===r){if(a)try{e=a.call(n,c)}catch(t){return void u.call("error",n,t)}else e=c;u.call("load",n,e)}else u.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=p:c.onreadystatechange=function(t){c.readyState>3&&p(t)},c.onprogress=function(t){u.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l.get(t):(null==e?l.remove(t):l.set(t,e+""),n)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",n):o},responseType:function(t){return arguments.length?(s=t,n):s},timeout:function(t){return arguments.length?(d=+t,n):d},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",n)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",n)},response:function(t){return a=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,r,i){return c.open(e,t,!0,h,f),null==o||l.has("accept")||l.set("accept",o+",*/*"),c.setRequestHeader&&l.each(function(t,e){c.setRequestHeader(e,t)}),null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=s&&(c.responseType=s),d>0&&(c.timeout=d),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=function(t){return function(e,n){t(null==e?n:null)}}(i)),null!=i&&n.on("error",i).on("load",function(t){i(null,t)}),u.call("beforesend",n,c),c.send(null==r?null:r),n},abort:function(){return c.abort(),n},on:function(){var t=u.on.apply(u,arguments);return t===u?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(888);n.d(e,"d",function(){return r.a}),n.d(e,"c",function(){return r.b}),n.d(e,"f",function(){return r.c}),n.d(e,"g",function(){return r.d}),n.d(e,"h",function(){return r.e});var i=n(1016);n.d(e,"e",function(){return i.a});var o=n(1017);n.d(e,"a",function(){return o.a});var a=n(1605);n.d(e,"b",function(){return a.a})},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),e.a=l;var r,i,o,a,s,u=n(1016);function l(t){return r=Object(u.a)(t),i=r.format,o=r.parse,a=r.utcFormat,s=r.utcParse,r}l({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(t,e,n){"use strict";var r=n(775),i=n(778),o=n(832),a=n(890);e.a=function(){var t=a.a,e=a.b,n=Object(i.a)(!0),s=null,u=o.a,l=null;function c(i){var o,a,c,h=i.length,f=!1;for(null==s&&(l=u(c=Object(r.a)())),o=0;o<=h;++o)!(o<h&&n(a=i[o],o,i))===f&&((f=!f)?l.lineStart():l.lineEnd()),f&&l.point(+t(a,o,i),+e(a,o,i));if(c)return l=null,c+""||null}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:Object(i.a)(+e),c):t},c.y=function(t){return arguments.length?(e="function"==typeof t?t:Object(i.a)(+t),c):e},c.defined=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(!!t),c):n},c.curve=function(t){return arguments.length?(u=t,null!=s&&(l=u(s)),c):u},c.context=function(t){return arguments.length?(null==t?s=l=null:l=u(s=t),c):s},c}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";e.b=o;var r=n(809),i=n(835);function o(t,e,n){var i=t._x1,o=t._y1,a=t._x2,s=t._y2;if(t._l01_a>r.f){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,o=(o*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>r.f){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(i,o,a,s,t._x2,t._y2)}function a(t,e){this._context=t,this._alpha=e}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:o(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new a(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";e.b=i;var r=n(811);function i(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}e.a=function(t){var e=t.map(i);return Object(r.a)(t).sort(function(t,n){return e[t]-e[n]})}},function(t,e,n){"use strict";var r=n(894);n.d(e,"b",function(){return r.b}),n.d(e,"d",function(){return r.c}),n.d(e,"e",function(){return r.d});var i=n(1640);n.d(e,"c",function(){return i.a});var o=n(1641);n.d(e,"a",function(){return o.a})},function(t,e,n){"use strict";e.b=p,e.a=v,e.c=m,e.d=y;var r,i,o=0,a=0,s=0,u=1e3,l=0,c=0,h=0,f="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return c||(d(g),c=f.now()+h)}function g(){c=0}function v(){this._call=this._time=this._next=null}function m(t,e,n){var r=new v;return r.restart(t,e,n),r}function y(){p(),++o;for(var t,e=r;e;)(t=c-e._time)>=0&&e._call.call(null,t),e=e._next;--o}function x(){c=(l=f.now())+h,o=a=0;try{y()}finally{o=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,b(o)}(),c=0}}function _(){var t=f.now(),e=t-l;e>u&&(h-=e,l=t)}function b(t){o||(a&&(a=clearTimeout(a)),t-c>24?(t<1/0&&(a=setTimeout(x,t-f.now()-h)),s&&(s=clearInterval(s))):(s||(l=f.now(),s=setInterval(_,u)),o=1,d(x)))}v.prototype=m.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},function(t,e,n){"use strict";function r(){this._=null}function i(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function o(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function a(t){for(;t.L;)t=t.L;return t}e.a=function(t){t.U=t.C=t.L=t.R=t.P=t.N=null},r.prototype={constructor:r,insert:function(t,e){var n,r,s;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=a(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(s=r.R)&&s.C?(n.C=s.C=!1,r.C=!0,t=r):(t===n.R&&(i(this,n),n=(t=n).U),n.C=!1,r.C=!0,o(this,r)):(s=r.L)&&s.C?(n.C=s.C=!1,r.C=!0,t=r):(t===n.L&&(o(this,n),n=(t=n).U),n.C=!1,r.C=!0,i(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,s=t.U,u=t.L,l=t.R;if(n=u?l?a(l):u:l,s?s.L===t?s.L=n:s.R=n:this._=n,u&&l?(r=n.C,n.C=t.C,n.L=u,u.U=n,n!==l?(s=n.U,n.U=t.U,t=n.R,s.L=t,n.R=l,l.U=n):(n.U=s,s=n,t=n.R)):(r=t.C,t=n),t&&(t.U=s),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===s.L){if((e=s.R).C&&(e.C=!1,s.C=!0,i(this,s),e=s.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,o(this,e),e=s.R),e.C=s.C,s.C=e.R.C=!1,i(this,s),t=this._;break}}else if((e=s.L).C&&(e.C=!1,s.C=!0,o(this,s),e=s.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,i(this,e),e=s.L),e.C=s.C,s.C=e.L.C=!1,o(this,s),t=this._;break}e.C=!0,t=s,s=s.U}while(!t.C);t&&(t.C=!1)}}},e.b=r},function(t,e,n){"use strict";e.c=function(t,e,n,o){var a=[null,null],s=r.e.push(a)-1;a.left=t,a.right=e,n&&i(a,t,e,n);o&&i(a,e,t,o);return r.b[t.index].halfedges.push(s),r.b[e.index].halfedges.push(s),a},e.b=function(t,e,n){var r=[e,n];return r.left=t,r},e.d=i,e.a=function(t,e,n,i){var s,u=r.e.length;for(;u--;)a(s=r.e[u],t,e,n,i)&&o(s,t,e,n,i)&&(Math.abs(s[0][0]-s[1][0])>r.f||Math.abs(s[0][1]-s[1][1])>r.f)||delete r.e[u]};var r=n(812);function i(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function o(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*d]),h<1&&(t[1]=[u+h*f,l+h*d]),!0)}}}}}function a(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],g=(h+d)/2,v=(f+p)/2;if(p===f){if(g<e||g>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(s=v-(a=(h-d)/(p-f))*g,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}},function(t,e,n){var r=n(1673),i=n(1674),o=n(1675);t.exports=function(t,e,n){var a=e.label,s=t.append("g");"svg"===e.labelType?o(s,e):"string"!=typeof a||"html"===e.labelType?i(s,e):r(s,e);var u,l=s.node().getBBox();switch(n){case"top":u=-e.height/2;break;case"bottom":u=e.height/2-l.height;break;default:u=-l.height/2}return s.attr("transform","translate("+-l.width/2+","+u+")"),s}},,,,,,,,,,,function(t,e,n){(function(e){var n;n=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}function n(t){if(null==t||"object"!=typeof t)return t;var e=t,r=qu.call(t);if("[object Array]"===r){if(!h(t)){e=[];for(var i=0,o=t.length;i<o;i++)e[i]=n(t[i])}}else if(Gu[r]){if(!h(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(i=0,o=t.length;i<o;i++)e[i]=n(t[i])}}}else if(!Wu[r]&&!h(t)&&!c(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=n(t[s]));return e}function r(t,e,i){if(!u(e)||!u(t))return i?n(e):t;for(var o in e)if(e.hasOwnProperty(o)){var a=t[o],f=e[o];!u(f)||!u(a)||s(f)||s(a)||c(f)||c(a)||l(f)||l(a)||h(f)||h(a)?!i&&o in t||(t[o]=n(e[o])):r(a,f,i)}return t}function i(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}function o(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Yu)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function a(t,e){var n=Zu.call(arguments,2);return function(){return t.apply(e,n.concat(Zu.call(arguments)))}}function s(t){return"[object Array]"===qu.call(t)}function u(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function l(t){return!!Wu[qu.call(t)]}function c(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function h(t){return t[el]}function f(t){function e(t,e){n?r.set(t,e):r.set(e,t)}var n=s(t),r=this;t instanceof f?t.each(e):t&&o(t,e)}function d(t){return Math.sqrt(p(t))}function p(t){return t[0]*t[0]+t[1]*t[1]}function g(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function v(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function m(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function y(t,e){return{target:t,topTarget:e&&e.topTarget}}function x(){}function _(){var t=new fl(6);return b(t),t}function b(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function M(t){return t>gl||t<-gl}function S(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function A(t){return(t=Math.round(t))<0?0:t>255?255:t}function T(t){return t<0?0:t>1?1:t}function O(t){return A(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function C(t){return T(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function I(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function k(t,e,n){return t+(e-t)*n}function D(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function L(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function E(t,e){Dl&&L(Dl,e),Dl=kl.put(t,Dl||e.slice())}function P(t,e){if(t){e=e||[];var n=kl.get(t);if(n)return L(e,n);var r=(t+="").replace(/ /g,"").toLowerCase();if(r in Il)return L(e,Il[r]),E(t,e),e;if("#"!==r.charAt(0)){var i=r.indexOf("("),o=r.indexOf(")");if(-1!==i&&o+1===r.length){var a=r.substr(0,i),s=r.substr(i+1,o-(i+1)).split(","),u=1;switch(a){case"rgba":if(4!==s.length)return void D(e,0,0,0,1);u=C(s.pop());case"rgb":return 3!==s.length?void D(e,0,0,0,1):(D(e,O(s[0]),O(s[1]),O(s[2]),u),E(t,e),e);case"hsla":return 4!==s.length?void D(e,0,0,0,1):(s[3]=C(s[3]),N(s,e),E(t,e),e);case"hsl":return 3!==s.length?void D(e,0,0,0,1):(N(s,e),E(t,e),e);default:return}}D(e,0,0,0,1)}else{if(4===r.length)return(l=parseInt(r.substr(1),16))>=0&&l<=4095?(D(e,(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1),E(t,e),e):void D(e,0,0,0,1);if(7===r.length){var l=parseInt(r.substr(1),16);return l>=0&&l<=16777215?(D(e,(16711680&l)>>16,(65280&l)>>8,255&l,1),E(t,e),e):void D(e,0,0,0,1)}}}}function N(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=C(t[1]),i=C(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return D(e=e||[],A(255*I(a,o,n+1/3)),A(255*I(a,o,n)),A(255*I(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function j(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],u=r-i;return n[0]=A(k(a[0],s[0],u)),n[1]=A(k(a[1],s[1],u)),n[2]=A(k(a[2],s[2],u)),n[3]=T(k(a[3],s[3],u)),n}}function R(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=P(e[i]),s=P(e[o]),u=r-i,l=z([A(k(a[0],s[0],u)),A(k(a[1],s[1],u)),A(k(a[2],s[2],u)),T(k(a[3],s[3],u))],"rgba");return n?{color:l,leftIndex:i,rightIndex:o,value:r}:l}}function z(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function B(t,e,n){return(e-t)*n+t}function V(t,e,n){return n>.5?e:t}function F(t,e,n,r,i){var o=t.length;if(1==i)for(s=0;s<o;s++)r[s]=B(t[s],e[s],n);else for(var a=o&&t[0].length,s=0;s<o;s++)for(var u=0;u<a;u++)r[s][u]=B(t[s][u],e[s][u],n)}function H(t,e,n){var r=t.length,i=e.length;if(r!==i)if(r>i)t.length=i;else for(a=r;a<i;a++)t.push(1===n?e[a]:Pl.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function W(t,e,n,r,i,o,a,s,u){var l=t.length;if(1==u)for(h=0;h<l;h++)s[h]=G(t[h],e[h],n[h],r[h],i,o,a);else for(var c=t[0].length,h=0;h<l;h++)for(var f=0;f<c;f++)s[h][f]=G(t[h][f],e[h][f],n[h][f],r[h][f],i,o,a)}function G(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}function q(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function U(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}function Y(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;!function(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function X(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o,a=t[r],s=e,u=r;s<u;)i(a,t[o=s+u>>>1])<0?u=o:s=o+1;var l=r-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function Z(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])>0){for(s=r-i;u<s&&o(t,e[n+i+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}else{for(s=i+1;u<s&&o(t,e[n+i-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}for(a++;a<u;){var c=a+(u-a>>>1);o(t,e[n+c])>0?a=c+1:u=c}return u}function $(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])<0){for(s=i+1;u<s&&o(t,e[n+i-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}else{for(s=r-i;u<s&&o(t,e[n+i+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}for(a++;a<u;){var c=a+(u-a>>>1);o(t,e[n+c])<0?u=c:a=c+1}return u}function K(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function J(t,e,n){var r=nl.createCanvas(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=o*n,r}function Q(t){return t&&t.width&&t.height}function tt(t,e){var n=t+":"+(e=e||Lc);if(Cc[n])return Cc[n];for(var r=(t+"").split("\n"),i=0,o=0,a=r.length;o<a;o++)i=Math.max(st(r[o],e).width,i);return Ic>kc&&(Ic=0,Cc={}),Ic++,Cc[n]=i,i}function et(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function nt(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function rt(t,e,n,r,i){if(!e)return"";var o=(t+"").split("\n");i=it(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=ot(o[a],i);return o.join("\n")}function it(t,e,n,r){(r=Sc({},r)).font=e,n=Ac(n,"..."),r.maxIterations=Ac(r.maxIterations,2);var i=r.minChar=Ac(r.minChar,0);r.cnCharWidth=tt("国",e);var o=r.ascCharWidth=tt("a",e);r.placeholder=Ac(r.placeholder,"");for(var a=t=Math.max(0,t-1),s=0;s<i&&a>=o;s++)a-=o;var u=tt(n);return u>a&&(n="",u=0),a=t-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=a,r.containerWidth=t,r}function ot(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var o=tt(t,r);if(o<=n)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?function(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=tt(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function at(t){return tt("国",t)}function st(t,e){return Ec.measureText(t,e)}function ut(t,e,n,r){null!=t&&(t+="");var i=at(e),o=t?t.split("\n"):[],a=o.length*i,s=a;if(n&&(s+=n[0]+n[2]),t&&r){var u=r.outerHeight,l=r.outerWidth;if(null!=u&&s>u)t="",o=[];else if(null!=l)for(var c=it(l-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),h=0,f=o.length;h<f;h++)o[h]=ot(o[h],c)}return{lines:o,height:a,outerHeight:s,lineHeight:i}}function lt(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,i=Dc.lastIndex=0;null!=(r=Dc.exec(t));){var o=r.index;o>i&&ct(n,t.substring(i,o)),ct(n,r[2],r[1]),i=Dc.lastIndex}i<t.length&&ct(n,t.substring(i,t.length));var a=n.lines,s=0,u=0,l=[],c=e.textPadding,h=e.truncate,f=h&&h.outerWidth,d=h&&h.outerHeight;for(c&&(null!=f&&(f-=c[1]+c[3]),null!=d&&(d-=c[0]+c[2])),C=0;C<a.length;C++){for(var p=a[C],g=0,v=0,m=0;m<p.tokens.length;m++){var y=(I=p.tokens[m]).styleName&&e.rich[I.styleName]||{},x=I.textPadding=y.textPadding,_=I.font=y.font||e.font,b=I.textHeight=Ac(y.textHeight,at(_));if(x&&(b+=x[0]+x[2]),I.height=b,I.lineHeight=Tc(y.textLineHeight,e.textLineHeight,b),I.textAlign=y&&y.textAlign||e.textAlign,I.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=d&&s+I.lineHeight>d)return{lines:[],width:0,height:0};I.textWidth=tt(I.text,_);var w=y.textWidth,M=null==w||"auto"===w;if("string"==typeof w&&"%"===w.charAt(w.length-1))I.percentWidth=w,l.push(I),w=0;else{if(M){w=I.textWidth;var S=y.textBackgroundColor,A=S&&S.image;A&&(A=wc.findExistImage(A),wc.isImageReady(A)&&(w=Math.max(w,A.width*b/A.height)))}var T=x?x[1]+x[3]:0;w+=T;var O=null!=f?f-v:null;null!=O&&O<w&&(!M||O<T?(I.text="",I.textWidth=w=0):(I.text=rt(I.text,O-T,_,h.ellipsis,{minChar:h.minChar}),I.textWidth=tt(I.text,_),w=I.textWidth+T))}v+=I.width=w,y&&(g=Math.max(g,I.lineHeight))}p.width=v,p.lineHeight=g,s+=g,u=Math.max(u,v)}n.outerWidth=n.width=Ac(e.textWidth,u),n.outerHeight=n.height=Ac(e.textHeight,s),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]);for(var C=0;C<l.length;C++){var I=l[C],k=I.percentWidth;I.width=parseInt(k,10)/100*u}return n}function ct(t,e,n){for(var r=""===e,i=e.split("\n"),o=t.lines,a=0;a<i.length;a++){var s=i[a],u={styleName:n,text:s,isLineHolder:!s&&!r};if(a)o.push({tokens:[u]});else{var l=(o[o.length-1]||(o[0]={tokens:[]})).tokens,c=l.length;1===c&&l[0].isLineHolder?l[0]=u:(s||!c||r)&&l.push(u)}}}function ht(t){if(t){t.font=Pc.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||Hc[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||Wc[n]?n:"top",t.textPadding&&(t.textPadding=Bc(t.textPadding))}}function ft(t,e,n,r,i){if(n&&e.textRotation){var o=e.textOrigin;"center"===o?(r=n.width/2+n.x,i=n.height/2+n.y):o&&(r=o[0]+n.x,i=o[1]+n.y),t.translate(r,i),t.rotate(-e.textRotation),t.translate(-r,-i)}}function dt(t,e,n,r,i,o,a,s){var u=r.rich[n.styleName]||{},l=n.textVerticalAlign,c=o+i/2;"top"===l?c=o+n.height/2:"bottom"===l&&(c=o+i-n.height/2),!n.isLineHolder&&pt(u)&&gt(t,e,u,"right"===s?a-n.width:"center"===s?a-n.width/2:a,c-n.height/2,n.width,n.height);var h=n.textPadding;h&&(a=bt(a,s,h),c-=n.height/2-h[2]-n.textHeight/2),mt(e,"shadowBlur",Rc(u.textShadowBlur,r.textShadowBlur,0)),mt(e,"shadowColor",u.textShadowColor||r.textShadowColor||"transparent"),mt(e,"shadowOffsetX",Rc(u.textShadowOffsetX,r.textShadowOffsetX,0)),mt(e,"shadowOffsetY",Rc(u.textShadowOffsetY,r.textShadowOffsetY,0)),mt(e,"textAlign",s),mt(e,"textBaseline","middle"),mt(e,"font",n.font||Pc.DEFAULT_FONT);var f=yt(u.textStroke||r.textStroke,p),d=xt(u.textFill||r.textFill),p=jc(u.textStrokeWidth,r.textStrokeWidth);f&&(mt(e,"lineWidth",p),mt(e,"strokeStyle",f),e.strokeText(n.text,a,c)),d&&(mt(e,"fillStyle",d),e.fillText(n.text,a,c))}function pt(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function gt(t,e,n,r,i,o,a){var s=n.textBackgroundColor,u=n.textBorderWidth,l=n.textBorderColor,c=Vc(s);if(mt(e,"shadowBlur",n.textBoxShadowBlur||0),mt(e,"shadowColor",n.textBoxShadowColor||"transparent"),mt(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),mt(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),c||u&&l){e.beginPath();var h=n.textBorderRadius;h?Nc.buildPath(e,{x:r,y:i,width:o,height:a,r:h}):e.rect(r,i,o,a),e.closePath()}if(c)mt(e,"fillStyle",s),e.fill();else if(Fc(s)){var f=s.image;(f=wc.createOrUpdateImage(f,null,t,function(t,e){e.image=t},s))&&wc.isImageReady(f)&&e.drawImage(f,r,i,o,a)}u&&l&&(mt(e,"lineWidth",u),mt(e,"strokeStyle",l),e.stroke())}function vt(t,e,n){var r=e.x||0,i=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)r=n.x+_t(s[0],n.width),i=n.y+_t(s[1],n.height);else{var u=Pc.adjustTextPositionOnRect(s,n,e.textDistance);r=u.x,i=u.y,o=o||u.textAlign,a=a||u.textVerticalAlign}var l=e.textOffset;l&&(r+=l[0],i+=l[1])}return{baseX:r,baseY:i,textAlign:o,textVerticalAlign:a}}function mt(t,e,n){return t[e]=uc(t,e,n),t[e]}function yt(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function xt(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function _t(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function bt(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function wt(t){for(var e in t=t||{},$l.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new pc(t.style,this),this._rect=null,this.__clipPaths=[]}function Mt(t){Xc.call(this,t)}function St(t){return parseInt(t,10)}function At(t,e,n,r){return n=n||{},r||!Hu.canvasSupported?Tt(t,e,n):Hu.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Tt(t,e,n),n}function Tt(t,e,n){var r=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top}function Ot(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function Ct(t){return"mousewheel"===t&&Hu.browser.firefox?"DOMMouseScroll":t}function It(t,e,n){var r=t._gestureMgr;"start"===n&&r.clear();var i=r.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===n&&r.clear(),i){var o=i.type;e.gestureEvent=o,t.handler.dispatchToElement({target:i.target},o,i.event)}}function kt(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function Dt(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Lt(t){function e(e,n){nl.each(e,function(e){hh(t,Ct(e),n._handlers[e])},n)}ul.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new ch,this._handlers={},function(t){nl.each(gh,function(e){t._handlers[e]=nl.bind(yh[e],t)}),nl.each(mh,function(e){t._handlers[e]=nl.bind(yh[e],t)}),nl.each(ph,function(e){t._handlers[e]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(yh[e],t)})}(this),Hu.pointerEventsSupported?e(mh,this):(Hu.touchEventsSupported&&e(gh,this),e(ph,this))}function Et(t){return t instanceof Array?t:null==t?[]:[t]}function Pt(t){return Oh(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function Nt(t,e){return t&&t.hasOwnProperty(e)}function jt(t){var e={main:"",sub:""};return t&&(t=t.split(Lh),e.main=t[0]||"",e.sub=t[1]||""),e}function Rt(t){return t>-Xh&&t<Xh}function zt(t){return t>Xh||t<-Xh}function Bt(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function Vt(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function Ft(t,e,n,r,i){for(var o=0,a=0,s=0,u=0,l=0,c=0;c<t.length;){var h=t[c++];switch(h===Hf.M&&c>1&&(n||(o+=Vf(a,s,u,l,r,i))),1==c&&(u=a=t[c],l=s=t[c+1]),h){case Hf.M:a=u=t[c++],s=l=t[c++];break;case Hf.L:if(n){if(Df.containStroke(a,s,t[c],t[c+1],e,r,i))return!0}else o+=Vf(a,s,t[c],t[c+1],r,i)||0;a=t[c++],s=t[c++];break;case Hf.C:if(n){if(Lf.containStroke(a,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],e,r,i))return!0}else o+=function(t,e,n,r,i,o,a,s,u,l){if(l>e&&l>r&&l>o&&l>s||l<e&&l<r&&l<o&&l<s)return 0;var c=Qh.cubicRootAt(e,r,o,s,l,qf);if(0===c)return 0;for(var h,f,d=0,p=-1,g=0;g<c;g++){var v=qf[g],m=0===v||1===v?.5:1;Qh.cubicAt(t,n,i,a,v)<u||(p<0&&(p=Qh.cubicExtrema(e,r,o,s,Uf),Uf[1]<Uf[0]&&p>1&&function(){var t=Uf[0];Uf[0]=Uf[1],Uf[1]=t}(),h=Qh.cubicAt(e,r,o,s,Uf[0]),p>1&&(f=Qh.cubicAt(e,r,o,s,Uf[1]))),2==p?v<Uf[0]?d+=h<e?m:-m:v<Uf[1]?d+=f<h?m:-m:d+=s<f?m:-m:v<Uf[0]?d+=h<e?m:-m:d+=s<h?m:-m)}return d}(a,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],r,i)||0;a=t[c++],s=t[c++];break;case Hf.Q:if(n){if(Pf.containStroke(a,s,t[c++],t[c++],t[c],t[c+1],e,r,i))return!0}else o+=function(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var u=Qh.quadraticRootAt(e,r,o,s,qf);if(0===u)return 0;var l=Qh.quadraticExtremum(e,r,o);if(l>=0&&l<=1){for(var c=0,h=Qh.quadraticAt(e,r,o,l),f=0;f<u;f++)d=0===qf[f]||1===qf[f]?.5:1,(p=Qh.quadraticAt(t,n,i,qf[f]))<a||(qf[f]<l?c+=h<e?d:-d:c+=o<h?d:-d);return c}var d=0===qf[0]||1===qf[0]?.5:1,p=Qh.quadraticAt(t,n,i,qf[0]);return p<a?0:o<e?d:-d}(a,s,t[c++],t[c++],t[c],t[c+1],r,i)||0;a=t[c++],s=t[c++];break;case Hf.A:var f=t[c++],d=t[c++],p=t[c++],g=t[c++],v=t[c++],m=t[c++],y=(t[c++],1-t[c++]),x=Math.cos(v)*p+f,_=Math.sin(v)*g+d;c>1?o+=Vf(a,s,x,_,r,i):(u=x,l=_);var b=(r-f)*g/p+f;if(n){if(Bf.containStroke(f,d,g,v,v+m,y,e,b,i))return!0}else o+=function(t,e,n,r,i,o,a,s){if((s-=e)>n||s<-n)return 0;l=Math.sqrt(n*n-s*s),qf[0]=-l,qf[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u%Wf<1e-4)return r=0,i=Wf,p=o?1:-1,a>=qf[0]+t&&a<=qf[1]+t?p:0;if(o){var l=r;r=Ff(i),i=Ff(l)}else r=Ff(r),i=Ff(i);r>i&&(i+=Wf);for(var c=0,h=0;h<2;h++){var f=qf[h];if(f+t>a){var d=Math.atan2(s,f),p=o?1:-1;d<0&&(d=Wf+d),(d>=r&&d<=i||d+Wf>=r&&d+Wf<=i)&&(d>Math.PI/2&&d<1.5*Math.PI&&(p=-p),c+=p)}}return c}(f,d,g,v,v+m,y,b,i);a=Math.cos(v+m)*p+f,s=Math.sin(v+m)*g+d;break;case Hf.R:u=a=t[c++],l=s=t[c++];x=u+t[c++],_=l+t[c++];if(n){if(Df.containStroke(u,l,x,l,e,r,i)||Df.containStroke(x,l,x,_,e,r,i)||Df.containStroke(x,_,u,_,e,r,i)||Df.containStroke(u,_,u,l,e,r,i))return!0}else o+=Vf(x,l,x,_,r,i),o+=Vf(u,_,u,l,r,i);break;case Hf.Z:if(n){if(Df.containStroke(a,s,u,l,e,r,i))return!0}else o+=Vf(a,s,u,l,r,i);a=u,s=l}}return n||function(t,e){return Math.abs(t-e)<Gf}(s,l)||(o+=Vf(a,s,u,l,r,i)||0),0!==o}function Ht(t){Xc.call(this,t),this.path=null}function Wt(t,e,n,r,i,o,a,s,u,l,c){var h=u*(ld/180),f=ud(h)*(t-n)/2+sd(h)*(e-r)/2,d=-1*sd(h)*(t-n)/2+ud(h)*(e-r)/2,p=f*f/(a*a)+d*d/(s*s);p>1&&(a*=ad(p),s*=ad(p));var g=(i===o?-1:1)*ad((a*a*(s*s)-a*a*(d*d)-s*s*(f*f))/(a*a*(d*d)+s*s*(f*f)))||0,v=g*a*d/s,m=g*-s*f/a,y=(t+n)/2+ud(h)*v-sd(h)*m,x=(e+r)/2+sd(h)*v+ud(h)*m,_=fd([1,0],[(f-v)/a,(d-m)/s]),b=[(f-v)/a,(d-m)/s],w=[(-1*f-v)/a,(-1*d-m)/s],M=fd(b,w);hd(b,w)<=-1&&(M=ld),hd(b,w)>=1&&(M=0),0===o&&M>0&&(M-=2*ld),1===o&&M<0&&(M+=2*ld),c.addData(l,y,x,a,s,_,M,h,o)}function Gt(t,e){var n=function(t){if(!t)return[];var e,n=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<od.length;e++)n=n.replace(new RegExp(od[e],"g"),"|"+od[e]);var r,i=n.split("|"),o=0,a=0,s=new kf,u=kf.CMD;for(e=1;e<i.length;e++){var l,c=i[e],h=c.charAt(0),f=0,d=c.slice(1).replace(/e,-/g,"e-").split(",");d.length>0&&""===d[0]&&d.shift();for(var p=0;p<d.length;p++)d[p]=parseFloat(d[p]);for(;f<d.length&&!isNaN(d[f])&&!isNaN(d[0]);){var g,v,m,y,x,_,b,w=o,M=a;switch(h){case"l":o+=d[f++],a+=d[f++],l=u.L,s.addData(l,o,a);break;case"L":o=d[f++],a=d[f++],l=u.L,s.addData(l,o,a);break;case"m":o+=d[f++],a+=d[f++],l=u.M,s.addData(l,o,a),h="l";break;case"M":o=d[f++],a=d[f++],l=u.M,s.addData(l,o,a),h="L";break;case"h":o+=d[f++],l=u.L,s.addData(l,o,a);break;case"H":o=d[f++],l=u.L,s.addData(l,o,a);break;case"v":a+=d[f++],l=u.L,s.addData(l,o,a);break;case"V":a=d[f++],l=u.L,s.addData(l,o,a);break;case"C":l=u.C,s.addData(l,d[f++],d[f++],d[f++],d[f++],d[f++],d[f++]),o=d[f-2],a=d[f-1];break;case"c":l=u.C,s.addData(l,d[f++]+o,d[f++]+a,d[f++]+o,d[f++]+a,d[f++]+o,d[f++]+a),o+=d[f-2],a+=d[f-1];break;case"S":g=o,v=a;var S=s.len(),A=s.data;r===u.C&&(g+=o-A[S-4],v+=a-A[S-3]),l=u.C,w=d[f++],M=d[f++],o=d[f++],a=d[f++],s.addData(l,g,v,w,M,o,a);break;case"s":g=o,v=a;S=s.len(),A=s.data;r===u.C&&(g+=o-A[S-4],v+=a-A[S-3]),l=u.C,w=o+d[f++],M=a+d[f++],o+=d[f++],a+=d[f++],s.addData(l,g,v,w,M,o,a);break;case"Q":w=d[f++],M=d[f++],o=d[f++],a=d[f++],l=u.Q,s.addData(l,w,M,o,a);break;case"q":w=d[f++]+o,M=d[f++]+a,o+=d[f++],a+=d[f++],l=u.Q,s.addData(l,w,M,o,a);break;case"T":g=o,v=a;S=s.len(),A=s.data;r===u.Q&&(g+=o-A[S-4],v+=a-A[S-3]),o=d[f++],a=d[f++],l=u.Q,s.addData(l,g,v,o,a);break;case"t":g=o,v=a;S=s.len(),A=s.data;r===u.Q&&(g+=o-A[S-4],v+=a-A[S-3]),o+=d[f++],a+=d[f++],l=u.Q,s.addData(l,g,v,o,a);break;case"A":m=d[f++],y=d[f++],x=d[f++],_=d[f++],b=d[f++],Wt(w=o,M=a,o=d[f++],a=d[f++],_,b,m,y,x,l=u.A,s);break;case"a":m=d[f++],y=d[f++],x=d[f++],_=d[f++],b=d[f++],Wt(w=o,M=a,o+=d[f++],a+=d[f++],_,b,m,y,x,l=u.A,s)}}"z"!==h&&"Z"!==h||(l=u.Z,s.addData(l)),r=l}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){id(n,t),this.dirty(!0)},e}function qt(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}function Ut(t,e,n){var r=t.cpx2,i=t.cpy2;return null===r||null===i?[(n?Bd:Rd)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Bd:Rd)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?zd:jd)(t.x1,t.cpx1,t.x2,e),(n?zd:jd)(t.y1,t.cpy1,t.y2,e)]}function Yt(t){Xc.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Xt(t,e,n,r){var i=dd.createFromString(t,e),o=i.getBoundingRect();return n&&("center"===r&&(n=Zt(n,o)),$t(i,n)),i}function Zt(t,e){var n,r=e.width/e.height,i=t.height*r;return n=i<=t.width?t.height:(i=t.width)/r,{x:t.x+t.width/2-i/2,y:t.y+t.height/2-n/2,width:i,height:n}}function $t(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function Kt(t,e,n){var r=vp(2*t);return(r+vp(e))%2==0?r/2:(r+(n?1:-1))/2}function Jt(t){return null!=t&&"none"!=t}function Qt(t){return"string"==typeof t?Ll.lift(t,-.1):t}function te(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,r=t.__hoverStl;r.fill=r.fill||(Jt(n)?Qt(n):null),r.stroke=r.stroke||(Jt(e)?Qt(e):null);var i={};for(var o in r)null!=r[o]&&(i[o]=t.style[o]);t.__normalStl=i,t.__hoverStlDirty=!1}}function ee(t){if(!t.__isHover){if(te(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,n=e.insideRollbackOpt;n&&function(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth)}(e),e.extendFrom(t.__hoverStl),n&&(ce(e,e.insideOriginalTextPosition,n),null==e.textFill&&(e.textFill=n.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function ne(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function re(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&ee(t)}):ee(t)}function ie(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&ne(t)}):ne(t)}function oe(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&te(t)}function ae(t,e,n,r,i){return se(t,e,r,i),n&&nl.extend(t,n),t.host&&t.host.dirty&&t.host.dirty(!1),t}function se(t,e,n,r){if((n=n||xp).isRectText){var i=e.getShallow("position")||(r?null:"inside");"outside"===i&&(i="top"),t.textPosition=i,t.textOffset=e.getShallow("offset");var o=e.getShallow("rotate");null!=o&&(o*=Math.PI/180),t.textRotation=o,t.textDistance=nl.retrieve2(e.getShallow("distance"),r?null:5)}var a,s=e.ecModel,u=s&&s.option.textStyle,l=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||xp).rich;if(n)for(var r in e=e||{},n)n.hasOwnProperty(r)&&(e[r]=1);t=t.parentModel}return e}(e);if(l)for(var c in a={},l)if(l.hasOwnProperty(c)){var h=e.getModel(["rich",c]);ue(a[c]={},h,u,n,r)}return t.rich=a,ue(t,e,u,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function ue(t,e,n,r,i,o){if(n=!i&&n||xp,t.textFill=le(e.getShallow("color"),r)||n.color,t.textStroke=le(e.getShallow("textBorderColor"),r)||n.textBorderColor,t.textStrokeWidth=nl.retrieve2(e.getShallow("textBorderWidth"),n.textBorderWidth),!i){if(o){var a=t.textPosition;t.insideRollback=ce(t,a,r),t.insideOriginalTextPosition=a,t.insideRollbackOpt=r}null==t.textFill&&(t.textFill=r.autoColor)}t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),o&&r.disableBox||(t.textBackgroundColor=le(e.getShallow("backgroundColor"),r),t.textPadding=e.getShallow("padding"),t.textBorderColor=le(e.getShallow("borderColor"),r),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function le(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function ce(t,e,n){var r,i=n.useInsideStyle;return null==t.textFill&&!1!==i&&(!0===i||n.isRectText&&e&&"string"==typeof e&&e.indexOf("inside")>=0)&&(r={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=n.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),r}function he(t,e,n,r,i,o){if("function"==typeof i&&(o=i,i=null),r&&r.isAnimationEnabled()){var a=t?"Update":"",s=r.getShallow("animationDuration"+a),u=r.getShallow("animationEasing"+a),l=r.getShallow("animationDelay"+a);"function"==typeof l&&(l=l(i,r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null)),"function"==typeof s&&(s=s(i)),s>0?e.animateTo(n,s,l||0,u,o,!!o):(e.stopAnimation(),e.attr(n),o&&o())}else e.stopAnimation(),e.attr(n),o&&o()}function fe(t,e,n,r,i){he(!0,t,e,n,r,i)}function de(t,e,n){return e&&!nl.isArrayLike(e)&&(e=xl.getLocalTransform(e)),n&&(e=dl.invert([],e)),il.applyTransform([],t,e)}function pe(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function ge(t,e,n){for(var r=0;r<e.length&&(!e[r]||null!=(t=t&&"object"==typeof t?t[e[r]]:null));r++);return null==t&&n&&(t=n.get(e)),t}function ve(t,e){var n=Ip(t).getParent;return n?n.call(t,e):t.parentModel}function me(t){return Math.floor(Math.log(t)/Math.LN10)}function ye(t){return null==t?"":(t+"").replace(jp,function(t,e){return Rp[e]})}function xe(t,e){return"0000".substr(0,e-(t+="").length)+t}function _e(t,e,n,r,i){var o=0,a=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(u,l){var c,h,f=u.position,d=u.getBoundingRect(),p=e.childAt(l+1),g=p&&p.getBoundingRect();if("horizontal"===t){var v=d.width+(g?-g.x+d.x:0);(c=o+v)>r||u.newline?(o=0,c=v,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var m=d.height+(g?-g.y+d.y:0);(h=a+m)>i||u.newline?(o+=s+n,a=0,h=m,s=d.width):s=Math.max(s,d.width)}u.newline||(f[0]=o,f[1]=a,"horizontal"===t?o=c+n:a=h+n)})}function be(t,e,n){n=Vp.normalizeCssArray(n||0);var r=e.width,i=e.height,o=Fp(t.left,r),a=Fp(t.top,i),s=Fp(t.right,r),u=Fp(t.bottom,i),l=Fp(t.width,r),c=Fp(t.height,i),h=n[2]+n[0],f=n[1]+n[3],d=t.aspect;switch(isNaN(l)&&(l=r-s-f-o),isNaN(c)&&(c=i-u-h-a),null!=d&&(isNaN(l)&&isNaN(c)&&(d>r/i?l=.8*r:c=.8*i),isNaN(l)&&(l=d*c),isNaN(c)&&(c=l/d)),isNaN(o)&&(o=r-s-l-f),isNaN(a)&&(a=i-u-c-h),t.left||t.right){case"center":o=r/2-l/2-n[3];break;case"right":o=r-l-f}switch(t.top||t.bottom){case"middle":case"center":a=i/2-c/2-n[0];break;case"bottom":a=i-c-h}o=o||0,a=a||0,isNaN(l)&&(l=r-f-o-(s||0)),isNaN(c)&&(c=i-h-a-(u||0));var p=new tc(o+n[3],a+n[0],l,c);return p.margin=n,p}function we(t,e){return e&&t&&Hp(Wp,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function Me(t){return"category"===t.get("type")}function Se(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===Ag?{}:[]),this.sourceFormat=t.sourceFormat||Mg,this.seriesLayoutBy=t.seriesLayoutBy||wg,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&yg(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function Ae(t){if(t){var e=kg();return Lg(t,function(t,n){if(null==(t=zg({},Ng(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var r=e.get(t.name);return r?t.name+="-"+r.count++:e.set(t.name,{count:1}),t})}}function Te(t,e,n,r){if(null==r&&(r=1/0),e===qg)for(o=0;o<n.length&&o<r;o++)t(n[o]?n[o][0]:null,o);else for(var i=n[0]||[],o=0;o<i.length&&o<r;o++)t(i[o],o)}function Oe(t,e,n,r,i,o){function a(t){return(null==t||!isFinite(t)||""===t)&&(!(!Pg(t)||"-"===t)||void 0)}var s,u;if(jg(t))return!1;if(r&&(u=r[o],u=Ng(u)?u.name:u),e===Vg)if(n===qg){for(var l=t[o],c=0;c<(l||[]).length&&c<5;c++)if(null!=(s=a(l[i+c])))return s}else for(c=0;c<t.length&&c<5;c++){var h=t[i+c];if(h&&null!=(s=a(h[o])))return s}else if(e===Fg){if(!u)return;for(c=0;c<t.length&&c<5;c++)if((f=t[c])&&null!=(s=a(f[u])))return s}else if(e===Hg){if(!u)return;if(!(l=t[u])||jg(l))return!1;for(c=0;c<l.length&&c<5;c++)if(null!=(s=a(l[c])))return s}else if(e===Bg)for(c=0;c<t.length&&c<5;c++){var f=t[c],d=Cg(f);if(!Eg(d))return!1;if(null!=(s=a(d[o])))return s}return!1}function Ce(t,e){t._seriesIndicesMap=ov(t._seriesIndices=tv(e,function(t){return t.componentIndex})||[])}function Ie(t,e){return e.hasOwnProperty("subType")?Qg(t,function(t){return t.subType===e.subType}):t}function ke(){this._coordinateSystems=[]}function De(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Le(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=Ov.length;n<r;n++){var i=Ov[n],o=e.normal,a=e.emphasis;o&&o[i]&&(t[i]=t[i]||{},t[i].normal?nl.merge(t[i].normal,o[i]):t[i].normal=o[i],o[i]=null),a&&a[i]&&(t[i]=t[i]||{},t[i].emphasis?nl.merge(t[i].emphasis,a[i]):t[i].emphasis=a[i],a[i]=null)}}function Ee(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,nl.defaults(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i)}}function Pe(t){Ee(t,"itemStyle"),Ee(t,"lineStyle"),Ee(t,"areaStyle"),Ee(t,"label"),Ee(t,"labelLine"),Ee(t,"upperLabel"),Ee(t,"edgeLabel")}function Ne(t,e){var n=Tv(t)&&t[e],r=Tv(n)&&n.textStyle;if(r)for(var i=0,o=Dh.TEXT_STYLE_OPTIONS.length;i<o;i++)e=Dh.TEXT_STYLE_OPTIONS[i],r.hasOwnProperty(e)&&(n[e]=r[e])}function je(t){t&&(Pe(t),Ne(t,"label"),t.emphasis&&Ne(t.emphasis,"label"))}function Re(t){return nl.isArray(t)?t:t?[t]:[]}function ze(t){return(nl.isArray(t)?t[0]:t)||{}}function Be(t){Cv(Lv,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}function Ve(t,e){Tg.isInstance(t)||(t=Tg.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,r=t.sourceFormat;r===Gv&&(this._offset=0,this._dimSize=e,this._data=n);var i=Zv[r===qv?r+"_"+t.seriesLayoutBy:r];zv(this,i)}function Fe(){return this._data.length}function He(t){return this._data[t]}function We(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Ge(t,e,n,r){return null!=n?t[n]:t}function qe(t,e,n,r){return Ue(t[r],this._dimensionInfos[e])}function Ue(t,e){var n=e&&e.type;if("ordinal"===n){var r=e&&e.ordinalMeta;return r?r.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Wv(t)),null==t||""===t?NaN:+t}function Ye(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function Xe(t,e,n,r,i,o){om.reset(n,r,i,o),t._callingProgress=e,t._callingProgress({start:n,end:r,count:r-n,next:om.next},t.context)}function Ze(t){var e=t.name;Dh.isNameSpecified(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimension("seriesName",!0),r=[];return nl.each(n,function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)}),r.join(" ")}(t)||e)}function $e(t,e){nl.each(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,nl.curry(function(t){var e=Ke(t);e&&e.setOutputEnd(this.count())},e))})}function Ke(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}function Je(){this.group=new nc,this.uid=Ep.getUID("viewChart"),this.renderTask=Tm({plan:function(t){return Cm(t.model)},reset:function(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=i&&Om(i).updateMethod,u=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==u&&a[u](e,n,r,i),km[u]}}),this.renderTask.context={view:this}}function Qe(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)Qe(t.childAt(n),e)}function tn(t,e,n){var r=Dh.queryDataIndex(t,e);null!=r?Am(Dh.normalizeToArray(r),function(e){Qe(t.getItemGraphicEl(e),n)}):t.eachItemGraphicEl(function(t){Qe(t,n)})}function en(t,e,n){function r(){c=(new Date).getTime(),h=null,t.apply(a,s||[])}var i,o,a,s,u,l=0,c=0,h=null;e=e||0;var f=function(){i=(new Date).getTime(),a=this,s=arguments;var t=u||e,f=u||n;u=null,o=i-(f?l:c)-t,clearTimeout(h),f?h=setTimeout(r,t):o>=0?r():h=setTimeout(r,-o),l=i};return f.clear=function(){h&&(clearTimeout(h),h=null)},f.debounceNextCall=function(t){u=t},f}function nn(t,e,n,r){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice();this._allHandlers=n.concat(r),this._stageTaskMap=qm()}function rn(t,e,n,r,i){function o(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var a;i=i||{},Hm(e,function(e,s){if(!i.visualType||i.visualType===e.visualType){var u=t._stageTaskMap.get(e.uid),l=u.seriesTaskMap,c=u.overallTask;if(c){var h,f=c.agentStubMap;f.each(function(t){o(i,t)&&(t.dirty(),h=!0)}),h&&c.dirty(),Km(c,r);var d=t.getPerformArgs(c,i.block);f.each(function(t){t.perform(d)}),a|=c.perform(d)}else l&&l.each(function(s,u){o(i,s)&&s.dirty();var l=t.getPerformArgs(s,i.block);l.skip=!e.performRawSeries&&n.isSeriesFiltered(s.context.model),Km(s,r),a|=s.perform(l)})}}),t.unfinished|=a}function on(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function an(t,e,n){var r=e.uid,i=t._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i}function sn(t,e){for(var n in e.prototype)t[n]=Um}function un(t){return t}function ln(t,e,n,r,i){this._old=t,this._new=e,this._oldKeyGetter=n||un,this._newKeyGetter=r||un,this.context=i}function cn(t,e,n,r,i){for(var o=0;o<t.length;o++){var a="_ec_"+i[r](t[o],o),s=e[a];null==s?(n.push(a),e[a]=o):(s.length||(e[a]=s=[s]),s.push(o))}}function hn(t){return t._rawCount>65535?by:wy}function fn(t,e){nl.each(My.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,nl.each(Sy,function(n){t[n]=nl.clone(e[n])}),t._calculationInfo=nl.extend(e._calculationInfo)}function dn(t,e,n){var r;if(null!=e){var i=t._chunkSize,o=Math.floor(n/i),a=n%i,s=t.dimensions[e],u=t._storage[s][o];if(u){r=u[a];var l=t._dimensionInfos[s].ordinalMeta;l&&l.categories.length&&(r=l.categories[r])}}return r}function pn(t){return t}function gn(t){return t<this._count&&t>=0?this._indices[t]:-1}function vn(t,e){var n=t._idList[e];return null==n&&(n=dn(t,t._idDimIdx,e)),null==n&&(n=xy+e),n}function mn(t){return nl.isArray(t)||(t=[t]),t}function yn(t,e){var n=t.dimensions,r=new Ay(nl.map(n,t.getDimensionInfo,t),t.hostModel);fn(r,t);for(var i=r._storage={},o=t._storage,a=0;a<n.length;a++){var s=n[a];o[s]&&(nl.indexOf(e,s)>=0?(i[s]=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=function(t){var e=t.constructor;return e===Array?t.slice():new e(t)}(t[n]);return e}(o[s]),r._rawExtent[s]=[1/0,-1/0],r._extent[s]=null):i[s]=o[s])}return r}function xn(t,e,n){if(n||null!=e.get(t)){for(var r=0;null!=e.get(t+r);)r++;t+=r}return e.set(t,!0),t}function _n(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function bn(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function wn(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function Mn(t){return t._map||(t._map=$y(t.categories))}function Sn(t){return Np.getPrecisionSafe(t)+2}function An(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Tn(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),An(t,0,e),An(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function On(t){return t.get("stack")||hx+t.seriesIndex}function Cn(t){return t.dim+t.index}function In(t,e){var n=[];return e.eachSeriesByType(t,function(t){En(t)&&!Pn(t)&&n.push(t)}),n}function kn(t){var e=[];return nl.each(t,function(t){var n=t.getData(),r=t.coordinateSystem.getBaseAxis(),i=r.getExtent(),o="category"===r.type?r.getBandWidth():Math.abs(i[1]-i[0])/n.count(),a=lx(t.get("barWidth"),o),s=lx(t.get("barMaxWidth"),o),u=t.get("barGap"),l=t.get("barCategoryGap");e.push({bandWidth:o,barWidth:a,barMaxWidth:s,barGap:u,barCategoryGap:l,axisKey:Cn(r),stackId:On(t)})}),Dn(e)}function Dn(t){var e={};nl.each(t,function(t,n){var r=t.axisKey,i=t.bandWidth,o=e[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},a=o.stacks;e[r]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var u=t.barWidth;u&&!a[s].width&&(a[s].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var l=t.barMaxWidth;l&&(a[s].maxWidth=l);var c=t.barGap;null!=c&&(o.gap=c);var h=t.barCategoryGap;null!=h&&(o.categoryGap=h)});var n={};return nl.each(e,function(t,e){n[e]={};var r=t.stacks,i=t.bandWidth,o=lx(t.categoryGap,i),a=lx(t.gap,1),s=t.remainedWidth,u=t.autoWidthCount,l=(s-o)/(u+(u-1)*a);l=Math.max(l,0),nl.each(r,function(t,e){var n=t.maxWidth;n&&n<l&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,u--)}),l=(s-o)/(u+(u-1)*a),l=Math.max(l,0);var c,h=0;nl.each(r,function(t,e){t.width||(t.width=l),c=t,h+=t.width*(1+a)}),c&&(h-=c.width*a);var f=-h/2;nl.each(r,function(t,r){n[e][r]=n[e][r]||{offset:f,width:t.width},f+=t.width*(1+a)})}),n}function Ln(t,e,n){if(t&&e){var r=t[Cn(e)];return null!=r&&null!=n&&(r=r[On(n)]),r}}function En(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Pn(t){return t.pipelineContext&&t.pipelineContext.large}function Nn(t,e,n){return nl.indexOf(t.getAxesOnZeroOf(),e)>=0||n?e.toGlobalCoord(e.dataToCoord(0)):e.getGlobalExtent()[0]}function jn(t,e){return Mx(t,bx(e))}function Rn(t,e){var n,r,i,o=t.type,a=e.getMin(),s=e.getMax(),u=null!=a,l=null!=s,c=t.getExtent();"ordinal"===o?n=e.getCategories().length:(r=e.get("boundaryGap"),nl.isArray(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=Np.parsePercent(r[0],1),r[1]=Np.parsePercent(r[1],1),i=c[1]-c[0]||Math.abs(c[0])),null==a&&(a="ordinal"===o?n?0:NaN:c[0]-r[0]*i),null==s&&(s="ordinal"===o?n?n-1:NaN:c[1]+r[1]*i),"dataMin"===a?a=c[0]:"function"==typeof a&&(a=a({min:c[0],max:c[1]})),"dataMax"===s?s=c[1]:"function"==typeof s&&(s=s({min:c[0],max:c[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(nl.eqNaN(a)||nl.eqNaN(s)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(a>0&&s>0&&!u&&(a=0),a<0&&s<0&&!l&&(s=0));var h=e.ecModel;if(h&&"time"===o){var f,d=Ix("bar",h);if(nl.each(d,function(t){f|=t.getBaseAxis()===e.axis}),f){var p=kx(d),g=function(t,e,n,r){var i=n.axis.getExtent(),o=i[1]-i[0],a=Dx(r,n.axis);if(void 0===a)return{min:t,max:e};var s=1/0;nl.each(a,function(t){s=Math.min(t.offset,s)});var u=-1/0;nl.each(a,function(t){u=Math.max(t.offset+t.width,u)}),s=Math.abs(s),u=Math.abs(u);var l=s+u,c=e-t,h=c/(1-(s+u)/o)-c;return{min:t-=h*(s/l),max:e+=h*(u/l)}}(a,s,e,p);a=g.min,s=g.max}}return[a,s]}function zn(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(t){return function(e){return t.replace("{value}",null!=e?e:"")}}(e):"function"==typeof e?function(r,i){return null!=n&&(i=r-n),e(Bn(t,r),i)}:function(e){return t.scale.getLabel(e)}}function Bn(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Vn(t,e){return Math.abs(t-e)<Xx}function Fn(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}function Hn(t,e,n){for(var r=[],i=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,u=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),i=s+=i,o=u+=o,r.push([s/n,u/n])}return r}function Wn(t,e){var n,r=Gn(t,"labels"),i=Zn(e),o=qn(r,i);return o||Un(r,i,{labels:nl.isFunction(i)?Xn(t,i):Yn(t,n="auto"===i?function(t){var e=t_(t).autoInterval;return null!=e?e:t_(t).autoInterval=t.calculateCategoryInterval()}(t):i),labelCategoryInterval:n})}function Gn(t,e){return t_(t)[e]||(t_(t)[e]=[])}function qn(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Un(t,e,n){return t.push({key:e,value:n}),n}function Yn(t,e,n){function r(t){u.push(n?t:{formattedLabel:i(t),rawLabel:o.getLabel(t),tickValue:t})}var i=Qx(t),o=t.scale,a=o.getExtent(),s=t.getLabelModel(),u=[],l=Math.max((e||0)+1,1),c=a[0],h=o.count();0!==c&&l>1&&h/l>2&&(c=Math.round(Math.ceil(c/l)*l));var f=s.get("showMinLabel"),d=s.get("showMaxLabel");f&&c!==a[0]&&r(a[0]);for(var p=c;p<=a[1];p+=l)r(p);return d&&p!==a[1]&&r(a[1]),u}function Xn(t,e,n){var r=t.scale,i=Qx(t),o=[];return nl.each(r.getTicks(),function(t){var a=r.getLabel(t);e(t,a)&&o.push(n?t:{formattedLabel:i(t),rawLabel:a,tickValue:t})}),o}function Zn(t){var e=t.get("interval");return null==e?"auto":e}function $n(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}function Kn(t,e,n){_p.Group.call(this),this.updateData(t,e,n)}function Jn(t){return[t[0]/2,t[1]/2]}function Qn(t){this.group=new _p.Group,this._symbolCtor=t||W_}function tr(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function er(t){return null==t||G_(t)||(t={isIgnore:t}),t||{}}function nr(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function rr(t){return isNaN(t[0])||isNaN(t[1])}function ir(t,e,n,r,i,o,a,s,u,l,c){return"none"!==l&&l?function(t,e,n,r,i,o,a,s,u,l,c){for(var h=0,f=n,d=0;d<r;d++){var p=e[f];if(f>=i||f<0)break;if(rr(p)){if(c){f+=o;continue}break}if(f===n)t[o>0?"moveTo":"lineTo"](p[0],p[1]);else if(u>0){var g=e[h],v="y"===l?1:0,m=(p[v]-g[v])*u;nb(ib,g),ib[v]=g[v]+m,nb(ob,p),ob[v]=p[v]-m,t.bezierCurveTo(ib[0],ib[1],ob[0],ob[1],p[0],p[1])}else t.lineTo(p[0],p[1]);h=f,f+=o}return d}.apply(this,arguments):function(t,e,n,r,i,o,a,s,u,l,c){for(var h=0,f=n,d=0;d<r;d++){var p=e[f];if(f>=i||f<0)break;if(rr(p)){if(c){f+=o;continue}break}if(f===n)t[o>0?"moveTo":"lineTo"](p[0],p[1]),nb(ib,p);else if(u>0){var g=f+o,v=e[g];if(c)for(;v&&rr(e[g]);)v=e[g+=o];var m=.5,y=e[h];if(!(v=e[g])||rr(v))nb(ob,p);else{var x,_;if(rr(v)&&!c&&(v=p),il.sub(rb,v,y),"x"===l||"y"===l){var b="x"===l?0:1;x=Math.abs(p[b]-y[b]),_=Math.abs(p[b]-v[b])}else x=il.dist(p,y),_=il.dist(p,v);eb(ob,p,rb,-u*(1-(m=_/(_+x))))}Q_(ib,ib,s),tb(ib,ib,a),Q_(ob,ob,s),tb(ob,ob,a),t.bezierCurveTo(ib[0],ib[1],ob[0],ob[1],p[0],p[1]),eb(ib,p,rb,u*m)}else t.lineTo(p[0],p[1]);h=f,f+=o}return d}.apply(this,arguments)}function or(t,e){var n=[1/0,1/0],r=[-1/0,-1/0];if(e)for(var i=0;i<t.length;i++){var o=t[i];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>r[0]&&(r[0]=o[0]),o[1]>r[1]&&(r[1]=o[1])}return{min:e?n:r,max:e?r:n}}function ar(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r[0]!==i[0]||r[1]!==i[1])return}return!0}}function sr(t){return"number"==typeof t?t:t?.5:0}function ur(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,r=e[1]>e[0]?1:-1;e[0]+=r*n,e[1]-=r*n}return e}function lr(t,e,n,r){return"polar"===t.type?function(t,e,n,r){var i=t.getAngleAxis(),o=t.getRadiusAxis().getExtent().slice();o[0]>o[1]&&o.reverse();var a=i.getExtent(),s=Math.PI/180;n&&(o[0]-=.5,o[1]+=.5);var u=new _p.Sector({shape:{cx:lb(t.cx,1),cy:lb(t.cy,1),r0:lb(o[0],1),r:lb(o[1],1),startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:i.inverse}});return e&&(u.shape.endAngle=-a[0]*s,_p.initProps(u,{shape:{endAngle:-a[1]*s}},r)),u}(t,e,n,r):function(t,e,n,r){var i=ur(t.getAxis("x")),o=ur(t.getAxis("y")),a=t.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),u=Math.min(o[0],o[1]),l=Math.max(i[0],i[1])-s,c=Math.max(o[0],o[1])-u;if(n)s-=.5,l+=.5,u-=.5,c+=.5;else{var h=r.get("lineStyle.width")||2,f=r.get("clipOverflow")?h/2:Math.max(l,c);a?(u-=f,c+=2*f):(s-=f,l+=2*f)}var d=new _p.Rect({shape:{x:s,y:u,width:l,height:c}});return e&&(d.shape[a?"width":"height"]=0,_p.initProps(d,{shape:{width:l,height:c}},r)),d}(t,e,n,r)}function cr(t,e,n){for(var r=e.getBaseAxis(),i="x"===r.dim||"radius"===r.dim?0:1,o=[],a=0;a<t.length-1;a++){var s=t[a+1],u=t[a];o.push(u);var l=[];switch(n){case"end":l[i]=s[i],l[1-i]=u[1-i],o.push(l);break;case"middle":var c=(u[i]+s[i])/2,h=[];l[i]=h[i]=c,l[1-i]=u[1-i],h[1-i]=s[1-i],o.push(l),o.push(h);break;default:l[i]=u[i],l[1-i]=s[1-i],o.push(l)}}return t[a]&&o.push(t[a]),o}function hr(t){xb.call(this,t)}function fr(t,e){return e.type||(e.data?"category":"value")}function dr(t,e,n){return t.getCoordSysModel()===e}function pr(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function gr(t,e,n){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,i=t[e],o=n.model,a=o.get("axisLine.onZero"),s=o.get("axisLine.onZeroAxisIndex");if(a)if(null==s){for(var u in i)if(i.hasOwnProperty(u)&&vr(i[u])){r=i[u];break}}else vr(i[s])&&(r=i[s])}function vr(t){return t&&"category"!==t.type&&"time"!==t.type&&zb(t)}function mr(t,e){return Pb(Wb,function(e){return t.getReferringComponents(e)[0]})}function yr(t){return"cartesian2d"===t.get("coordinateSystem")}function xr(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function _r(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function br(t){t&&(t.ignore=!0)}function wr(t,e,n){var r=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(r&&i){var o=dl.identity([]);return dl.rotate(o,o,-t.rotation),r.applyTransform(dl.mul([],o,t.getLocalTransform())),i.applyTransform(dl.mul([],o,e.getLocalTransform())),r.intersect(i)}}function Mr(t){return"middle"===t||"center"===t}function Sr(t,e){return"all"===t||nl.isArray(t)&&nl.indexOf(t,e)>=0||t===e}function Ar(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Or(t)]}function Tr(t){return!!t.get("handle.show")}function Or(t){return t.type+"||"+t.id}function Cr(t,e,n,r,i,o){var a=aw.getAxisPointerClass(t.axisPointerClass);if(a){var s=ow.getAxisPointerModel(e);s?(t._axisPointer||(t._axisPointer=new a)).render(e,s,r,o):Ir(t,r)}}function Ir(t,e,n){var r=t._axisPointer;r&&r.dispose(e,n),t._axisPointer=null}function kr(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function Dr(t,e,n){n.style.text=null,_p.updateProps(n,{shape:{width:0}},e,t,function(){n.parent&&n.parent.remove(n)})}function Lr(t,e,n){n.style.text=null,_p.updateProps(n,{shape:{r:n.shape.r0}},e,t,function(){n.parent&&n.parent.remove(n)})}function Er(t,e,n,r,i,o,a,s){var u=e.getItemVisual(n,"color"),l=e.getItemVisual(n,"opacity"),c=r.getModel("itemStyle"),h=r.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",c.get("barBorderRadius")||0),t.useStyle(nl.defaults({fill:u,opacity:l},c.getBarItemStyle()));var f=r.getShallow("cursor");f&&t.attr("cursor",f);var d=a?i.height>0?"bottom":"top":i.width>0?"left":"right";s||yw(t.style,h,r,u,o,n,d),_p.setHoverStyle(t,h)}function Pr(t,e,n){var r=t.getData(),i=[],o=r.getLayout("valueAxisHorizontal")?1:0;i[1-o]=r.getLayout("valueAxisStart");var a=new ww({shape:{points:r.getLayout("largePoints")},incremental:!!n,__startPoint:i,__valueIdx:o});e.add(a),function(t,e,n){var r=n.getVisual("borderColor")||n.getVisual("color"),i=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(i),t.style.fill=null,t.style.stroke=r,t.style.lineWidth=n.getLayout("barWidth")}(a,t,r)}function Nr(t,e,n,r,i){var o=(e.startAngle+e.endAngle)/2,a=Math.cos(o),s=Math.sin(o),u=n?r:0,l=[a*u,s*u];i?t.animate().when(200,{position:l}).start("bounceOut"):t.attr("position",l)}function jr(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function r(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}_p.Group.call(this);var i=new _p.Sector({z2:2}),o=new _p.Polyline,a=new _p.Text;this.add(i),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}function Rr(t,e,n,r,i,o,a){function s(e,n){for(var r=e;r>=0&&(t[r].y-=n,!(r>0&&t[r].y>t[r-1].y+t[r-1].height));r--);}function u(t,e,n,r,i,o){for(var a=e?Number.MAX_VALUE:0,s=0,u=t.length;s<u;s++)if("center"!==t[s].position){var l=Math.abs(t[s].y-r),c=t[s].len,h=t[s].len2,f=l<i+c?Math.sqrt((i+c+h)*(i+c+h)-l*l):Math.abs(t[s].x-n);e&&f>=a&&(f=a-10),!e&&f<=a&&(f=a+10),t[s].x=n+f*o,a=f}}t.sort(function(t,e){return t.y-e.y});for(var l,c=0,h=t.length,f=[],d=[],p=0;p<h;p++)(l=t[p].y-c)<0&&function(e,n,r,i){for(var o=e;o<n;o++)if(t[o].y+=r,o>e&&o+1<n&&t[o+1].y>t[o].y+t[o].height)return void s(o,r/2);s(n-1,r/2)}(p,h,-l),c=t[p].y+t[p].height;for(a-c<0&&s(h-1,c-a),p=0;p<h;p++)t[p].y>=n?d.push(t[p]):f.push(t[p]);u(f,!1,e,n,r,i),u(d,!0,e,n,r,i)}function zr(){this.group=new _p.Group}function Br(t,e,n){d_.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}function Vr(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=nl.map(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,r=new qw(n,new ux);return r.name=t.get("name"),r.model=t,t.axis=r,this.dimensions.push(n),r},this),this.resize(t,n),this.cx,this.cy,this.r,this.startAngle}function Fr(t,e){return nl.defaults({show:e},t)}function Hr(){xl.call(this)}function Wr(t){this.name=t,this.zoomLimit,xl.call(this),this._roamTransformable=new Hr,this._rawTransformable=new Hr,this._center,this._zoom}function Gr(t,e,n,r){var i=n.seriesModel,o=i?i.coordinateSystem:null;return o===this?o[t](r):null}function qr(t,e,n,r,i){tM.call(this,t),this.map=e,this._nameCoordMap=nl.createHashMap(),this.loadGeoJson(n,r,i)}function Ur(t,e,n,r){var i=n.geoModel,o=n.seriesModel,a=i?i.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[t](r):null}function Yr(t,e){var n=t.get("boundingCoords");if(null!=n){var r=n[0],i=n[1];isNaN(r[0])||isNaN(r[1])||isNaN(i[0])||isNaN(i[1])||this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}var o,a=this.getBoundingRect(),s=t.get("layoutCenter"),u=t.get("layoutSize"),l=e.getWidth(),c=e.getHeight(),h=t.get("aspectScale")||.75,f=a.width/a.height*h,d=!1;if(s&&u&&(s=[Np.parsePercent(s[0],l),Np.parsePercent(s[1],c)],u=Np.parsePercent(u,Math.min(l,c)),isNaN(s[0])||isNaN(s[1])||isNaN(u)||(d=!0)),d){var p={};f>1?(p.width=u,p.height=u/f):(p.height=u,p.width=u*f),p.y=s[1]-p.height/2,p.x=s[0]-p.width/2}else(o=t.getBoxLayoutParams()).aspect=f,p=Xp.getLayoutRect(o,{width:l,height:c});this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function Xr(t,e){nl.each(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}function Zr(t){return t[vM]||(t[vM]={})}function $r(t){this.pointerChecker,this._zr=t,this._opt={};var e=nl.bind,n=e(function(t){if(!(ih.notLeftMouse(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}},this),r=e(function(t){if(!ih.notLeftMouse(t)&&Jr(this,"moveOnMouseMove",t)&&this._dragging&&"pinch"!==t.gestureEvent&&!mM.isTaken(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,r=this._x,i=this._y,o=e-r,a=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&ih.stop(t.event),this.trigger("pan",o,a,r,i,e,n)}},this),i=e(function(t){ih.notLeftMouse(t)||(this._dragging=!1)},this),o=e(function(t){if(Jr(this,"zoomOnMouseWheel",t)&&0!==t.wheelDelta){var e=t.wheelDelta>0?1.1:1/1.1;Kr.call(this,t,e,t.offsetX,t.offsetY)}},this),a=e(function(t){if(!mM.isTaken(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;Kr.call(this,t,e,t.pinchX,t.pinchY)}},this);ul.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,s){this.disable(),this._opt=nl.defaults(nl.clone(s)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",r),t.on("mouseup",i)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",o),t.on("pinch",a))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",r),t.off("mouseup",i),t.off("mousewheel",o),t.off("pinch",a)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function Kr(t,e,n,r){this.pointerChecker&&this.pointerChecker(t,n,r)&&(ih.stop(t.event),this.trigger("zoom",e,n,r))}function Jr(t,e,n){var r=t._opt[e];return r&&(!nl.isString(r)||n.event[r+"Key"])}function Qr(t,e){var n=t.getItemStyle(),r=t.get("areaColor");return null!=r&&(n.fill=r),n}function ti(t,e){e.eachChild(function(e){nl.each(e.__regions,function(n){e.trigger(t.isSelected(n.name)?"emphasis":"normal")})})}function ei(t,e){var n=new _p.Group;this._controller=new yM(t.getZr()),this._controllerHost={target:e?n:null},this.group=n,this._updateGroup=e,this._mouseDownFlag}function ni(t,e,n){t[CM]={},OM(e,function(e,r){ri(e,r,t,n)})}function ri(t,e,n,r){n[CM][e]=t,t[IM]=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=function(t){var e=this[IM];return null==t||null==e?e:e[CM][t]}}function ii(t,e,n){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=nl.map(e||[],function(e){return new kp(e,t,t.ecModel)}),this.leavesModel=new kp(n||{},t,t.ecModel)}function oi(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function ai(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function si(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==t.getItemVisual(e,"symbol")}function ui(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=e.getModel("lineStyle").getLineStyle(),n.labelModel=e.getModel("label"),n.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function li(t,e,n,r,i,o){var a=!n,s=t.tree.getNodeByDataIndex(e),u=(o=ui(s,s.getModel(),o),t.tree.root),l=s.parentNode===u?s:s.parentNode||s,c=t.getItemGraphicEl(l.dataIndex),h=l.getLayout(),f=c?{x:c.position[0],y:c.position[1],rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:h,d=s.getLayout();a?(n=new W_(t,e,o)).attr("position",[f.x,f.y]):n.updateData(t,e,o),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=d.rawX,n.__radialRawY=d.rawY,r.add(n),t.setItemGraphicEl(e,n),_p.updateProps(n,{position:[d.x,d.y]},i);var p=n.getSymbolPath();if("radial"===o.layout){var g,v,m=u.children[0],y=m.getLayout(),x=m.children.length;if(d.x===y.x&&!0===s.isExpand){var _={};_.x=(m.children[0].getLayout().x+m.children[x-1].getLayout().x)/2,_.y=(m.children[0].getLayout().y+m.children[x-1].getLayout().y)/2,(g=Math.atan2(_.y-y.y,_.x-y.x))<0&&(g=2*Math.PI+g),(v=_.x<y.x)&&(g-=Math.PI)}else(g=Math.atan2(d.y-y.y,d.x-y.x))<0&&(g=2*Math.PI+g),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(v=d.x<y.x)&&(g-=Math.PI):(v=d.x>y.x)||(g-=Math.PI);var b=v?"left":"right";p.setStyle({textPosition:b,textRotation:-g,textOrigin:"center",verticalAlign:"middle"})}if(s.parentNode&&s.parentNode!==u){var w=n.__edge;w||(w=n.__edge=new _p.BezierCurve({shape:hi(o,f,f),style:nl.defaults({opacity:0},o.lineStyle)})),_p.updateProps(w,{shape:hi(o,h,d),style:{opacity:1}},i),r.add(w)}}function ci(t,e,n,r,i,o){for(var a,s=t.tree.getNodeByDataIndex(e),u=t.tree.root,l=(o=ui(s,s.getModel(),o),s.parentNode===u?s:s.parentNode||s);null==(a=l.getLayout());)l=l.parentNode===u?l:l.parentNode||l;_p.updateProps(n,{position:[a.x+1,a.y+1]},i,function(){r.remove(n),t.setItemGraphicEl(e,null)}),n.fadeOut(null,{keepLabel:!0});var c=n.__edge;c&&_p.updateProps(c,{shape:hi(o,a,a),style:{opacity:0}},i,function(){r.remove(c)})}function hi(t,e,n){var r,i,o,a,s=t.orient;if("radial"===t.layout){var u=e.rawX,l=e.rawY,c=n.rawX,h=n.rawY,f=NM(u,l),d=NM(u,l+(h-l)*t.curvature),p=NM(c,h+(l-h)*t.curvature),g=NM(c,h);return{x1:f.x,y1:f.y,x2:g.x,y2:g.y,cpx1:d.x,cpy1:d.y,cpx2:p.x,cpy2:p.y}}u=e.x,l=e.y,c=n.x,h=n.y;return"LR"!==s&&"RL"!==s||(r=u+(c-u)*t.curvature,i=l,o=c+(u-c)*t.curvature,a=h),"TB"!==s&&"BT"!==s||(r=u,i=l+(h-l)*t.curvature,o=c,a=h+(l-h)*t.curvature),{x1:u,y1:l,x2:c,y2:h,cpx1:r,cpy1:i,cpx2:o,cpy2:a}}function fi(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function di(t){this.group=new _p.Group,t.add(this.group)}function pi(t,e){var n=t.visual,r=[];nl.isObject(n)?hS(n,function(t){r.push(t)}):null!=n&&r.push(n),e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),wi(t,r)}function gi(t){return{applyVisual:function(e,n,r){e=this.mapValueToVisual(e),r("color",t(n("color"),e))},_doMap:_i([0,1])}}function vi(t){var e=this.option.visual;return e[Math.round(cS(t,[0,1],[0,e.length-1],!0))]||{}}function mi(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function yi(t){var e=this.option.visual;return e[this.option.loop&&t!==dS?t%e.length:t]}function xi(){return this.option.visual[0]}function _i(t){return{linear:function(e){return cS(e,t,this.option.visual,!0)},category:yi,piecewise:function(e,n){var r=bi.call(this,n);return null==r&&(r=cS(e,t,this.option.visual,!0)),r},fixed:xi}}function bi(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=n[pS.findPieceIndex(t,n)];if(r&&r.visual)return r.visual[this.type]}}function wi(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=nl.map(e,function(t){return Ll.parse(t)})),e}function Mi(t,e,n){return t?e<=n:e<n}function Si(t){var e=Ai(t,"color");if(e){var n=Ai(t,"colorAlpha"),r=Ai(t,"colorSaturation");return r&&(e=Ll.modifyHSL(e,null,null,r)),n&&(e=Ll.modifyAlpha(e,n)),e}}function Ai(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function Ti(t,e){var n=t.get(e);return yS(n)&&n.length?{name:e,range:n}:null}function Oi(t,e,n,r,i){var o=e===n.width?0:1,a=1-o,s=["x","y"],u=["width","height"],l=n[s[o]],c=e?t.area/e:0;(i||c>n[u[a]])&&(c=n[u[a]]);for(var h=0,f=t.length;h<f;h++){var d=t[h],p={},g=c?d.getLayout().area/c:0,v=p[u[a]]=MS(c-2*r,0),m=n[s[o]]+n[u[o]]-l,y=h===f-1||m<g?m:g,x=p[u[o]]=MS(y-2*r,0);p[s[a]]=n[s[a]]+SS(r,v/2),p[s[o]]=l+SS(r,x/2),l+=y,d.setLayout(p,!0)}n[s[a]]+=c,n[u[a]]-=c}function Ci(t){return t.get(IS)?t.get(kS):0}function Ii(t){return"_EC_"+t}function ki(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function Di(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}function Li(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function Ei(t){return"_"+t+"Type"}function Pi(t,e,n){var r=e.getItemVisual(n,"color"),i=e.getItemVisual(n,t),o=e.getItemVisual(n,t+"Size");if(i&&"none"!==i){nl.isArray(o)||(o=[o,o]);var a=Hx.createSymbol(i,-o[0]/2,-o[1]/2,o[0],o[1],r);return a.name=t,a}}function Ni(t,e){var n=e[0],r=e[1],i=e[2];t.x1=n[0],t.y1=n[1],t.x2=r[0],t.y2=r[1],t.percent=1,i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}function ji(t,e,n){_p.Group.call(this),this._createLine(t,e,n)}function Ri(t){this._ctor=t||YS,this.group=new _p.Group}function zi(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function Bi(t){return isNaN(t[0])||isNaN(t[1])}function Vi(t){return!Bi(t[0])&&!Bi(t[1])}function Fi(t,e,n){for(var r,i=t[0],o=t[1],a=t[2],s=1/0,u=n*n,l=.1,c=.1;c<=.9;c+=.1)$S[0]=QS(i[0],o[0],a[0],c),$S[1]=QS(i[1],o[1],a[1],c),(d=eA(tA($S,e)-u))<s&&(s=d,r=c);for(var h=0;h<32;h++){var f=r+l;KS[0]=QS(i[0],o[0],a[0],r),KS[1]=QS(i[1],o[1],a[1],r),JS[0]=QS(i[0],o[0],a[0],f),JS[1]=QS(i[1],o[1],a[1],f);var d=tA(KS,e)-u;if(eA(d)<.01)break;var p=tA(JS,e)-u;l/=2,d<0?p>=0?r+=l:r-=l:p>=0?r-=l:r+=l}return r}function Hi(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function Wi(t,e,n){var r=t.getGraphicEl(),i=Hi(t,e);null!=n&&(null==i&&(i=1),i*=n),r.downplay&&r.downplay(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",i)})}function Gi(t,e){var n=Hi(t,e),r=t.getGraphicEl();r.highlight&&r.highlight(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function qi(t){return t instanceof Array||(t=[t,t]),t}function Ui(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,n=il.clone(t.node1.getLayout()),r=il.clone(t.node2.getLayout()),i=[n,r];+e&&i.push([(n[0]+r[0])/2-(n[1]-r[1])*e,(n[1]+r[1])/2-(r[0]-n[0])*e]),t.setLayout(i)})}function Yi(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}function Xi(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function r(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}_p.Group.call(this);var i=new _p.Polygon,o=new _p.Polyline,a=new _p.Text;this.add(i),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}function Zi(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function $i(t,e){return Math.min(e[1],Math.max(e[0],t))}function Ki(t,e,n){this._axesMap=nl.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}function Ji(t,e){return NA(jA(t,e[0]),e[1])}function Qi(t){ul.call(this),this._zr=t,this.group=new _p.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+nT++,this._handlers={},GA(rT,function(t,e){this._handlers[e]=nl.bind(t,this)},this)}function to(t,e){var n=iT[e.brushType].createCover(t,e);return n.__brushOption=e,ro(n,e),t.group.add(n),n}function eo(t,e){var n=oo(e);return n.endCreating&&(n.endCreating(t,e),ro(e,e.__brushOption)),e}function no(t,e){var n=e.__brushOption;oo(e).updateCoverShape(t,e,n.range,n)}function ro(t,e){var n=e.z;null==n&&(n=ZA),t.traverse(function(t){t.z=n,t.z2=n})}function io(t,e){oo(e).updateCommon(t,e),no(t,e)}function oo(t){return iT[t.__brushOption.brushType]}function ao(t,e,n){var r=t._panels;if(!r)return!0;var i,o=t._transform;return GA(r,function(t){t.isTargetByCursor(e,n,o)&&(i=t)}),i}function so(t,e){var n=t._panels;if(!n)return!0;var r=e.__brushOption.panelId;return null==r||n[r]}function uo(t){var e=t._covers,n=e.length;return GA(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function lo(t,e){var n=qA(t._covers,function(t){var e=t.__brushOption,n=nl.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function co(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function ho(t,e,n,r){var i=new _p.Group;return i.add(new _p.Rect({name:"main",style:vo(n),silent:!0,draggable:!0,cursor:"move",drift:WA(t,e,i,"nswe"),ondragend:WA(lo,e,{isEnd:!0})})),GA(r,function(n){i.add(new _p.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:WA(t,e,i,n),ondragend:WA(lo,e,{isEnd:!0})}))}),i}function fo(t,e,n,r){var i=r.brushStyle.lineWidth||0,o=YA(i,KA),a=n[0][0],s=n[1][0],u=a-i/2,l=s-i/2,c=n[0][1],h=n[1][1],f=c-o+i/2,d=h-o+i/2,p=c-a,g=h-s,v=p+i,m=g+i;go(t,e,"main",a,s,p,g),r.transformable&&(go(t,e,"w",u,l,o,m),go(t,e,"e",f,l,o,m),go(t,e,"n",u,l,v,o),go(t,e,"s",u,d,v,o),go(t,e,"nw",u,l,o,o),go(t,e,"ne",f,l,o,o),go(t,e,"sw",u,d,o,o),go(t,e,"se",f,d,o,o))}function po(t,e){var n=e.__brushOption,r=n.transformable,i=e.childAt(0);i.useStyle(vo(n)),i.attr({silent:!r,cursor:r?"move":"default"}),GA(["w","e","n","s","se","sw","ne","nw"],function(n){var i=e.childOfName(n),o=function t(e,n){if(n.length>1)return("e"===(r=[t(e,(n=n.split(""))[0]),t(e,n[1])])[0]||"w"===r[0])&&r.reverse(),r.join("");var r=_p.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[n],function(t){return _p.getTransform(t.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[r]}(t,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?tT[o]+"-resize":null})})}function go(t,e,n,r,i,o,a){var s=e.childOfName(n);s&&s.setShape(function(t){var e=UA(t[0][0],t[1][0]),n=UA(t[0][1],t[1][1]);return{x:e,y:n,width:YA(t[0][0],t[1][0])-e,height:YA(t[0][1],t[1][1])-n}}(_o(t,e,[[r,i],[r+o,i+a]])))}function vo(t){return nl.defaults({strokeNoScale:!0},t.brushStyle)}function mo(t,e,n,r){var i=[UA(t,n),UA(e,r)],o=[YA(t,n),YA(e,r)];return[[i[0],o[0]],[i[1],o[1]]]}function yo(t,e,n,r,i,o,a,s){var u=r.__brushOption,l=t(u.range),c=xo(n,o,a);GA(i.split(""),function(t){var e=QA[t];l[e[0]][e[1]]+=c[e[0]]}),u.range=e(mo(l[0][0],l[1][0],l[0][1],l[1][1])),io(n,r),lo(n,{isEnd:!1})}function xo(t,e,n){var r=t.group,i=r.transformCoordToLocal(e,n),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function _o(t,e,n){var r=so(t,e);return r&&!0!==r?r.clipPath(n,t._transform):nl.clone(n)}function bo(t){var e=t.event;e.preventDefault&&e.preventDefault()}function wo(t,e,n){return t.childOfName("main").contain(e,n)}function Mo(t,e,n,r){var i,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],i=n[0]-r[0],o=n[1]-r[1];return XA(i*i+o*o,.5)>$A}(t)||o){if(a&&!o){"single"===s.brushMode&&uo(t);var u=nl.clone(s);u.brushType=So(u.brushType,a),u.panelId=!0===a?null:a.panelId,o=t._creatingCover=to(t,u),t._covers.push(o)}if(o){var l=iT[So(t._brushType,a)];o.__brushOption.range=l.getCreatingRange(_o(t,o,t._track)),r&&(eo(t,o),l.updateCommon(t,o)),no(t,o),i={isEnd:r}}}else r&&"single"===s.brushMode&&s.removeOnClick&&ao(t,e,n)&&uo(t)&&(i={isEnd:r,removeOnClick:!0});return i}function So(t,e){return"auto"===t?e.defaultBrushType:t}function Ao(t){if(this._dragging){bo(t);var e=Mo(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&lo(this,e)}}function To(t){return{createCover:function(e,n){return ho(WA(yo,function(e){var n=[e,[0,100]];return t&&n.reverse(),n},function(e){return e[t]}),e,n,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var n=co(e);return[UA(n[0][t],n[1][t]),YA(n[0][t],n[1][t])]},updateCoverShape:function(e,n,r,i){var o,a=so(e,n);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[r,o];t&&u.reverse(),fo(e,n,u,i)},updateCommon:po,contain:wo}}function Oo(t){return tc.create(t)}function Co(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}function Io(t,e,n,r){for(var i=[],o=0;o<n.length;o++){var a=n[o],s=t.get(t.mapDimension(a),e);(function(t,e){return"category"===r.getAxis(a).type?null==t:null==t||isNaN(t)})(s)||i.push(r.dataToPoint(s,a))}return i}function ko(t,e,n,r,i){var o=Io(t,n,r,i),a=new _p.Polyline({shape:{points:o},silent:!0,z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function Do(t){var e=t.get("smooth",!0);return!0===e&&(e=gT),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:gT}}function Lo(t,e,n,r){var i=r.lineStyle;e.hasItemOption&&(i=e.getItemModel(n).getModel("lineStyle").getLineStyle()),t.useStyle(i);var o=t.style;o.fill=null,o.stroke=e.getItemVisual(n,"color"),o.opacity=e.getItemVisual(n,"opacity"),r.smooth&&(t.shape.smooth=r.smooth)}function Eo(t,e,n){nl.each(t,function(t){var r,i,o,a=0,s=t.length;for(t.sort(function(t,e){return t.getLayout().y-e.getLayout().y}),o=0;o<s;o++)(i=a-(r=t[o]).getLayout().y)>0&&(u=r.getLayout().y+i,r.setLayout({y:u},!0)),a=r.getLayout().y+r.getLayout().dy+e;if((i=a-e-n)>0){var u=r.getLayout().y-i;for(r.setLayout({y:u},!0),a=r.getLayout().y,o=s-2;o>=0;--o)(i=(r=t[o]).getLayout().y+r.getLayout().dy+e-a)>0&&(u=r.getLayout().y-i,r.setLayout({y:u},!0)),a=r.getLayout().y}})}function Po(t,e){for(var n=0,r=t.length,i=-1;++i<r;){var o=+e.call(t,t[i],i);isNaN(o)||(n+=o)}return n}function No(t){return t.getLayout().y+t.getLayout().dy/2}function jo(t){return t.getValue()}function Ro(t,e,n,r,i){var o=t.ends,a=new CT({shape:{points:i?function(t,e,n){return nl.map(t,function(t){return(t=t.slice())[e]=n.initBaseline,t})}(o,r,t):o}});return zo(t,a,e,n,i),a}function zo(t,e,n,r,i){var o=n.hostModel;(0,_p[i?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,r);var a=n.getItemModel(r),s=a.getModel(TT),u=n.getItemVisual(r,"color"),l=s.getItemStyle(["borderColor"]);l.stroke=u,l.strokeNoScale=!0,e.useStyle(l),e.z2=100;var c=a.getModel(OT).getItemStyle();_p.setHoverStyle(e,c)}function Bo(t,e,n){var r=t.ends;return new RT({shape:{points:n?function(t,e){return nl.map(t,function(t){return(t=t.slice())[1]=e.initBaseline,t})}(r,t):r},z2:100})}function Vo(t,e,n,r){var i=e.getItemModel(n),o=i.getModel(PT),a=e.getItemVisual(n,"color"),s=e.getItemVisual(n,"borderColor")||a,u=o.getItemStyle(jT);t.useStyle(u),t.style.strokeNoScale=!0,t.style.fill=a,t.style.stroke=s,t.__simpleBox=r;var l=i.getModel(NT).getItemStyle();_p.setHoverStyle(t,l)}function Fo(t,e,n){var r=t.getData(),i=r.getLayout("largePoints"),o=new zT({shape:{points:i},__sign:1});e.add(o);var a=new zT({shape:{points:i},__sign:-1});e.add(a),Ho(1,o,t,r),Ho(-1,a,t,r),n&&(o.incremental=!0,a.incremental=!0)}function Ho(t,e,n,r){var i=t>0?"P":"N",o=r.getVisual("borderColor"+i)||r.getVisual("color"+i),a=n.getModel(PT).getItemStyle(jT);e.useStyle(a),e.style.fill=null,e.style.stroke=o}function Wo(t,e,n,r,i){return n>r?-1:n<r?1:e>0?t.get(i,e-1)<=r?1:-1:1}function Go(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})})}function qo(t,e){$T.call(this);var n=new W_(t,e),r=new $T;this.add(n),this.add(r),r.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}function Uo(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=nO(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),eO([e,t[0],t[1]])}))}function Yo(t,e,n){_p.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}function Xo(t,e,n){_p.Group.call(this),this._createPolyline(t,e,n)}function Zo(t,e,n){lO.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}function $o(){this.group=new _p.Group}function Ko(t){return t instanceof Array||(t=[t,t]),t}function Jo(){var t=nl.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function Qo(t,e,n,r){var i=t.getItemLayout(e),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,l=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),h={dataIndex:e,layout:i,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:u,animationModel:c?n:null,hoverAnimation:c&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};!function(t,e,n,r,i){var o,a=r.valueDim,s=t.get("symbolBoundingData"),u=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=u.toGlobalCoord(u.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(nl.isArray(s)){var h=[ta(u,s[0])-l,ta(u,s[1])-l];h[1]<h[0]&&h.reverse(),o=h[c]}else o=null!=s?ta(u,s)-l:e?r.coordSysExtent[a.index][c]-l:n[a.wh];i.boundingLength=o,e&&(i.repeatCutLength=n[a.wh]),i.pxSign=o>0?1:o<0?-1:0}(n,o,i,r,h),function(t,e,n,r,i,o,a,s,u,l){var c=u.valueDim,h=u.categoryDim,f=Math.abs(n[h.wh]),d=t.getItemVisual(e,"symbolSize");nl.isArray(d)?d=d.slice():(null==d&&(d="100%"),d=[d,d]),d[h.index]=MO(d[h.index],f),d[c.index]=MO(d[c.index],r?f:Math.abs(o)),l.symbolSize=d,(l.symbolScale=[d[0]/s,d[1]/s])[c.index]*=(u.isHorizontal?-1:1)*a}(t,e,i,o,0,h.boundingLength,h.pxSign,l,r,h),function(t,e,n,r,i){var o=t.get(TO)||0;o&&(CO.attr({scale:e.slice(),rotation:n}),CO.updateTransform(),o/=CO.getLineScale(),o*=e[r.valueDim.index]),i.valueLineWidth=o}(n,h.symbolScale,u,r,h);var f=h.symbolSize,d=n.get("symbolOffset");return nl.isArray(d)&&(d=[MO(d[0],f[0]),MO(d[1],f[1])]),function(t,e,n,r,i,o,a,s,u,l,c,h){var f=c.categoryDim,d=c.valueDim,p=h.pxSign,g=Math.max(e[d.index]+s,0),v=g;if(r){var m=Math.abs(u),y=nl.retrieve(t.get("symbolMargin"),"15%")+"",x=!1;y.lastIndexOf("!")===y.length-1&&(x=!0,y=y.slice(0,y.length-1)),y=MO(y,e[d.index]);var _=Math.max(g+2*y,0),b=x?0:2*y,w=SO(r),M=w?r:pa((m+b)/_);_=g+2*(y=(m-M*g)/2/(x?M:M-1)),b=x?0:2*y,w||"fixed"===r||(M=l?pa((Math.abs(l)+b)/_):0),v=M*_-b,h.repeatTimes=M,h.symbolMargin=y}var S=p*(v/2),A=h.pathPosition=[];A[f.index]=n[f.wh]/2,A[d.index]="start"===a?S:"end"===a?u-S:u/2,o&&(A[0]+=o[0],A[1]+=o[1]);var T=h.bundlePosition=[];T[f.index]=n[f.xy],T[d.index]=n[d.xy];var O=h.barRectShape=nl.extend({},n);O[d.wh]=p*Math.max(Math.abs(n[d.wh]),Math.abs(A[d.index]+S)),O[f.wh]=n[f.wh];var C=h.clipShape={};C[f.xy]=-n[f.xy],C[f.wh]=c.ecSize[f.wh],C[d.xy]=0,C[d.wh]=n[d.wh]}(n,f,i,o,0,d,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function ta(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function ea(t){var e=t.symbolPatternSize,n=wO(t.symbolType,-e/2,-e/2,e,e,t.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function na(t,e,n,r){function i(t){var e=u.slice(),r=n.pxSign,i=t;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(i=c-1-t),e[l.index]=f*(i-c/2+.5)+u[l.index],{position:e,scale:n.symbolScale.slice(),rotation:n.rotation}}var o=t.__pictorialBundle,a=n.symbolSize,s=n.valueLineWidth,u=n.pathPosition,l=e.valueDim,c=n.repeatTimes||0,h=0,f=a[e.valueDim.index]+s+2*n.symbolMargin;for(ha(t,function(t){t.__pictorialAnimationIndex=h,t.__pictorialRepeatTimes=c,h<c?fa(t,null,i(h),n,r):fa(t,null,{scale:[0,0]},n,r,function(){o.remove(t)}),sa(t,n),h++});h<c;h++){var d=ea(n);d.__pictorialAnimationIndex=h,d.__pictorialRepeatTimes=c,o.add(d);var p=i(h);fa(d,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},n,r),d.on("mouseover",function(){ha(t,function(t){t.trigger("emphasis")})}).on("mouseout",function(){ha(t,function(t){t.trigger("normal")})}),sa(d,n)}}function ra(t,e,n,r){var i=t.__pictorialBundle,o=t.__pictorialMainPath;o?fa(o,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,r):(o=t.__pictorialMainPath=ea(n),i.add(o),fa(o,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,r),o.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),sa(o,n)}function ia(t,e,n){var r=nl.extend({},e.barRectShape),i=t.__pictorialBarRect;i?fa(i,null,{shape:r},e,n):(i=t.__pictorialBarRect=new _p.Rect({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(i))}function oa(t,e,n,r){if(n.symbolClip){var i=t.__pictorialClipPath,o=nl.extend({},n.clipShape),a=e.valueDim,s=n.animationModel,u=n.dataIndex;if(i)_p.updateProps(i,{shape:o},s,u);else{o[a.wh]=0,i=new _p.Rect({shape:o}),t.__pictorialBundle.setClipPath(i),t.__pictorialClipPath=i;var l={};l[a.wh]=n.clipShape[a.wh],_p[r?"updateProps":"initProps"](i,{shape:l},s,u)}}}function aa(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=function(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}},n.isAnimationEnabled=function(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")},n}function sa(t,e){t.off("emphasis").off("normal");var n=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function ua(t,e,n,r){var i=new _p.Group,o=new _p.Group;return i.add(o),i.__pictorialBundle=o,o.attr("position",n.bundlePosition.slice()),n.symbolRepeat?na(i,e,n):ra(i,0,n),ia(i,n,r),oa(i,e,n,r),i.__pictorialShapeStr=ca(t,n),i.__pictorialSymbolMeta=n,i}function la(t,e,n,r){var i=r.__pictorialBarRect;i&&(i.style.text=null);var o=[];ha(r,function(t){o.push(t)}),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),nl.each(o,function(t){_p.updateProps(t,{scale:[0,0]},n,e,function(){r.parent&&r.parent.remove(r)})}),t.setItemGraphicEl(e,null)}function ca(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function ha(t,e,n){nl.each(t.__pictorialBundle.children(),function(r){r!==t.__pictorialBarRect&&e.call(n,r)})}function fa(t,e,n,r,i,o){e&&t.attr(e),r.symbolClip&&!i?n&&t.attr(n):n&&_p[i?"updateProps":"initProps"](t,n,r.animationModel,r.dataIndex,o)}function da(t,e,n){var r=n.color,i=n.dataIndex,o=n.itemModel,a=o.getModel("itemStyle").getItemStyle(["color"]),s=o.getModel("emphasis.itemStyle").getItemStyle(),u=o.getShallow("cursor");ha(t,function(t){t.setColor(r),t.setStyle(nl.defaults({fill:r,opacity:n.opacity},a)),_p.setHoverStyle(t,s),u&&(t.cursor=u),t.z2=n.z2});var l={},c=e.valueDim.posDesc[+(n.boundingLength>0)],h=t.__pictorialBarRect;AO(h.style,l,o,r,e.seriesModel,i,c),_p.setHoverStyle(h,l)}function pa(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}function ga(t,e,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,n),this.model=t}function va(t,e,n,r,i){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var n=e.axis,r=n.dim,i=t,o=[],a=Number.MAX_VALUE,s=-1;return FO(e.seriesModels,function(e,u){var l,c,h=e.getData().mapDimension(r,!0);if(e.getAxisTooltipData){var f=e.getAxisTooltipData(h,t,n);c=f.dataIndices,l=f.nestestValue}else{if(!(c=e.getData().indicesOfNearest(h[0],t,"category"===n.type?.5:null)).length)return;l=e.getData().get(h[0],c[0])}if(null!=l&&isFinite(l)){var d=t-l,p=Math.abs(d);p<=a&&((p<a||d>=0&&s<0)&&(a=p,s=d,i=l,o.length=0),FO(c,function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:o,snapToValue:i}}(e,t),s=a.payloadBatch,u=a.snapToValue;s[0]&&null==i.seriesIndex&&nl.extend(i,s[0]),!r&&t.snap&&o.containData(u)&&null!=u&&(e=u),n.showPointer(t,e,s,i),n.showTooltip(t,a,u)}else n.showPointer(t,e)}function ma(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function ya(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function xa(t,e,n,r){e.handler(t,n,r)}function _a(){}function ba(t,e,n,r){(function t(e,n){if(nl.isObject(e)&&nl.isObject(n)){var r=!0;return nl.each(n,function(n,i){r=r&&t(e[i],n)}),!!r}return e===n})(ZO(n).lastProp,r)||(ZO(n).lastProp=r,e?_p.updateProps(n,r,t):(n.stopAnimation(),n.attr(r)))}function wa(t,e){t[e.get("label.show")?"show":"hide"]()}function Ma(t){return{position:t.position.slice(),rotation:t.rotation||0}}function Sa(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=i&&(t.zlevel=i),t.silent=n)})}function Aa(t,e,n,r,i){var o=Ta(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),a=n.getModel("label"),s=Vp.normalizeCssArray(a.get("padding")||0),u=a.getFont(),l=Pc.getBoundingRect(o,u),c=i.position,h=l.width+s[1]+s[3],f=l.height+s[0]+s[2],d=i.align;"right"===d&&(c[0]-=h),"center"===d&&(c[0]-=h/2);var p=i.verticalAlign;"bottom"===p&&(c[1]-=f),"middle"===p&&(c[1]-=f/2),function(t,e,n,r){var i=r.getWidth(),o=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(c,h,f,r);var g=a.get("backgroundColor");g&&"auto"!==g||(g=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:h,height:f,r:a.get("borderRadius")},position:c.slice(),style:{text:o,textFont:u,textFill:a.getTextColor(),textPosition:"inside",fill:g,stroke:a.get("borderColor")||"transparent",lineWidth:a.get("borderWidth")||0,shadowBlur:a.get("shadowBlur"),shadowColor:a.get("shadowColor"),shadowOffsetX:a.get("shadowOffsetX"),shadowOffsetY:a.get("shadowOffsetY")},z2:10}}function Ta(t,e,n,r,i){t=e.scale.parse(t);var o=e.scale.getLabel(t,{precision:i.precision}),a=i.formatter;if(a){var s={value:Lx.getAxisRawValue(e,t),seriesData:[]};nl.each(r,function(t){var e=n.getSeriesByIndex(t.seriesIndex),r=t.dataIndexInside,i=e&&e.getDataParams(r);i&&s.seriesData.push(i)}),nl.isString(a)?o=a.replace("{value}",o):nl.isFunction(a)&&(o=a(s))}return o}function Oa(t,e,n){var r=dl.create();return dl.rotate(r,r,n.rotation),dl.translate(r,r,n.position),_p.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function Ca(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}function Ia(t){return"x"===t.dim?0:1}function ka(t){return t.isHorizontal()?0:1}function Da(t,e){var n=t.getRect();return[n[nC[e]],n[nC[e]]+n[rC[e]]]}function La(t,e,n){if(t.count())for(var r,i=e.coordinateSystem,o=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),u=nl.map(o,function(e){return nl.map(e.indices,function(e){var n=i.dataToPoint(t.get(a,e));return n[1]=t.get(s,e),n})}),l=function(t){for(var e=t.length,n=t[0].length,r=[],i=[],o=0,a={},s=0;s<n;++s){for(var u=0,l=0;u<e;++u)l+=t[u][s][1];l>o&&(o=l),r.push(l)}for(var c=0;c<n;++c)i[c]=(o-r[c])/2;o=0;for(var h=0;h<n;++h){var f=r[h]+i[h];f>o&&(o=f)}return a.y0=i,a.max=o,a}(u),c=l.y0,h=n/l.max,f=o.length,d=o[0].indices.length,p=0;p<d;++p){r=c[p]*h,t.setItemLayout(o[0].indices[p],{layerIndex:0,x:u[0][p][0],y0:r,y:u[0][p][1]*h});for(var g=1;g<f;++g)r+=u[g-1][p][1]*h,t.setItemLayout(o[g].indices[p],{layerIndex:g,x:u[g][p][0],y0:r,y:u[g][p][1]*h})}}function Ea(t,e,n){function r(){a.ignore=a.hoverIgnore}function i(){a.ignore=a.normalIgnore}_p.Group.call(this);var o=new _p.Sector({z2:vC});o.seriesIndex=e.seriesIndex;var a=new _p.Text({z2:mC,silent:t.getModel("label").get("silent")});this.add(o),this.add(a),this.updateData(!0,t,"normal",e,n),this.on("emphasis",r).on("normal",i).on("mouseover",r).on("mouseout",i)}function Pa(t,e,n,r,i){null==n[t]||i||(e[t]=n[t],n[t]=r[t])}function Na(t,e,n,r){function i(t){null==t&&(t=u),g&&(l=e.getItemModel(t),c=l.getModel(CC),h=l.getModel(IC),f=e.getItemVisual(t,"color"),g=!1)}var o=t.get("renderItem"),a=t.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms():DC[a.type](a));var u,l,c,h,f,d=nl.defaults({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(t,n){return null==n&&(n=u),e.get(e.getDimension(t||0),n)},style:function(n,r){null==r&&(r=u),i(r);var o=l.getModel(TC).getItemStyle();null!=f&&(o.fill=f);var a=e.getItemVisual(r,"opacity");return null!=a&&(o.opacity=a),_p.setTextStyle(o,c,null,{autoColor:f,isRectText:!0}),o.text=c.getShallow("show")?nl.retrieve2(t.getFormattedLabel(r,"normal"),SC(e,r)):null,n&&nl.extend(o,n),o},styleEmphasis:function(n,r){null==r&&(r=u),i(r);var o=l.getModel(OC).getItemStyle();return _p.setTextStyle(o,h,null,{isRectText:!0},!0),o.text=h.getShallow("show")?nl.retrieve3(t.getFormattedLabel(r,"emphasis"),t.getFormattedLabel(r,"normal"),SC(e,r)):null,n&&nl.extend(o,n),o},visual:function(t,n){return null==n&&(n=u),e.getItemVisual(n,t)},barLayout:function(t){if(a.getBaseAxis){var e=a.getBaseAxis();return AC(nl.defaults({axis:e},t),r)}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return _p.getFont(t,n)}},s.api||{}),p={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:function(t){var e={};return nl.each(t.dimensions,function(n,r){var i=t.getDimensionInfo(n);if(!i.isExtraCoord){var o=i.coordDim;(e[o]=e[o]||[])[i.coordDimIndex]=r}}),e}(t.getData())},g=!0;return function(t){return u=t,g=!0,o&&o(nl.defaults({dataIndexInside:t,dataIndex:e.getRawIndex(t)},p),d)||{}}}function ja(t,e,n,r,i,o){return(t=Ra(t,e,n,r,i,o))&&o.setItemGraphicEl(e,t),t}function Ra(t,e,n,r,i,o){var a=n.type;if(!t||a===t.__customGraphicType||"path"===a&&n.pathData===t.__customPathData||"image"===a&&n.style.image===t.__customImagePath||"text"===a&&n.style.text===t.__customText||(i.remove(t),t=null),null!=a){var s=!t;if(!t&&(t=function(t){var e,n=t.type;if("path"===n){var r=t.shape;(e=_p.makePath(r.pathData,null,{x:r.x||0,y:r.y||0,width:r.width||0,height:r.height||0},"center")).__customPathData=t.pathData}else"image"===n?(e=new _p.Image({})).__customImagePath=t.style.image:"text"===n?(e=new _p.Text({})).__customText=t.style.text:e=new(0,_p[n.charAt(0).toUpperCase()+n.slice(1)]);return e.__customGraphicType=n,e.name=t.name,e}(n)),function(t,e,n,r,i,o){var a={},s=n.style||{};if(n.shape&&(a.shape=nl.clone(n.shape)),n.position&&(a.position=n.position.slice()),n.scale&&(a.scale=n.scale.slice()),n.origin&&(a.origin=n.origin.slice()),n.rotation&&(a.rotation=n.rotation),"image"===t.type&&n.style&&(u=a.style={},nl.each(["x","y","width","height"],function(e){Pa(e,u,s,t.style,o)})),"text"===t.type&&n.style){var u=a.style={};nl.each(["x","y"],function(e){Pa(e,u,s,t.style,o)}),!s.hasOwnProperty("textFill")&&s.fill&&(s.textFill=s.fill),!s.hasOwnProperty("textStroke")&&s.stroke&&(s.textStroke=s.stroke)}if("group"!==t.type&&(t.useStyle(s),o)){t.style.opacity=0;var l=s.opacity;null==l&&(l=1),_p.initProps(t,{style:{opacity:l}},r,e)}o?t.attr(a):_p.updateProps(t,a,r,e),t.attr({z2:n.z2||0,silent:n.silent}),!1!==n.styleEmphasis&&_p.setHoverStyle(t,n.styleEmphasis)}(t,e,n,r,0,s),"group"===a){var u=t.children()||[],l=n.children||[];if(n.diffChildrenByName)!function(t){new cy(t.oldChildren,t.newChildren,za,za,t).add(Ba).update(Ba).remove(function(t){var e=this.context,n=e.oldChildren[t];n&&e.group.remove(n)}).execute()}({oldChildren:u,newChildren:l,dataIndex:e,animatableModel:r,group:t,data:o});else{for(var c=0;c<l.length;c++)Ra(t.childAt(c),e,l[c],r,t,o);for(;c<u.length;c++)u[c]&&t.remove(u[c])}}return i.add(t),t}}function za(t,e){var n=t&&t.name;return null!=n?n:kC+e}function Ba(t,e){var n=this.context,r=null!=t?n.newChildren[t]:null;Ra(null!=e?n.oldChildren[e]:null,n.dataIndex,r,n.animatableModel,n.group,n.data)}function Va(t,e,n,r){var i=n.type,o=new(0,_p[i.charAt(0).toUpperCase()+i.slice(1)])(n);e.add(o),r.set(t,o),o.__ecGraphicId=t}function Fa(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse(function(t){Fa(t,e)}),e.removeKey(t.__ecGraphicId),n.remove(t))}function Ha(t,e){var n;return nl.each(e,function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)}),n}function Wa(t,e,n){var r,i={},o="toggleSelected"===t;return n.eachComponent("legend",function(n){o&&null!=r?n[r?"select":"unSelect"](e.name):(n[t](e.name),r=n.isSelected(e.name));var a=n.getData();nl.each(a,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var r=n.isSelected(e);i.hasOwnProperty(e)?i[e]=i[e]&&r:i[e]=r}})}),{name:e.name,selected:i}}function Ga(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function qa(t,e,n,r){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t.name,name:e,excludeSeriesId:r})}function Ua(t,e,n,r){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t.name,name:e,excludeSeriesId:r})}function Ya(t,e,n){var r=[1,1];r[t.getOrient().index]=0,YC(e,n,{type:"box",ignoreSize:r})}function Xa(t,e){if(Hu.wxa)return null;var n=document.createElement("div"),r=this._zr=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var i=this;n.onmouseenter=function(){i._enterable&&(clearTimeout(i._hideTimeout),i._show=!0),i._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!i._enterable){var n=r.handler;ih.normalizeEvent(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){i._enterable&&i._show&&i.hideLater(i._hideDelay),i._inContent=!1}}function Za(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(kp.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new kp(n,e,e.ecModel))}return e}function $a(t,e){return t.dispatchAction||nl.bind(e.dispatchAction,e)}function Ka(t){var e=t.clientWidth,n=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var r=document.defaultView.getComputedStyle(t);r&&(e+=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10)+parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10),n+=parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10))}return{width:e,height:n}}function Ja(t){return"center"===t||"middle"===t}function Qa(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function ts(t){return t.dim}function es(t,e){d_.call(this,"radius",t,e),this.type="category"}function ns(t,e){e=e||[0,360],d_.call(this,"angle",t,e),this.type="category"}function rs(t,e){return e.type||(e.data?"category":"value")}function is(t,e){if(t.type=e.get("type"),t.scale=mI(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}function os(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function as(t){return t.getRadiusAxis().inverse?0:1}function ss(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}function us(t,e){e.update="updateView",D_.registerAction(e,function(e,n){var r={};return n.eachComponent({mainType:"geo",query:e},function(n){n[t](e.name);var i=n.coordinateSystem;nl.each(i.regions,function(t){r[t.name]=n.isSelected(t.name)||!1})}),{selected:r,name:e.name}})}function ls(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function cs(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,r){if(e){var i=r.range;return hs(e[t],i)}},rect:function(r,i,o){if(r){var a=o.range,s=[r[e[t]],r[e[t]]+r[n[t]]];return s[1]<s[0]&&s.reverse(),hs(s[0],a)||hs(s[1],a)||hs(a[0],s)||hs(a[1],s)}}}}function hs(t,e){return e[0]<=t&&t<=e[1]}function fs(t,e,n,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(function(t,e,n,r,i,o,a,s){var u=ds(n-t,i-a,r-e,o-s);if(u<=1e-6&&u>=-1e-6)return!1;var l=ds(i-t,i-a,o-e,o-s)/u;if(l<0||l>1)return!1;var c=ds(n-t,i-t,r-e,o-e)/u;return!(c<0||c>1)}(t,e,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function ds(t,e,n,r){return t*r-e*n}function ps(t,e,n){var r=this._targetInfoList=[],i={},o=vs(e,t);PI(VI,function(t,e){(!n||!n.include||NI(n.include,e)>=0)&&t(o,r,i)})}function gs(t){return t[0]>t[1]&&t.reverse(),t}function vs(t,e){return Dh.parseFinder(t,e,{includeMainTypes:zI})}function ms(t,e,n,r){var i=n.getAxis(["x","y"][t]),o=gs(nl.map([0,1],function(t){return e?i.coordToData(i.toLocalCoord(r[t])):i.toGlobalCoord(i.dataToCoord(r[t]))})),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}function ys(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function xs(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function _s(t,e,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i];if(t[a.brushType](r,n,a.selectors,a))return!0}}function bs(t){var e=t.brushSelector;if(nl.isString(e)){var n=[];return nl.each(EI,function(t,r){n[r]=function(n,r,i,o){var a=r.getItemLayout(n);return t[e](a,i,o)}}),n}if(nl.isFunction(e)){var r={};return nl.each(EI,function(t,n){r[n]=e}),r}return e}function ws(t){return new tc(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function Ms(t,e){return nl.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new kp(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function Ss(t,e,n,r){(!r||r.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function As(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}function Ts(t,e,n){this._model=t}function Os(t,e,n,r){var i=n.calendarModel,o=n.seriesModel,a=i?i.coordinateSystem:o?o.coordinateSystem:null;return a===this?a[t](r):null}function Cs(t,e){var n=t.cellSize;nl.isArray(n)?1===n.length&&(n[1]=n[0]):n=t.cellSize=[n,n];var r=nl.map([0,1],function(t){return rk(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]});ik(t,e,{type:"box",ignoreSize:r})}function Is(t,e){t=t.slice();var n=nl.map(t,Vp.capitalFirst);e=(e||[]).slice();var r=nl.map(e,Vp.capitalFirst);return function(i,o){nl.each(t,function(t,a){for(var s={name:t,capital:n[a]},u=0;u<e.length;u++)s[e[u]]=t+r[u];i.call(o,s)})}}function ks(t,e){var n=t.getAxisModel(),r=t._percentWindow,i=t._valueWindow;if(r){var o=Np.getPixelPrecision(i,[0,500]);o=Math.min(o,20);var a=e||0===r[0]&&100===r[1];n.setRange(a?null:+i[0].toFixed(o),a?null:+i[1].toFixed(o))}}function Ds(t){var e={};return gk(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function Ls(t,e){var n=t._rangePropMode,r=t.get("rangeMode");gk([["start","startValue"],["end","endValue"]],function(t,i){var o=null!=e[t[0]],a=null!=e[t[1]];o&&!a?n[i]="percent":!o&&a?n[i]="value":r?n[i]=r[i]:o&&(n[i]="percent")})}function Es(t){return"vertical"===t?"ns-resize":"ew-resize"}function Ps(t){var e=t.getZr();return e[Ik]||(e[Ik]={})}function Ns(t){nl.each(t,function(e,n){e.count||(e.controller.dispose(),delete t[n])})}function js(t,e){var n=[];nl.each(t.dataZoomInfos,function(t){var r=e(t);!t.disabled&&r&&n.push({dataZoomId:t.dataZoomId,start:r[0],end:r[1]})}),n.length&&t.dispatchAction(n)}function Rs(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}function zs(t,e,n){if(n[0]===n[1])return n.slice();for(var r=(n[1]-n[0])/200,i=n[0],o=[],a=0;a<=200&&i<n[1];a++)o.push(i),i+=r;return o.push(n[1]),o}function Bs(t,e,n,r){return new _p.Polygon({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){ih.stop(t.event)},ondragend:r})}function Vs(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function Fs(t){return"vertical"===t?"ns-resize":"ew-resize"}function Hs(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}function Ws(t){Dh.defaultEmphasis(t,"label",["show"])}function Gs(t,e,n,r,i,o){var a=[],s=vD(e,r)?e.getCalculationInfo("stackResultDimension"):r,u=Us(e,s,t),l=e.indicesOfNearest(s,u)[0];a[i]=e.get(n,l),a[o]=e.get(r,l);var c=Np.getPrecision(e.get(r,l));return(c=Math.min(c,20))>=0&&(a[o]=+a[o].toFixed(c)),a}function qs(t,e,n,r){var i={};return null!=t.valueIndex||null!=t.valueDim?(i.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,i.valueAxis=n.getAxis(function(t,e){var n=t.getData(),r=n.dimensions;e=n.getDimension(e);for(var i=0;i<r.length;i++){var o=n.getDimensionInfo(r[i]);if(o.name===e)return o.coordDim}}(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function Us(t,e,n){if("average"===n){var r=0,i=0;return t.each(e,function(t,e){isNaN(t)||(r+=t,i++)}),r/i}return"median"===n?t.getMedian(e):t.getDataExtent(e,!0)["max"===n?1:0]}function Ys(t,e,n){var r=e.coordinateSystem;t.each(function(i){var o,a=t.getItemModel(i),s=Np.parsePercent(a.get("x"),n.getWidth()),u=Np.parsePercent(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(u)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,i));else if(r){var l=t.get(r.dimensions[0],i),c=t.get(r.dimensions[1],i);o=r.dataToPoint([l,c])}}else o=[s,u];isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),t.setItemLayout(i,o)})}function Xs(t){return!isNaN(t)&&!isFinite(t)}function Zs(t,e,n,r){var i=1-t,o=r.dimensions[t];return Xs(e[i])&&Xs(n[i])&&e[t]===n[t]&&r.getAxis(o).containData(e[t])}function $s(t,e,n,r,i){var o,a=r.coordinateSystem,s=t.getItemModel(e),u=Np.parsePercent(s.get("x"),i.getWidth()),l=Np.parsePercent(s.get("y"),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=a.dimensions,h=t.get(c[0],e),f=t.get(c[1],e);o=a.dataToPoint([h,f])}if("cartesian2d"===a.type){var d=a.getAxis("x"),p=a.getAxis("y");c=a.dimensions;Xs(t.get(c[0],e))?o[0]=d.toGlobalCoord(d.getExtent()[n?0:1]):Xs(t.get(c[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l)}else o=[u,l];t.setItemLayout(e,o)}function Ks(t){return!isNaN(t)&&!isFinite(t)}function Js(t,e,n,r){var i=1-t;return Ks(e[i])&&Ks(n[i])}function Qs(t,e,n,r,i){var o,a=r.coordinateSystem,s=t.getItemModel(e),u=Np.parsePercent(s.get(n[0]),i.getWidth()),l=Np.parsePercent(s.get(n[1]),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(n,e));else{var c=[d=t.get(n[0],e),p=t.get(n[1],e)];a.clampData&&a.clampData(c,c),o=a.dataToPoint(c,!0)}if("cartesian2d"===a.type){var h=a.getAxis("x"),f=a.getAxis("y"),d=t.get(n[0],e),p=t.get(n[1],e);Ks(d)?o[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):Ks(p)&&(o[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l)}else o=[u,l];return o}function tu(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},i=r.normal||(r.normal={}),o={normal:1,emphasis:1};nl.each(r,function(t,e){o[e]||eu(i,e)||(i[e]=t)}),n.label&&!eu(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function eu(t,e){return t.hasOwnProperty(e)}function nu(t,e,n,r,i,o){var a=e.get("color");if(i)i.setColor(a),n.add(i),o&&o.onUpdate(i);else{var s=t.get("symbol");(i=kD(s,-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(i),o&&o.onCreate(i)}var u=e.getItemStyle(["color","symbol","symbolSize"]);i.setStyle(u),r=nl.merge({rectHover:!0,z2:100},r,!0);var l=t.get("symbolSize");(l=l instanceof Array?l.slice():[+l,+l])[0]/=2,l[1]/=2,r.scale=l;var c=t.get("symbolOffset");if(c){var h=r.position=r.position||[0,0];h[0]+=Np.parsePercent(c[0],l[0]),h[1]+=Np.parsePercent(c[1],l[1])}var f=t.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function ru(t,e,n,r,i){if(!t.dragging){var o=r.getModel("checkpointStyle"),a=n.dataToCoord(r.getData().get(["value"],e));i||!o.get("animation",!0)?t.attr({position:[a,0]}):(t.stopAnimation(!0),t.animateTo({position:[a,0]},o.get("animationDuration",!0),o.get("animationEasing",!0)))}}function iu(t){this.model=t}function ou(t){this.model=t}function au(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function su(t){this._dom=null,this.model=t}function uu(t){var e=t[UD];return e||(e=t[UD]=[{}]),e}function lu(t,e,n){(this._brushController=new oT(n.getZr())).on("brush",nl.bind(this._onBrush,this)).mount(),this._isZoomActive}function cu(t){var e={};return nl.each(["xAxisIndex","yAxisIndex"],function(n){e[n]=t[n],null==e[n]&&(e[n]="all"),(!1===e[n]||"none"===e[n])&&(e[n]=[])}),e}function hu(t){this.model=t}function fu(t){return parseInt(t,10)}function du(t,e){uL.initVML(),this.root=t,this.storage=e;var n=document.createElement("div"),r=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",r.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=r,this._vmlViewport=n,this.resize();var i=e.delFromStorage,o=e.addToStorage;e.delFromStorage=function(t){i.call(e,t),t&&t.onRemove&&t.onRemove(r)},e.addToStorage=function(t){t.onAdd&&t.onAdd(r),o.call(e,t)},this._firstPaint=!0}function pu(t){return WL(1e4*t)/1e4}function gu(t){return t<ZL&&t>-ZL}function vu(t,e){e&&mu(t,"transform","matrix("+FL.call(e,",")+")")}function mu(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&("string"==typeof n&&n.indexOf("NaN"),t.setAttribute(e,n))}function yu(t,e,n){if(function(t,e){var n=e?t.textFill:t.fill;return null!=n&&n!==HL}(e,n)){var r=n?e.textFill:e.fill;r="transparent"===r?HL:r,"none"!==t.getAttribute("clip-path")&&r===HL&&(r="rgba(0, 0, 0, 0.002)"),mu(t,"fill",r),mu(t,"fill-opacity",e.opacity)}else mu(t,"fill",HL);if(function(t,e){var n=e?t.textStroke:t.stroke;return null!=n&&n!==HL}(e,n)){var i=n?e.textStroke:e.stroke;mu(t,"stroke",i="transparent"===i?HL:i),mu(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(!n&&e.strokeNoScale?e.host.getLineScale():1)),mu(t,"paint-order",n?"stroke":"fill"),mu(t,"stroke-opacity",e.opacity),e.lineDash?(mu(t,"stroke-dasharray",e.lineDash.join(",")),mu(t,"stroke-dashoffset",WL(e.lineDashOffset||0))):mu(t,"stroke-dasharray",""),e.lineCap&&mu(t,"stroke-linecap",e.lineCap),e.lineJoin&&mu(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&mu(t,"stroke-miterlimit",e.miterLimit)}else mu(t,"stroke",HL)}function xu(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}function _u(){}function bu(t,e,n,r,i){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=r,this._domName=i||"_dom",this.nextId=0}function wu(t,e){sE.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function Mu(t,e){sE.call(this,t,e,"clipPath","__clippath_in_use__")}function Su(t,e){sE.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function Au(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function Tu(t){return parseInt(t,10)}function Ou(t,e){return e&&t&&e.parentNode!==t}function Cu(t,e,n){if(Ou(t,e)&&n){var r=n.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}}function Iu(t,e){if(Ou(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function ku(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function Du(t){return t.__textSvgEl}function Lu(t){return t.__svgEl}function Eu(t,e){void 0===e&&(e={});var n=document.createElement(t);return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function Pu(t){if(!document.documentElement.contains(t))return{detached:!0,rendered:!1};for(var e=t;e!==document;){if("none"===getComputedStyle(e).display)return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}function Nu(){var t=this;Ru(this),this.__resize_raf__&&function(t){VE||(VE=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),VE(t)}(this.__resize_raf__),this.__resize_raf__=function(t){return BE||(BE=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),BE(t)}(function(){var e=function(t){var e=t.__resize_last__,n=e.width,r=e.height,i=t.offsetWidth,o=t.offsetHeight;return i!==n||o!==r?{width:i,height:o}:null}(t);e&&(t.__resize_last__=e,ju(t))})}function ju(t){t.__resize_listeners__.forEach(function(e){e.call(t)})}function Ru(t){var e=t.__resize_triggers__,n=e.expand,r=e.expandChild,i=e.contract,o=i.scrollWidth,a=i.scrollHeight,s=n.offsetWidth,u=n.offsetHeight,l=n.scrollWidth,c=n.scrollHeight;i.scrollLeft=o,i.scrollTop=a,r.style.width=s+1+"px",r.style.height=u+1+"px",n.scrollLeft=l,n.scrollTop=c}var zu,Bu="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};"undefined"!=typeof window?zu=window.__DEV__:void 0!==Bu&&(zu=Bu),void 0===zu&&(zu=!0);var Vu=2311,Fu=function(){return Vu++},Hu="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(t){var e={},n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return n&&(e.firefox=!0,e.version=n[1]),r&&(e.ie=!0,e.version=r[1]),i&&(e.edge=!0,e.version=i[1]),o&&(e.weChat=!0),{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11)}}(navigator.userAgent),Wu={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Gu={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},qu=Object.prototype.toString,Uu=Array.prototype,Yu=Uu.forEach,Xu=Uu.filter,Zu=Uu.slice,$u=Uu.map,Ku=Uu.reduce,Ju={},Qu=function(){return Ju.createCanvas()};Ju.createCanvas=function(){return document.createElement("canvas")};var tl,el="__ec_primitive__";f.prototype={constructor:f,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=a(t,e)),this)this.hasOwnProperty(n)&&t(this[n],n)},removeKey:function(t){delete this[t]}};var nl={$override:function(t,e){"createCanvas"===t&&(tl=null),Ju[t]=e},clone:n,merge:r,mergeAll:function(t,e){for(var n=t[0],i=1,o=t.length;i<o;i++)n=r(n,t[i],e);return n},extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:i,createCanvas:Qu,getContext:function(){return tl||(tl=Qu().getContext("2d")),tl},indexOf:function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1},inherits:function(t,e){function n(){}var r=t.prototype;for(var i in n.prototype=e.prototype,t.prototype=new n,r)t.prototype[i]=r[i];t.prototype.constructor=t,t.superClass=e},mixin:function(t,e,n){i(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)},isArrayLike:function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},each:o,map:function(t,e,n){if(t&&e){if(t.map&&t.map===$u)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}},reduce:function(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===Ku)return t.reduce(e,n,r);for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}},filter:function(t,e,n){if(t&&e){if(t.filter&&t.filter===Xu)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}},find:function(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},bind:a,curry:function(t){var e=Zu.call(arguments,1);return function(){return t.apply(this,e.concat(Zu.call(arguments)))}},isArray:s,isFunction:function(t){return"function"==typeof t},isString:function(t){return"[object String]"===qu.call(t)},isObject:u,isBuiltInObject:l,isTypedArray:function(t){return!!Gu[qu.call(t)]},isDom:c,eqNaN:function(t){return t!=t},retrieve:function(t){for(var e=arguments,n=0,r=arguments.length;n<r;n++)if(null!=e[n])return e[n]},retrieve2:function(t,e){return null!=t?t:e},retrieve3:function(t,e,n){return null!=t?t:null!=e?e:n},slice:function(){return Function.call.apply(Zu,arguments)},normalizeCssArray:function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},assert:function(t,e){if(!t)throw new Error(e)},trim:function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},setAsPrimitive:function(t){t[el]=!0},isPrimitive:h,createHashMap:function(t){return new f(t)},concatArray:function(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n},noop:function(){}},rl="undefined"==typeof Float32Array?Array:Float32Array,il={create:function(t,e){var n=new rl(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new rl(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},len:d,length:d,lenSquare:p,lengthSquare:p,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},normalize:function(t,e){var n=d(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},distance:g,dist:g,distanceSquare:v,distSquare:v,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t},applyTransform:function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}};m.prototype={constructor:m,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(y(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.dispatchToElement(y(e,t),"drag",t.event);var a=this.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.dispatchToElement(y(s,t),"dragleave",t.event),a&&a!==s&&this.dispatchToElement(y(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(y(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(y(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var ol=m,al=Array.prototype.slice,sl=function(){this._$handlers={}};sl.prototype={constructor:sl,one:function(t,e,n){var r=this._$handlers;if(!e||!t)return this;r[t]||(r[t]=[]);for(var i=0;i<r[t].length;i++)if(r[t][i].h===e)return this;return r[t].push({h:e,one:!0,ctx:n||this}),this},on:function(t,e,n){var r=this._$handlers;if(!e||!t)return this;r[t]||(r[t]=[]);for(var i=0;i<r[t].length;i++)if(r[t][i].h===e)return this;return r[t].push({h:e,one:!1,ctx:n||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!=e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>3&&(e=al.call(e,1));for(var r=this._$handlers[t],i=r.length,o=0;o<i;){switch(n){case 1:r[o].h.call(r[o].ctx);break;case 2:r[o].h.call(r[o].ctx,e[1]);break;case 3:r[o].h.call(r[o].ctx,e[1],e[2]);break;default:r[o].h.apply(r[o].ctx,e)}r[o].one?(r.splice(o,1),i--):o++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>4&&(e=al.call(e,1,e.length-1));for(var r=e[e.length-1],i=this._$handlers[t],o=i.length,a=0;a<o;){switch(n){case 1:i[a].h.call(r);break;case 2:i[a].h.call(r,e[1]);break;case 3:i[a].h.call(r,e[1],e[2]);break;default:i[a].h.apply(r,e)}i[a].one?(i.splice(a,1),o--):a++}}return this}};var ul=sl;x.prototype.dispose=function(){};var ll=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],cl=function(t,e,n,r){ul.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new x,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,ol.call(this),this.setHandlerProxy(n)};cl.prototype={constructor:cl,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(nl.each(ll,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,r=this._hovered,i=r.target;i&&!i.__zr&&(i=(r=this.findHover(r.x,r.y)).target);var o=this._hovered=this.findHover(e,n),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),i&&a!==i&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==i&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do{n=n&&n.parentNode}while(n&&9!=n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}(e,t,n);r&&(r[i]&&(o.cancelBubble=r[i].call(r,o)),r.trigger(e,o),r=r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,n){for(var r=this.storage.getDisplayList(),i={x:t,y:e},o=r.length-1;o>=0;o--){var a;if(r[o]!==n&&!r[o].ignore&&(a=function(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,n))return!1;i.silent&&(r=!0),i=i.parent}return!r||"silent"}return!1}(r[o],t,e))&&(!i.topTarget&&(i.topTarget=r[o]),"silent"!==a)){i.target=r[o];break}}return i}},nl.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){cl.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),r=n.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||il.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),nl.mixin(cl,ul),nl.mixin(cl,ol);var hl=cl,fl="undefined"==typeof Float32Array?Array:Float32Array,dl={create:_,identity:b,copy:w,mul:function(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t},translate:function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},rotate:function(t,e,n){var r=e[0],i=e[2],o=e[4],a=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*l,t[1]=-r*l+a*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*o+l*u,t[5]=c*u-l*o,t},scale:function(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t},invert:function(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],u=n*a-o*r;return u?(u=1/u,t[0]=a*u,t[1]=-o*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-a*i)*u,t[5]=(o*i-n*s)*u,t):null},clone:function(t){var e=_();return w(e,t),e}},pl=dl.identity,gl=5e-5,vl=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},ml=vl.prototype;ml.transform=null,ml.needLocalTransform=function(){return M(this.rotation)||M(this.position[0])||M(this.position[1])||M(this.scale[0]-1)||M(this.scale[1]-1)},ml.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;n||e?(r=r||dl.create(),n?this.getLocalTransform(r):pl(r),e&&(n?dl.mul(r,t.transform,r):dl.copy(r,t.transform)),this.transform=r,this.invTransform=this.invTransform||dl.create(),dl.invert(this.invTransform,r)):r&&pl(r)},ml.getLocalTransform=function(t){return vl.getLocalTransform(this,t)},ml.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},ml.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var yl=[];ml.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(dl.mul(yl,t.invTransform,e),e=yl);var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=this.position,o=this.scale;M(n-1)&&(n=Math.sqrt(n)),M(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(n=-n),e[3]<0&&(r=-r),i[0]=e[4],i[1]=e[5],o[0]=n,o[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/n)}},ml.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(n=-n),[e,n]},ml.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&il.applyTransform(n,n,r),n},ml.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&il.applyTransform(n,n,r),n},vl.getLocalTransform=function(t,e){pl(e=e||[]);var n=t.origin,r=t.scale||[1,1],i=t.rotation||0,o=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),dl.scale(e,e,r),i&&dl.rotate(e,e,i),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=o[0],e[5]+=o[1],e};var xl=vl,_l={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-_l.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*_l.bounceIn(2*t):.5*_l.bounceOut(2*t-1)+.5}},bl=_l;S.prototype={constructor:S,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,i="string"==typeof r?bl[r]:r,o="function"==typeof i?i(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var wl=S,Ml=function(){this.head=null,this.tail=null,this._len=0},Sl=Ml.prototype;Sl.insert=function(t){var e=new Al(t);return this.insertEntry(e),e},Sl.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Sl.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Sl.len=function(){return this._len},Sl.clear=function(){this.head=this.tail=null,this._len=0};var Al=function(t){this.value=t,this.next,this.prev},Tl=function(t){this._list=new Ml,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Ol=Tl.prototype;Ol.put=function(t,e){var n=this._list,r=this._map,i=null;if(null==r[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new Al(e),a.key=t,n.insertEntry(a),r[t]=a}return i},Ol.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},Ol.clear=function(){this._list.clear(),this._map={}};var Cl=Tl,Il={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},kl=new Cl(20),Dl=null,Ll={parse:P,lift:function(t,e){var n=P(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return z(n,4===n.length?"rgba":"rgb")}},toHex:function(t){var e=P(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},fastLerp:j,fastMapToColor:j,lerp:R,mapToColor:R,modifyHSL:function(t,e,n,r){if(t=P(t))return t=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a,l=(s+a)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+a):u/(2-s-a);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,f=((s-o)/6+u/2)/u;r===s?e=f-h:i===s?e=1/3+c-f:o===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=function(t){return(t=Math.round(t))<0?0:t>360?360:t}(e)),null!=n&&(t[1]=C(n)),null!=r&&(t[2]=C(r)),z(N(t),"rgba")},modifyAlpha:function(t,e){if((t=P(t))&&null!=e)return t[3]=T(e),z(t,"rgba")},stringify:z},El=nl.isArrayLike,Pl=Array.prototype.slice,Nl=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||function(t,e){return t[e]},this._setter=r||function(t,e,n){t[e]=n},this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Nl.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:function(t){if(El(t)){var e=t.length;if(El(t[0])){for(var n=[],r=0;r<e;r++)n.push(Pl.call(t[r]));return n}return Pl.call(t)}return t}(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var a=function(t,e,n,r,i,o){var a=t._getter,s=t._setter,u="spline"===e,l=r.length;if(l){var c,h=r[0].value,f=El(h),d=!1,p=!1,g=f?function(t){var e=r[r.length-1].value;return El(e&&e[0])?2:1}():0;r.sort(function(t,e){return t.time-e.time}),c=r[l-1].time;for(var v=[],m=[],y=r[0].value,x=!0,_=0;_<l;_++){v.push(r[_].time/c);var b=r[_].value;if(f&&function(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(o=0;o<r;o++)if(t[o]!==e[o])return!1}else for(var i=t[0].length,o=0;o<r;o++)for(var a=0;a<i;a++)if(t[o][a]!==e[o][a])return!1;return!0}(b,y,g)||!f&&b===y||(x=!1),y=b,"string"==typeof b){var w=Ll.parse(b);w?(b=w,d=!0):p=!0}m.push(b)}if(o||!x){var M=m[l-1];for(_=0;_<l-1;_++)f?H(m[_],M,g):!isNaN(m[_])||isNaN(M)||p||d||(m[_]=M);f&&H(a(t._target,i),M,g);var S,A,T,O,C,I=0,k=0;if(d)var D=[0,0,0,0];var L=new wl({target:t._target,life:c,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<k){for(n=Math.min(I+1,l-1);n>=0&&!(v[n]<=e);n--);n=Math.min(n,l-2)}else{for(n=I;n<l&&!(v[n]>e);n++);n=Math.min(n-1,l-2)}I=n,k=e;var r=v[n+1]-v[n];if(0!==r)if(S=(e-v[n])/r,u)if(T=m[n],A=m[0===n?n:n-1],O=m[n>l-2?l-1:n+1],C=m[n>l-3?l-1:n+2],f)W(A,T,O,C,S,S*S,S*S*S,a(t,i),g);else{if(d)o=W(A,T,O,C,S,S*S,S*S*S,D,1),o=q(D);else{if(p)return V(T,O,S);o=G(A,T,O,C,S,S*S,S*S*S)}s(t,i,o)}else if(f)F(m[n],m[n+1],S,a(t,i),g);else{var o;if(d)F(m[n],m[n+1],S,D,1),o=q(D);else{if(p)return V(m[n],m[n+1],S);o=B(m[n],m[n+1],S)}s(t,i,o)}},ondestroy:n});return e&&"spline"!==e&&(L.easing=e),L}}}(this,t,function(){--i||r._doneCallback()},this._tracks[o],o,e);a&&(this._clipList.push(a),i++,this.animation&&this.animation.addClip(a),n=a)}if(n){var s=n.onframe;n.onframe=function(t,e){s(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var jl=Nl,Rl=1;"undefined"!=typeof window&&(Rl=Math.max(window.devicePixelRatio||1,1));var zl={debugMode:0,devicePixelRatio:Rl},Bl=zl.debugMode,Vl=function(){};1===Bl?Vl=function(){var t=arguments;for(var e in arguments)throw new Error(t[e])}:Bl>1&&(Vl=function(){for(var t in arguments);});var Fl=Vl,Hl=nl.isString,Wl=nl.isFunction,Gl=nl.isObject,ql=nl.isArrayLike,Ul=nl.indexOf,Yl=function(){this.animators=[]};Yl.prototype={constructor:Yl,animate:function(t,e){var n,r=!1,i=this,o=this.__zr;if(t){var a=t.split("."),s=i;r="shape"===a[0];for(var u=0,l=a.length;u<l;u++)s&&(s=s[a[u]]);s&&(n=s)}else n=i;if(n){var c=i.animators,h=new jl(n,e);return h.during(function(t){i.dirty(r)}).done(function(){c.splice(Ul(c,h),1)}),c.push(h),o&&o.animation.addAnimator(h),h}Fl('Property "'+t+'" is not existed in element '+i.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,i,o){Hl(n)?(i=r,r=n,n=0):Wl(r)?(i=r,r="linear",n=0):Wl(n)?(i=n,n=0):Wl(e)?(i=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,n);var a=this.animators.slice(),s=a.length;s||i&&i();for(var u=0;u<a.length;u++)a[u].done(function(){--s||i&&i()}).start(r,o)},_animateToShallow:function(t,e,n,r,i){var o={},a=0;for(var s in n)if(n.hasOwnProperty(s))if(null!=e[s])Gl(n[s])&&!ql(n[s])?this._animateToShallow(t?t+"."+s:s,e[s],n[s],r,i):(o[s]=n[s],a++);else if(null!=n[s])if(t){var u={};u[t]={},u[t][s]=n[s],this.attr(u)}else this.attr(s,n[s]);return a>0&&this.animate(t,!1).when(null==r?500:r,o).delay(i||0),this}};var Xl=Yl,Zl=function(t){xl.call(this,t),ul.call(this,t),Xl.call(this,t),this.id=t.id||Fu()};Zl.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(nl.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},nl.mixin(Zl,Xl),nl.mixin(Zl,xl),nl.mixin(Zl,ul);var $l=Zl,Kl=il.applyTransform,Jl=Math.min,Ql=Math.max;U.prototype={constructor:U,union:function(t){var e=Jl(t.x,this.x),n=Jl(t.y,this.y);this.width=Ql(t.x+t.width,this.x+this.width)-e,this.height=Ql(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],r=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=r[1]=this.y,e[0]=r[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,Kl(t,t,i),Kl(e,e,i),Kl(n,n,i),Kl(r,r,i),this.x=Jl(t[0],e[0],n[0],r[0]),this.y=Jl(t[1],e[1],n[1],r[1]);var o=Ql(t[0],e[0],n[0],r[0]),a=Ql(t[1],e[1],n[1],r[1]);this.width=o-this.x,this.height=a-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=dl.create();return dl.translate(i,i,[-e.x,-e.y]),dl.scale(i,i,[n,r]),dl.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof U||(t=U.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,u=t.y,l=t.y+t.height;return!(r<a||s<n||o<u||l<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new U(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},U.create=function(t){return new U(t.x,t.y,t.width,t.height)};var tc=U,ec=function(t){for(var e in t=t||{},$l.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};ec.prototype={constructor:ec,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof ec&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,i=nl.indexOf(r,t);return i<0?this:(r.splice(i,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof ec&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,r=this.__storage;for(e=0;e<n.length;e++)t=n[e],r&&(r.delFromStorage(t),t instanceof ec&&t.delChildrenFromStorage(r)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof ec&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof ec&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new tc(0,0,0,0),r=t||this._children,i=[],o=0;o<r.length;o++){var a=r[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),u=a.getLocalTransform(i);u?(n.copy(s),n.applyTransform(u),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},nl.inherits(ec,$l);var nc=ec,rc=7,ic=function(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<32)return void X(t,n,r,n+(o=Y(t,n,r,e)),e);var a=new function(t,e){function n(n){var u=r[n],l=i[n],c=r[n+1],h=i[n+1];i[n]=l+h,n===a-3&&(r[n+1]=r[n+2],i[n+1]=i[n+2]),a--;var f=$(t[c],t,u,l,0,e);u+=f,0!=(l-=f)&&0!==(h=Z(t[u+l-1],t,c,h,h-1,e))&&(l<=h?function(n,r,i,a){var u=0;for(u=0;u<r;u++)s[u]=t[n+u];var l=0,c=i,h=n;if(t[h++]=t[c++],0!=--a)if(1!==r){for(var f,d,p,g=o;;){f=0,d=0,p=!1;do{if(e(t[c],s[l])<0){if(t[h++]=t[c++],d++,f=0,0==--a){p=!0;break}}else if(t[h++]=s[l++],f++,d=0,1==--r){p=!0;break}}while((f|d)<g);if(p)break;do{if(0!==(f=$(t[c],s,l,r,0,e))){for(u=0;u<f;u++)t[h+u]=s[l+u];if(h+=f,l+=f,(r-=f)<=1){p=!0;break}}if(t[h++]=t[c++],0==--a){p=!0;break}if(0!==(d=Z(s[l],t,c,a,0,e))){for(u=0;u<d;u++)t[h+u]=t[c+u];if(h+=d,c+=d,0==(a-=d)){p=!0;break}}if(t[h++]=s[l++],1==--r){p=!0;break}g--}while(f>=rc||d>=rc);if(p)break;g<0&&(g=0),g+=2}if((o=g)<1&&(o=1),1===r){for(u=0;u<a;u++)t[h+u]=t[c+u];t[h+a]=s[l]}else{if(0===r)throw new Error;for(u=0;u<r;u++)t[h+u]=s[l+u]}}else{for(u=0;u<a;u++)t[h+u]=t[c+u];t[h+a]=s[l]}else for(u=0;u<r;u++)t[h+u]=s[l+u]}(u,l,c,h):function(n,r,i,a){var u=0;for(u=0;u<a;u++)s[u]=t[i+u];var l=n+r-1,c=a-1,h=i+a-1,f=0,d=0;if(t[h--]=t[l--],0!=--r)if(1!==a){for(var p=o;;){var g=0,v=0,m=!1;do{if(e(s[c],t[l])<0){if(t[h--]=t[l--],g++,v=0,0==--r){m=!0;break}}else if(t[h--]=s[c--],v++,g=0,1==--a){m=!0;break}}while((g|v)<p);if(m)break;do{if(0!=(g=r-$(s[c],t,n,r,r-1,e))){for(r-=g,d=1+(h-=g),f=1+(l-=g),u=g-1;u>=0;u--)t[d+u]=t[f+u];if(0===r){m=!0;break}}if(t[h--]=s[c--],1==--a){m=!0;break}if(0!=(v=a-Z(t[l],s,0,a,a-1,e))){for(a-=v,d=1+(h-=v),f=1+(c-=v),u=0;u<v;u++)t[d+u]=s[f+u];if(a<=1){m=!0;break}}if(t[h--]=t[l--],0==--r){m=!0;break}p--}while(g>=rc||v>=rc);if(m)break;p<0&&(p=0),p+=2}if((o=p)<1&&(o=1),1===a){for(d=1+(h-=r),f=1+(l-=r),u=r-1;u>=0;u--)t[d+u]=t[f+u];t[h]=s[c]}else{if(0===a)throw new Error;for(f=h-(a-1),u=0;u<a;u++)t[f+u]=s[u]}}else{for(d=1+(h-=r),f=1+(l-=r),u=r-1;u>=0;u--)t[d+u]=t[f+u];t[h]=s[c]}else for(f=h-(a-1),u=0;u<a;u++)t[f+u]=s[u]}(u,l,c,h))}var r,i,o=rc,a=0;t.length;var s=[];r=[],i=[],this.mergeRuns=function(){for(;a>1;){var t=a-2;if(t>=1&&i[t-1]<=i[t]+i[t+1]||t>=2&&i[t-2]<=i[t]+i[t-1])i[t-1]<i[t+1]&&t--;else if(i[t]>i[t+1])break;n(t)}},this.forceMergeRuns=function(){for(;a>1;){var t=a-2;t>0&&i[t-1]<i[t+1]&&t--,n(t)}},this.pushRun=function(t,e){r[a]=t,i[a]=e,a+=1}}(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(i);do{if((o=Y(t,n,r,e))<s){var u=i;u>s&&(u=s),X(t,n,n+u,n+o,e),o=u}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(0!==i);a.forceMergeRuns()}},oc=function(){this._roots=[],this._displayList=[],this._displayListLen=0};oc.prototype={constructor:oc,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Hu.canvasSupported&&ic(n,K)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var u=a[s];t.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof nc&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(n=0;n<this._roots.length;n++){var e=this._roots[n];e instanceof nc&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);else{var i=nl.indexOf(this._roots,t);i>=0&&(this.delFromStorage(t),this._roots.splice(i,1),t instanceof nc&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:K};for(var ac=oc,sc={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},uc=function(t,e,n){return sc.hasOwnProperty(e)?n*=t.dpr:n},lc=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],cc=function(t,e){this.extendFrom(t,!1),this.host=e},hc=cc.prototype={constructor:cc,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){for(var r=n&&n.style,i=!r,o=0;o<lc.length;o++){var a=lc[o],s=a[0];(i||this[s]!==r[s])&&(t[s]=uc(t,s,this[s]||a[1]))}if((i||this.fill!==r.fill)&&(t.fillStyle=this.fill),(i||this.stroke!==r.stroke)&&(t.strokeStyle=this.stroke),(i||this.opacity!==r.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(i||this.blend!==r.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var u=this.lineWidth;t.lineWidth=u/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var r=("radial"===e.type?function(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(a=a*r+n.x,s=s*i+n.y,u*=o),t.createRadialGradient(a,s,0,a,s,u)}:function(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(r,o,i,a)})(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}},fc=0;fc<lc.length;fc++){var dc=lc[fc];dc[0]in hc||(hc[dc[0]]=dc[1])}cc.getGradient=hc.getGradient;var pc=cc,gc=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};gc.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var vc=gc,mc=zl.devicePixelRatio,yc=function(t,e,n){var r;n=n||mc,"string"==typeof t?r=J(t,e,n):nl.isObject(t)&&(t=(r=t).id),this.id=t,this.dom=r;var i=r.style;i&&(r.onselectstart=function(){return!1},i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};yc.prototype={constructor:yc,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=J("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,r=this.dom,i=this.ctx,o=r.width,a=r.height,s=(e=e||this.clearColor,this.motionBlur&&!t),u=this.lastFrameAlpha,l=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,o/l,a/l)),i.clearRect(0,0,o,a),e&&"transparent"!==e)&&(e.colorStops?(n=e.__canvasGradient||pc.getGradient(i,e,{x:0,y:0,width:o,height:a}),e.__canvasGradient=n):e.image&&(n=vc.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=n||e,i.fillRect(0,0,o,a),i.restore());if(s){var c=this.domBack;i.save(),i.globalAlpha=u,i.drawImage(c,0,0,o,a),i.restore()}}};var xc=yc,_c="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},bc=new Cl(50),wc={findExistImage:function(t){if("string"==typeof t){var e=bc.get(t);return e&&e.image}return t},createOrUpdateImage:function(t,e,n,r,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=bc.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?!Q(e=o.image)&&o.pending.push(a):(!e&&(e=new Image),e.onload=function(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0},bc.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e},isImageReady:Q},Mc=nl.getContext,Sc=nl.extend,Ac=nl.retrieve2,Tc=nl.retrieve3,Oc=nl.trim,Cc={},Ic=0,kc=5e3,Dc=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Lc="12px sans-serif",Ec={measureText:function(t,e){var n=Mc();return n.font=e||Lc,n.measureText(t)}},Pc={DEFAULT_FONT:Lc,$override:function(t,e){Ec[t]=e},getWidth:tt,getBoundingRect:function(t,e,n,r,i,o,a){return o?function(t,e,n,r,i,o,a){var s=lt(t,{rich:o,truncate:a,font:e,textAlign:n,textPadding:i}),u=s.outerWidth,l=s.outerHeight,c=et(0,u,n),h=nt(0,l,r);return new tc(c,h,u,l)}(t,e,n,r,i,o,a):function(t,e,n,r,i,o){var a=ut(t,e,i,o),s=tt(t,e);i&&(s+=i[1]+i[3]);var u=a.outerHeight,l=et(0,s,n),c=nt(0,u,r),h=new tc(l,c,s,u);return h.lineHeight=a.lineHeight,h}(t,e,n,r,i,a)},adjustTextX:et,adjustTextY:nt,adjustTextPositionOnRect:function(t,e,n){var r=e.x,i=e.y,o=e.height,a=e.width,s=o/2,u="left",l="top";switch(t){case"left":r-=n,i+=s,u="right",l="middle";break;case"right":r+=n+a,i+=s,l="middle";break;case"top":r+=a/2,i-=n,u="center",l="bottom";break;case"bottom":r+=a/2,i+=o+n,u="center";break;case"inside":r+=a/2,i+=s,u="center",l="middle";break;case"insideLeft":r+=n,i+=s,l="middle";break;case"insideRight":r+=a-n,i+=s,u="right",l="middle";break;case"insideTop":r+=a/2,i+=n,u="center";break;case"insideBottom":r+=a/2,i+=o-n,u="center",l="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=a-n,i+=n,u="right";break;case"insideBottomLeft":r+=n,i+=o-n,l="bottom";break;case"insideBottomRight":r+=a-n,i+=o-n,u="right",l="bottom"}return{x:r,y:i,textAlign:u,textVerticalAlign:l}},truncateText:rt,getLineHeight:at,measureText:st,parsePlainText:ut,parseRichText:lt,makeFont:function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&Oc(e)||t.textFont||t.font}},Nc={buildPath:function(t,e){var n,r,i,o,a,s=e.x,u=e.y,l=e.width,c=e.height,h=e.r;l<0&&(s+=l,l=-l),c<0&&(u+=c,c=-c),"number"==typeof h?n=r=i=o=h:h instanceof Array?1===h.length?n=r=i=o=h[0]:2===h.length?(n=i=h[0],r=o=h[1]):3===h.length?(n=h[0],r=o=h[1],i=h[2]):(n=h[0],r=h[1],i=h[2],o=h[3]):n=r=i=o=0,n+r>l&&(n*=l/(a=n+r),r*=l/a),i+o>l&&(i*=l/(a=i+o),o*=l/a),r+i>c&&(r*=c/(a=r+i),i*=c/a),n+o>c&&(n*=c/(a=n+o),o*=c/a),t.moveTo(s+n,u),t.lineTo(s+l-r,u),0!==r&&t.arc(s+l-r,u+r,r,-Math.PI/2,0),t.lineTo(s+l,u+c-i),0!==i&&t.arc(s+l-i,u+c-i,i,0,Math.PI/2),t.lineTo(s+o,u+c),0!==o&&t.arc(s+o,u+c-o,o,Math.PI/2,Math.PI),t.lineTo(s,u+n),0!==n&&t.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}},jc=nl.retrieve2,Rc=nl.retrieve3,zc=nl.each,Bc=nl.normalizeCssArray,Vc=nl.isString,Fc=nl.isObject,Hc={left:1,right:1,center:1},Wc={top:1,bottom:1,middle:1},Gc={normalizeTextStyle:function(t){return ht(t),zc(t.rich,ht),t},renderText:function(t,e,n,r,i){r.rich?function(t,e,n,r,i){var o=t.__textCotentBlock;o&&!t.__dirty||(o=t.__textCotentBlock=Pc.parseRichText(n,r)),function(t,e,n,r,i){var o=n.width,a=n.outerWidth,s=n.outerHeight,u=r.textPadding,l=vt(0,r,i),c=l.baseX,h=l.baseY,f=l.textAlign,d=l.textVerticalAlign;ft(e,r,i,c,h);var p=Pc.adjustTextX(c,a,f),g=Pc.adjustTextY(h,s,d),v=p,m=g;u&&(v+=u[3],m+=u[0]);var y=v+o;pt(r)&&gt(t,e,r,p,g,a,s);for(var x=0;x<n.lines.length;x++){for(var _,b=n.lines[x],w=b.tokens,M=w.length,S=b.lineHeight,A=b.width,T=0,O=v,C=y,I=M-1;T<M&&(!(_=w[T]).textAlign||"left"===_.textAlign);)dt(t,e,_,r,S,m,O,"left"),A-=_.width,O+=_.width,T++;for(;I>=0&&"right"===(_=w[I]).textAlign;)dt(t,e,_,r,S,m,C,"right"),A-=_.width,C-=_.width,I--;for(O+=(o-(O-v)-(y-C)-A)/2;T<=I;)dt(t,e,_=w[T],r,S,m,O+_.width/2,"center"),O+=_.width,T++;m+=S}}(t,e,o,r,i)}(t,e,n,r,i):function(t,e,n,r,i){var o=mt(e,"font",r.font||Pc.DEFAULT_FONT),a=r.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=Pc.parsePlainText(n,o,a,r.truncate));var u=s.outerHeight,l=s.lines,c=s.lineHeight,h=vt(0,r,i),f=h.baseX,d=h.baseY,p=h.textAlign,g=h.textVerticalAlign;ft(e,r,i,f,d);var v=Pc.adjustTextY(d,u,g),m=f,y=v,x=pt(r);if(x||a){var _=Pc.getWidth(n,o);a&&(_+=a[1]+a[3]);var b=Pc.adjustTextX(f,_,p);x&&gt(t,e,r,b,v,_,u),a&&(m=bt(f,p,a),y+=a[0])}mt(e,"textAlign",p||"left"),mt(e,"textBaseline","middle"),mt(e,"shadowBlur",r.textShadowBlur||0),mt(e,"shadowColor",r.textShadowColor||"transparent"),mt(e,"shadowOffsetX",r.textShadowOffsetX||0),mt(e,"shadowOffsetY",r.textShadowOffsetY||0),y+=c/2;var w=r.textStrokeWidth,M=yt(r.textStroke,w),S=xt(r.textFill);M&&(mt(e,"lineWidth",w),mt(e,"strokeStyle",M)),S&&mt(e,"fillStyle",S);for(var A=0;A<l.length;A++)M&&e.strokeText(l[A],m,y),S&&e.fillText(l[A],m,y),y+=c}(t,e,n,r,i)},getStroke:yt,getFill:xt,needDrawText:function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},qc=new tc,Uc=function(){};Uc.prototype={constructor:Uc,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&Gc.normalizeTextStyle(n,!0);var r=n.text;if(null!=r&&(r+=""),Gc.needDrawText(r,n)){t.save();var i=this.transform;n.transformText?this.setTransform(t):i&&(qc.copy(e),qc.applyTransform(i),e=qc),Gc.renderText(this,t,r,n,e),t.restore()}}};var Yc=Uc;wt.prototype={constructor:wt,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?$l.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new pc(t,this),this.dirty(!1),this}},nl.inherits(wt,$l),nl.mixin(wt,Yc);var Xc=wt;Mt.prototype={constructor:Mt,type:"image",brush:function(t,e){var n=this.style,r=n.image;n.bind(t,this,e);var i=this._image=wc.createOrUpdateImage(r,this._image,this,this.onload);if(i&&wc.isImageReady(i)){var o=n.x||0,a=n.y||0,s=n.width,u=n.height,l=i.width/i.height;if(null==s&&null!=u?s=u*l:null==u&&null!=s?u=s/l:null==s&&null==u&&(s=i.width,u=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var c=n.sx||0,h=n.sy||0;t.drawImage(i,c,h,n.sWidth,n.sHeight,o,a,s,u)}else if(n.sx&&n.sy){var f=s-(c=n.sx),d=u-(h=n.sy);t.drawImage(i,c,h,f,d,o,a,s,u)}else t.drawImage(i,o,a,s,u);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new tc(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},nl.inherits(Mt,Xc);var Zc=Mt,$c=zl.devicePixelRatio,Kc=new tc(0,0,0,0),Jc=new tc(0,0,0,0),Qc=function(t,e,n){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=nl.extend({},n||{}),this.dpr=n.devicePixelRatio||$c,this._singleCanvas=r,this.root=t;var i=t.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var s=t.width,u=t.height;null!=n.width&&(s=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,t.width=s*this.dpr,t.height=u*this.dpr,this._width=s,this._height=u;var l=new xc(t,this,this.dpr);l.__builtin__=!0,l.initContext(),a[314159]=l,l.zlevel=314159,o.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};Qc.prototype={constructor:Qc,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<n.length;r++){var i=n[r],o=this._layers[i];if(!o.__builtin__&&o.refresh){var a=0===r?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape});n.__from=t,t.__hoverMir=n,n.setStyle(e),this._hoverElements.push(n)}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,r=nl.indexOf(n,e);r>=0&&n.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var r=e[n].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){ic(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<e;){var o=t[i],a=o.__from;a&&a.__zr?(i++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,r))):(t.splice(i,1),a.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var i=this;_c(function(){i._paintList(t,e,n)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},_doPaintList:function(t,e){for(var n=[],r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];(s=this._layers[i]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var o=!0,a=0;a<n.length;a++){var s=n[a],u=s.ctx,l={};u.save();var c=e?s.__startIndex:s.__drawIndex,h=!e&&s.incremental&&Date.now,f=h&&Date.now(),d=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,d);else if(c===s.__startIndex){var p=t[c];p.incremental&&p.notClear&&!e||s.clear(!1,d)}-1===c&&(c=s.__startIndex);for(var g=c;g<s.__endIndex;g++){var v=t[g];if(this._doPaintEl(v,s,e,l),v.__dirty=!1,h&&Date.now()-f>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(o=!1),l.prevElClipPaths&&u.restore(),u.restore()}return Hu.wxa&&nl.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,n,r){var i=e.ctx,o=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!function(t,e,n){return Kc.copy(t.getBoundingRect()),t.transform&&Kc.applyTransform(t.transform),Jc.width=e,Jc.height=n,!Kc.intersect(Jc)}(t,this._width,this._height))){var a=t.__clipPaths;r.prevElClipPaths&&!function(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}(a,r.prevElClipPaths)||(r.prevElClipPaths&&(e.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),a&&(i.save(),function(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}(a,i),r.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||((n=new xc("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&nl.merge(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,o=null,a=-1,s=this._domRoot;if(n[t])Fl("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>r[0]){for(a=0;a<i-1&&!(r[a]<t&&r[a+1]>t);a++);o=n[r[a]]}if(r.splice(a+1,0,t),n[t]=e,!e.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(e.dom,u.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Fl("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__&&t.call(e,n,r)},eachOtherLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__||t.call(e,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(i=1;i<t.length;i++)if((a=t[i]).zlevel!==t[i-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}for(var n=null,r=0,i=0;i<t.length;i++){var o,a=t[i],s=a.zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,r=1):o=this.getLayer(s+(r>0?.01:0),this._needsManuallyCompositing),o.__builtin__||Fl("ZLevel "+s+" has been used by unkown layer "+o.id),o!==n&&(o.__used=!0,o.__startIndex!==i&&(o.__dirty=!0),o.__startIndex=i,o.incremental?o.__drawIndex=-1:o.__drawIndex=i,e(i),n=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?nl.merge(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+.01){var o=this._layers[i];nl.merge(o,n[t],!0)}}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(nl.indexOf(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!=t||e!=this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);nl.each(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new xc("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height,i=e.ctx;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var u=a[s];this._doPaintEl(u,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||St(s[n])||St(a.style[n]))-(St(s[i])||0)-(St(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,u=o.shadowOffsetY*e,l=o.hasStroke()?o.lineWidth:0,c=Math.max(l/2,-s+a),h=Math.max(l/2,s+a),f=Math.max(l/2,-u+a),d=Math.max(l/2,u+a),p=i.width+c+h,g=i.height+f+d;n.width=p*e,n.height=g*e,r.scale(e,e),r.clearRect(0,0,p,g),r.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-i.x,f-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var m=new Zc({style:{x:0,y:0,image:n}});return null!=v.position&&(m.position=t.position=v.position),null!=v.rotation&&(m.rotation=t.rotation=v.rotation),null!=v.scale&&(m.scale=t.scale=v.scale),m}};var th=Qc,eh=ul,nh="undefined"!=typeof window&&!!window.addEventListener,rh=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ih={Dispatcher:eh,clientToLocal:At,normalizeEvent:function(t,e,n){if(null!=(e=e||window.event).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!=r?e.targetTouches[0]:e.changedTouches[0];i&&At(t,i,e,n)}else At(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&rh.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e},addEventListener:function(t,e,n){nh?t.addEventListener(e,n):t.attachEvent("on"+e,n)},removeEventListener:function(t,e,n){nh?t.removeEventListener(e,n):t.detachEvent("on"+e,n)},stop:nh?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},notLeftMouse:function(t){return t.which>1}},oh=ih.Dispatcher,ah=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,oh.call(this)};ah.prototype={constructor:ah,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=nl.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,r=n.length,i=[],o=[],a=0;a<r;a++){var s=n[a],u=s.step(t,e);u&&(i.push(u),o.push(s))}for(a=0;a<r;)n[a]._needsRemove?(n[a]=n[r-1],n.pop(),r--):a++;for(r=i.length,a=0;a<r;a++)o[a].fire(i[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,_c(function e(){t._running&&(_c(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new jl(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},nl.mixin(ah,oh);var sh=ah,uh=function(){this._track=[]};uh.prototype={constructor:uh,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],u=ih.clientToLocal(n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},_recognize:function(t){for(var e in lh)if(lh.hasOwnProperty(e)){var n=lh[e](this._track,t);if(n)return n}}};var lh={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=Ot(r)/Ot(i);!isFinite(o)&&(o=1),e.pinchScale=o;var a=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}},ch=uh,hh=ih.addEventListener,fh=ih.removeEventListener,dh=ih.normalizeEvent,ph=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],gh=["touchstart","touchend","touchmove"],vh={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},mh=nl.map(ph,function(t){var e=t.replace("mouse","pointer");return vh[e]?e:t}),yh={mousemove:function(t){t=dh(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=dh(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=dh(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,It(this,t,"start"),yh.mousemove.call(this,t),yh.mousedown.call(this,t),kt(this)},touchmove:function(t){(t=dh(this.dom,t)).zrByTouch=!0,It(this,t,"change"),yh.mousemove.call(this,t),kt(this)},touchend:function(t){(t=dh(this.dom,t)).zrByTouch=!0,It(this,t,"end"),yh.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&yh.click.call(this,t),kt(this)},pointerdown:function(t){yh.mousedown.call(this,t)},pointermove:function(t){Dt(t)||yh.mousemove.call(this,t)},pointerup:function(t){yh.mouseup.call(this,t)},pointerout:function(t){Dt(t)||yh.mouseout.call(this,t)}};nl.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){yh[t]=function(e){e=dh(this.dom,e),this.trigger(t,e)}});var xh=Lt.prototype;xh.dispose=function(){for(var t=ph.concat(gh),e=0;e<t.length;e++){var n=t[e];fh(this.dom,Ct(n),this._handlers[n])}},xh.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},nl.mixin(Lt,ul);var _h=Lt,bh=!Hu.canvasSupported,wh={canvas:th},Mh={},Sh=function(t,e,n){n=n||{},this.dom=e,this.id=t;var r=this,i=new ac,o=n.renderer;if(bh){if(!wh.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&wh[o]||(o="canvas");var a=new wh[o](e,i,n,t);this.storage=i,this.painter=a;var s=Hu.node||Hu.worker?null:new _h(a.getViewportRoot());this.handler=new hl(i,a,s,a.root),this.animation=new sh({stage:{update:nl.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var u=i.delFromStorage,l=i.addToStorage;i.delFromStorage=function(t){u.call(i,t),t&&t.removeSelfFromZr(r)},i.addToStorage=function(t){l.call(i,t),t.addSelfToZr(r)}};Sh.prototype={constructor:Sh,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Mh[t]}};var Ah={version:"4.0.4",init:function(t,e){var n=new Sh(Fu(),t,e);return Mh[n.id]=n,n},dispose:function(t){if(t)t.dispose();else{for(var e in Mh)Mh.hasOwnProperty(e)&&Mh[e].dispose();Mh={}}return this},getInstance:function(t){return Mh[t]},registerPainter:function(t,e){wh[t]=e}},Th=nl.each,Oh=nl.isObject,Ch=nl.isArray,Ih="series\0",kh=0,Dh={normalizeToArray:Et,defaultEmphasis:function(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}},TEXT_STYLE_OPTIONS:["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],getDataItemValue:function(t){return!Oh(t)||Ch(t)||t instanceof Date?t:t.value},isDataItemOption:function(t){return Oh(t)&&!(t instanceof Array)},mappingToExists:function(t,e){e=(e||[]).slice();var n=nl.map(t||[],function(t,e){return{exist:t}});return Th(e,function(t,r){if(Oh(t)){for(i=0;i<n.length;i++)if(!n[i].option&&null!=t.id&&n[i].exist.id===t.id+"")return n[i].option=t,void(e[r]=null);for(var i=0;i<n.length;i++){var o=n[i].exist;if(!(n[i].option||null!=o.id&&null!=t.id||null==t.name||Pt(t)||Pt(o)||o.name!==t.name+""))return n[i].option=t,void(e[r]=null)}}}),Th(e,function(t,e){if(Oh(t)){for(var r=0;r<n.length;r++){var i=n[r].exist;if(!n[r].option&&!Pt(i)&&null==t.id){n[r].option=t;break}}r>=n.length&&n.push({option:t})}}),n},makeIdAndName:function(t){var e=nl.createHashMap();Th(t,function(t,n){var r=t.exist;r&&e.set(r.id,t)}),Th(t,function(t,n){var r=t.option;nl.assert(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),Th(t,function(t,n){var r=t.exist,i=t.option,o=t.keyInfo;if(Oh(i)){if(o.name=null!=i.name?i.name+"":r?r.name:Ih+n,r)o.id=r.id;else if(null!=i.id)o.id=i.id+"";else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(e.get(o.id))}e.set(o.id,t)}})},isNameSpecified:function(t){var e=t.name;return!(!e||!e.indexOf(Ih))},isIdInner:Pt,compressBatches:function(t,e){function n(t,e,n){for(var r=0,i=t.length;r<i;r++)for(var o=t[r].seriesId,a=Et(t[r].dataIndex),s=n&&n[o],u=0,l=a.length;u<l;u++){var c=a[u];s&&s[c]?s[c]=null:(e[o]||(e[o]={}))[c]=1}}function r(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var o=r(t[i],!0);o.length&&n.push({seriesId:i,dataIndex:o})}return n}var i={},o={};return n(t||[],i),n(e||[],o,i),[r(i),r(o)]},queryDataIndex:function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?nl.isArray(e.dataIndex)?nl.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?nl.isArray(e.name)?nl.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0},makeInner:function(){var t="__\0ec_inner_"+kh+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}},parseFinder:function(t,e,n){if(nl.isString(e)){var r={};r[e+"Index"]=0,e=r}var i=n&&n.defaultMainType;!i||Nt(e,i+"Index")||Nt(e,i+"Id")||Nt(e,i+"Name")||(e[i+"Index"]=0);var o={};return Th(e,function(r,i){if(r=e[i],"dataIndex"!==i&&"dataIndexInside"!==i){var a=i.match(/^(\w+)(Index|Id|Name)$/)||[],s=a[1],u=(a[2]||"").toLowerCase();if(!(!s||!u||null==r||"index"===u&&"none"===r||n&&n.includeMainTypes&&nl.indexOf(n.includeMainTypes,s)<0)){var l={mainType:s};"index"===u&&"all"===r||(l[u]=r);var c=t.queryComponents(l);o[s+"Models"]=c,o[s+"Model"]=c[0]}}else o[i]=r}),o},setAttribute:function(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n},getAttribute:function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}},Lh=".",Eh="___EC__COMPONENT__CONTAINER___",Ph=0,Nh=jt,jh=function(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return nl.extend(n.prototype,t),n.extend=this.extend,n.superCall=function(t,e){var n=nl.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)},n.superApply=function(t,e,n){return this.superClass.prototype[e].apply(t,n)},nl.inherits(n,this),n.superClass=e,n}},Rh=function(t){var e=["__\0is_clz",Ph++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}},zh=function(t,e){e=e||{};var n={};if(t.registerClass=function(t,e){return e&&(function(t){nl.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=jt(e)).sub?e.sub!==Eh&&((function(t){var e=n[t.main];return e&&e[Eh]||((e=n[t.main]={})[Eh]=!0),e}(e))[e.sub]=t):n[e.main]=t),t},t.getClass=function(t,e,r){var i=n[t];if(i&&i[Eh]&&(i=e?i[e]:null),r&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){t=jt(t);var e=[],r=n[t.main];return r&&r[Eh]?nl.each(r,function(t,n){n!==Eh&&e.push(t)}):e.push(r),e},t.hasClass=function(t){return t=jt(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return nl.each(n,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=jt(t);var e=n[t.main];return e&&e[Eh]},t.parseClassType=jt,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var n=r.call(this,e);return t.registerClass(n,e.type)})}return t},Bh=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o][1];if(!(n&&nl.indexOf(n,a)>=0||r&&nl.indexOf(r,a)<0)){var s=e.getShallow(a);null!=s&&(i[t[o][0]]=s)}}return i}},Vh=Bh([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Fh={getLineStyle:function(t){var e=Vh(this,t),n=this.getLineDash(e.lineWidth);return n&&(e.lineDash=n),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),r=4*t;return"solid"===e||null==e?null:"dashed"===e?[r,r]:[n,n]}},Hh=Bh([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Wh={getAreaStyle:function(t,e){return Hh(this,t,e)}},Gh=il.create,qh=il.distSquare,Uh=Math.pow,Yh=Math.sqrt,Xh=1e-8,Zh=Yh(3),$h=Gh(),Kh=Gh(),Jh=Gh(),Qh={cubicAt:Bt,cubicDerivativeAt:function(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)},cubicRootAt:function(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-2*e+t),u=3*(e-t),l=t-i,c=s*s-3*a*u,h=s*u-9*a*l,f=u*u-3*s*l,d=0;if(Rt(c)&&Rt(h))Rt(s)?o[0]=0:(S=-u/s)>=0&&S<=1&&(o[d++]=S);else{var p=h*h-4*c*f;if(Rt(p)){var g=h/c,v=-g/2;(S=-s/a+g)>=0&&S<=1&&(o[d++]=S),v>=0&&v<=1&&(o[d++]=v)}else if(p>0){var m=Yh(p),y=c*s+1.5*a*(-h+m),x=c*s+1.5*a*(-h-m);(S=(-s-((y=y<0?-Uh(-y,1/3):Uh(y,1/3))+(x=x<0?-Uh(-x,1/3):Uh(x,1/3))))/(3*a))>=0&&S<=1&&(o[d++]=S)}else{var _=(2*c*s-3*a*h)/(2*Yh(c*c*c)),b=Math.acos(_)/3,w=Yh(c),M=Math.cos(b),S=(-s-2*w*M)/(3*a),A=(v=(-s+w*(M+Zh*Math.sin(b)))/(3*a),(-s+w*(M-Zh*Math.sin(b)))/(3*a));S>=0&&S<=1&&(o[d++]=S),v>=0&&v<=1&&(o[d++]=v),A>=0&&A<=1&&(o[d++]=A)}}return d},cubicExtrema:function(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,u=0;if(Rt(a))zt(o)&&(h=-s/o)>=0&&h<=1&&(i[u++]=h);else{var l=o*o-4*a*s;if(Rt(l))i[0]=-o/(2*a);else if(l>0){var c=Yh(l),h=(-o+c)/(2*a),f=(-o-c)/(2*a);h>=0&&h<=1&&(i[u++]=h),f>=0&&f<=1&&(i[u++]=f)}}return u},cubicSubdivide:function(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,u=(r-n)*i+n,l=(s-a)*i+a,c=(u-s)*i+s,h=(c-l)*i+l;o[0]=t,o[1]=a,o[2]=l,o[3]=h,o[4]=h,o[5]=c,o[6]=u,o[7]=r},cubicProjectPoint:function(t,e,n,r,i,o,a,s,u,l,c){var h,f,d,p,g,v=.005,m=1/0;$h[0]=u,$h[1]=l;for(var y=0;y<1;y+=.05)Kh[0]=Bt(t,n,i,a,y),Kh[1]=Bt(e,r,o,s,y),(p=qh($h,Kh))<m&&(h=y,m=p);m=1/0;for(var x=0;x<32&&!(v<1e-4);x++)f=h-v,d=h+v,Kh[0]=Bt(t,n,i,a,f),Kh[1]=Bt(e,r,o,s,f),p=qh(Kh,$h),f>=0&&p<m?(h=f,m=p):(Jh[0]=Bt(t,n,i,a,d),Jh[1]=Bt(e,r,o,s,d),g=qh(Jh,$h),d<=1&&g<m?(h=d,m=g):v*=.5);return c&&(c[0]=Bt(t,n,i,a,h),c[1]=Bt(e,r,o,s,h)),Yh(m)},quadraticAt:Vt,quadraticDerivativeAt:function(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))},quadraticRootAt:function(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,u=0;if(Rt(o))zt(a)&&(h=-s/a)>=0&&h<=1&&(i[u++]=h);else{var l=a*a-4*o*s;if(Rt(l))(h=-a/(2*o))>=0&&h<=1&&(i[u++]=h);else if(l>0){var c=Yh(l),h=(-a+c)/(2*o),f=(-a-c)/(2*o);h>=0&&h<=1&&(i[u++]=h),f>=0&&f<=1&&(i[u++]=f)}}return u},quadraticExtremum:function(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r},quadraticSubdivide:function(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n},quadraticProjectPoint:function(t,e,n,r,i,o,a,s,u){var l,c=.005,h=1/0;$h[0]=a,$h[1]=s;for(var f=0;f<1;f+=.05)Kh[0]=Vt(t,n,i,f),Kh[1]=Vt(e,r,o,f),(v=qh($h,Kh))<h&&(l=f,h=v);h=1/0;for(var d=0;d<32&&!(c<1e-4);d++){var p=l-c,g=l+c;Kh[0]=Vt(t,n,i,p),Kh[1]=Vt(e,r,o,p);var v=qh(Kh,$h);if(p>=0&&v<h)l=p,h=v;else{Jh[0]=Vt(t,n,i,g),Jh[1]=Vt(e,r,o,g);var m=qh(Jh,$h);g<=1&&m<h?(l=g,h=m):c*=.5}}return u&&(u[0]=Vt(t,n,i,l),u[1]=Vt(e,r,o,l)),Yh(h)}},tf=Math.min,ef=Math.max,nf=Math.sin,rf=Math.cos,of=2*Math.PI,af=il.create(),sf=il.create(),uf=il.create(),lf=[],cf=[],hf=function(t,e,n){if(0!==t.length){var r,i=t[0],o=i[0],a=i[0],s=i[1],u=i[1];for(r=1;r<t.length;r++)i=t[r],o=tf(o,i[0]),a=ef(a,i[0]),s=tf(s,i[1]),u=ef(u,i[1]);e[0]=o,e[1]=s,n[0]=a,n[1]=u}},ff=function(t,e,n,r,i,o){i[0]=tf(t,n),i[1]=tf(e,r),o[0]=ef(t,n),o[1]=ef(e,r)},df=function(t,e,n,r,i,o,a,s,u,l){var c,h=Qh.cubicExtrema,f=Qh.cubicAt,d=h(t,n,i,a,lf);for(u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0,c=0;c<d;c++){var p=f(t,n,i,a,lf[c]);u[0]=tf(p,u[0]),l[0]=ef(p,l[0])}for(d=h(e,r,o,s,cf),c=0;c<d;c++){var g=f(e,r,o,s,cf[c]);u[1]=tf(g,u[1]),l[1]=ef(g,l[1])}u[0]=tf(t,u[0]),l[0]=ef(t,l[0]),u[0]=tf(a,u[0]),l[0]=ef(a,l[0]),u[1]=tf(e,u[1]),l[1]=ef(e,l[1]),u[1]=tf(s,u[1]),l[1]=ef(s,l[1])},pf=function(t,e,n,r,i,o,a,s){var u=Qh.quadraticExtremum,l=Qh.quadraticAt,c=ef(tf(u(t,n,i),1),0),h=ef(tf(u(e,r,o),1),0),f=l(t,n,i,c),d=l(e,r,o,h);a[0]=tf(t,i,f),a[1]=tf(e,o,d),s[0]=ef(t,i,f),s[1]=ef(e,o,d)},gf=function(t,e,n,r,i,o,a,s,u){var l=il.min,c=il.max,h=Math.abs(i-o);if(h%of<1e-4&&h>1e-4)return s[0]=t-n,s[1]=e-r,u[0]=t+n,void(u[1]=e+r);if(af[0]=rf(i)*n+t,af[1]=nf(i)*r+e,sf[0]=rf(o)*n+t,sf[1]=nf(o)*r+e,l(s,af,sf),c(u,af,sf),(i%=of)<0&&(i+=of),(o%=of)<0&&(o+=of),i>o&&!a?o+=of:i<o&&a&&(i+=of),a){var f=o;o=i,i=f}for(var d=0;d<o;d+=Math.PI/2)d>i&&(uf[0]=rf(d)*n+t,uf[1]=nf(d)*r+e,l(s,uf,s),c(u,uf,u))},vf=zl.devicePixelRatio,mf={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},yf=[],xf=[],_f=[],bf=[],wf=Math.min,Mf=Math.max,Sf=Math.cos,Af=Math.sin,Tf=Math.sqrt,Of=Math.abs,Cf="undefined"!=typeof Float32Array,If=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};If.prototype={constructor:If,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=Of(1/vf/t)||0,this._uy=Of(1/vf/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(mf.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=Of(t-this._xi)>this._ux||Of(e-this._yi)>this._uy||this._len<5;return this.addData(mf.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,i,o){return this.addData(mf.C,t,e,n,r,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,i,o):this._ctx.bezierCurveTo(t,e,n,r,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(t,e,n,r){return this.addData(mf.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,i,o){return this.addData(mf.A,t,e,n,n,r,i-r,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=Sf(i)*n+t,this._yi=Af(i)*n+t,this},arcTo:function(t,e,n,r,i){return this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(mf.R,t,e,n,r),this},closePath:function(){this.addData(mf.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!Cf||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();for(Cf&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n)),i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},addData:function(t){var e=arguments;if(this._saveData){var n=this.data;this._len+arguments.length>n.length&&(this._expandData(),n=this.data);for(var r=0;r<arguments.length;r++)n[this._len++]=e[r];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,i=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,u=this._xi,l=this._yi,c=t-u,h=e-l,f=Tf(c*c+h*h),d=u,p=l,g=a.length;for(c/=f,h/=f,o<0&&(o=i+o),d-=(o%=i)*c,p-=o*h;c>0&&d<=t||c<0&&d>=t||0==c&&(h>0&&p<=e||h<0&&p>=e);)d+=c*(n=a[r=this._dashIdx]),p+=h*n,this._dashIdx=(r+1)%g,c>0&&d<u||c<0&&d>u||h>0&&p<l||h<0&&p>l||s[r%2?"moveTo":"lineTo"](c>=0?wf(d,t):Mf(d,t),h>=0?wf(p,e):Mf(p,e));c=d-t,h=p-e,this._dashOffset=-Tf(c*c+h*h)},_dashedBezierTo:function(t,e,n,r,i,o){var a,s,u,l,c,h=this._dashSum,f=this._dashOffset,d=this._lineDash,p=this._ctx,g=this._xi,v=this._yi,m=Qh.cubicAt,y=0,x=this._dashIdx,_=d.length,b=0;for(f<0&&(f=h+f),f%=h,a=0;a<1;a+=.1)s=m(g,t,n,i,a+.1)-m(g,t,n,i,a),u=m(v,e,r,o,a+.1)-m(v,e,r,o,a),y+=Tf(s*s+u*u);for(;x<_&&!((b+=d[x])>f);x++);for(a=(b-f)/y;a<=1;)l=m(g,t,n,i,a),c=m(v,e,r,o,a),x%2?p.moveTo(l,c):p.lineTo(l,c),a+=d[x]/y,x=(x+1)%_;x%2!=0&&p.lineTo(i,o),s=i-l,u=o-c,this._dashOffset=-Tf(s*s+u*u)},_dashedQuadraticTo:function(t,e,n,r){var i=n,o=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,i,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Cf&&(this.data=new Float32Array(t)))},getBoundingRect:function(){yf[0]=yf[1]=_f[0]=_f[1]=Number.MAX_VALUE,xf[0]=xf[1]=bf[0]=bf[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,r=0,i=0,o=0;o<t.length;){var a=t[o++];switch(1==o&&(r=e=t[o],i=n=t[o+1]),a){case mf.M:e=r=t[o++],n=i=t[o++],_f[0]=r,_f[1]=i,bf[0]=r,bf[1]=i;break;case mf.L:ff(e,n,t[o],t[o+1],_f,bf),e=t[o++],n=t[o++];break;case mf.C:df(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],_f,bf),e=t[o++],n=t[o++];break;case mf.Q:pf(e,n,t[o++],t[o++],t[o],t[o+1],_f,bf),e=t[o++],n=t[o++];break;case mf.A:var s=t[o++],u=t[o++],l=t[o++],c=t[o++],h=t[o++],f=t[o++]+h,d=(t[o++],1-t[o++]);1==o&&(r=Sf(h)*l+s,i=Af(h)*c+u),gf(s,u,l,c,h,f,d,_f,bf),e=Sf(f)*l+s,n=Af(f)*c+u;break;case mf.R:r=e=t[o++],i=n=t[o++];var p=t[o++],g=t[o++];ff(r,i,r+p,i+g,_f,bf);break;case mf.Z:e=r,n=i}il.min(yf,yf,_f),il.max(xf,xf,bf)}return 0===o&&(yf[0]=yf[1]=xf[0]=xf[1]=0),new tc(yf[0],yf[1],xf[0]-yf[0],xf[1]-yf[1])},rebuildPath:function(t){for(var e,n,r,i,o,a,s=this.data,u=this._ux,l=this._uy,c=this._len,h=0;h<c;){var f=s[h++];switch(1==h&&(e=r=s[h],n=i=s[h+1]),f){case mf.M:e=r=s[h++],n=i=s[h++],t.moveTo(r,i);break;case mf.L:o=s[h++],a=s[h++],(Of(o-r)>u||Of(a-i)>l||h===c-1)&&(t.lineTo(o,a),r=o,i=a);break;case mf.C:t.bezierCurveTo(s[h++],s[h++],s[h++],s[h++],s[h++],s[h++]),r=s[h-2],i=s[h-1];break;case mf.Q:t.quadraticCurveTo(s[h++],s[h++],s[h++],s[h++]),r=s[h-2],i=s[h-1];break;case mf.A:var d=s[h++],p=s[h++],g=s[h++],v=s[h++],m=s[h++],y=s[h++],x=s[h++],_=s[h++],b=g>v?g:v,w=g>v?1:g/v,M=g>v?v/g:1,S=m+y;Math.abs(g-v)>.001?(t.translate(d,p),t.rotate(x),t.scale(w,M),t.arc(0,0,b,m,S,1-_),t.scale(1/w,1/M),t.rotate(-x),t.translate(-d,-p)):t.arc(d,p,b,m,S,1-_),1==h&&(e=Sf(m)*g+d,n=Af(m)*v+p),r=Sf(S)*g+d,i=Af(S)*v+p;break;case mf.R:e=r=s[h],n=i=s[h+1],t.rect(s[h++],s[h++],s[h++],s[h++]);break;case mf.Z:t.closePath(),r=e,i=n}}}},If.CMD=mf;var kf=If,Df={containStroke:function(t,e,n,r,i,o,a){if(0===i)return!1;var s,u=i;if(a>e+u&&a>r+u||a<e-u&&a<r-u||o>t+u&&o>n+u||o<t-u&&o<n-u)return!1;if(t===n)return Math.abs(o-t)<=u/2;var l=(s=(e-r)/(t-n))*o-a+(t*r-n*e)/(t-n);return l*l/(s*s+1)<=u/2*u/2}},Lf={containStroke:function(t,e,n,r,i,o,a,s,u,l,c){if(0===u)return!1;var h=u;return!(c>e+h&&c>r+h&&c>o+h&&c>s+h||c<e-h&&c<r-h&&c<o-h&&c<s-h||l>t+h&&l>n+h&&l>i+h&&l>a+h||l<t-h&&l<n-h&&l<i-h&&l<a-h)&&Qh.cubicProjectPoint(t,e,n,r,i,o,a,s,l,c,null)<=h/2}},Ef=Qh.quadraticProjectPoint,Pf={containStroke:function(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var l=a;return!(u>e+l&&u>r+l&&u>o+l||u<e-l&&u<r-l&&u<o-l||s>t+l&&s>n+l&&s>i+l||s<t-l&&s<n-l&&s<i-l)&&Ef(t,e,n,r,i,o,s,u,null)<=l/2}},Nf=2*Math.PI,jf=function(t){return(t%=Nf)<0&&(t+=Nf),t},Rf=jf,zf=2*Math.PI,Bf={containStroke:function(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var l=a;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-l>n||c+l<n)return!1;if(Math.abs(r-i)%zf<1e-4)return!0;if(o){var h=r;r=Rf(i),i=Rf(h)}else r=Rf(r),i=Rf(i);r>i&&(i+=zf);var f=Math.atan2(u,s);return f<0&&(f+=zf),f>=r&&f<=i||f+zf>=r&&f+zf<=i}},Vf=function(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=r<e?1:-1,s=(o-e)/(r-e);1!==s&&0!==s||(a=r<e?.5:-.5);var u=s*(n-t)+t;return u===i?1/0:u>i?a:0},Ff=jf,Hf=kf.CMD,Wf=2*Math.PI,Gf=1e-4,qf=[-1,-1,-1],Uf=[-1,-1],Yf=function(t,e,n){return Ft(t,0,!1,e,n)},Xf=function(t,e,n,r){return Ft(t,e,!0,n,r)},Zf=vc.prototype.getCanvasPattern,$f=Math.abs,Kf=new kf(!0);Ht.prototype={constructor:Ht,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var n,r=this.style,i=this.path||Kf,o=r.hasStroke(),a=r.hasFill(),s=r.fill,u=r.stroke,l=a&&!!s.colorStops,c=o&&!!u.colorStops,h=a&&!!s.image,f=o&&!!u.image;(r.bind(t,this,e),this.setTransform(t),this.__dirty)&&(l&&(n=n||this.getBoundingRect(),this._fillGradient=r.getGradient(t,s,n)),c&&(n=n||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,u,n)));l?t.fillStyle=this._fillGradient:h&&(t.fillStyle=Zf.call(s,t)),c?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=Zf.call(u,t));var d=r.lineDash,p=r.lineDashOffset,g=!!t.setLineDash,v=this.getGlobalScale();i.setScale(v[0],v[1]),this.__dirtyPath||d&&!g&&o?(i.beginPath(t),d&&!g&&(i.setLineDash(d),i.setLineDashOffset(p)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a&&i.fill(t),d&&g&&(t.setLineDash(d),t.lineDashOffset=p),o&&i.stroke(t),d&&g&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new kf},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var r=this.path;r||(r=this.path=new kf),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){i.copy(t);var o=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(i.width+=o/a,i.height+=o/a,i.x-=o/a/2,i.y-=o/a/2)}return i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path.data;if(i.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(i.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),Xf(o,a/s,t,e)))return!0}if(i.hasFill())return Yf(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Xc.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(nl.isObject(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&$f(t[0]-1)>1e-10&&$f(t[3]-1)>1e-10?Math.sqrt($f(t[0]*t[3]-t[2]*t[1])):1}},Ht.extend=function(t){var e=function(e){Ht.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var i in n)!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(r[i]=n[i])}t.init&&t.init.call(this,e)};for(var n in nl.inherits(e,Ht),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},nl.inherits(Ht,Xc);var Jf=Ht,Qf=il.applyTransform,td=kf.CMD,ed=[[],[],[]],nd=Math.sqrt,rd=Math.atan2,id=function(t,e){var n,r,i,o,a,s=t.data,u=td.M,l=td.C,c=td.L,h=td.R,f=td.A,d=td.Q;for(i=0,o=0;i<s.length;){switch(n=s[i++],o=i,r=0,n){case u:case c:r=1;break;case l:r=3;break;case d:r=2;break;case f:var p=e[4],g=e[5],v=nd(e[0]*e[0]+e[1]*e[1]),m=nd(e[2]*e[2]+e[3]*e[3]),y=rd(-e[1]/m,e[0]/v);s[i]*=v,s[i++]+=p,s[i]*=m,s[i++]+=g,s[i++]*=v,s[i++]*=m,s[i++]+=y,s[i++]+=y,o=i+=2;break;case h:x[0]=s[i++],x[1]=s[i++],Qf(x,x,e),s[o++]=x[0],s[o++]=x[1],x[0]+=s[i++],x[1]+=s[i++],Qf(x,x,e),s[o++]=x[0],s[o++]=x[1]}for(a=0;a<r;a++){var x;(x=ed[a])[0]=s[i++],x[1]=s[i++],Qf(x,x,e),s[o++]=x[0],s[o++]=x[1]}}},od=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],ad=Math.sqrt,sd=Math.sin,ud=Math.cos,ld=Math.PI,cd=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},hd=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(cd(t)*cd(e))},fd=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(hd(t,e))},dd={createFromString:function(t,e){return new Jf(Gt(t,e))},extendFromString:function(t,e){return Jf.extend(Gt(t,e))},mergePath:function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new Jf(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},a}},pd=function(t){Xc.call(this,t)};pd.prototype={constructor:pd,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&Gc.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),n.bind(t,this,e),Gc.needDrawText(r,n)&&(this.setTransform(t),Gc.renderText(this,t,r,n),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&Gc.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var n=Pc.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,Gc.getStroke(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},nl.inherits(pd,Xc);var gd=pd,vd=Jf.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),md=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],yd=function(t){return Hu.browser.ie&&Hu.browser.version>=11?function(){var e,n=this.__clipPaths,r=this.style;if(n)for(var i=0;i<n.length;i++){var o=n[i],a=o&&o.shape,s=o&&o.type;if(a&&("sector"===s&&a.startAngle===a.endAngle||"rect"===s&&(!a.width||!a.height))){for(u=0;u<md.length;u++)md[u][2]=r[md[u][0]],r[md[u][0]]=md[u][1];e=!0;break}}if(t.apply(this,arguments),e)for(var u=0;u<md.length;u++)r[md[u][0]]=md[u][2]}:t},xd=Jf.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:yd(Jf.prototype.brush),buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,u=e.clockwise,l=Math.cos(a),c=Math.sin(a);t.moveTo(l*i+n,c*i+r),t.lineTo(l*o+n,c*o+r),t.arc(n,r,o,a,s,!u),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+r),0!==i&&t.arc(n,r,i,s,a,u),t.closePath()}}),_d=Jf.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)}}),bd=il.distance,wd=il.min,Md=il.max,Sd=il.scale,Ad=il.distance,Td=il.add,Od=il.clone,Cd=il.sub,Id=function(t,e,n){var r=e.points,i=e.smooth;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function(t,e,n,r){var i,o,a,s,u=[],l=[],c=[],h=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,d=t.length;f<d;f++)wd(a,a,t[f]),Md(s,s,t[f]);wd(a,a,r[0]),Md(s,s,r[1])}for(f=0,d=t.length;f<d;f++){var p=t[f];if(n)i=t[f?f-1:d-1],o=t[(f+1)%d];else{if(0===f||f===d-1){u.push(Od(t[f]));continue}i=t[f-1],o=t[f+1]}Cd(l,o,i),Sd(l,l,e);var g=Ad(p,i),v=Ad(p,o),m=g+v;0!==m&&(g/=m,v/=m),Sd(c,l,-g),Sd(h,l,v);var y=Td([],p,c),x=Td([],p,h);r&&(Md(y,y,a),wd(y,y,s),Md(x,x,a),wd(x,x,s)),u.push(y),u.push(x)}return n&&u.push(u.shift()),u}(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var u=o[2*s],l=o[2*s+1],c=r[(s+1)%a];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{"spline"===i&&(r=function(t,e){for(var n=t.length,r=[],i=0,o=1;o<n;o++)i+=bd(t[o-1],t[o]);var a=i/2;for(a=a<n?n:a,o=0;o<a;o++){var s,u,l,c=o/(a-1)*(e?n:n-1),h=Math.floor(c),f=c-h,d=t[h%n];e?(s=t[(h-1+n)%n],u=t[(h+1)%n],l=t[(h+2)%n]):(s=t[0===h?h:h-1],u=t[h>n-2?n-1:h+1],l=t[h>n-3?n-1:h+2]);var p=f*f,g=f*p;r.push([qt(s[0],d[0],u[0],l[0],f,p,g),qt(s[1],d[1],u[1],l[1],f,p,g)])}return r}(r,n)),t.moveTo(r[0][0],r[0][1]);s=1;for(var h=r.length;s<h;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}},kd=Jf.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Id(t,e,!0)}}),Dd=Jf.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Id(t,e,!1)}}),Ld=Jf.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height;e.r?Nc.buildPath(t,e):t.rect(n,r,i,o),t.closePath()}}),Ed=Jf.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.percent;0!==a&&(t.moveTo(n,r),a<1&&(i=n*(1-a)+i*a,o=r*(1-a)+o*a),t.lineTo(i,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Pd=Qh.quadraticSubdivide,Nd=Qh.cubicSubdivide,jd=Qh.quadraticAt,Rd=Qh.cubicAt,zd=Qh.quadraticDerivativeAt,Bd=Qh.cubicDerivativeAt,Vd=[],Fd=Jf.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,u=e.cpx2,l=e.cpy2,c=e.percent;0!==c&&(t.moveTo(n,r),null==u||null==l?(c<1&&(Pd(n,a,i,c,Vd),a=Vd[1],i=Vd[2],Pd(r,s,o,c,Vd),s=Vd[1],o=Vd[2]),t.quadraticCurveTo(a,s,i,o)):(c<1&&(Nd(n,a,u,i,c,Vd),a=Vd[1],u=Vd[2],i=Vd[3],Nd(r,s,l,o,c,Vd),s=Vd[1],l=Vd[2],o=Vd[3]),t.bezierCurveTo(a,s,u,l,i,o)))},pointAt:function(t){return Ut(this.shape,t,!1)},tangentAt:function(t){var e=Ut(this.shape,t,!0);return il.normalize(e,e)}}),Hd=Jf.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,u=Math.cos(o),l=Math.sin(o);t.moveTo(u*i+n,l*i+r),t.arc(n,r,i,o,a,!s)}}),Wd=Jf.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Jf.prototype.getBoundingRect.call(this)}}),Gd=function(t){this.colorStops=t||[]};Gd.prototype={constructor:Gd,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var qd=Gd,Ud=function(t,e,n,r,i,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,qd.call(this,i)};Ud.prototype={constructor:Ud},nl.inherits(Ud,qd);var Yd=Ud,Xd=function(t,e,n,r,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,qd.call(this,r)};Xd.prototype={constructor:Xd},nl.inherits(Xd,qd);var Zd=Xd,$d=nl.inherits;Yt.prototype.incremental=!0,Yt.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Yt.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},Yt.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},Yt.prototype.eachPendingDisplayable=function(t){for(e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},Yt.prototype.update=function(){for(this.updateTransform(),t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},Yt.prototype.brush=function(t,e){for(n=this._cursor;n<this._displayables.length;n++)(r=this._displayables[n]).beforeBrush&&r.beforeBrush(t),r.brush(t,n===this._cursor?null:this._displayables[n-1]),r.afterBrush&&r.afterBrush(t);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.beforeBrush&&r.beforeBrush(t),r.brush(t,0===n?null:this._temporaryDisplayables[n-1]),r.afterBrush&&r.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var Kd=[];Yt.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new tc(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(Kd)),t.union(r)}this._rect=t}return this._rect},Yt.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++)if(this._displayables[r].contain(t,e))return!0;return!1},$d(Yt,Xc);var Jd=Yt,Qd=Zc,tp=nc,ep=gd,np=vd,rp=xd,ip=_d,op=kd,ap=Dd,sp=Ld,up=Ed,lp=Fd,cp=Hd,hp=Wd,fp=Yd,dp=Zd,pp=tc,gp=Jd,vp=Math.round,mp=Math.max,yp=Math.min,xp={},_p={Image:Qd,Group:tp,Text:ep,Circle:np,Sector:rp,Ring:ip,Polygon:op,Polyline:ap,Rect:sp,Line:up,BezierCurve:lp,Arc:cp,CompoundPath:hp,LinearGradient:fp,RadialGradient:dp,BoundingRect:pp,IncrementalDisplayable:gp,extendShape:function(t){return Jf.extend(t)},extendPath:function(t,e){return dd.extendFromString(t,e)},makePath:Xt,makeImage:function(t,e,n){var r=new Zc({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};r.setStyle(Zt(e,i))}}});return r},mergePath:dd.mergePath,resizePath:$t,subPixelOptimizeLine:function(t){var e=t.shape,n=t.style.lineWidth;return vp(2*e.x1)===vp(2*e.x2)&&(e.x1=e.x2=Kt(e.x1,n,!0)),vp(2*e.y1)===vp(2*e.y2)&&(e.y1=e.y2=Kt(e.y1,n,!0)),t},subPixelOptimizeRect:function(t){var e=t.shape,n=t.style.lineWidth,r=e.x,i=e.y,o=e.width,a=e.height;return e.x=Kt(e.x,n,!0),e.y=Kt(e.y,n,!0),e.width=Math.max(Kt(r+o,n,!1)-e.x,0===o?0:1),e.height=Math.max(Kt(i+a,n,!1)-e.y,0===a?0:1),t},subPixelOptimize:Kt,setHoverStyle:function(t,e,n){t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&oe(t,e)}):oe(t,e),t.on("mouseover",function(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&re(this)}).on("mouseout",function(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&ie(this)}),t.on("emphasis",function(){this.__isEmphasis=!0,re(this)}).on("normal",function(){this.__isEmphasis=!1,ie(this)})},setLabelStyle:function(t,e,n,r,i,o,a){var s,u=(i=i||xp).labelFetcher,l=i.labelDataIndex,c=i.labelDimIndex,h=n.getShallow("show"),f=r.getShallow("show");(h||f)&&(u&&(s=u.getFormattedLabel(l,"normal",null,c)),null==s&&(s=nl.isFunction(i.defaultText)?i.defaultText(l,i):i.defaultText));var d=h?s:null,p=f?nl.retrieve2(u?u.getFormattedLabel(l,"emphasis",null,c):null,s):null;null==d&&null==p||(ae(t,n,o,i),ae(e,r,a,i,!0)),t.text=d,e.text=p},setTextStyle:ae,setText:function(t,e,n){var r,i={isRectText:!0};!1===n?r=!0:i.autoColor=n,se(t,e,i,r),t.host&&t.host.dirty&&t.host.dirty(!1)},getFont:function(t,e){var n=e||e.getModel("textStyle");return nl.trim([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))},updateProps:fe,initProps:function(t,e,n,r,i){he(!1,t,e,n,r,i)},getTransform:function(t,e){for(var n=dl.identity([]);t&&t!==e;)dl.mul(n,t.getLocalTransform(),n),t=t.parent;return n},applyTransform:de,transformDirection:function(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-r:"right"===t?r:0,"top"===t?-i:"bottom"===t?i:0];return o=de(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},groupTransition:function(t,e,n,r){function i(t){var e={position:il.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=nl.extend({},t.shape)),e}if(t&&e){var o=function(e){var n={};return t.traverse(function(t){!t.isGroup&&t.anid&&(n[t.anid]=t)}),n}();e.traverse(function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var r=i(t);t.attr(i(e)),fe(t,r,n,t.dataIndex)}}})}},clipPointsByRect:function(t,e){return nl.map(t,function(t){var n=t[0];n=mp(n,e.x),n=yp(n,e.x+e.width);var r=t[1];return r=mp(r,e.y),[n,r=yp(r,e.y+e.height)]})},clipRectByRect:function(t,e){var n=mp(t.x,e.x),r=yp(t.x+t.width,e.x+e.width),i=mp(t.y,e.y),o=yp(t.y+t.height,e.y+e.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}},createIcon:function(t,e,n){var r=(e=nl.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),nl.defaults(r,n),new Zc(e)):Xt(t.replace("path://",""),e,n,"center")}},bp=["textStyle","color"],wp={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(bp):null)},getFont:function(){return _p.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return Pc.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},Mp=Bh([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Sp={getItemStyle:function(t,e){var n=Mp(this,t,e),r=this.getBorderLineDash();return r&&(n.lineDash=r),n},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},Ap=Dh.makeInner,Tp=jh,Op=Rh,Cp=nl.mixin,Ip=Ap();pe.prototype={constructor:pe,init:null,mergeOption:function(t){nl.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:ge(this.option,this.parsePath(t),!e&&ve(this,t))},getShallow:function(t,e){var n=this.option,r=null==n?n:n[t],i=!e&&ve(this,t);return null==r&&i&&(r=i.getShallow(t)),r},getModel:function(t,e){var n;return new pe(null==t?this.option:ge(this.option,t=this.parsePath(t)),e=e||(n=ve(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(nl.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){Ip(this).getParent=t},isAnimationEnabled:function(){if(!Hu.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Tp(pe),Op(pe),Cp(pe,Fh),Cp(pe,Wh),Cp(pe,wp),Cp(pe,Sp);var kp=pe,Dp=Nh,Lp=0,Ep={getUID:function(t){return[t||"",Lp++,Math.random().toFixed(5)].join("_")},enableSubTypeDefaulter:function(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=Dp(t),e[t.main]=n},t.determineSubType=function(n,r){var i=r.type;if(!i){var o=Dp(n).main;t.hasSubTypes(n)&&e[o]&&(i=e[o](r))}return i},t},enableTopologicalTravel:function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,r,i,o){function a(t){u[t].entryCount--,0===u[t].entryCount&&l.push(t)}if(t.length){var s=function(t){var r={},i=[];return nl.each(t,function(o){var a=n(r,o),s=function(t,e){var n=[];return nl.each(t,function(t){nl.indexOf(e,t)>=0&&n.push(t)}),n}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&i.push(o),nl.each(s,function(t){nl.indexOf(a.predecessor,t)<0&&a.predecessor.push(t);var e=n(r,t);nl.indexOf(e.successor,t)<0&&e.successor.push(o)})}),{graph:r,noEntryList:i}}(r),u=s.graph,l=s.noEntryList,c={};for(nl.each(t,function(t){c[t]=!0});l.length;){var h=l.pop(),f=u[h],d=!!c[h];d&&(i.call(o,h,f.originalDeps.slice()),delete c[h]),nl.each(f.successor,d?function(t){c[t]=!0,a(t)}:a)}nl.each(c,function(){throw new Error("Circle dependency may exists")})}}}},Pp=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,Np={linearMap:function(t,e,n,r){var i=e[1]-e[0],o=n[1]-n[0];if(0===i)return 0===o?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*o+n[0]},parsePercent:function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?t.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},round:function(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t},asc:function(t){return t.sort(function(t,e){return t-e}),t},getPrecision:function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},getPrecisionSafe:function(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var i=e.indexOf(".");return i<0?0:e.length-1-i},getPixelPrecision:function(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),o=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20},getPercentWithPrecision:function(t,e,n){if(!t[e])return 0;var r=nl.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===r)return 0;for(var i=Math.pow(10,n),o=nl.map(t,function(t){return(isNaN(t)?0:t)/r*i*100}),a=100*i,s=nl.map(o,function(t){return Math.floor(t)}),u=nl.reduce(s,function(t,e){return t+e},0),l=nl.map(o,function(t,e){return t-s[e]});u<a;){for(var c=Number.NEGATIVE_INFINITY,h=null,f=0,d=l.length;f<d;++f)l[f]>c&&(c=l[f],h=f);++s[h],l[h]=0,++u}return s[e]/i},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(t){var e=2*Math.PI;return(t%e+e)%e},isRadianAroundZero:function(t){return t>-1e-4&&t<1e-4},parseDate:function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=Pp.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))},quantity:function(t){return Math.pow(10,me(t))},nice:function(t,e){var n=me(t),r=Math.pow(10,n),i=t/r;return t=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+t.toFixed(n<0?-n:0):t},reformIntervals:function(t){t.sort(function(t,e){return function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]==(r?-1:1)||!r&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,o=t[r].close,a=0;a<2;a++)i[a]<=e&&(i[a]=e,o[a]=a?1:1-n),e=i[a],n=o[a];i[0]===i[1]&&o[0]*o[1]!=1?t.splice(r,1):r++}return t},isNumeric:function(t){return t-parseFloat(t)>=0}},jp=/([&<>"'])/g,Rp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zp=["a","b","c","d","e","f","g"],Bp=function(t,e){return"{"+t+(null==e?"":e)+"}"},Vp={addCommas:function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")},toCamelCase:function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},normalizeCssArray:nl.normalizeCssArray,encodeHTML:ye,formatTpl:function(t,e,n){nl.isArray(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],o=0;o<i.length;o++){var a=zp[o];t=t.replace(Bp(a),Bp(a,0))}for(var s=0;s<r;s++)for(var u=0;u<i.length;u++){var l=e[s][i[u]];t=t.replace(Bp(zp[u],s),n?ye(l):l)}return t},formatTplSimple:function(t,e,n){return nl.each(e,function(e,r){t=t.replace("{"+r+"}",n?ye(e):e)}),t},getTooltipMarker:function(t,e){var n=(t=nl.isString(t)?{color:t,extraCssText:e}:t||{}).color,r=t.type;e=t.extraCssText;return n?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ye(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+ye(n)+";"+(e||"")+'"></span>':""},formatTime:function(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=Np.parseDate(e),i=n?"UTC":"",o=r["get"+i+"FullYear"](),a=r["get"+i+"Month"]()+1,s=r["get"+i+"Date"](),u=r["get"+i+"Hours"](),l=r["get"+i+"Minutes"](),c=r["get"+i+"Seconds"](),h=r["get"+i+"Milliseconds"]();return t.replace("MM",xe(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100).replace("dd",xe(s,2)).replace("d",s).replace("hh",xe(u,2)).replace("h",u).replace("mm",xe(l,2)).replace("m",l).replace("ss",xe(c,2)).replace("s",c).replace("SSS",xe(h,3))},capitalFirst:function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},truncateText:Pc.truncateText,getTextRect:Pc.getBoundingRect},Fp=Np.parsePercent,Hp=nl.each,Wp=["left","right","top","bottom","width","height"],Gp=[["width","left","right"],["height","top","bottom"]],qp=_e,Up=nl.curry(_e,"vertical"),Yp=nl.curry(_e,"horizontal"),Xp={LOCATION_PARAMS:Wp,HV_NAMES:Gp,box:qp,vbox:Up,hbox:Yp,getAvailableSize:function(t,e,n){var r=e.width,i=e.height,o=Fp(t.x,r),a=Fp(t.y,i),s=Fp(t.x2,r),u=Fp(t.y2,i);return(isNaN(o)||isNaN(parseFloat(t.x)))&&(o=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=r),(isNaN(a)||isNaN(parseFloat(t.y)))&&(a=0),(isNaN(u)||isNaN(parseFloat(t.y2)))&&(u=i),n=Vp.normalizeCssArray(n||0),{width:Math.max(s-o-n[1]-n[3],0),height:Math.max(u-a-n[0]-n[2],0)}},getLayoutRect:be,positionElement:function(t,e,n,r,i){var o=!i||!i.hv||i.hv[0],a=!i||!i.hv||i.hv[1],s=i&&i.boundingMode||"all";if(o||a){var u;if("raw"===s)u="group"===t.type?new tc(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var l=t.getLocalTransform();(u=u.clone()).applyTransform(l)}e=be(nl.defaults({width:u.width,height:u.height},e),n,r);var c=t.position,h=o?e.x-u.x:0,f=a?e.y-u.y:0;t.attr("position","raw"===s?[h,f]:[c[0]+h,c[1]+f])}},sizeCalculable:function(t,e){return null!=t[Gp[e][0]]||null!=t[Gp[e][1]]&&null!=t[Gp[e][2]]},mergeLayoutParam:function(t,e,n){function r(n,r){var a={},u=0,l={},c=0;if(Hp(n,function(e){l[e]=t[e]}),Hp(n,function(t){i(e,t)&&(a[t]=l[t]=e[t]),o(a,t)&&u++,o(l,t)&&c++}),s[r])return o(e,n[1])?l[n[2]]=null:o(e,n[2])&&(l[n[1]]=null),l;if(2!==c&&u){if(u>=2)return a;for(var h=0;h<n.length;h++){var f=n[h];if(!i(a,f)&&i(t,f)){a[f]=t[f];break}}return a}return l}function i(t,e){return t.hasOwnProperty(e)}function o(t,e){return null!=t[e]&&"auto"!==t[e]}function a(t,e,n){Hp(t,function(t){e[t]=n[t]})}!nl.isObject(n)&&(n={});var s=n.ignoreSize;!nl.isArray(s)&&(s=[s,s]);var u=r(Gp[0],0),l=r(Gp[1],1);a(Gp[0],t,u),a(Gp[1],t,l)},getLayoutParams:function(t){return we({},t)},copyLayoutParams:we},Zp=zh,$p=Nh,Kp=(0,Dh.makeInner)(),Jp=kp.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,r){kp.call(this,t,e,n,r),this.uid=Ep.getUID("ec_cpt_model")},init:function(t,e,n,r){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?Xp.getLayoutParams(t):{},i=e.getTheme();nl.merge(t,i.get(this.mainType)),nl.merge(t,this.getDefaultOption()),n&&Xp.mergeLayoutParam(t,r,n)},mergeOption:function(t,e){nl.merge(this.option,t,!0);var n=this.layoutMode;n&&Xp.mergeLayoutParam(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=Kp(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var r=n.prototype.defaultOption;r&&e.push(r),n=n.superClass}for(var i={},o=e.length-1;o>=0;o--)i=nl.merge(i,e[o],!0);t.defaultOption=i}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});Zp(Jp,{registerWhenExtend:!0}),Ep.enableSubTypeDefaulter(Jp),Ep.enableTopologicalTravel(Jp,function(t){var e=[];return nl.each(Jp.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=nl.map(e,function(t){return $p(t).main}),"dataset"!==t&&nl.indexOf(e,"dataset")<=0&&e.unshift("dataset"),e}),nl.mixin(Jp,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var Qp=Jp,tg="";"undefined"!=typeof navigator&&(tg=navigator.platform||"");var eg={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:tg.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},ng=Dh.makeInner,rg=Dh.normalizeToArray,ig=ng(),og={clearColorPalette:function(){ig(this).colorIdx=0,ig(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var r=ig(e=e||this),i=r.colorIdx||0,o=r.colorNameMap=r.colorNameMap||{};if(o.hasOwnProperty(t))return o[t];var a=rg(this.get("color",!0)),s=this.get("colorLayer",!0),u=null!=n&&s?function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}(s,n):a;if((u=u||a)&&u.length){var l=u[i];return t&&(o[t]=l),r.colorIdx=(i+1)%u.length,l}}},ag=nl.createHashMap,sg=(nl.retrieve,nl.each),ug={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis")[0],o=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),Me(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),Me(o)&&(r.set("y",o),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",i),Me(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar")[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),Me(o)&&(r.set("radius",o),e.firstCategoryDimIndex=0),Me(a)&&(r.set("angle",a),e.firstCategoryDimIndex=1)},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,o=i.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();sg(o.parallelAxisIndex,function(t,o){var s=i.getComponent("parallelAxis",t),u=a[o];n.set(u,s),Me(s)&&null==e.firstCategoryDimIndex&&(r.set(u,s),e.firstCategoryDimIndex=o)})}},lg=function(t){var e=t.get("coordinateSystem"),n={coordSysName:e,coordSysDims:[],axisMap:ag(),categoryAxisMap:ag()},r=ug[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n},cg="original",hg="arrayRows",fg="objectRows",dg="keyedColumns",pg="unknown",gg="typedArray",vg="column",mg="row",yg=nl.createHashMap,xg=nl.isTypedArray,_g=Rh,bg=cg,wg=vg,Mg=pg,Sg=gg,Ag=dg;Se.seriesDataToSource=function(t){return new Se({data:t,sourceFormat:xg(t)?Sg:bg,fromDataset:!1})},_g(Se);var Tg=Se,Og=Dh.makeInner,Cg=Dh.getDataItemValue,Ig=lg,kg=nl.createHashMap,Dg=nl.each,Lg=nl.map,Eg=nl.isArray,Pg=nl.isString,Ng=nl.isObject,jg=nl.isTypedArray,Rg=nl.isArrayLike,zg=nl.extend,Bg=(nl.assert,cg),Vg=hg,Fg=fg,Hg=dg,Wg=pg,Gg=gg,qg=mg,Ug=Og(),Yg=function(t){var e=t.option.source,n=Wg;if(jg(e))n=Gg;else if(Eg(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];if(null!=o){if(Eg(o)){n=Vg;break}if(Ng(o)){n=Fg;break}}}else if(Ng(e)){for(var a in e)if(e.hasOwnProperty(a)&&Rg(e[a])){n=Hg;break}}else if(null!=e)throw new Error("Invalid data");Ug(t).sourceFormat=n},Xg=function(t){return Ug(t).source},Zg=function(t){Ug(t).datasetMap=kg()},$g=function(t){var e=t.option,n=e.data,r=jg(n)?Gg:Bg,i=!1,o=e.seriesLayoutBy,a=e.sourceHeader,s=e.dimensions,u=function(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}(t);if(u){var l=u.option;n=l.source,r=Ug(u).sourceFormat,i=!0,o=o||l.seriesLayoutBy,null==a&&(a=l.sourceHeader),s=s||l.dimensions}var c=function(t,e,n,r,i){if(!t)return{dimensionsDefine:Ae(i)};var o,a,s,u;if(e===Vg)"auto"===r||null==r?Te(function(t){null!=t&&"-"!==t&&(Pg(t)?null==a&&(a=1):a=0)},n,t,10):a=r?1:0,i||1!==a||(i=[],Te(function(t,e){i[e]=null!=t?t:""},n,t)),o=i?i.length:n===qg?t.length:t[0]?t[0].length:null;else if(e===Fg)i||(i=function(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var r=[];return Dg(e,function(t,e){r.push(e)}),r}}(t),s=!0);else if(e===Hg)i||(i=[],s=!0,Dg(t,function(t,e){i.push(e)}));else if(e===Bg){var l=Cg(t[0]);o=Eg(l)&&l.length||1}return s&&Dg(i,function(t,e){"name"===(Ng(t)?t.name:t)&&(u=e)}),{startIndex:a,dimensionsDefine:Ae(i),dimensionsDetectCount:o,potentialNameDimIndex:u}}(n,r,o,a,s),h=e.encode;!h&&u&&(h=function(t,e,n,r,i,o){var a=Ig(t),s={},u=[],l=[],c=t.subType,h=kg(["pie","map","funnel"]),f=kg(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(a&&null!=f.get(c)){var d=t.ecModel,p=Ug(d).datasetMap,g=e.uid+"_"+i,v=p.get(g)||p.set(g,{categoryWayDim:1,valueWayDim:0});Dg(a.coordSysDims,function(t){if(null==a.firstCategoryDimIndex)e=v.valueWayDim++,s[t]=e,l.push(e);else if(a.categoryAxisMap.get(t))s[t]=0,u.push(0);else{var e=v.categoryWayDim++;s[t]=e,l.push(e)}})}else if(null!=h.get(c)){for(var m,y=0;y<5&&null==m;y++)Oe(n,r,i,o.dimensionsDefine,o.startIndex,y)||(m=y);if(null!=m){s.value=m;var x=o.potentialNameDimIndex||Math.max(m-1,0);l.push(x),u.push(x)}}return u.length&&(s.itemName=u),l.length&&(s.seriesName=l),s}(t,u,n,r,o,c)),Ug(t).source=new Tg({data:n,fromDataset:i,seriesLayoutBy:o,sourceFormat:r,dimensionsDefine:c.dimensionsDefine,startIndex:c.startIndex,dimensionsDetectCount:c.dimensionsDetectCount,encodeDefine:h})},Kg=function(t,e){return Oe(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)},Jg=nl.each,Qg=nl.filter,tv=nl.map,ev=nl.isArray,nv=nl.indexOf,rv=nl.isObject,iv=nl.isString,ov=nl.createHashMap,av=nl.assert,sv=nl.clone,uv=nl.merge,lv=nl.extend,cv=nl.mixin,hv=Zg,fv="\0_ec_inner",dv=kp.extend({init:function(t,e,n,r){n=n||{},this.option=null,this._theme=new kp(n),this._optionManager=r},setOption:function(t,e){av(!(fv in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var r=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(r)):function(t){t=t,this.option={},this.option[fv]=1,this._componentsMap=ov({series:[]}),this._seriesIndices,this._seriesIndicesMap,function(t,e){var n=t.color&&!t.colorLayer;Jg(e,function(e,r){"colorLayer"===r&&n||Qp.hasClass(r)||("object"==typeof e?t[r]=t[r]?uv(t[r],e,!1):sv(e):null==t[r]&&(t[r]=e))})}(t,this._theme.option),uv(t,eg,!1),this.mergeOption(t)}.call(this,r),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var i=n.getTimelineOption(this);i&&(this.mergeOption(i),e=!0)}if(!t||"recreate"===t||"media"===t){var o=n.getMediaOption(this,this._api);o.length&&Jg(o,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,n=this._componentsMap,r=[];hv(this),Jg(t,function(t,n){null!=t&&(Qp.hasClass(n)?n&&r.push(n):e[n]=null==e[n]?sv(t):uv(e[n],t,!0))}),Qp.topologicalTravel(r,Qp.getAllClassMainTypes(),function(r,i){var o=Dh.normalizeToArray(t[r]),a=Dh.mappingToExists(n.get(r),o);Dh.makeIdAndName(a),Jg(a,function(t,e){var n=t.option;rv(n)&&(t.keyInfo.mainType=r,t.keyInfo.subType=function(t,e,n){return e.type?e.type:n?n.subType:Qp.determineSubType(t,e)}(r,n,t.exist))});var s=function(t,e){ev(e)||(e=e?[e]:[]);var n={};return Jg(e,function(e){n[e]=(t.get(e)||[]).slice()}),n}(n,i);e[r]=[],n.set(r,[]),Jg(a,function(t,i){var o=t.exist,a=t.option;if(av(rv(a)||o,"Empty component definition"),a){var u=Qp.getClass(r,t.keyInfo.subType,!0);if(o&&o instanceof u)o.name=t.keyInfo.name,o.mergeOption(a,this),o.optionUpdated(a,!1);else{var l=lv({dependentModels:s,componentIndex:i},t.keyInfo);o=new u(a,this,this,l),lv(o,l),o.init(a,this,this,l),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);n.get(r)[i]=o,e[r][i]=o.option},this),"series"===r&&Ce(this,n.get("series"))},this),this._seriesIndicesMap=ov(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=sv(this.option);return Jg(t,function(e,n){if(Qp.hasClass(n)){for(var r=(e=Dh.normalizeToArray(e)).length-1;r>=0;r--)Dh.isIdInner(e[r])&&e.splice(r,1);t[n]=e}}),delete t[fv],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,i=t.id,o=t.name,a=this._componentsMap.get(e);if(!a||!a.length)return[];if(null!=r)ev(r)||(r=[r]),n=Qg(tv(r,function(t){return a[t]}),function(t){return!!t});else if(null!=i){var s=ev(i);n=Qg(a,function(t){return s&&nv(i,t.id)>=0||!s&&t.id===i})}else if(null!=o){var u=ev(o);n=Qg(a,function(t){return u&&nv(o,t.name)>=0||!u&&t.name===o})}else n=a.slice();return Ie(n,t)},findComponents:function(t){var e=t.query,n=t.mainType,r=function(t){var e=n+"Index",r=n+"Id",i=n+"Name";return!t||null==t[e]&&null==t[r]&&null==t[i]?null:{mainType:n,index:t[e],id:t[r],name:t[i]}}(e);return function(e){return t.filter?Qg(e,t.filter):e}(Ie(r?this.queryComponents(r):this._componentsMap.get(n),t))},eachComponent:function(t,e,n){var r=this._componentsMap;if("function"==typeof t)n=e,e=t,r.each(function(t,r){Jg(t,function(t,i){e.call(n,r,t,i)})});else if(iv(t))Jg(r.get(t),e,n);else if(rv(t)){var i=this.findComponents(t);Jg(i,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return Qg(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return Qg(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){Jg(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)},this)},eachRawSeries:function(t,e){Jg(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){Jg(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];i.subType===t&&e.call(n,i,r)},this)},eachRawSeriesByType:function(t,e,n){return Jg(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){Ce(this,Qg(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;Ce(this,e.get("series"));var n=[];e.each(function(t,e){n.push(e)}),Qp.topologicalTravel(n,Qp.getAllClassMainTypes(),function(n,r){Jg(e.get(n),function(e){("series"!==n||!function(t,e){if(e){var n=e.seiresIndex,r=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=i&&t.name!==i}}(e,t))&&e.restoreData()})})}});cv(dv,og);var pv=dv,gv=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],vv=function(t){nl.each(gv,function(e){this[e]=nl.bind(t[e],t)},this)},mv={};ke.prototype={constructor:ke,create:function(t,e){var n=[];nl.each(mv,function(r,i){var o=r.create(t,e);n=n.concat(o||[])}),this._coordinateSystems=n},update:function(t,e){nl.each(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},ke.register=function(t,e){mv[t]=e},ke.get=function(t){return mv[t]};var yv=ke,xv=nl.each,_v=nl.clone,bv=nl.map,wv=nl.merge,Mv=/^(min|max)?(.+)$/;De.prototype={constructor:De,setOption:function(t,e){t&&nl.each(Dh.normalizeToArray(t.series),function(t){t&&t.data&&nl.isTypedArray(t.data)&&nl.setAsPrimitive(t.data)}),t=_v(t,!0);var n=this._optionBackup,r=function(t,e,n){var r,i,o=[],a=[],s=t.timeline;if(t.baseOption&&(i=t.baseOption),(s||t.options)&&(i=i||{},o=(t.options||[]).slice()),t.media){i=i||{};var u=t.media;xv(u,function(t){t&&t.option&&(t.query?a.push(t):r||(r=t))})}return i||(i=t),i.timeline||(i.timeline=s),xv([i].concat(o).concat(nl.map(a,function(t){return t.option})),function(t){xv(e,function(e){e(t,n)})}),{baseOption:i,timelineOptions:o,mediaDefault:r,mediaList:a}}.call(this,t,e,!n);this._newBaseOption=r.baseOption,n?(function(t,e){xv(e=e||{},function(e,n){if(null!=e){var r=t[n];if(Qp.hasClass(n)){e=Dh.normalizeToArray(e),r=Dh.normalizeToArray(r);var i=Dh.mappingToExists(r,e);t[n]=bv(i,function(t){return t.option&&t.exist?wv(t.exist,t.option,!0):t.exist||t.option})}else t[n]=wv(r,e,!0)}})}(n.baseOption,r.baseOption),r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=bv(e.timelineOptions,_v),this._mediaList=bv(e.mediaList,_v),this._mediaDefault=_v(e.mediaDefault),this._currentMediaIndices=[],_v(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=_v(n[r.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,o=[],a=[];if(!r.length&&!i)return a;for(var s=0,u=r.length;s<u;s++)(function(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return nl.each(t,function(t,e){var n=e.match(Mv);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===o?t>=e:"max"===o?t<=e:t===e})(r[a],t)||(i=!1)}}),i})(r[s].query,e,n)&&o.push(s);return!o.length&&i&&(o=[-1]),o.length&&!function(t,e){return t.join(",")===e.join(",")}(o,this._currentMediaIndices)&&(a=bv(o,function(t){return _v(-1===t?i.option:r[t].option)})),this._currentMediaIndices=o,a}};var Sv=De,Av=nl.each,Tv=nl.isObject,Ov=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],Cv=nl.each,Iv=nl.isArray,kv=nl.isObject,Dv=Dh.normalizeToArray,Lv=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Ev=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Pv=function(t,e){(function(t,e){Av(Re(t.series),function(t){Tv(t)&&function(t){if(Tv(t)){Le(t),Pe(t),Ne(t,"label"),Ne(t,"upperLabel"),Ne(t,"edgeLabel"),t.emphasis&&(Ne(t.emphasis,"label"),Ne(t.emphasis,"upperLabel"),Ne(t.emphasis,"edgeLabel")),(n=t.markPoint)&&(Le(n),je(n)),(r=t.markLine)&&(Le(r),je(r));var e=t.markArea;e&&je(e);var n,r,i=t.data;if("graph"===t.type){i=i||t.nodes;var o=t.links||t.edges;if(o&&!nl.isTypedArray(o))for(s=0;s<o.length;s++)je(o[s]);nl.each(t.categories,function(t){Pe(t)})}if(i&&!nl.isTypedArray(i))for(s=0;s<i.length;s++)je(i[s]);if((n=t.markPoint)&&n.data)for(var a=n.data,s=0;s<a.length;s++)je(a[s]);if((r=t.markLine)&&r.data){var u=r.data;for(s=0;s<u.length;s++)nl.isArray(u[s])?(je(u[s][0]),je(u[s][1])):je(u[s])}"gauge"===t.type?(Ne(t,"axisLabel"),Ne(t,"title"),Ne(t,"detail")):"treemap"===t.type?(Ee(t.breadcrumb,"itemStyle"),nl.each(t.levels,function(t){Pe(t)})):"tree"===t.type&&Pe(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Av(n,function(e){Av(Re(t[e]),function(t){t&&(Ne(t,"axisLabel"),Ne(t.axisPointer,"label"))})}),Av(Re(t.parallel),function(t){var e=t&&t.parallelAxisDefault;Ne(e,"axisLabel"),Ne(e&&e.axisPointer,"label")}),Av(Re(t.calendar),function(t){Ee(t,"itemStyle"),Ne(t,"dayLabel"),Ne(t,"monthLabel"),Ne(t,"yearLabel")}),Av(Re(t.radar),function(t){Ne(t,"name")}),Av(Re(t.geo),function(t){Tv(t)&&(je(t),Av(Re(t.regions),function(t){je(t)}))}),Av(Re(t.timeline),function(t){je(t),Ee(t,"label"),Ee(t,"itemStyle"),Ee(t,"controlStyle",!0);var e=t.data;nl.isArray(e)&&nl.each(e,function(t){nl.isObject(t)&&(Ee(t,"label"),Ee(t,"itemStyle"))})}),Av(Re(t.toolbox),function(t){Ee(t,"iconStyle"),Av(t.feature,function(t){Ee(t,"iconStyle")})}),Ne(ze(t.axisPointer),"label"),Ne(ze(t.tooltip).axisPointer,"label")})(t,e),t.series=Dv(t.series),Cv(t.series,function(t){if(kv(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var n=function(t,e){e=e.split(",");for(var n=t,r=0;r<e.length&&null!=(n=n&&n[e[r]]);r++);return n}(t,"pointer.color");null!=n&&function(t,e,n,r){e=e.split(",");for(var i,o=t,a=0;a<e.length-1;a++)null==o[i=e[a]]&&(o[i]={}),o=o[i];null==o[e[a]]&&(o[e[a]]=n)}(t,"itemStyle.normal.color",n)}Be(t)}}),t.dataRange&&(t.visualMap=t.dataRange),Cv(Ev,function(e){var n=t[e];n&&(Iv(n)||(n=[n]),Cv(n,function(t){Be(t)}))})},Nv=nl.createHashMap,jv=nl.each,Rv=function(t){var e=Nv();t.eachSeries(function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),i=t.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),e.each(function(t){jv(t,function(e,n){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,u=a.map(o,function(o,u,l){var c,h,f=a.get(e.stackedDimension,l);if(isNaN(f))return i;s?h=a.getRawIndex(l):c=a.get(e.stackedByDimension,l);for(var d=NaN,p=n-1;p>=0;p--){var g=t[p];if(s||(h=g.data.rawIndexOf(g.stackedByDimension,c)),h>=0){var v=g.data.getByRawIndex(g.stackResultDimension,h);if(f>=0&&v>0||f<=0&&v<0){f+=v,d=v;break}}}return r[0]=f,r[1]=d,r});a.hostModel.setData(u),e.data=u})})},zv=(nl.isTypedArray,nl.extend),Bv=(nl.assert,nl.each),Vv=nl.isObject,Fv=Dh.getDataItemValue,Hv=Dh.isDataItemOption,Wv=Np.parseDate,Gv=gg,qv=hg,Uv=cg,Yv=fg,Xv=Ve.prototype;Xv.pure=!1,Xv.persistent=!0,Xv.getSource=function(){return this._source};var Zv={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:We},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,r=0;r<n.length;r++){var i=n[r];e.push(i?i[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Fe,getItem:He,appendData:We},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,r=0;r<n.length;r++){var i=this._data[n[r].name];e.push(i?i[t]:null)}return e},appendData:function(t){var e=this._data;Bv(t,function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])})}},original:{count:Fe,getItem:He,appendData:We},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,r=0;r<this._dimSize;r++)e[r]=this._data[n+r];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},$v={arrayRows:Ge,objectRows:function(t,e,n,r){return null!=n?t[r]:t},keyedColumns:Ge,original:function(t,e,n,r){var i=Fv(t);return null!=n&&i instanceof Array?i[n]:i},typedArray:Ge},Kv={DefaultDataProvider:Ve,defaultDimValueGetters:{arrayRows:qe,objectRows:function(t,e,n,r){return Ue(t[e],this._dimensionInfos[e])},keyedColumns:qe,original:function(t,e,n,r){var i=t&&(null==t.value?t:t.value);return!this._rawData.pure&&Hv(t)&&(this.hasItemOption=!0),Ue(i instanceof Array?i[r]:i,this._dimensionInfos[e])},typedArray:function(t,e,n,r){return t[r]}},retrieveRawValue:function(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i,o,a=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(i=s.name,o=s.index),$v[a](r,e,o,i)}}},retrieveRawAttr:function(t,e,n){if(t){var r=t.getProvider().getSource().sourceFormat;if(r===Uv||r===Yv){var i=t.getRawDataItem(e);return r!==Uv||Vv(i)||(i=null),i?i[n]:void 0}}}},Jv=Kv.retrieveRawValue,Qv=Vp.getTooltipMarker,tm=Vp.formatTpl,em=/\{@(.+?)\}/g,nm={getDataParams:function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:o,dataIndex:i,data:a,dataType:e,value:r,color:s,marker:Qv(s),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,r,i){e=e||"normal";var o=this.getData(n),a=o.getItemModel(t),s=this.getDataParams(t,n);null!=r&&s.value instanceof Array&&(s.value=s.value[r]);var u=a.get("normal"===e?[i||"label","formatter"]:[e,i||"label","formatter"]);return"function"==typeof u?(s.status=e,u(s)):"string"==typeof u?tm(u,s).replace(em,function(e,n){var r=n.length;return"["===n.charAt(0)&&"]"===n.charAt(r-1)&&(n=+n.slice(1,r-1)),Jv(o,t,n)}):void 0},getRawValue:function(t,e){return Jv(this.getData(e),t)},formatTooltip:function(){}},rm=(nl.assert,nl.isArray),im=Ye.prototype;im.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var n,r=this._upstream,i=t&&t.skip;if(this._dirty&&r){var o=this.context;o.data=o.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(n=this._plan(this.context));var a,s=e(this._modBy),u=this._modDataCount||0,l=e(t&&t.modBy),c=t&&t.modDataCount||0;s===l&&u===c||(n="reset"),(this._dirty||"reset"===n)&&(this._dirty=!1,a=function(t,e){var n,r;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((n=t._reset(t.context))&&n.progress&&(r=n.forceFirstProgress,n=n.progress),rm(n)&&!n.length&&(n=null)),t._progress=n,t._modBy=t._modDataCount=null;var i=t._downstream;return i&&i.dirty(),r}(this,i)),this._modBy=l,this._modDataCount=c;var h=t&&t.step;if(this._dueEnd=r?r._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,d=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(a||f<d)){var p=this._progress;if(rm(p))for(var g=0;g<p.length;g++)Xe(this,p[g],f,d,l,c);else Xe(this,p,f,d,l,c)}this._dueIndex=d;var v=null!=this._settedOutputEnd?this._settedOutputEnd:d;this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var om=function(){var t,e,n,r,i,o={reset:function(a,s,u,l){e=a,t=s,n=u,r=l,i=Math.ceil(r/n),o.next=n>1&&r>0?function(){var o=e%i*n+Math.ceil(e/i),a=e>=t?null:o<r?o:e;return e++,a}:function(){return e<t?e++:null}}};return o}();im.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},im.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},im.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},im.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},im.getUpstream=function(){return this._upstream},im.getDownstream=function(){return this._downstream},im.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var am=function(t){return new Ye(t)},sm=Vp.formatTime,um=Vp.encodeHTML,lm=Vp.addCommas,cm=Vp.getTooltipMarker,hm=Xp.getLayoutParams,fm=Xp.mergeLayoutParam,dm=am,pm=$g,gm=Xg,vm=Kv.retrieveRawValue,mm=Dh.makeInner(),ym=Qp.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=dm({count:function(t){return t.model.getRawData().count()},reset:function(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),function(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}}}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),pm(this);var i=this.getInitialData(t,n);$e(i,this),this.dataTask.context.data=i,mm(this).dataBeforeProcessed=i,Ze(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?hm(t):{},i=this.subType;Qp.hasClass(i)&&(i+="Series"),nl.merge(t,e.getTheme().get(this.subType)),nl.merge(t,this.getDefaultOption()),Dh.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&fm(t,r,n)},mergeOption:function(t,e){t=nl.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&fm(this.option,t,n),pm(this);var r=this.getInitialData(t,e);$e(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,mm(this).dataBeforeProcessed=r,Ze(this)},fillDataTextStyle:function(t){if(t&&!nl.isTypedArray(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&Dh.defaultEmphasis(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=Ke(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return mm(this).data},setData:function(t){var e=Ke(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}mm(this).data=t},getSource:function(){return gm(this)},getRawData:function(){return mm(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n){var r=this.getData(),i=r.mapDimension("defaultedTooltip",!0),o=i.length,a=this.getRawValue(t),s=nl.isArray(a),u=r.getItemVisual(t,"color");nl.isObject(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color),u=u||"transparent";var l=o>1||s&&!o?function(n){function o(t,n){var i=r.getDimensionInfo(n);if(i&&!1!==i.otherDims.tooltip){var o=i.type,l=cm({color:u,type:"subItem"}),c=(a?l+um(i.displayName||"-")+": ":"")+um("ordinal"===o?t+"":"time"===o?e?"":sm("yyyy/MM/dd hh:mm:ss",t):lm(t));c&&s.push(c)}}var a=nl.reduce(n,function(t,e,n){var i=r.getDimensionInfo(n);return t|(i&&!1!==i.tooltip&&null!=i.displayName)},0),s=[];return i.length?nl.each(i,function(e){o(vm(r,t,e),e)}):nl.each(n,o),(a?"<br/>":"")+s.join(a?"<br/>":", ")}(a):function(t){return um(lm(t))}(o?vm(r,t,i[0]):s?a[0]:a),c=cm(u),h=r.getName(t),f=this.name;return Dh.isNameSpecified(this)||(f=""),f=f?um(f)+(e?": ":"<br/>"):"",e?c+f+l:f+c+(h?um(h)+": "+l:l)},isAnimationEnabled:function(){if(Hu.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var r=this.ecModel,i=og.getColorFromPalette.call(this,t,e,n);return i||(i=r.getColorFromPalette(t,e,n)),i},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});nl.mixin(ym,nm),nl.mixin(ym,og);var xm=ym,_m=function(){this.group=new nc,this.uid=Ep.getUID("viewComponent")},bm=_m.prototype={constructor:_m,init:function(t,e){},render:function(t,e,n,r){},dispose:function(){}};bm.updateView=bm.updateLayout=bm.updateVisual=function(t,e,n,r){},jh(_m),zh(_m,{registerWhenExtend:!0});var wm=_m,Mm=Dh.makeInner,Sm=function(){var t=Mm();return function(e){var n=t(e),r=e.pipelineContext,i=n.large,o=n.progressiveRender,a=n.large=r.large,s=n.progressiveRender=r.progressiveRender;return!!(i^a||o^s)&&"reset"}},Am=nl.each,Tm=am,Om=Dh.makeInner(),Cm=Sm(),Im=Je.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,r){},highlight:function(t,e,n,r){tn(t.getData(),r,"emphasis")},downplay:function(t,e,n,r){tn(t.getData(),r,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};Im.updateView=Im.updateLayout=Im.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},jh(Je,["dispose"]),zh(Je,{registerWhenExtend:!0}),Je.markUpdateMethod=function(t,e){Om(t).updateMethod=e};var km={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Dm=Je,Lm="\0__throttleOriginMethod",Em="\0__throttleRate",Pm="\0__throttleType",Nm={throttle:en,createOrUpdate:function(t,e,n,r){var i=t[e];if(i){var o=i[Lm]||i,a=i[Pm];if(i[Em]!==n||a!==r){if(null==n||!r)return t[e]=o;(i=t[e]=en(o,n,"debounce"===r))[Lm]=o,i[Pm]=r,i[Em]=n}return i}},clear:function(t,e){var n=t[e];n&&n[Lm]&&(t[e]=n[Lm])}},jm={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=(t.visualColorAccessPath||"itemStyle.color").split("."),i=t.get(r)||t.getColorFromPalette(t.name,null,e.getSeriesCount());if(n.setVisual("color",i),!e.isSeriesFiltered(t))return"function"!=typeof i||i instanceof qd||n.each(function(e){n.setItemVisual(e,"color",i(t.getDataParams(e)))}),{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(r,!0);null!=n&&t.setItemVisual(e,"color",n)}:null}}},Rm={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},zm=Kv.retrieveRawValue,Bm=function(t,e){function n(t,e){if("string"!=typeof t)return t;var n=t;return nl.each(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function r(t){var e=i.get(t);if(null==e){for(var n=t.split("."),r=Rm.aria,o=0;o<n.length;++o)r=r[n[o]];return r}return e}var i=e.getModel("aria");if(i.get("show"))if(i.get("description"))t.setAttribute("aria-label",i.get("description"));else{var o=0;e.eachSeries(function(t,e){++o},this);var a,s=i.get("data.maxCount")||10,u=i.get("series.maxCount")||10,l=Math.min(o,u);if(!(o<1)){var c=function(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}();a=c?n(r("general.withTitle"),{title:c}):r("general.withoutTitle");var h=[];a+=n(r(o>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:o}),e.eachSeries(function(t,e){if(e<l){var i,a=t.get("name"),u="series."+(o>1?"multiple":"single")+".";i=n(i=r(a?u+"withName":u+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:function(t){return Rm.series.typeNames[t]||"自定义图"}(t.subType)});var c=t.getData();window.data=c,c.count()>s?i+=n(r("data.partialData"),{displayCnt:s}):i+=r("data.allData");for(var f=[],d=0;d<c.count();d++)if(d<s){var p=c.getName(d),g=zm(c,d);f.push(n(r(p?"data.withName":"data.withoutName"),{name:p,value:g}))}i+=f.join(r("data.separator.middle"))+r("data.separator.end"),h.push(i)}}),a+=h.join(r("series.multiple.separator.middle"))+r("series.multiple.separator.end"),t.setAttribute("aria-label",a)}}},Vm=Math.PI,Fm=function(t,e){e=e||{},nl.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new _p.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),r=new _p.Arc({shape:{startAngle:-Vm/2,endAngle:-Vm/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),i=new _p.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});r.animateShape(!0).when(1e3,{endAngle:3*Vm/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Vm/2}).delay(300).start("circularInOut");var o=new _p.Group;return o.add(r),o.add(i),o.add(n),o.resize=function(){var e=t.getWidth()/2,o=t.getHeight()/2;r.setShape({cx:e,cy:o});var a=r.shape.r;i.setShape({x:e-a,y:o-a,width:2*a,height:2*a}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},o.resize(),o},Hm=nl.each,Wm=nl.map,Gm=(nl.isArray,nl.isFunction),qm=nl.createHashMap,Um=nl.noop,Ym=am,Xm=Ep.getUID,Zm=Dh.normalizeToArray,$m=nn.prototype;$m.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},$m.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,i=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=r&&r.modDataCount;return{step:i,modBy:null!=o?Math.ceil(o/i):null,modDataCount:o}}},$m.getPipeline=function(t){return this._pipelineMap.get(t)},$m.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData().count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,o=t.get("large")&&r>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:a,large:o}},$m.restorePipelines=function(t){var e=this,n=e._pipelineMap=qm();t.eachSeries(function(t){var r=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),an(e,t,t.dataTask)})},$m.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;Hm(this._allHandlers,function(r){var i=t.get(r.uid)||t.set(r.uid,[]);r.reset&&function(t,e,n,r,i){function o(n){var o=n.uid,s=a.get(o)||a.set(o,Ym({plan:function(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)},reset:function(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Zm(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Wm(e,function(t,e){return on(e)}):Jm},count:function(t){return t.data.count()}}));s.context={model:n,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},an(t,n,s)}var a=n.seriesTaskMap||(n.seriesTaskMap=qm()),s=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(o):s?r.eachRawSeriesByType(s,o):u&&u(r,i).each(o);var l=t._pipelineMap;a.each(function(t,e){l.get(e)||(t.dispose(),a.removeKey(e))})}(this,r,i,e,n),r.overallReset&&function(t,e,n,r,i){function o(e){var n=e.uid,r=s.get(n);r||(r=s.set(n,Ym({reset:function(t,e){return t.overallProgress&&function(){this.agent.dirty(),this.getDownstream().dirty()}},onDirty:function(){this.agent&&this.agent.dirty()}})),a.dirty()),r.context={model:e,overallProgress:c,modifyOutputEnd:h},r.agent=a,r.__block=c,an(t,e,r)}var a=n.overallTask=n.overallTask||Ym({reset:function(t){t.overallReset(t.ecModel,t.api,t.payload)}});a.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:t};var s=a.agentStubMap=a.agentStubMap||qm(),u=e.seriesType,l=e.getTargetSeries,c=!0,h=e.modifyOutputEnd;u?r.eachRawSeriesByType(u,o):l?l(r,i).each(o):(c=!1,Hm(r.getSeries(),o));var f=t._pipelineMap;s.each(function(t,e){f.get(e)||(t.dispose(),a.dirty(),s.removeKey(e))})}(this,r,i,e,n)},this)},$m.prepareView=function(t,e,n,r){var i=t.renderTask,o=i.context;o.model=e,o.ecModel=n,o.api=r,i.__block=!t.incrementalPrepareRender,an(this,e,i)},$m.performDataProcessorTasks=function(t,e){rn(this,this._dataProcessorHandlers,t,e,{block:!0})},$m.performVisualTasks=function(t,e,n){rn(this,this._visualHandlers,t,e,n)},$m.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},$m.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var Km=$m.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},Jm=on(0);nn.wrapStageHandler=function(t,e){return Gm(t)&&(t={overallReset:t,seriesType:function(t){Qm=null;try{t(ty,ey)}catch(t){}return Qm}(t)}),t.uid=Xm("stageHandler"),e&&(t.visualType=e),t};var Qm,ty={},ey={};sn(ty,pv),sn(ey,vv),ty.eachSeriesByType=ty.eachRawSeriesByType=function(t){Qm=t},ty.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Qm=t.subType)};var ny=nn,ry=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],iy={color:ry,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ry]},oy=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],ay={color:oy,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:oy[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:oy},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};ay.categoryAxis.splitLine.show=!1;var sy=ay,uy=Yg,ly=vg;Qp.extend({type:"dataset",defaultOption:{seriesLayoutBy:ly,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){uy(this)}}),wm.extend({type:"dataset"}),ln.prototype={constructor:ln,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},r=[],i=[];for(cn(t,{},r,"_oldKeyGetter",this),cn(e,n,i,"_newKeyGetter",this),o=0;o<t.length;o++)null!=(s=n[a=r[o]])?((l=s.length)?(1===l&&(n[a]=null),s=s.unshift()):n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o);for(var o=0;o<i.length;o++){var a=i[o];if(n.hasOwnProperty(a)){var s=n[a];if(null==s)continue;if(s.length)for(var u=0,l=s.length;u<l;u++)this._add&&this._add(s[u]);else this._add&&this._add(s)}}}};var cy=ln,hy=nl.each,fy=nl.createHashMap,dy=(nl.assert,fy(["tooltip","label","itemName","itemId","seriesName"])),py={OTHER_DIMENSIONS:dy,summarizeDimensions:function(t){var e={},n=e.encode={},r=fy(),i=[],o=[];hy(t.dimensions,function(e){var a=t.getDimensionInfo(e),s=a.coordDim;if(s){var u=n[s];n.hasOwnProperty(s)||(u=n[s]=[]),u[a.coordDimIndex]=e,a.isExtraCoord||(r.set(s,1),function(t){return!("ordinal"===t||"time"===t)}(a.type)&&(i[0]=e)),a.defaultTooltip&&o.push(e)}dy.each(function(t,e){var r=n[e];n.hasOwnProperty(e)||(r=n[e]=[]);var i=a.otherDims[e];null!=i&&!1!==i&&(r[i]=a.name)})});var a=[],s={};r.each(function(t,e){var r=n[e];s[e]=r[0],a=a.concat(r)}),e.dataDimsOnCoord=a,e.encodeFirstDimNotExtra=s;var u=n.label;u&&u.length&&(i=u.slice());var l=n.tooltip;return l&&l.length?o=l.slice():o.length||(o=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=o,e},getDimensionTypeByAxis:function(t){return"category"===t?"ordinal":"time"===t?"time":"float"}},gy=Kv.defaultDimValueGetters,vy=Kv.DefaultDataProvider,my=py.summarizeDimensions,yy=nl.isObject,xy="e\0\0",_y={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},by="undefined"==typeof Uint32Array?Array:Uint32Array,wy="undefined"==typeof Uint16Array?Array:Uint16Array,My=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Sy=["_extent","_approximateExtent","_rawExtent"],Ay=function(t,e){t=t||["x","y"];for(var n={},r=[],i={},o=0;o<t.length;o++){var a=t[o];nl.isString(a)&&(a={name:a});var s=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=s,a.coordDimIndex=0),a.otherDims=a.otherDims||{},r.push(s),n[s]=a,a.index=o,a.createInvertedIndices&&(i[s]=[])}this.dimensions=r,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=my(this),this._invertedIndicesMap=i,this._calculationInfo={}},Ty=Ay.prototype;Ty.type="list",Ty.hasItemOption=!0,Ty.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},Ty.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Ty.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Ty.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return!0===e?(r||[]).slice():r&&r[e]},Ty.initData=function(t,e,n){(Tg.isInstance(t)||nl.isArrayLike(t))&&(t=new vy(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=gy[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Ty.getProvider=function(){return this._rawData},Ty.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var r=e.count();e.persistent||(r+=n),this._initDataFromProvider(n,r)},Ty._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,r=this._chunkSize,i=this._rawData,o=this._storage,a=this.dimensions,s=a.length,u=this._dimensionInfos,l=this._nameList,c=this._idList,h=this._rawExtent,f=this._nameRepeatCount={},d=this._chunkCount,p=d-1,g=0;g<s;g++){h[T=a[g]]||(h[T]=[1/0,-1/0]);var v=u[T];0===v.otherDims.itemName&&(n=this._nameDimIdx=g),0===v.otherDims.itemId&&(this._idDimIdx=g);var m=_y[v.type];o[T]||(o[T]=[]);var y=o[T][p];if(y&&y.length<r){for(var x=new m(Math.min(e-p*r,r)),_=0;_<y.length;_++)x[_]=y[_];o[T][p]=x}for(A=d*r;A<e;A+=r)o[T].push(new m(Math.min(e-A,r)));this._chunkCount=o[T].length}for(var b=new Array(s),w=t;w<e;w++){b=i.getItem(w,b);for(var M=Math.floor(w/r),S=w%r,A=0;A<s;A++){var T=a[A],O=o[T][M],C=this._dimValueGetter(b,T,w,A);O[S]=C;var I=h[T];C<I[0]&&(I[0]=C),C>I[1]&&(I[1]=C)}if(!i.pure){var k=l[w];if(b&&null==k)if(null!=b.name)l[w]=k=b.name;else if(null!=n){var D=a[n],L=o[D][M];if(L){k=L[S];var E=u[D].ordinalMeta;E&&E.categories.length&&(k=E.categories[k])}}var P=null==b?null:b.id;null==P&&null!=k&&(f[k]=f[k]||0,P=k,f[k]>0&&(P+="__ec__"+f[k]),f[k]++),null!=P&&(c[w]=P)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent={},function(t){var e=t._invertedIndicesMap;nl.each(e,function(n,r){var i=t._dimensionInfos[r].ordinalMeta;if(i){for(n=e[r]=new by(i.categories.length),o=0;o<n.length;o++)n[o]=NaN;for(var o=0;o<t._count;o++)n[t.get(r,o)]=o}})}(this)}},Ty.count=function(){return this._count},Ty.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array)for(r=new e(n),i=0;i<n;i++)r[i]=t[i];else r=new e(t.buffer,0,n)}else for(var r=new(e=hn(this))(this.count()),i=0;i<r.length;i++)r[i]=i;return r},Ty.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var r=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return n[t][r][i]},Ty.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var r=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return n[r][i]},Ty._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return this._storage[t][n][r]},Ty.getValues=function(t,e){var n=[];nl.isArray(t)||(e=t,t=this.dimensions);for(var r=0,i=t.length;r<i;r++)n.push(this.get(t[r],e));return n},Ty.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,r=0,i=e.length;r<i;r++)if("ordinal"!==n[e[r]].type&&isNaN(this.get(e[r],t)))return!1;return!0},Ty.getDataExtent=function(t){t=this.getDimension(t);var e=[1/0,-1/0];if(!this._storage[t])return e;var n,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var i=(n=e)[0],o=n[1],a=0;a<r;a++){var s=this._getFast(t,this.getRawIndex(a));s<i&&(i=s),s>o&&(o=s)}return n=[i,o],this._extent[t]=n,n},Ty.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Ty.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Ty.getCalculationInfo=function(t){return this._calculationInfo[t]},Ty.setCalculationInfo=function(t,e){yy(t)?nl.extend(this._calculationInfo,t):this._calculationInfo[t]=e},Ty.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,r=this.count();n<r;n++){var i=this.get(t,n);isNaN(i)||(e+=i)}return e},Ty.getMedian=function(t){var e=[];this.each(t,function(t,n){isNaN(t)||e.push(t)});var n=[].concat(e).sort(function(t,e){return t-e}),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},Ty.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?-1:n},Ty.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},Ty.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var r=0,i=this._count-1;r<=i;){var o=(r+i)/2|0;if(e[o]<t)r=o+1;else{if(!(e[o]>t))return o;i=o-1}}return-1},Ty.indicesOfNearest=function(t,e,n){var r=[];if(!this._storage[t])return r;null==n&&(n=1/0);for(var i=Number.MAX_VALUE,o=-1,a=0,s=this.count();a<s;a++){var u=e-this.get(t,a),l=Math.abs(u);u<=n&&l<=i&&((l<i||u>=0&&o<0)&&(i=l,o=u,r.length=0),r.push(a))}return r},Ty.getRawIndex=pn,Ty.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];e.push(this.get(r,t))}return e},Ty.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||dn(this,this._nameDimIdx,e)||""},Ty.getId=function(t){return vn(this,this.getRawIndex(t))},Ty.each=function(t,e,n,r){if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;for(var i=(t=nl.map(mn(t),this.getDimension,this)).length,o=0;o<this.count();o++)switch(i){case 0:e.call(n,o);break;case 1:e.call(n,this.get(t[0],o),o);break;case 2:e.call(n,this.get(t[0],o),this.get(t[1],o),o);break;default:for(var a=0,s=[];a<i;a++)s[a]=this.get(t[a],o);s[a]=o,e.apply(n,s)}}},Ty.filterSelf=function(t,e,n,r){if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this,t=nl.map(mn(t),this.getDimension,this);for(var i=this.count(),o=new(hn(this))(i),a=[],s=t.length,u=0,l=t[0],c=0;c<i;c++){var h,f=this.getRawIndex(c);if(0===s)h=e.call(n,c);else if(1===s){var d=this._getFast(l,f);h=e.call(n,d,c)}else{for(var p=0;p<s;p++)a[p]=this._getFast(l,f);a[p]=c,h=e.apply(n,a)}h&&(o[u++]=f)}return u<i&&(this._indices=o),this._count=u,this._extent={},this.getRawIndex=this._indices?gn:pn,this}},Ty.selectRange=function(t){if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=e.length;if(r){var i=this.count(),o=new(hn(this))(i),a=0,s=e[0],u=t[s][0],l=t[s][1],c=!1;if(!this._indices){var h=0;if(1===r){for(var f=this._storage[e[0]],d=0;d<this._chunkCount;d++)for(var p=f[d],g=Math.min(this._count-d*this._chunkSize,this._chunkSize),v=0;v<g;v++)((b=p[v])>=u&&b<=l||isNaN(b))&&(o[a++]=h),h++;c=!0}else if(2===r){f=this._storage[s];var m=this._storage[e[1]],y=t[e[1]][0],x=t[e[1]][1];for(d=0;d<this._chunkCount;d++){p=f[d];var _=m[d];for(g=Math.min(this._count-d*this._chunkSize,this._chunkSize),v=0;v<g;v++){var b=p[v],w=_[v];(b>=u&&b<=l||isNaN(b))&&(w>=y&&w<=x||isNaN(w))&&(o[a++]=h),h++}}c=!0}}if(!c)if(1===r)for(v=0;v<i;v++)S=this.getRawIndex(v),((b=this._getFast(s,S))>=u&&b<=l||isNaN(b))&&(o[a++]=S);else for(v=0;v<i;v++){var M=!0,S=this.getRawIndex(v);for(d=0;d<r;d++){var A=e[d];((b=this._getFast(n,S))<t[A][0]||b>t[A][1])&&(M=!1)}M&&(o[a++]=this.getRawIndex(v))}return a<i&&(this._indices=o),this._count=a,this._extent={},this.getRawIndex=this._indices?gn:pn,this}}},Ty.mapArray=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},Ty.map=function(t,e,n,r){n=n||r||this;var i=yn(this,t=nl.map(mn(t),this.getDimension,this));i._indices=this._indices,i.getRawIndex=i._indices?gn:pn;for(var o=i._storage,a=[],s=this._chunkSize,u=t.length,l=this.count(),c=[],h=i._rawExtent,f=0;f<l;f++){for(var d=0;d<u;d++)c[d]=this.get(t[d],f);c[u]=f;var p=e&&e.apply(n,c);if(null!=p){"object"!=typeof p&&(a[0]=p,p=a);for(var g=this.getRawIndex(f),v=Math.floor(g/s),m=g%s,y=0;y<p.length;y++){var x=t[y],_=p[y],b=h[x],w=o[x];w&&(w[v][m]=_),_<b[0]&&(b[0]=_),_>b[1]&&(b[1]=_)}}}return i},Ty.downSample=function(t,e,n,r){for(var i=yn(this,[t]),o=i._storage,a=[],s=Math.floor(1/e),u=o[t],l=this.count(),c=this._chunkSize,h=i._rawExtent[t],f=new(hn(this))(l),d=0,p=0;p<l;p+=s){s>l-p&&(s=l-p,a.length=s);for(var g=0;g<s;g++){var v=this.getRawIndex(p+g),m=Math.floor(v/c),y=v%c;a[g]=u[m][y]}var x=n(a),_=this.getRawIndex(Math.min(p+r(a,x)||0,l-1)),b=_%c;u[Math.floor(_/c)][b]=x,x<h[0]&&(h[0]=x),x>h[1]&&(h[1]=x),f[d++]=_}return i._count=d,i._indices=f,i.getRawIndex=gn,i},Ty.getItemModel=function(t){var e=this.hostModel;return new kp(this.getRawDataItem(t),e,e&&e.ecModel)},Ty.diff=function(t){var e=this;return new cy(t?t.getIndices():[],this.getIndices(),function(e){return vn(t,e)},function(t){return vn(e,t)})},Ty.getVisual=function(t){var e=this._visual;return e&&e[t]},Ty.setVisual=function(t,e){if(yy(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},Ty.setLayout=function(t,e){if(yy(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},Ty.getLayout=function(t){return this._layout[t]},Ty.getItemLayout=function(t){return this._itemLayouts[t]},Ty.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?nl.extend(this._itemLayouts[t]||{},e):e},Ty.clearItemLayouts=function(){this._itemLayouts.length=0},Ty.getItemVisual=function(t,e,n){var r=this._itemVisuals[t],i=r&&r[e];return null!=i||n?i:this.getVisual(e)},Ty.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{},i=this.hasItemVisual;if(this._itemVisuals[t]=r,yy(e))for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o],i[o]=!0);else r[e]=n,i[e]=!0},Ty.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}},Ty.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType},e)),this._graphicEls[t]=e},Ty.getItemGraphicEl=function(t){return this._graphicEls[t]},Ty.eachItemGraphicEl=function(t,e){nl.each(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},Ty.cloneShallow=function(t){if(!t){var e=nl.map(this.dimensions,this.getDimensionInfo,this);t=new Ay(e,this.hostModel)}if(t._storage=this._storage,fn(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?gn:pn,t},Ty.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(nl.slice(arguments)))})},Ty.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Ty.CHANGABLE_METHODS=["filterSelf","selectRange"];var Oy=Ay,Cy=nl.createHashMap,Iy=nl.each,ky=nl.isString,Dy=nl.defaults,Ly=nl.extend,Ey=nl.isObject,Py=nl.clone,Ny=Dh.normalizeToArray,jy=Kg,Ry=py.OTHER_DIMENSIONS,zy=function(t,e,n){function r(t,e,n){null!=Ry.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,s.set(e,!0))}Tg.isInstance(e)||(e=Tg.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var i=(n.dimsDef||[]).slice(),o=Cy(n.encodeDef),a=Cy(),s=Cy(),u=[],l=function(t,e,n,r){var i=Math.max(t.dimensionsDetectCount||1,e.length,n.length,r||0);return Iy(e,function(t){var e=t.dimsDef;e&&(i=Math.max(i,e.length))}),i}(e,t,i,n.dimCount),c=0;c<l;c++){var h=i[c]=Ly({},Ey(i[c])?i[c]:{name:i[c]}),f=h.name,d=u[c]={otherDims:{}};null!=f&&null==a.get(f)&&(d.name=d.displayName=f,a.set(f,c)),null!=h.type&&(d.type=h.type),null!=h.displayName&&(d.displayName=h.displayName)}o.each(function(t,e){t=Ny(t).slice();var n=o.set(e,[]);Iy(t,function(t,i){ky(t)&&(t=a.get(t)),null!=t&&t<l&&(n[i]=t,r(u[t],e,i))})});var p=0;Iy(t,function(t,e){var n,i,a;if(ky(t))n=t,t={};else{n=t.name;var s=t.ordinalMeta;t.ordinalMeta=null,(t=Py(t)).ordinalMeta=s,i=t.dimsDef,a=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var l=Ny(o.get(n));if(!l.length)for(var c=0;c<(i&&i.length||1);c++){for(;p<u.length&&null!=u[p].coordDim;)p++;p<u.length&&l.push(p++)}Iy(l,function(e,o){var s=u[e];if(r(Dy(s,t),n,o),null==s.name&&i){var l=i[o];!Ey(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}a&&Dy(s.otherDims,a)})});var g=n.generateCoord,v=n.generateCoordCount,m=null!=v;v=g?v||1:0;for(var y=g||"value",x=0;x<l;x++)null==(d=u[x]=u[x]||{}).coordDim&&(d.coordDim=xn(y,s,m),d.coordDimIndex=0,(!g||v<=0)&&(d.isExtraCoord=!0),v--),null==d.name&&(d.name=xn(d.coordDim,a)),null==d.type&&jy(e,x,d.name)&&(d.type="ordinal");return u},By=function(t,e){return zy((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})},Vy=nl.each,Fy=nl.isString,Hy={enableDataStack:function(t,e,n){var r,i,o,a,s=(n=n||{}).byIndex,u=n.stackedCoordDimension,l=!(!t||!t.get("stack"));if(Vy(e,function(t,n){Fy(t)&&(e[n]=t={name:t}),l&&!t.isExtraCoord&&(s||r||!t.ordinalMeta||(r=t),i||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(i=t))}),!i||s||r||(s=!0),i){o="__\0ecstackresult",a="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var c=i.coordDim,h=i.type,f=0;Vy(e,function(t){t.coordDim===c&&f++}),e.push({name:o,coordDim:c,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0}),f++,e.push({name:a,coordDim:a,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:i&&i.name,stackedByDimension:r&&r.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:o}},isDimensionStacked:_n,getStackedDimension:function(t,e){return _n(t,e)?t.getCalculationInfo("stackResultDimension"):e}},Wy=cg,Gy=py.getDimensionTypeByAxis,qy=Dh.getDataItemValue,Uy=lg,Yy=Hy.enableDataStack,Xy=function(t,e,n){n=n||{},Tg.isInstance(t)||(t=Tg.seriesDataToSource(t));var r,i=e.get("coordinateSystem"),o=yv.get(i),a=Uy(e);a&&(r=nl.map(a.coordSysDims,function(t){var e={name:t},n=a.axisMap.get(t);if(n){var r=n.get("type");e.type=Gy(r)}return e})),r||(r=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var s,u,l=By(t,{coordDimensions:r,generateCoord:n.generateCoord});a&&nl.each(l,function(t,e){var n=t.coordDim,r=a.categoryAxisMap.get(n);r&&(null==s&&(s=e),t.ordinalMeta=r.getOrdinalMeta()),null!=t.otherDims.itemName&&(u=!0)}),u||null==s||(l[s].otherDims.itemName=0);var c=Yy(e,l),h=new Oy(l,e);h.setCalculationInfo(c);var f=null!=s&&function(t){if(t.sourceFormat===Wy){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!nl.isArray(qy(e))}}(t)?function(t,e,n,r){return r===s?n:this.defaultDimValueGetter(t,e,n,r)}:null;return h.hasItemOption=!1,h.initData(t,null,f),h};bn.prototype.parse=function(t){return t},bn.prototype.getSetting=function(t){return this._setting[t]},bn.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},bn.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},bn.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},bn.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},bn.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},bn.prototype.getExtent=function(){return this._extent.slice()},bn.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},bn.prototype.isBlank=function(){return this._isBlank},bn.prototype.setBlank=function(t){this._isBlank=t},bn.prototype.getLabel=null,jh(bn),zh(bn,{registerWhenExtend:!0});var Zy=bn,$y=nl.createHashMap,Ky=nl.isObject,Jy=nl.map;wn.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&Jy(n,function(t){return Ky(t)&&null!=t.value?t.value:t+""});return new wn({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})};var Qy=wn.prototype;Qy.getOrdinal=function(t){return Mn(this).get(t)},Qy.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=Mn(this);return null==(e=r.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e};var tx=wn,ex=Zy.prototype,nx=Zy.extend({type:"ordinal",init:function(t,e){t&&!nl.isArray(t)||(t=new tx({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),ex.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return ex.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(ex.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:nl.noop,niceExtent:nl.noop});nx.create=function(){return new nx};var rx=nx,ix=Np.round,ox={intervalScaleNiceTicks:function(t,e,n,r){var i={},o=t[1]-t[0],a=i.interval=Np.nice(o/e,!0);null!=n&&a<n&&(a=i.interval=n),null!=r&&a>r&&(a=i.interval=r);var s=i.intervalPrecision=Sn(a);return Tn(i.niceTickExtent=[ix(Math.ceil(t[0]/a)*a,s),ix(Math.floor(t[1]/a)*a,s)],t),i},getIntervalPrecision:Sn,fixExtent:Tn,intervalScaleGetTicks:function(t,e,n,r){var i=[];if(!t)return i;e[0]<n[0]&&i.push(e[0]);for(var o=n[0];o<=n[1]&&(i.push(o),(o=ix(o+t,r))!==i[i.length-1]);)if(i.length>1e4)return[];return e[1]>(i.length?i[i.length-1]:n[1])&&i.push(e[1]),i}},ax=Np.round,sx=Zy.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),sx.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=ox.getIntervalPrecision(t)},getTicks:function(){return ox.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=Np.getPrecisionSafe(t)||0:"auto"===n&&(n=this._intervalPrecision),t=ax(t,n,!0),Vp.addCommas(t)},niceTicks:function(t,e,n){t=t||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var o=ox.intervalScaleNiceTicks(r,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=ax(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=ax(Math.ceil(e[1]/i)*i))}});sx.create=function(){return new sx};var ux=sx,lx=Np.parsePercent,cx=Hy.isDimensionStacked,hx="__ec_stack_",fx="undefined"!=typeof Float32Array?Float32Array:Array,dx={getLayoutOnAxis:function(t){var e=[],n=t.axis;if("category"===n.type){for(var r=n.getBandWidth(),i=0;i<t.count;i++)e.push(nl.defaults({bandWidth:r,axisKey:"axis0",stackId:hx+i},t));var o=Dn(e),a=[];for(i=0;i<t.count;i++){var s=o.axis0[hx+i];s.offsetCenter=s.offset+s.width/2,a.push(s)}return a}},prepareLayoutBarSeries:In,makeColumnLayout:kn,retrieveColumnLayout:Ln,layout:function(t,e){var n=In(t,e),r=kn(n),i={},o={};nl.each(n,function(t){var e=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),s=On(t),u=r[Cn(a)][s],l=u.offset,c=u.width,h=n.getOtherAxis(a),f=t.get("barMinHeight")||0;i[s]=i[s]||[],o[s]=o[s]||[],e.setLayout({offset:l,size:c});for(var d=e.mapDimension(h.dim),p=e.mapDimension(a.dim),g=cx(e,d),v=h.isHorizontal(),m=Nn(a,h,g),y=0,x=e.count();y<x;y++){var _=e.get(d,y),b=e.get(p,y);if(!isNaN(_)){var w,M,S,A,T=_>=0?"p":"n",O=m;if(g&&(i[s][b]||(i[s][b]={p:m,n:m}),O=i[s][b][T]),v)w=O,M=(C=n.dataToPoint([_,b]))[1]+l,S=C[0]-m,A=c,Math.abs(S)<f&&(S=(S<0?-1:1)*f),g&&(i[s][b][T]+=S);else{var C=n.dataToPoint([b,_]);w=C[0]+l,M=O,S=c,A=C[1]-m,Math.abs(A)<f&&(A=(A<=0?-1:1)*f),g&&(i[s][b][T]+=A)}e.setItemLayout(y,{x:w,y:M,width:S,height:A})}}},this)},largeLayout:{seriesType:"bar",plan:Sm(),reset:function(t){if(En(t)&&Pn(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),i=n.getOtherAxis(r),o=e.mapDimension(i.dim),a=e.mapDimension(r.dim),s=i.isHorizontal(),u=s?0:1,l=Ln(kn([t]),r,t).width;return l>.5||(l=.5),{progress:function(t,e){for(var c,h=new fx(2*t.count),f=[],d=[],p=0;null!=(c=t.next());)d[u]=e.get(o,c),d[1-u]=e.get(a,c),f=n.dataToPoint(d,null,f),h[p++]=f[0],h[p++]=f[1];e.setLayout({largePoints:h,barWidth:l,valueAxisStart:Nn(r,i,!1),valueAxisHorizontal:s})}}}}}},px=ux.prototype,gx=Math.ceil,vx=Math.floor,mx=ux.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return Vp.formatTime(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=Np.round(vx(e[0]/r)*r)),t.fixMax||(e[1]=Np.round(gx(e[1]/r)*r))},niceTicks:function(t,e,n){t=t||10;var r=this._extent,i=r[1]-r[0],o=i/t;null!=e&&o<e&&(o=e),null!=n&&o>n&&(o=n);var a=yx.length,s=function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n}(yx,o,0,a),u=yx[Math.min(s,a-1)],l=u[1];if("year"===u[0]){var c=i/l;l*=Np.nice(c/t,!0)}var h=this.getSetting("useUTC")?0:60*new Date(+r[0]||+r[1]).getTimezoneOffset()*1e3,f=[Math.round(gx((r[0]-h)/l)*l+h),Math.round(vx((r[1]-h)/l)*l+h)];ox.fixExtent(f,r),this._stepLvl=u,this._interval=l,this._niceExtent=f},parse:function(t){return+Np.parseDate(t)}});nl.each(["contain","normalize"],function(t){mx.prototype[t]=function(e){return px[t].call(this,this.parse(e))}});var yx=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];mx.create=function(t){return new mx({useUTC:t.ecModel.get("useUTC")})};var xx=Zy.prototype,_x=ux.prototype,bx=Np.getPrecisionSafe,Mx=Np.round,Sx=Math.floor,Ax=Math.ceil,Tx=Math.pow,Ox=Math.log,Cx=Zy.extend({type:"log",base:10,$constructor:function(){Zy.apply(this,arguments),this._originalScale=new ux},getTicks:function(){var t=this._originalScale,e=this._extent,n=t.getExtent();return nl.map(_x.getTicks.call(this),function(r){var i=Np.round(Tx(this.base,r));return i=r===e[0]&&t.__fixMin?jn(i,n[0]):i,r===e[1]&&t.__fixMax?jn(i,n[1]):i},this)},getLabel:_x.getLabel,scale:function(t){return t=xx.scale.call(this,t),Tx(this.base,t)},setExtent:function(t,e){var n=this.base;t=Ox(t)/Ox(n),e=Ox(e)/Ox(n),_x.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=xx.getExtent.call(this);e[0]=Tx(t,e[0]),e[1]=Tx(t,e[1]);var n=this._originalScale,r=n.getExtent();return n.__fixMin&&(e[0]=jn(e[0],r[0])),n.__fixMax&&(e[1]=jn(e[1],r[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Ox(t[0])/Ox(e),t[1]=Ox(t[1])/Ox(e),xx.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=Np.quantity(n);for(t/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var i=[Np.round(Ax(e[0]/r)*r),Np.round(Sx(e[1]/r)*r)];this._interval=r,this._niceExtent=i}},niceExtent:function(t){_x.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});nl.each(["contain","normalize"],function(t){Cx.prototype[t]=function(e){return e=Ox(e)/Ox(this.base),xx[t].call(this,e)}}),Cx.create=function(){return new Cx};var Ix=dx.prepareLayoutBarSeries,kx=dx.makeColumnLayout,Dx=dx.retrieveColumnLayout,Lx={getScaleExtent:Rn,niceScaleExtent:function(t,e){var n=Rn(t,e),r=null!=e.getMin(),i=null!=e.getMax(),o=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var a=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:o,fixMin:r,fixMax:i,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)},createScaleByModel:function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new rx(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new ux;default:return(Zy.getClass(e)||ux).create(t)}},ifAxisCrossZero:function(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)},makeLabelFormatter:zn,getAxisRawValue:Bn,estimateLabelUnionRect:function(t){var e=t.model,n=t.scale;if(e.get("axisLabel.show")&&!n.isBlank()){var r,i,o="category"===t.type,a=n.getExtent();i=o?n.count():(r=n.getTicks()).length;var s,u=t.getLabelModel(),l=zn(t),c=1;i>40&&(c=Math.ceil(i/40));for(var h=0;h<i;h+=c){var f=l(r?r[h]:a[0]+h),d=function(t,e){var n=(u.get("rotate")||0)*Math.PI/180,r=t.plain(),i=r.width,o=r.height,a=i*Math.cos(n)+o*Math.sin(n),s=i*Math.sin(n)+o*Math.cos(n);return new tc(r.x,r.y,a,s)}(u.getTextRect(f));s?s.union(d):s=d}return s}}},Ex={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!nl.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!nl.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:nl.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Px=_p.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),Nx=_p.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),jx=_p.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),u=r-o+a+s,l=Math.asin(s/a),c=Math.cos(l)*a,h=Math.sin(l),f=Math.cos(l),d=.6*a,p=.7*a;t.moveTo(n-c,u+s),t.arc(n,u,a,Math.PI-l,2*Math.PI+l),t.bezierCurveTo(n+c-h*d,u+s+f*d,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-c+h*d,u+s+f*d,n-c,u+s),t.closePath()}}),Rx=_p.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),zx={line:_p.Line,rect:_p.Rect,roundRect:_p.Rect,square:_p.Rect,circle:_p.Circle,diamond:Nx,pin:jx,arrow:Rx,triangle:Px},Bx={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},Vx={};nl.each(zx,function(t,e){Vx[e]=new t});var Fx=_p.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var r=e.symbolType,i=Vx[r];"none"!==e.symbolType&&(i||(i=Vx[r="rect"]),Bx[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n))}}),Hx={createSymbol:function(t,e,n,r,i,o,a){var s,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?_p.makeImage(t.slice(8),new tc(e,n,r,i),a?"center":"cover"):0===t.indexOf("path://")?_p.makePath(t.slice(7),{},new tc(e,n,r,i),a?"center":"cover"):new Fx({shape:{symbolType:t,x:e,y:n,width:r,height:i}})).__isEmptyBrush=u,s.setColor=function(t,e){if("image"!==this.type){var n=this.style,r=this.shape;r&&"line"===r.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}},s.setColor(o),s}},Wx=(Xp.getLayoutRect,Xp.getLayoutRect),Gx=Hy.enableDataStack,qx=Hy.isDimensionStacked,Ux=Hy.getStackedDimension,Yx={getLayoutRect:Wx,completeDimensions:zy,createDimensions:By,createSymbol:Hx.createSymbol,createList:function(t){return Xy(t.getSource(),t)},dataStack:{isDimensionStacked:qx,enableDataStack:Gx,getStackedDimension:Ux},createScale:function(t,e){var n=e;kp.isInstance(e)||(n=new kp(e),nl.mixin(n,Ex));var r=Lx.createScaleByModel(n);return r.setExtent(t[0],t[1]),Lx.niceScaleExtent(r,n),r},mixinAxisModelCommonMethods:function(t){nl.mixin(t,Ex)}},Xx=1e-8,Zx=function(t,e,n){var r=0,i=t[0];if(!i)return!1;for(var o=1;o<t.length;o++){var a=t[o];r+=Vf(i[0],i[1],a[0],a[1],e,n),i=a}var s=t[0];return Vn(i[0],s[0])&&Vn(i[1],s[1])||(r+=Vf(i[0],i[1],s[0],s[1],e,n)),0!==r};Fn.prototype={constructor:Fn,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],r=[-e,-e],i=[],o=[],a=this.geometries,s=0;s<a.length;s++)if("polygon"===a[s].type){var u=a[s].exterior;hf(u,i,o),il.min(n,n,i),il.max(r,r,o)}return 0===s&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new tc(n[0],n[1],r[0]-n[0],r[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,i=n.length;r<i;r++)if("polygon"===n[r].type){var o=n[r].exterior,a=n[r].interiors;if(Zx(o,t[0],t[1])){for(var s=0;s<(a?a.length:0);s++)if(Zx(a[s]))continue t;return!0}}return!1},transformTo:function(t,e,n,r){var i=this.getBoundingRect(),o=i.width/i.height;n?r||(r=n/o):n=o*r;for(var a=new tc(t,e,n,r),s=i.calculateTransform(a),u=this.geometries,l=0;l<u.length;l++)if("polygon"===u[l].type){for(var c=u[l].exterior,h=u[l].interiors,f=0;f<c.length;f++)il.applyTransform(c[f],c[f],s);for(var d=0;d<(h?h.length:0);d++)for(f=0;f<h[d].length;f++)il.applyTransform(h[d][f],h[d][f],s)}(i=this._rect).copy(a),this.center=[i.x+i.width/2,i.y+i.height/2]}};var $x=Fn,Kx=function(t){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,r=0;r<n.length;r++)for(var i=n[r].geometry,o=i.coordinates,a=i.encodeOffsets,s=0;s<o.length;s++){var u=o[s];if("Polygon"===i.type)o[s]=Hn(u,a[s],e);else if("MultiPolygon"===i.type)for(var l=0;l<u.length;l++){var c=u[l];u[l]=Hn(c,a[s][l],e)}}t.UTF8Encoding=!1}(t),nl.map(nl.filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,n=t.geometry,r=n.coordinates,i=[];"Polygon"===n.type&&i.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===n.type&&nl.each(r,function(t){t[0]&&i.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var o=new $x(e.name,i,e.cp);return o.properties=e,o})},Jx=Dh.makeInner,Qx=Lx.makeLabelFormatter,t_=Jx(),e_=function(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=Wn(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=Qx(t);return{labels:nl.map(e,function(e,r){return{formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e}})}}(t)},n_=function(t,e){return"category"===t.type?function(t,e){var n,r,i=Gn(t,"ticks"),o=Zn(e),a=qn(i,o);if(a)return a;if(e.get("show")&&!t.scale.isBlank()||(n=[]),nl.isFunction(o))n=Xn(t,o,!0);else if("auto"===o){var s=Wn(t,t.getLabelModel());r=s.labelCategoryInterval,n=nl.map(s.labels,function(t){return t.tickValue})}else n=Yn(t,r=o,!0);return Un(i,o,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:t.scale.getTicks()}},r_=function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=Qx(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var u=o[0],l=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(l*Math.cos(r)),h=Math.abs(l*Math.sin(r)),f=0,d=0;u<=o[1];u+=s){var p,g,v=Pc.getBoundingRect(n(u),e.font,"center","top");p=1.3*v.width,g=1.3*v.height,f=Math.max(f,p,7),d=Math.max(d,g,7)}var m=f/c,y=d/h;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(Math.min(m,y))),_=t_(t.model),b=_.lastAutoInterval,w=_.lastTickCount;return null!=b&&null!=w&&Math.abs(b-x)<=1&&Math.abs(w-a)<=1&&b>x?x=b:(_.lastTickCount=a,_.lastAutoInterval=x),x},i_=nl.each,o_=nl.map,a_=Np.linearMap,s_=Np.getPixelPrecision,u_=n_,l_=e_,c_=r_,h_=[0,1],f_=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};f_.prototype={constructor:f_,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return s_(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&$n(n=n.slice(),r.count()),a_(t,h_,n,e)},coordToData:function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&$n(n=n.slice(),r.count());var i=a_(t,n,h_,e);return this.scale.scale(i)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=u_(this,e),r=n.ticks,i=o_(r,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),o=e.get("alignWithLabel");return function(t,e,n,r,i){function o(t,e){return c?t>e:t<e}var a=e.length;if(t.onBand&&!r&&a){var s,u=t.getExtent();if(1===a)e[0].coord=u[0],s=e[1]={coord:u[0]};else{var l=e[1].coord-e[0].coord;i_(e,function(t){t.coord-=l/2;var e=e||0;e%2>0&&(t.coord-=l/(2*(e+1)))}),s={coord:e[a-1].coord+l},e.push(s)}var c=u[0]>u[1];o(e[0].coord,u[0])&&(i?e[0].coord=u[0]:e.shift()),i&&o(u[0],e[0].coord)&&e.unshift({coord:u[0]}),o(u[1],s.coord)&&(i?s.coord=u[1]:e.pop()),i&&o(s.coord,u[1])&&e.push({coord:u[1]})}}(this,i,n.tickCategoryInterval,o,t.clamp),i},getViewLabels:function(){return l_(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return c_(this)}};var d_=f_,p_=Ah,g_=dl,v_=il,m_=Ll,y_=_p,x_=Np,__=Vp,b_=Nm.throttle,w_=Yx,M_=Kx,S_=Oy,A_=kp,T_=d_,O_=Hu,C_=Kx,I_={};nl.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){I_[t]=nl[t]});var k_={zrender:p_,matrix:g_,vector:v_,color:m_,graphic:y_,number:x_,format:__,throttle:b_,helper:w_,parseGeoJSON:M_,List:S_,Model:A_,Axis:T_,env:O_,parseGeoJson:C_,util:I_},D_=t(function(t,e){function n(t){return function(e,n,r){e=e&&e.toLowerCase(),ul.prototype[t].call(this,e,n,r)}}function r(){ul.call(this)}function i(t,e,n){function i(t,e){return t.__prio-e.__prio}n=n||{},"string"==typeof e&&(e=X[e]),this.id,this.group,this._dom=t;var o=this._zr=Ah.init(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=O(nl.bind(o.flush,o),17),(e=nl.clone(e))&&Pv(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new yv;var a=this._api=function(t){var e=t._coordSysMgr;return nl.extend(new vv(t),{getCoordinateSystems:nl.bind(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}(this);ic(Y,i),ic(G,i),this._scheduler=new ny(this,a,G,Y),ul.call(this),this._messageCenter=new r,this._initEvents(),this.resize=nl.bind(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),function(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[R]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}(o,this),nl.setAsPrimitive(this)}function o(t,e,n){var r,i=this._model,o=this._coordSysMgr.getCoordinateSystems();e=Dh.parseFinder(i,e);for(var a=0;a<o.length;a++){var s=o[a];if(s[t]&&null!=(r=s[t](i,e,n)))return r}}function a(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),f(t,"component",e,n),f(t,"chart",e,n),n.plan()}function s(t,e,n,r,i){function o(r){r&&r.__alive&&r[e]&&r[e](r.__model,a,t._api,n)}var a=t._model;if(r){var s={};s[r+"Id"]=n[r+"Id"],s[r+"Index"]=n[r+"Index"],s[r+"Name"]=n[r+"Name"];var u={mainType:r,query:s};i&&(u.subType=i);var l=n.excludeSeriesId;null!=l&&(l=nl.createHashMap(Dh.normalizeToArray(l))),a&&a.eachComponent(u,function(e){l&&null!=l.get(e.id)||o(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else I(t._componentsViews.concat(t._chartsViews),o)}function u(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries(function(t){r.updateStreamModes(t,n[t.__viewId])})}function l(t,e){var n=t.type,r=t.escapeConnect,i=H[n],o=i.actionInfo,u=(o.update||"update").split(":"),l=u.pop();u=null!=u[0]&&L(u[0]),this[j]=!0;var c=[t],h=!1;t.batch&&(h=!0,c=nl.map(t.batch,function(e){return(e=nl.defaults(nl.extend({},e),t)).batch=null,e}));var f,d=[],p="highlight"===n||"downplay"===n;I(c,function(t){(f=(f=i.action(t,this._model,this._api))||nl.extend({},t)).type=o.event||f.type,d.push(f),p?s(this,l,t,"series"):u&&s(this,l,t,u.main,u.sub)},this),"none"===l||p||u||(this[R]?(a(this),V.update.call(this,t),this[R]=!1):V[l].call(this,t)),f=h?{type:o.event||n,escapeConnect:r,batch:d}:d[0],this[j]=!1,!e&&this._messageCenter.trigger(f.type,f)}function c(t){for(var e=this._pendingActions;e.length;){var n=e.shift();l.call(this,n,t)}}function h(t){!t&&this.trigger("updated")}function f(t,e,n,r){function i(t){var e="_ec_"+t.id+"_"+t.type,i=s[e];if(!i){var c=L(t.type);(i=new(o?wm.getClass(c.main,c.sub):Dm.getClass(c.sub))).init(n,l),s[e]=i,a.push(i),u.add(i.group)}t.__viewId=i.__id=e,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!o&&r.prepareView(i,t,n,l)}for(var o="component"===e,a=o?t._componentsViews:t._chartsViews,s=o?t._componentsMap:t._chartsMap,u=t._zr,l=t._api,c=0;c<a.length;c++)a[c].__alive=!1;for(o?n.eachComponent(function(t,e){"series"!==t&&i(e)}):n.eachSeries(i),c=0;c<a.length;){var h=a[c];h.__alive?c++:(!o&&h.renderTask.dispose(),u.remove(h.group),h.dispose(n,l),a.splice(c,1),delete s[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function d(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function p(t,e,n,r){!function(t,e,n,r,i){I(t._componentsViews,function(t){var i=t.__model;t.render(i,e,n,r),m(i,t)})}(t,e,n,r),I(t._chartsViews,function(t){t.__alive=!1}),g(t,e,n,r),I(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function g(t,e,n,r,i){var o,a=t._scheduler;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var s=n.renderTask;a.updatePayload(s,r),i&&i.get(e.uid)&&s.dirty(),o|=s.perform(a.getPerformArgs(s)),n.group.silent=!!e.get("silent"),m(e,n),function(t,e){var n=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}(e,n)}),a.unfinished|=o,function(t,e){var n=t.storage,r=0;n.traverse(function(t){t.isGroup||r++}),r>e.get("hoverLayerThreshold")&&!Hu.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}(t._zr,e),Bm(t._zr.dom,e)}function v(t,e){I(U,function(n){n(t,e)})}function m(t,e){var n=t.get("z"),r=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=r&&(t.zlevel=r))})}function y(t){K[t]=!1}function x(t){return $[Dh.getAttribute(t,tt)]}function _(t,e){X[t]=e}function b(t){q.push(t)}function w(t,e){A(G,t,e,E)}function M(t,e,n){"function"==typeof e&&(n=e,e="");var r=D(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,C(z.test(r)&&z.test(e)),H[r]||(H[r]={action:n,actionInfo:t}),W[e]=r}function S(t,e){A(Y,t,e,P,"visual")}function A(t,e,n,r,i){(k(e)||D(e))&&(n=e,e=r);var o=ny.wrapStageHandler(n,i);return o.__prio=e,o.__raw=n,t.push(o),o}function T(t,e){Z[t]=e}var O=Nm.throttle,C=nl.assert,I=nl.each,k=nl.isFunction,D=nl.isObject,L=Qp.parseClassType,E=1e3,P=3e3,N={PROCESSOR:{FILTER:E,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,GLOBAL:2e3,CHART:P,COMPONENT:4e3,BRUSH:5e3}},j="__flagInMainProcess",R="__optionUpdated",z=/^[a-zA-Z0-9_]+$/;r.prototype.on=n("on"),r.prototype.off=n("off"),r.prototype.one=n("one"),nl.mixin(r,ul);var B=i.prototype;B._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[R]){var e=this[R].silent;this[j]=!0,a(this),V.update.call(this),this[j]=!1,this[R]=!1,c.call(this,e),h.call(this,e)}else if(t.unfinished){var n=1,r=this._model;this._api,t.unfinished=!1;do{var i=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),u(this,r),t.performVisualTasks(r),g(this,this._model,0,"remain"),n-=+new Date-i}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},B.getDom=function(){return this._dom},B.getZr=function(){return this._zr},B.setOption=function(t,e,n){var r;if(D(e)&&(n=e.lazyUpdate,r=e.silent,e=e.notMerge),this[j]=!0,!this._model||e){var i=new Sv(this._api),o=this._theme,s=this._model=new pv(null,null,o,i);s.scheduler=this._scheduler,s.init(null,null,o,i)}this._model.setOption(t,q),n?(this[R]={silent:r},this[j]=!1):(a(this),V.update.call(this),this._zr.flush(),this[R]=!1,this[j]=!1,c.call(this,r),h.call(this,r))},B.setTheme=function(){},B.getModel=function(){return this._model},B.getOption=function(){return this._model&&this._model.getOption()},B.getWidth=function(){return this._zr.getWidth()},B.getHeight=function(){return this._zr.getHeight()},B.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},B.getRenderedCanvas=function(t){if(Hu.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},B.getSvgDataUrl=function(){if(Hu.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return nl.each(e,function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},B.getDataURL=function(t){var e=(t=t||{}).excludeComponents,n=this._model,r=[],i=this;I(e,function(t){n.eachComponent({mainType:t},function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return I(r,function(t){t.group.ignore=!1}),o},B.getConnectedDataURL=function(t){if(Hu.canvasSupported){var e=this.group,n=Math.min,r=Math.max;if(K[e]){var i=1/0,o=1/0,a=-1/0,s=-1/0,u=[],l=t&&t.pixelRatio||1;nl.each($,function(l,c){if(l.group===e){var h=l.getRenderedCanvas(nl.clone(t)),f=l.getDom().getBoundingClientRect();i=n(f.left,i),o=n(f.top,o),a=r(f.right,a),s=r(f.bottom,s),u.push({dom:h,left:f.left,top:f.top})}});var c=(a*=l)-(i*=l),h=(s*=l)-(o*=l),f=nl.createCanvas();f.width=c,f.height=h;var d=Ah.init(f);return I(u,function(t){var e=new _p.Image({style:{x:t.left*l-i,y:t.top*l-o,image:t.dom}});d.add(e)}),d.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},B.convertToPixel=nl.curry(o,"convertToPixel"),B.convertFromPixel=nl.curry(o,"convertFromPixel"),B.containPixel=function(t,e){var n,r=this._model;return t=Dh.parseFinder(r,t),nl.each(t,function(t,r){r.indexOf("Models")>=0&&nl.each(t,function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(e);else if("seriesModels"===r){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n|=o.containPoint(e,t))}},this)},this),!!n},B.getVisual=function(t,e){var n=this._model,r=(t=Dh.parseFinder(n,t,{defaultMainType:"series"})).seriesModel.getData(),i=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?r.indexOfRawIndex(t.dataIndex):null;return null!=i?r.getItemVisual(i,e):r.getVisual(e)},B.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},B.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var V={prepareAndUpdate:function(t){a(this),V.update.call(this,t)},update:function(t){var e=this._model,n=this._api,r=this._zr,i=this._coordSysMgr,o=this._scheduler;if(e){o.restoreData(e,t),o.performSeriesTasks(e),i.create(e,n),o.performDataProcessorTasks(e,t),u(this,e),i.update(e,n),d(e),o.performVisualTasks(e,t),p(this,e,n,t);var a=e.get("backgroundColor")||"transparent";if(Hu.canvasSupported)r.setBackgroundColor(a);else{var s=Ll.parse(a);a=Ll.stringify(s,"rgb"),0===s[3]&&(a="transparent")}v(e,n)}},updateTransform:function(t){var e=this._model,n=this,r=this._api;if(e){var i=[];e.eachComponent(function(o,a){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(a,e,r,t);u&&u.update&&i.push(s)}else i.push(s)});var o=nl.createHashMap();e.eachSeries(function(i){var a=n._chartsMap[i.__viewId];if(a.updateTransform){var s=a.updateTransform(i,e,r,t);s&&s.update&&o.set(i.uid,1)}else o.set(i.uid,1)}),d(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:o}),g(n,e,0,t,o),v(e,this._api)}},updateView:function(t){var e=this._model;e&&(Dm.markUpdateMethod(t,"updateView"),d(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),p(this,this._model,this._api,t),v(e,this._api))},updateVisual:function(t){V.update.call(this,t)},updateLayout:function(t){V.update.call(this,t)}};B.resize=function(t){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[j]=!0,n&&a(this),V.update.call(this),this[j]=!1,c.call(this,r),h.call(this,r)}},B.showLoading=function(t,e){if(D(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Z[t]){var n=Z[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},B.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},B.makeActionFromEvent=function(t){var e=nl.extend({},t);return e.type=W[t.type],e},B.dispatchAction=function(t,e){D(e)||(e={silent:!!e}),H[t.type]&&this._model&&(this[j]?this._pendingActions.push(t):(l.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Hu.browser.weChat&&this._throttledZrFlush(),c.call(this,e.silent),h.call(this,e.silent)))},B.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},B.on=n("on"),B.off=n("off"),B.one=n("one");var F=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];B._initEvents=function(){I(F,function(t){this._zr.on(t,function(e){var n,r=this.getModel(),i=e.target;if("globalout"===t)n={};else if(i&&null!=i.dataIndex){var o=i.dataModel||r.getSeriesByIndex(i.seriesIndex);n=o&&o.getDataParams(i.dataIndex,i.dataType)||{}}else i&&i.eventData&&(n=nl.extend({},i.eventData));n&&(n.event=e,n.type=t,this.trigger(t,n))},this)},this),I(W,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},B.isDisposed=function(){return this._disposed},B.clear=function(){this.setOption({series:[]},!0)},B.dispose=function(){if(!this._disposed){this._disposed=!0,Dh.setAttribute(this.getDom(),tt,"");var t=this._api,e=this._model;I(this._componentsViews,function(n){n.dispose(e,t)}),I(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete $[this.id]}},nl.mixin(i,ul);var H={},W={},G=[],q=[],U=[],Y=[],X={},Z={},$={},K={},J=new Date-0,Q=new Date-0,tt="_echarts_instance_",et={},nt=y;S(2e3,jm),b(Pv),w(5e3,Rv),T("default",Fm),M({type:"highlight",event:"highlight",update:"highlight"},nl.noop),M({type:"downplay",event:"downplay",update:"downplay"},nl.noop),_("light",iy),_("dark",sy),e.version="4.1.0",e.dependencies={zrender:"4.0.4"},e.PRIORITY=N,e.init=function(t,e,n){var r=x(t);if(r)return r;var o=new i(t,e,n);return o.id="ec_"+J++,$[o.id]=o,Dh.setAttribute(t,tt,o.id),function(t){function e(t,e){for(var r=0;r<t.length;r++)t[r][n]=e}var n="__connectUpdateStatus";I(W,function(r,i){t._messageCenter.on(i,function(r){if(K[t.group]&&0!==t[n]){if(r&&r.escapeConnect)return;var i=t.makeActionFromEvent(r),o=[];I($,function(e){e!==t&&e.group===t.group&&o.push(e)}),e(o,0),I(o,function(t){1!==t[n]&&t.dispatchAction(i)}),e(o,2)}})})}(o),o},e.connect=function(t){if(nl.isArray(t)){var e=t;t=null,I(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+Q++,I(e,function(e){e.group=t})}return K[t]=!0,t},e.disConnect=y,e.disconnect=nt,e.dispose=function(t){"string"==typeof t?t=$[t]:t instanceof i||(t=x(t)),t instanceof i&&!t.isDisposed()&&t.dispose()},e.getInstanceByDom=x,e.getInstanceById=function(t){return $[t]},e.registerTheme=_,e.registerPreprocessor=b,e.registerProcessor=w,e.registerPostUpdate=function(t){U.push(t)},e.registerAction=M,e.registerCoordinateSystem=function(t,e){yv.register(t,e)},e.getCoordinateSystemDimensions=function(t){var e=yv.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},e.registerLayout=function(t,e){A(Y,t,e,1e3,"layout")},e.registerVisual=S,e.registerLoading=T,e.extendComponentModel=function(t){return Qp.extend(t)},e.extendComponentView=function(t){return wm.extend(t)},e.extendSeriesModel=function(t){return xm.extend(t)},e.extendChartView=function(t){return Dm.extend(t)},e.setCanvasCreator=function(t){nl.$override("createCanvas",t)},e.registerMap=function(t,e,n){e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),et[t]={geoJson:e,specialAreas:n}},e.getMap=function(t){return et[t]},e.dataTool={},function(){for(var t in k_)k_.hasOwnProperty(t)&&(e[t]=k_[t])}()}),L_=(D_.version,D_.dependencies,D_.PRIORITY,D_.init,D_.connect,D_.disConnect,D_.disconnect,D_.dispose,D_.getInstanceByDom,D_.getInstanceById,D_.registerTheme,D_.registerPreprocessor,D_.registerProcessor,D_.registerPostUpdate,D_.registerAction,D_.registerCoordinateSystem,D_.getCoordinateSystemDimensions,D_.registerLayout,D_.registerVisual,D_.registerLoading,D_.extendComponentModel,D_.extendComponentView,D_.extendSeriesModel,D_.extendChartView,D_.setCanvasCreator,D_.registerMap,D_.getMap,D_.dataTool,xm.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return Xy(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}}),Kv.retrieveRawValue),E_={getDefaultLabel:function(t,e){var n=t.mapDimension("defaultedLabel",!0),r=n.length;if(1===r)return L_(t,e,n[0]);if(r){for(var i=[],o=0;o<n.length;o++){var a=L_(t,e,n[o]);i.push(a)}return i.join(" ")}}},P_=Hx.createSymbol,N_=Np.parsePercent,j_=E_.getDefaultLabel,R_=Kn.prototype,z_=Kn.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};R_._createSymbol=function(t,e,n,r,i){this.removeAll();var o=e.getItemVisual(n,"color"),a=P_(t,-1,-1,2,2,o,i);a.attr({z2:100,culling:!0,scale:Jn(r)}),a.drift=function(t,e){this.parent.drift(t,e)},this._symbolType=t,this.add(a)},R_.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},R_.getSymbolPath=function(){return this.childAt(0)},R_.getScale=function(){return this.childAt(0).scale},R_.highlight=function(){this.childAt(0).trigger("emphasis")},R_.downplay=function(){this.childAt(0).trigger("normal")},R_.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},R_.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},R_.updateData=function(t,e,n){this.silent=!1;var r=t.getItemVisual(e,"symbol")||"circle",i=t.hostModel,o=z_(t,e),a=r!==this._symbolType;if(a){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(r,t,e,o,s)}else(u=this.childAt(0)).silent=!1,_p.updateProps(u,{scale:Jn(o)},i,e);if(this._updateCommon(t,e,o,n),a){var u=this.childAt(0),l=n&&n.fadeIn,c={scale:u.scale.slice()};l&&(c.style={opacity:u.style.opacity}),u.scale=[0,0],l&&(u.style.opacity=0),_p.initProps(u,c,i,e)}this._seriesModel=i};var B_=["itemStyle"],V_=["emphasis","itemStyle"],F_=["label"],H_=["emphasis","label"];R_._updateCommon=function(t,e,n,r){var i=this.childAt(0),o=t.hostModel,a=t.getItemVisual(e,"color");"image"!==i.type&&i.useStyle({strokeNoScale:!0});var s=r&&r.itemStyle,u=r&&r.hoverItemStyle,l=r&&r.symbolRotate,c=r&&r.symbolOffset,h=r&&r.labelModel,f=r&&r.hoverLabelModel,d=r&&r.hoverAnimation,p=r&&r.cursorStyle;if(!r||t.hasItemOption){var g=r&&r.itemModel?r.itemModel:t.getItemModel(e);s=g.getModel(B_).getItemStyle(["color"]),u=g.getModel(V_).getItemStyle(),l=g.getShallow("symbolRotate"),c=g.getShallow("symbolOffset"),h=g.getModel(F_),f=g.getModel(H_),d=g.getShallow("hoverAnimation"),p=g.getShallow("cursor")}else u=nl.extend({},u);var v=i.style;i.attr("rotation",(l||0)*Math.PI/180||0),c&&i.attr("position",[N_(c[0],n[0]),N_(c[1],n[1])]),p&&i.attr("cursor",p),i.setColor(a,r&&r.symbolInnerColor),i.setStyle(s);var m=t.getItemVisual(e,"opacity");null!=m&&(v.opacity=m);var y=t.getItemVisual(e,"liftZ"),x=i.__z2Origin;null!=y?null==x&&(i.__z2Origin=i.z2,i.z2+=y):null!=x&&(i.z2=x,i.__z2Origin=null);var _=r&&r.useNameLabel;_p.setLabelStyle(v,u,h,f,{labelFetcher:o,labelDataIndex:e,defaultText:function(e,n){return _?t.getName(e):j_(t,e)},isRectText:!0,autoColor:a}),i.off("mouseover").off("mouseout").off("emphasis").off("normal"),i.hoverStyle=u,_p.setHoverStyle(i);var b=Jn(n);if(d&&o.isAnimationEnabled()){var w=function(){if(!this.incremental){var t=b[1]/b[0];this.animateTo({scale:[Math.max(1.1*b[0],b[0]+3),Math.max(1.1*b[1],b[1]+3*t)]},400,"elasticOut")}},M=function(){this.incremental||this.animateTo({scale:b},400,"elasticOut")};i.on("mouseover",w).on("mouseout",M).on("emphasis",w).on("normal",M)}},R_.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,!(e&&e.keepLabel)&&(n.style.text=null),_p.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},nl.inherits(Kn,_p.Group);var W_=Kn,G_=nl.isObject,q_=Qn.prototype;q_.updateData=function(t,e){e=er(e);var n=this.group,r=t.hostModel,i=this._data,o=this._symbolCtor,a=nr(t);i||n.removeAll(),t.diff(i).add(function(r){var i=t.getItemLayout(r);if(tr(t,i,r,e)){var s=new o(t,r,a);s.attr("position",i),t.setItemGraphicEl(r,s),n.add(s)}}).update(function(s,u){var l=i.getItemGraphicEl(u),c=t.getItemLayout(s);tr(t,c,s,e)?(l?(l.updateData(t,s,a),_p.updateProps(l,{position:c},r)):(l=new o(t,s)).attr("position",c),n.add(l),t.setItemGraphicEl(s,l)):n.remove(l)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._data=t},q_.isPersistent=function(){return!0},q_.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,n){var r=t.getItemLayout(n);e.attr("position",r)})},q_.incrementalPrepareUpdate=function(t){this._seriesScope=nr(t),this._data=null,this.group.removeAll()},q_.incrementalUpdate=function(t,e,n){n=er(n);for(var r=t.start;r<t.end;r++){var i=e.getItemLayout(r);if(tr(e,i,r,n)){var o=new this._symbolCtor(e,r,this._seriesScope);o.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),o.attr("position",i),this.group.add(o),e.setItemGraphicEl(r,o)}}},q_.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var U_=Qn,Y_=Hy.isDimensionStacked,X_=nl.map,Z_=function(t,e,n){var r,i=t.getBaseAxis(),o=t.getOtherAxis(i),a=function(t,e){var n=0,r=o.scale.getExtent();return"start"===e?n=r[0]:"end"===e?n=r[1]:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}(0,n),s=i.dim,u=o.dim,l=e.mapDimension(u),c=e.mapDimension(s),h="x"===u||"radius"===u?1:0,f=X_(t.dimensions,function(t){return e.mapDimension(t)}),d=e.getCalculationInfo("stackResultDimension");return(r|=Y_(e,f[0]))&&(f[0]=d),(r|=Y_(e,f[1]))&&(f[1]=d),{dataDimsForPoint:f,valueStart:a,valueAxisDim:u,baseAxisDim:s,stacked:!!r,valueDim:l,baseDim:c,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}},$_=function(t,e,n,r){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,r),a[1-o]=i,e.dataToPoint(a)},K_=Z_,J_=$_,Q_=il.min,tb=il.max,eb=il.scaleAndAdd,nb=il.copy,rb=[],ib=[],ob=[],ab={Polyline:Jf.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:yd(Jf.prototype.brush),buildPath:function(t,e){var n=e.points,r=0,i=n.length,o=or(n,e.smoothConstraint);if(e.connectNulls){for(;i>0&&rr(n[i-1]);i--);for(;r<i&&rr(n[r]);r++);}for(;r<i;)r+=ir(t,n,r,i,i,1,o.min,o.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Polygon:Jf.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:yd(Jf.prototype.brush),buildPath:function(t,e){var n=e.points,r=e.stackedOnPoints,i=0,o=n.length,a=e.smoothMonotone,s=or(n,e.smoothConstraint),u=or(r,e.smoothConstraint);if(e.connectNulls){for(;o>0&&rr(n[o-1]);o--);for(;i<o&&rr(n[i]);i++);}for(;i<o;){var l=ir(t,n,i,o,o,1,s.min,s.max,e.smooth,a,e.connectNulls);ir(t,r,i+l-1,l,o,-1,u.min,u.max,e.stackedOnSmooth,a,e.connectNulls),i+=l+1,t.closePath()}}})},sb=ab.Polyline,ub=ab.Polygon,lb=Np.round,cb=Z_,hb=$_,fb=(Dm.extend({type:"line",init:function(){var t=new _p.Group,e=new U_;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var r=t.coordinateSystem,i=this.group,o=t.getData(),a=t.getModel("lineStyle"),s=t.getModel("areaStyle"),u=o.mapArray(o.getItemLayout),l="polar"===r.type,c=this._coordSys,h=this._symbolDraw,f=this._polyline,d=this._polygon,p=this._lineGroup,g=t.get("animation"),v=!s.isEmpty(),m=s.get("origin"),y=function(t,e,n){if(!n.valueDim)return[];for(var r=[],i=0,o=e.count();i<o;i++)r.push(hb(n,t,e,i));return r}(r,o,cb(r,o,m)),x=t.get("showSymbol"),_=x&&!l&&function(t,e,n){var r=t.get("showAllSymbol"),i="auto"===r;if(!r||i){var o=n.getAxesByScale("ordinal")[0];if(o&&(!i||!function(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),o=Math.max(1,Math.round(i/5)),a=0;a<i;a+=o)if(1.5*W_.getSymbolSize(e,a)[t.isHorizontal()?1:0]>r)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return nl.each(o.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}(t,o,r),b=this._data;b&&b.eachItemGraphicEl(function(t,e){t.__temp&&(i.remove(t),b.setItemGraphicEl(e,null))}),x||h.remove(),i.add(p);var w=!l&&t.get("step");f&&c.type===r.type&&w===this._step?(v&&!d?d=this._newPolygon(u,y,r,g):d&&!v&&(p.remove(d),d=this._polygon=null),p.setClipPath(lr(r,!1,!1,t)),x&&h.updateData(o,{isIgnore:_,clipShape:lr(r,!1,!0,t)}),o.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),ar(this._stackedOnPoints,y)&&ar(this._points,u)||(g?this._updateAnimation(o,y,r,n,w,m):(w&&(u=cr(u,r,w),y=cr(y,r,w)),f.setShape({points:u}),d&&d.setShape({points:u,stackedOnPoints:y})))):(x&&h.updateData(o,{isIgnore:_,clipShape:lr(r,!1,!0,t)}),w&&(u=cr(u,r,w),y=cr(y,r,w)),f=this._newPolyline(u,r,g),v&&(d=this._newPolygon(u,y,r,g)),p.setClipPath(lr(r,!0,!1,t)));var M=function(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var r,i,o=n.length-1;o>=0;o--){var a=n[o].dimension,s=t.dimensions[a],u=t.getDimensionInfo(s);if("x"===(r=u&&u.coordDim)||"y"===r){i=n[o];break}}if(i){var l=e.getAxis(r),c=nl.map(i.stops,function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}}),h=c.length,f=i.outerColors.slice();h&&c[0].coord>c[h-1].coord&&(c.reverse(),f.reverse());var d=c[0].coord-10,p=c[h-1].coord+10,g=p-d;if(g<.001)return"transparent";nl.each(c,function(t){t.offset=(t.coord-d)/g}),c.push({offset:h?c[h-1].offset:.5,color:f[1]||"transparent"}),c.unshift({offset:h?c[0].offset:.5,color:f[0]||"transparent"});var v=new _p.LinearGradient(0,0,0,0,c,!0);return v[r]=d,v[r+"2"]=p,v}}}(o,r)||o.getVisual("color");f.useStyle(nl.defaults(a.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var S=t.get("smooth");if(S=sr(t.get("smooth")),f.setShape({smooth:S,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),d){var A=o.getCalculationInfo("stackedOnSeries"),T=0;d.useStyle(nl.defaults(s.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),A&&(T=sr(A.get("smooth"))),d.setShape({smooth:S,stackedOnSmooth:T,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=o,this._coordSys=r,this._stackedOnPoints=y,this._points=u,this._step=w,this._valueOrigin=m},dispose:function(){},highlight:function(t,e,n,r){var i=t.getData(),o=Dh.queryDataIndex(i,r);if(!(o instanceof Array)&&null!=o&&o>=0){var a=i.getItemGraphicEl(o);if(!a){var s=i.getItemLayout(o);if(!s)return;(a=new W_(i,o)).position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,i.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else Dm.prototype.highlight.call(this,t,e,n,r)},downplay:function(t,e,n,r){var i=t.getData(),o=Dh.queryDataIndex(i,r);if(null!=o&&o>=0){var a=i.getItemGraphicEl(o);a&&(a.__temp?(i.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else Dm.prototype.downplay.call(this,t,e,n,r)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new sb({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new ub({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(t,e,n,r,i,o){var a=this._polyline,s=this._polygon,u=t.hostModel,l=function(t,e,n,r,i,o,a,s){for(var u=function(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}(t,e),l=[],c=[],h=[],f=[],d=[],p=[],g=[],v=K_(i,e,a),m=K_(o,t,s),y=0;y<u.length;y++){var x=u[y],_=!0;switch(x.cmd){case"=":var b=t.getItemLayout(x.idx),w=e.getItemLayout(x.idx1);(isNaN(b[0])||isNaN(b[1]))&&(b=w.slice()),l.push(b),c.push(w),h.push(n[x.idx]),f.push(r[x.idx1]),g.push(e.getRawIndex(x.idx1));break;case"+":M=x.idx,l.push(i.dataToPoint([e.get(v.dataDimsForPoint[0],M),e.get(v.dataDimsForPoint[1],M)])),c.push(e.getItemLayout(M).slice()),h.push(J_(v,i,e,M)),f.push(r[M]),g.push(e.getRawIndex(M));break;case"-":var M=x.idx,S=t.getRawIndex(M);S!==M?(l.push(t.getItemLayout(M)),c.push(o.dataToPoint([t.get(m.dataDimsForPoint[0],M),t.get(m.dataDimsForPoint[1],M)])),h.push(n[M]),f.push(J_(m,o,t,M)),g.push(S)):_=!1}_&&(d.push(x),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});var A=[],T=[],O=[],C=[],I=[];for(y=0;y<p.length;y++)M=p[y],A[y]=l[M],T[y]=c[M],O[y]=h[M],C[y]=f[M],I[y]=d[M];return{current:A,next:T,stackedOnCurrent:O,stackedOnNext:C,status:I}}(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,o),c=l.current,h=l.stackedOnCurrent,f=l.next,d=l.stackedOnNext;i&&(c=cr(l.current,n,i),h=cr(l.stackedOnCurrent,n,i),f=cr(l.next,n,i),d=cr(l.stackedOnNext,n,i)),a.shape.__points=l.current,a.shape.points=c,_p.updateProps(a,{shape:{points:f}},u),s&&(s.setShape({points:c,stackedOnPoints:h}),_p.updateProps(s,{shape:{points:f,stackedOnPoints:d}},u));for(var p=[],g=l.status,v=0;v<g.length;v++)if("="===g[v].cmd){var m=t.getItemGraphicEl(g[v].idx1);m&&p.push({el:m,ptIdx:v})}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<p.length;t++)p[t].el.attr("position",a.shape.__points[p[t].ptIdx])})},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,r){t.__temp&&(e.remove(t),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}}),function(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,r,i){var o=t.getData(),a=t.get("symbol")||e,s=t.get("symbolSize"),u=t.get("symbolKeepAspect");if(o.setVisual({legendSymbol:n||a,symbol:a,symbolSize:s,symbolKeepAspect:u}),!r.isSeriesFiltered(t)){var l="function"==typeof s;return{dataEach:o.hasItemOption||l?function(e,n){if("function"==typeof s){var r=t.getRawValue(n),i=t.getDataParams(n);e.setItemVisual(n,"symbolSize",s(r,i))}if(e.hasItemOption){var o=e.getItemModel(n),a=o.getShallow("symbol",!0),u=o.getShallow("symbolSize",!0),l=o.getShallow("symbolKeepAspect",!0);null!=a&&e.setItemVisual(n,"symbol",a),null!=u&&e.setItemVisual(n,"symbolSize",u),null!=l&&e.setItemVisual(n,"symbolKeepAspect",l)}}:null}}}}}),db=nl.map,pb=Hy.isDimensionStacked,gb=function(t){return{seriesType:t,plan:Sm(),reset:function(t){var e=t.getData(),n=t.coordinateSystem,r=t.pipelineContext.large;if(n){var i=db(n.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),o=i.length,a=e.getCalculationInfo("stackResultDimension");return pb(e,i[0])&&(i[0]=a),pb(e,i[1])&&(i[1]=a),o&&{progress:function(t,e){for(var a=t.end-t.start,s=r&&new Float32Array(a*o),u=t.start,l=0,c=[],h=[];u<t.end;u++){var f;if(1===o)d=e.get(i[0],u),f=!isNaN(d)&&n.dataToPoint(d,null,h);else{var d=c[0]=e.get(i[0],u),p=c[1]=e.get(i[1],u);f=!isNaN(d)&&!isNaN(p)&&n.dataToPoint(c,null,h)}r?(s[l++]=f?f[0]:NaN,s[l++]=f?f[1]:NaN):e.setItemLayout(u,f&&f.slice()||[NaN,NaN])}r&&e.setLayout("symbolPoints",s)}}}}}},vb={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},mb=function(t,e){return Math.round(t.length/2)},yb=function(t){this._axes={},this._dimList=[],this.name=t||""};yb.prototype={constructor:yb,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return nl.map(this._dimList,function(t){return this._axes[t]},this)},getAxesByScale:function(t){return t=t.toLowerCase(),nl.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,r=t instanceof Array?[]:{},i=0;i<n.length;i++){var o=n[i],a=this._axes[o];r[o]=a[e](t[o])}return r}};var xb=yb;hr.prototype={constructor:hr,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var r=this.getAxis("x"),i=this.getAxis("y");return(n=n||[])[0]=r.toGlobalCoord(r.dataToCoord(t[0])),n[1]=i.toGlobalCoord(i.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,i=n.getExtent(),o=r.getExtent(),a=n.parse(t[0]),s=r.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),a),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),r=this.getAxis("y");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=r.coordToData(r.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},nl.inherits(hr,xb);var _b=hr,bb=function(t,e,n,r,i){d_.call(this,t,e,n),this.type=r||"value",this.position=i||"bottom"};bb.prototype={constructor:bb,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},nl.inherits(bb,d_);var wb=bb,Mb={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Sb={};Sb.categoryAxis=nl.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Mb),Sb.valueAxis=nl.merge({boundaryGap:[0,0],splitNumber:5},Mb),Sb.timeAxis=nl.defaults({scale:!0,min:"dataMin",max:"dataMax"},Sb.valueAxis),Sb.logAxis=nl.defaults({scale:!0,logBase:10},Sb.valueAxis);var Ab=Sb,Tb=Xp.getLayoutParams,Ob=Xp.mergeLayoutParam,Cb=["value","category","time","log"],Ib=function(t,e,n,r){nl.each(Cb,function(i){e.extend({type:t+"Axis."+i,mergeDefaultAndTheme:function(e,r){var o=this.layoutMode,a=o?Tb(e):{},s=r.getTheme();nl.merge(e,s.get(i+"Axis")),nl.merge(e,this.getDefaultOption()),e.type=n(t,e),o&&Ob(e,a,o)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=tx.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:nl.mergeAll([{},Ab[i+"Axis"],r],!0)})}),Qp.registerSubTypeDefaulter(t+"Axis",nl.curry(n,t))},kb=Qp.extend({type:"cartesian2dAxis",axis:null,init:function(){kb.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){kb.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){kb.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});nl.merge(kb.prototype,Ex);var Db={offset:0};Ib("x",kb,fr,Db),Ib("y",kb,fr,Db),Qp.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Lb=nl.isObject,Eb=nl.each,Pb=nl.map,Nb=nl.indexOf,jb=(nl.retrieve,Xp.getLayoutRect),Rb=Lx.createScaleByModel,zb=Lx.ifAxisCrossZero,Bb=Lx.niceScaleExtent,Vb=Lx.estimateLabelUnionRect,Fb=Hy.getStackedDimension,Hb=pr.prototype;Hb.type="grid",Hb.axisPointerEnabled=!0,Hb.getRect=function(){return this._rect},Hb.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),Eb(n.x,function(t){Bb(t.scale,t.model)}),Eb(n.y,function(t){Bb(t.scale,t.model)}),Eb(n.x,function(t){gr(n,"y",t)}),Eb(n.y,function(t){gr(n,"x",t)}),this.resize(this.model,e)},Hb.resize=function(t,e,n){function r(){Eb(o,function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),function(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return r-t+e}}(t,e?i.x:i.y)})}var i=jb(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var o=this._axesList;r(),!n&&t.get("containLabel")&&(Eb(o,function(t){if(!t.model.get("axisLabel.inside")){var e=Vb(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get("axisLabel.margin");i[n]-=e[n]+r,"top"===t.position?i.y+=e.height+r:"left"===t.position&&(i.x+=e.width+r)}}}),r())},Hb.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var r in n)if(n.hasOwnProperty(r))return n[r];return n[e]}},Hb.getAxes=function(){return this._axesList.slice()},Hb.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}Lb(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===t||i[r].getAxis("y").index===e)return i[r]},Hb.getCartesians=function(){return this._coordsList.slice()},Hb.convertToPixel=function(t,e,n){var r=this._findConvertTarget(t,e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},Hb.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(t,e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},Hb._findConvertTarget=function(t,e){var n,r,i=e.seriesModel,o=e.xAxisModel||i&&i.getReferringComponents("xAxis")[0],a=e.yAxisModel||i&&i.getReferringComponents("yAxis")[0],s=e.gridModel,u=this._coordsList;return i?(n=i.coordinateSystem,Nb(u,n)<0&&(n=null)):o&&a?n=this.getCartesian(o.componentIndex,a.componentIndex):o?r=this.getAxis("x",o.componentIndex):a?r=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:r}},Hb.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},Hb._initCartesian=function(t,e,n){function r(e){return function(n,r){if(dr(n,t)){var s=n.get("position");"x"===e?"top"!==s&&"bottom"!==s&&i[s="bottom"]&&(s="top"===s?"bottom":"top"):"left"!==s&&"right"!==s&&i[s="left"]&&(s="left"===s?"right":"left"),i[s]=!0;var u=new wb(e,Rb(n),[0,0],n.get("type"),s),l="category"===u.type;u.onBand=l&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=this,u.index=r,this._axesList.push(u),o[e][r]=u,a[e]++}}}var i={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};if(e.eachComponent("xAxis",r("x"),this),e.eachComponent("yAxis",r("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=o,Eb(o.x,function(e,n){Eb(o.y,function(r,i){var o="x"+n+"y"+i,a=new _b(o);a.grid=this,a.model=t,this._coordsMap[o]=a,this._coordsList.push(a),a.addAxis(e),a.addAxis(r)},this)},this)},Hb._updateScale=function(t,e){function n(t,e,n){Eb(t.mapDimension(e.dim,!0),function(n){e.scale.unionExtentFromData(t,Fb(t,n))})}Eb(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){if(yr(t)){var r=mr(t),i=r[0],o=r[1];if(!dr(i,e)||!dr(o,e))return;var a=this.getCartesian(i.componentIndex,o.componentIndex),s=t.getData(),u=a.getAxis("x"),l=a.getAxis("y");"list"===s.type&&(n(s,u),n(s,l))}},this)},Hb.getTooltipAxes=function(t){var e=[],n=[];return Eb(this.getCartesians(),function(r){var i=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),o=r.getOtherAxis(i);Nb(e,i)<0&&e.push(i),Nb(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}};var Wb=["xAxis","yAxis"];pr.create=function(t,e){var n=[];return t.eachComponent("grid",function(r,i){var o=new pr(r,t,e);o.name="grid_"+i,o.resize(r,e,!0),r.coordinateSystem=o,n.push(o)}),t.eachSeries(function(t){if(yr(t)){var e=mr(t),n=e[0],r=e[1],i=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}}),n},pr.dimensions=pr.prototype.dimensions=_b.prototype.dimensions,yv.register("cartesian2d",pr);var Gb=nl.retrieve,qb=nl.defaults,Ub=nl.extend,Yb=nl.each,Xb=Np.isRadianAroundZero,Zb=Np.remRadian,$b=Hx.createSymbol,Kb=il.applyTransform,Jb=Math.PI,Qb=function(t,e){this.opt=e,this.axisModel=t,qb(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new _p.Group;var n=new _p.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};Qb.prototype={constructor:Qb,hasBuilder:function(t){return!!tw[t]},add:function(t){tw[t].call(this)},getGroup:function(){return this.group}};var tw={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),r=this._transform,i=[n[0],0],o=[n[1],0];r&&(Kb(i,i,r),Kb(o,o,r));var a=Ub({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new _p.Line(_p.subPixelOptimizeLine({anid:"line",shape:{x1:i[0],y1:i[1],x2:o[0],y2:o[1]},style:a,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var s=e.get("axisLine.symbol"),u=e.get("axisLine.symbolSize"),l=e.get("axisLine.symbolOffset")||0;if("number"==typeof l&&(l=[l,l]),null!=s){"string"==typeof s&&(s=[s,s]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var c=u[0],h=u[1];Yb([{rotate:t.rotation+Math.PI/2,offset:l[0],r:0},{rotate:t.rotation-Math.PI/2,offset:l[1],r:Math.sqrt((i[0]-o[0])*(i[0]-o[0])+(i[1]-o[1])*(i[1]-o[1]))}],function(e,n){if("none"!==s[n]&&null!=s[n]){var r=$b(s[n],-c/2,-h/2,c,h,a.stroke,!0),o=e.r+e.offset,u=[i[0]+o*Math.cos(t.rotation),i[1]-o*Math.sin(t.rotation)];r.attr({rotation:e.rotate,position:u,silent:!0}),this.group.add(r)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=function(t,e,n){var r=e.axis;if(e.get("axisTick.show")&&!r.scale.isBlank()){for(var i=e.getModel("axisTick"),o=i.getModel("lineStyle"),a=i.get("length"),s=r.getTicksCoords(),u=[],l=[],c=t._transform,h=[],f=0;f<s.length;f++){var d=s[f].coord;u[0]=d,u[1]=0,l[0]=d,l[1]=n.tickDirection*a,c&&(Kb(u,u,c),Kb(l,l,c));var p=new _p.Line(_p.subPixelOptimizeLine({anid:"tick_"+s[f].tickValue,shape:{x1:u[0],y1:u[1],x2:l[0],y2:l[1]},style:qb(o.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(p),h.push(p)}return h}}(this,t,e);!function(t,e,n){var r=t.get("axisLabel.showMinLabel"),i=t.get("axisLabel.showMaxLabel");e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],u=e[e.length-2],l=n[0],c=n[1],h=n[n.length-1],f=n[n.length-2];!1===r?(br(o),br(l)):wr(o,a)&&(r?(br(a),br(c)):(br(o),br(l))),!1===i?(br(s),br(h)):wr(u,s)&&(i?(br(u),br(f)):(br(s),br(h)))}(t,function(t,e,n){var r=e.axis;if(Gb(n.axisLabelShow,e.get("axisLabel.show"))&&!r.scale.isBlank()){var i=e.getModel("axisLabel"),o=i.get("margin"),a=r.getViewLabels(),s=(Gb(n.labelRotate,i.get("rotate"))||0)*Jb/180,u=ew(n.rotation,s,n.labelDirection),l=e.getCategories(!0),c=[],h=_r(e),f=e.get("triggerEvent");return Yb(a,function(a,s){var d=a.tickValue,p=a.formattedLabel,g=a.rawLabel,v=i;l&&l[d]&&l[d].textStyle&&(v=new kp(l[d].textStyle,i,e.ecModel));var m=v.getTextColor()||e.get("axisLine.lineStyle.color"),y=[r.dataToCoord(d),n.labelOffset+n.labelDirection*o],x=new _p.Text({anid:"label_"+d,position:y,rotation:u.rotation,silent:h,z2:10});_p.setTextStyle(x.style,v,{text:p,textAlign:v.getShallow("align",!0)||u.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||u.textVerticalAlign,textFill:"function"==typeof m?m("category"===r.type?g:"value"===r.type?d+"":d,s):m}),f&&(x.eventData=xr(e),x.eventData.targetType="axisLabel",x.eventData.value=g),t._dumbGroup.add(x),x.updateTransform(),c.push(x),t.group.add(x),x.decomposeTransform()}),c}}(this,t,e),n)},axisName:function(){var t=this.opt,e=this.axisModel,n=Gb(t.axisName,e.get("name"));if(n){var r,i,o=e.get("nameLocation"),a=t.nameDirection,s=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,l=this.axisModel.axis.getExtent(),c=l[0]>l[1]?-1:1,h=["start"===o?l[0]-c*u:"end"===o?l[1]+c*u:(l[0]+l[1])/2,Mr(o)?t.labelOffset+a*u:0],f=e.get("nameRotate");null!=f&&(f=f*Jb/180),Mr(o)?r=ew(t.rotation,null!=f?f:t.rotation,a):(r=function(t,e,n,r){var i,o,a=Zb((f||0)-t.rotation),s=r[0]>r[1],u="start"===e&&!s||"start"!==e&&s;return Xb(a-Jb/2)?(o=u?"bottom":"top",i="center"):Xb(a-1.5*Jb)?(o=u?"top":"bottom",i="center"):(o="middle",i=a<1.5*Jb&&a>Jb/2?u?"left":"right":u?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:o}}(t,o,0,l),null!=(i=t.axisNameAvailableWidth)&&(i=Math.abs(i/Math.sin(r.rotation)),!isFinite(i)&&(i=null)));var d=s.getFont(),p=e.get("nameTruncate",!0)||{},g=p.ellipsis,v=Gb(t.nameTruncateMaxWidth,p.maxWidth,i),m=null!=g&&null!=v?Vp.truncateText(n,v,d,g,{minChar:2,placeholder:p.placeholder}):n,y=e.get("tooltip",!0),x=e.mainType,_={componentType:x,name:n,$vars:["name"]};_[x+"Index"]=e.componentIndex;var b=new _p.Text({anid:"name",__fullText:n,__truncatedText:m,position:h,rotation:r.rotation,silent:_r(e),z2:1,tooltip:y&&y.show?Ub({content:n,formatter:function(){return n},formatterParams:_},y):null});_p.setTextStyle(b.style,s,{text:m,textFont:d,textFill:s.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:r.textAlign,textVerticalAlign:r.textVerticalAlign}),e.get("triggerEvent")&&(b.eventData=xr(e),b.eventData.targetType="axisName",b.eventData.name=n),this._dumbGroup.add(b),b.updateTransform(),this.group.add(b),b.decomposeTransform()}}},ew=Qb.innerTextLayout=function(t,e,n){var r,i,o=Zb(e-t);return Xb(o)?(i=n>0?"top":"bottom",r="center"):Xb(o-Jb)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=o>0&&o<Jb?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:r,textVerticalAlign:i}},nw=Qb,rw=nl.each,iw=nl.curry,ow={collect:function(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];rw(n.getCoordinateSystems(),function(n){function s(r,s,u){var h=u.model.getModel("axisPointer",i),f=h.get("show");if(f&&("auto"!==f||r||Tr(h))){null==s&&(s=h.get("triggerTooltip"));var d=(h=r?function(t,e,n,r,i,o){var a=e.getModel("axisPointer"),s={};rw(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=nl.clone(a.get(t))}),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");var u=s.label||(s.label={});if(null==u.show&&(u.show=!1),"cross"===i){var l=a.get("label.show");if(u.show=null==l||l,!o){var c=s.lineStyle=a.get("crossStyle");c&&nl.defaults(u,c.textStyle)}}return t.model.getModel("axisPointer",new kp(s,n,r))}(u,c,i,e,r,s):h).get("snap"),p=Or(u.model),g=s||d||"category"===u.type,v=t.axesInfo[p]={key:p,axis:u,coordSys:n,axisPointerModel:h,triggerTooltip:s,involveSeries:g,snap:d,useHandle:Tr(h),seriesModels:[]};l[p]=v,t.seriesInvolved|=g;var m=function(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var o=t[i]||{};if(Sr(o[r+"AxisId"],n.id)||Sr(o[r+"AxisIndex"],n.componentIndex)||Sr(o[r+"AxisName"],n.name))return i}}(o,u);if(null!=m){var y=a[m]||(a[m]={axesInfo:{}});y.axesInfo[p]=v,y.mapper=o[m].mapper,v.linkGroup=y}}}if(n.axisPointerEnabled){var u=Or(n.model),l=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=n;var c=n.model.getModel("tooltip",r);if(rw(n.getAxes(),iw(s,!1,null)),n.getTooltipAxes&&r&&c.get("show")){var h="axis"===c.get("trigger"),f="cross"===c.get("axisPointer.type"),d=n.getTooltipAxes(c.get("axisPointer.axis"));(h||f)&&rw(d.baseAxes,iw(s,!f||"cross",h)),f&&rw(d.otherAxes,iw(s,"cross",!1))}}})}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,r=e.get("tooltip.trigger",!0),i=e.get("tooltip.show",!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==i&&!1!==e.get("axisPointer.show",!0)&&rw(t.coordSysAxesInfo[Or(n.model)],function(t){var r=t.axis;n.getAxis(r.dim)===r&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}(n,t),n},fixValue:function(t){var e=Ar(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=r.parse(a));var s=Tr(n);null==o&&(i.status=s?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==a||a>u[1])&&(a=u[1]),a<u[0]&&(a=u[0]),i.value=a,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}},getAxisInfo:Ar,getAxisPointerModel:function(t){var e=Ar(t);return e&&e.axisPointerModel},makeKey:Or},aw=D_.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,r){this.axisPointerClass&&ow.fixValue(t),aw.superApply(this,"render",arguments),Cr(this,t,0,n,0,!0)},updateAxisPointer:function(t,e,n,r,i){Cr(this,t,0,n,0,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),aw.superApply(this,"remove",arguments)},dispose:function(t,e){Ir(this,e),aw.superApply(this,"dispose",arguments)}}),sw=[];aw.registerAxisPointerClass=function(t,e){sw[t]=e},aw.getAxisPointerClass=function(t){return t&&sw[t]};var uw=aw,lw=function(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,u=a?"onZero":s,l=i.dim,c=r.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p="x"===l?[h[2]-d,h[3]+d]:[h[0]-d,h[1]+d];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[f.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===l?p[f[u]]:h[0],"x"===l?p[f[u]]:h[3]],o.rotation=Math.PI/2*("x"===l?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[f[s]]-p[f.onZero]:0,e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),nl.retrieve(n.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var v=e.get("axisLabel.rotate");return o.labelRotate="top"===u?-v:v,o.z2=1,o},cw=["axisLine","axisTickLabel","axisName"],hw=["splitArea","splitLine"],fw=uw.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,n,r){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new _p.Group,this.group.add(this._axisGroup),t.get("show")){var o=t.getCoordSysModel(),a=lw(o,t),s=new nw(t,a);nl.each(cw,s.add,s),this._axisGroup.add(s.getGroup()),nl.each(hw,function(e){t.get(e+".show")&&this["_"+e](t,o)},this),_p.groupTransition(i,this._axisGroup,t),fw.superCall(this,"render",t,e,n,r)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var r=t.getModel("splitLine"),i=r.getModel("lineStyle"),o=i.get("color");o=nl.isArray(o)?o:[o];for(var a=e.coordinateSystem.getRect(),s=n.isHorizontal(),u=0,l=n.getTicksCoords({tickModel:r}),c=[],h=[],f=i.getLineStyle(),d=0;d<l.length;d++){var p=n.toGlobalCoord(l[d].coord);s?(c[0]=p,c[1]=a.y,h[0]=p,h[1]=a.y+a.height):(c[0]=a.x,c[1]=p,h[0]=a.x+a.width,h[1]=p);var g=u++%o.length,v=l[d].tickValue;this._axisGroup.add(new _p.Line(_p.subPixelOptimizeLine({anid:null!=v?"line_"+l[d].tickValue:null,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:nl.defaults({stroke:o[g]},f),silent:!0})))}}},_splitArea:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var r=t.getModel("splitArea"),i=r.getModel("areaStyle"),o=i.get("color"),a=e.coordinateSystem.getRect(),s=n.getTicksCoords({tickModel:r,clamp:!0});if(s.length){var u=o.length,l=this._splitAreaColors,c=nl.createHashMap(),h=0;if(l)for(g=0;g<s.length;g++){var f=l.get(s[g].tickValue);if(null!=f){h=(f+(u-1)*g)%u;break}}var d=n.toGlobalCoord(s[0].coord),p=i.getAreaStyle();o=nl.isArray(o)?o:[o];for(var g=1;g<s.length;g++){var v,m,y,x,_=n.toGlobalCoord(s[g].coord);n.isHorizontal()?(v=d,m=a.y,y=_-v,x=a.height,d=v+y):(v=a.x,m=d,y=a.width,d=m+(x=_-m));var b=s[g-1].tickValue;null!=b&&c.set(b,h),this._axisGroup.add(new _p.Rect({anid:null!=b?"area_"+b:null,shape:{x:v,y:m,width:y,height:x},style:nl.defaults({fill:o[h]},p),silent:!0})),h=(h+1)%u}this._splitAreaColors=c}}}});fw.extend({type:"xAxis"}),fw.extend({type:"yAxis"}),D_.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new _p.Rect({shape:t.coordinateSystem.getRect(),style:nl.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),D_.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),D_.registerVisual(fb("line","circle","line")),D_.registerLayout(gb("line")),D_.registerProcessor(D_.PRIORITY.PROCESSOR.STATISTIC,function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,n){var r=t.getData(),i=t.get("sampling"),o=t.coordinateSystem;if("cartesian2d"===o.type&&i){var a,s=o.getBaseAxis(),u=o.getOtherAxis(s),l=s.getExtent(),c=l[1]-l[0],h=Math.round(r.count()/c);h>1&&("string"==typeof i?a=vb[i]:"function"==typeof i&&(a=i),a&&t.setData(r.downSample(r.mapDimension(u.dim),1/h,a,mb)))}}}}("line"));var dw=xm.extend({type:"series.__base_bar__",getInitialData:function(t,e){return Xy(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),r=this.getData(),i=r.getLayout("offset"),o=r.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=i+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:5e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}),pw=(dw.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t}}),E_.getDefaultLabel),gw=function(t,e,n,r,i,o,a){var s=n.getModel("label"),u=n.getModel("emphasis.label");_p.setLabelStyle(t,e,s,u,{labelFetcher:i,labelDataIndex:o,defaultText:pw(i.getData(),o),isRectText:!0,autoColor:r}),kr(t),kr(e)},vw=Bh([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),mw={getBarItemStyle:function(t){var e=vw(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}},yw=gw,xw=["itemStyle","barBorderWidth"];nl.extend(kp.prototype,mw),D_.extendChartView({type:"bar",render:function(t,e,n){this._updateDrawMode(t);var r=t.get("coordinateSystem");return"cartesian2d"!==r&&"polar"!==r||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n)),this.group},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,r){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,n){var r,i=this.group,o=t.getData(),a=this._data,s=t.coordinateSystem,u=s.getBaseAxis();"cartesian2d"===s.type?r=u.isHorizontal():"polar"===s.type&&(r="angle"===u.dim);var l=t.isAnimationEnabled()?t:null;o.diff(a).add(function(e){if(o.hasValue(e)){var n=o.getItemModel(e),a=bw[s.type](o,e,n),u=_w[s.type](o,e,n,a,r,l);o.setItemGraphicEl(e,u),i.add(u),Er(u,o,e,n,a,t,r,"polar"===s.type)}}).update(function(e,n){var u=a.getItemGraphicEl(n);if(o.hasValue(e)){var c=o.getItemModel(e),h=bw[s.type](o,e,c);u?_p.updateProps(u,{shape:h},l,e):u=_w[s.type](o,e,c,h,r,l,!0),o.setItemGraphicEl(e,u),i.add(u),Er(u,o,e,c,h,t,r,"polar"===s.type)}else i.remove(u)}).remove(function(t){var e=a.getItemGraphicEl(t);"cartesian2d"===s.type?e&&Dr(t,l,e):e&&Lr(t,l,e)}).execute(),this._data=o},_renderLarge:function(t,e,n){this._clear(),Pr(t,this.group)},_incrementalRenderLarge:function(t,e){Pr(e,this.group,!0)},dispose:nl.noop,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,n=this._data;t&&t.get("animation")&&n&&!this._isLargeDraw?n.eachItemGraphicEl(function(e){"sector"===e.type?Lr(e.dataIndex,t,e):Dr(e.dataIndex,t,e)}):e.removeAll(),this._data=null}});var _w={cartesian2d:function(t,e,n,r,i,o,a){var s=new _p.Rect({shape:nl.extend({},r)});if(o){var u=s.shape,l=i?"height":"width",c={};u[l]=0,c[l]=r[l],_p[a?"updateProps":"initProps"](s,{shape:c},o,e)}return s},polar:function(t,e,n,r,i,o,a){var s=r.startAngle<r.endAngle,u=new _p.Sector({shape:nl.defaults({clockwise:s},r)});if(o){var l=u.shape,c=i?"r":"endAngle",h={};l[c]=i?0:r.startAngle,h[c]=r[c],_p[a?"updateProps":"initProps"](u,{shape:h},o,e)}return u}},bw={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=function(t,e){var n=t.get(xw)||0;return Math.min(n,Math.abs(e.width),Math.abs(e.height))}(n,r),o=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+o*i/2,y:r.y+a*i/2,width:r.width-o*i,height:r.height-a*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}},ww=Jf.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var n=e.points,r=this.__startPoint,i=this.__valueIdx,o=0;o<n.length;o+=2)r[this.__valueIdx]=n[o+i],t.moveTo(r[0],r[1]),t.lineTo(n[o],n[o+1])}}),Mw=dx.layout,Sw=dx.largeLayout;D_.registerLayout(nl.curry(Mw,"bar")),D_.registerLayout(Sw),D_.registerVisual({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});var Aw=nl.extend,Tw=nl.isArray,Ow=function(t,e,n){e=Tw(e)&&{coordDimensions:e}||Aw({},e);var r=t.getSource(),i=By(r,e),o=new Oy(i,t);return o.initData(r,n),o},Cw={updateSelectedMap:function(t){this._targetList=nl.isArray(t)?t.slice():[],this._selectTargetMap=nl.reduce(t||[],function(t,e){return t.set(e.name,e),t},nl.createHashMap())},select:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),n&&(n.selected=!0)},unSelect:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?"unSelect":"select"](t,e),n.selected},isSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}},Iw=Np.getPercentWithPrecision,kw=Kv.retrieveRawAttr,Dw=D_.extendSeriesModel({type:"series.pie",init:function(t){Dw.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){Dw.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return Ow(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],r=0,i=t.count();r<i;r++)n.push({name:t.getName(r),value:t.get(e,r),selected:kw(t,r,"selected")});return n},getDataParams:function(t){var e=this.getData(),n=Dw.superCall(this,"getDataParams",t),r=[];return e.each(e.mapDimension("value"),function(t){r.push(t)}),n.percent=Iw(r,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(t){Dh.defaultEmphasis(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});nl.mixin(Dw,Cw);var Lw=jr.prototype;Lw.updateData=function(t,e,n){function r(){o.stopAnimation(!0),o.animateTo({shape:{r:u.r+a.get("hoverOffset")}},300,"elasticOut")}function i(){o.stopAnimation(!0),o.animateTo({shape:{r:u.r}},300,"elasticOut")}var o=this.childAt(0),a=t.hostModel,s=t.getItemModel(e),u=t.getItemLayout(e),l=nl.extend({},u);l.label=null,n?(o.setShape(l),"scale"===a.getShallow("animationType")?(o.shape.r=u.r0,_p.initProps(o,{shape:{r:u.r}},a,e)):(o.shape.endAngle=u.startAngle,_p.updateProps(o,{shape:{endAngle:u.endAngle}},a,e))):_p.updateProps(o,{shape:l},a,e);var c=t.getItemVisual(e,"color");o.useStyle(nl.defaults({lineJoin:"bevel",fill:c},s.getModel("itemStyle").getItemStyle())),o.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();var h=s.getShallow("cursor");h&&o.attr("cursor",h),Nr(this,t.getItemLayout(e),a.isSelected(null,e),a.get("selectedOffset"),a.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.get("hoverAnimation")&&a.isAnimationEnabled()&&o.on("mouseover",r).on("mouseout",i).on("emphasis",r).on("normal",i),this._updateLabel(t,e),_p.setHoverStyle(this)},Lw._updateLabel=function(t,e){var n=this.childAt(1),r=this.childAt(2),i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");_p.updateProps(n,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},i,e),_p.updateProps(r,{style:{x:a.x,y:a.y}},i,e),r.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var u=o.getModel("label"),l=o.getModel("emphasis.label"),c=o.getModel("labelLine"),h=o.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color");_p.setLabelStyle(r.style,r.hoverStyle={},u,l,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),r.ignore=r.normalIgnore=!u.get("show"),r.hoverIgnore=!l.get("show"),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:s,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(c.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle();var f=c.get("smooth");f&&!0===f&&(f=.4),n.setShape({smooth:f})},nl.inherits(jr,_p.Group),Dm.extend({type:"pie",init:function(){var t=new _p.Group;this._sectorGroup=t},render:function(t,e,n,r){if(!r||r.from!==this.uid){var i=t.getData(),o=this._data,a=this.group,s=e.get("animation"),u=!o,l=t.get("animationType"),c=nl.curry(function(t,e,n,r){var i=e.getData(),o=this.dataIndex,a=i.getName(o),s=e.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:t,name:a,seriesId:e.id}),i.each(function(t){Nr(i.getItemGraphicEl(t),i.getItemLayout(t),e.isSelected(i.getName(t)),s,n)})},this.uid,t,s,n),h=t.get("selectedMode");if(i.diff(o).add(function(t){var e=new jr(i,t);u&&"scale"!==l&&e.eachChild(function(t){t.stopAnimation(!0)}),h&&e.on("click",c),i.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var n=o.getItemGraphicEl(e);n.updateData(i,t),n.off("click"),h&&n.on("click",c),a.add(n),i.setItemGraphicEl(t,n)}).remove(function(t){var e=o.getItemGraphicEl(t);a.remove(e)}).execute(),s&&u&&i.count()>0&&"scale"!==l){var f=i.getItemLayout(0),d=Math.max(n.getWidth(),n.getHeight())/2,p=nl.bind(a.removeClipPath,a);a.setClipPath(this._createClipPath(f.cx,f.cy,d,f.startAngle,f.clockwise,p,t))}this._data=i}},dispose:function(){},_createClipPath:function(t,e,n,r,i,o,a){var s=new _p.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:r,endAngle:r,clockwise:i}});return _p.initProps(s,{shape:{endAngle:r+(i?1:-1)*Math.PI*2}},a,o),s},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}}});var Ew=function(t,e){nl.each(e,function(e){e.update="updateView",D_.registerAction(e,function(n,r){var i={};return r.eachComponent({mainType:"series",subType:t,query:n},function(t){t[e.method]&&t[e.method](n.name,n.dataIndex);var r=t.getData();r.each(function(e){var n=r.getName(e);i[n]=t.isSelected(n)||!1})}),{name:n.name,selected:i}})})},Pw=nl.createHashMap,Nw=function(t){return{getTargetSeries:function(e){var n={},r=Pw();return e.eachSeriesByType(t,function(t){t.__paletteScope=n,r.set(t.uid,t)}),r},reset:function(t,e){var n=t.getRawData(),r={},i=t.getData();i.each(function(t){var e=i.getRawIndex(t);r[e]=t}),n.each(function(e){var o=r[e],a=null!=o&&i.getItemVisual(o,"color",!0);if(a)n.setItemVisual(e,"color",a);else{var s=n.getItemModel(e).get("itemStyle.color")||t.getColorFromPalette(n.getName(e)||e+"",t.__paletteScope,n.count());n.setItemVisual(e,"color",s),null!=o&&i.setItemVisual(o,"color",s)}})}}},jw=Np.parsePercent,Rw=Np.linearMap,zw=2*Math.PI,Bw=Math.PI/180,Vw=function(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf(function(t){for(var e=r.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0})}}}};Ew("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),D_.registerVisual(Nw("pie")),D_.registerLayout(nl.curry(function(t,e,n,r){e.eachSeriesByType(t,function(t){var e=t.getData(),r=e.mapDimension("value"),i=t.get("center"),o=t.get("radius");nl.isArray(o)||(o=[0,o]),nl.isArray(i)||(i=[i,i]);var a=n.getWidth(),s=n.getHeight(),u=Math.min(a,s),l=jw(i[0],a),c=jw(i[1],s),h=jw(o[0],u/2),f=jw(o[1],u/2),d=-t.get("startAngle")*Bw,p=t.get("minAngle")*Bw,g=0;e.each(r,function(t){!isNaN(t)&&g++});var v=e.getSum(r),m=Math.PI/(v||g)*2,y=t.get("clockwise"),x=t.get("roseType"),_=t.get("stillShowZeroSum"),b=e.getDataExtent(r);b[0]=0;var w=zw,M=0,S=d,A=y?1:-1;if(e.each(r,function(t,n){var r;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:l,cy:c,r0:h,r:x?NaN:f});else{(r="area"!==x?0===v&&_?m:t*m:zw/g)<p?(r=p,w-=p):M+=t;var i=S+A*r;e.setItemLayout(n,{angle:r,startAngle:S,endAngle:i,clockwise:y,cx:l,cy:c,r0:h,r:x?Rw(t,b,[h,f]):f}),S=i}}),w<zw&&g)if(w<=.001){var T=zw/g;e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n);r.angle=T,r.startAngle=d+A*n*T,r.endAngle=d+A*(n+1)*T}})}else m=w/M,S=d,e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n),i=r.angle===p?p:t*m;r.startAngle=S,r.endAngle=S+A*i,S+=A*i}});!function(t,e,n,r){var i,o,a=t.getData(),s=[],u=!1;a.each(function(n){var r,l,c,h,f=a.getItemLayout(n),d=a.getItemModel(n),p=d.getModel("label"),g=p.get("position")||d.get("emphasis.label.position"),v=d.getModel("labelLine"),m=v.get("length"),y=v.get("length2"),x=(f.startAngle+f.endAngle)/2,_=Math.cos(x),b=Math.sin(x);i=f.cx,o=f.cy;var w="inside"===g||"inner"===g;if("center"===g)r=f.cx,l=f.cy,h="center";else{var M=(w?(f.r+f.r0)/2*_:f.r*_)+i,S=(w?(f.r+f.r0)/2*b:f.r*b)+o;if(r=M+3*_,l=S+3*b,!w){var A=M+_*(m+e-f.r),T=S+b*(m+e-f.r),O=A+(_<0?-1:1)*y;r=O+(_<0?-5:5),l=T,c=[[M,S],[A,T],[O,T]]}h=w?"center":_>0?"left":"right"}var C=p.getFont(),I=p.get("rotate")?_<0?-x+Math.PI:-x:0,k=t.getFormattedLabel(n,"normal")||a.getName(n),D=Pc.getBoundingRect(k,C,h,"top");u=!!I,f.label={x:r,y:l,position:g,height:D.height,len:m,len2:y,linePoints:c,textAlign:h,verticalAlign:"middle",rotation:I,inside:w},w||s.push(f.label)}),!u&&t.get("avoidLabelOverlap")&&function(t,e,n,r,i,o){for(var a=[],s=[],u=0;u<t.length;u++)t[u].x<e?a.push(t[u]):s.push(t[u]);for(Rr(s,e,n,r,1,0,o),Rr(a,e,n,r,-1,0,o),u=0;u<t.length;u++){var l=t[u].linePoints;if(l){var c=l[1][0]-l[2][0];t[u].x<e?l[2][0]=t[u].x+3:l[2][0]=t[u].x-3,l[1][1]=l[2][1]=t[u].y,l[1][0]=l[2][0]+c}}}(s,i,o,e,0,r)}(t,f,0,s)})},"pie")),D_.registerProcessor(Vw("pie")),xm.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return Xy(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});var Fw=Hx.createSymbol,Hw=_p.extendShape({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var n=e.points,r=e.size,i=this.symbolProxy,o=i.shape;if(!((t.getContext?t.getContext():t)&&r[0]<4))for(var a=0;a<n.length;){var s=n[a++],u=n[a++];isNaN(s)||isNaN(u)||(o.x=s-r[0]/2,o.y=u-r[1]/2,o.width=r[0],o.height=r[1],i.buildPath(t,o,!0))}},afterBrush:function(t){var e=this.shape,n=e.points,r=e.size;if(r[0]<4){this.setTransform(t);for(var i=0;i<n.length;){var o=n[i++],a=n[i++];isNaN(o)||isNaN(a)||t.fillRect(o-r[0]/2,a-r[1]/2,r[0],r[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var n=this.shape,r=n.points,i=n.size,o=Math.max(i[0],4),a=Math.max(i[1],4),s=r.length/2-1;s>=0;s--){var u=2*s,l=r[u]-o/2,c=r[u+1]-a/2;if(t>=l&&e>=c&&t<=l+o&&e<=c+a)return s}return-1}}),Ww=zr.prototype;Ww.isPersistent=function(){return!this._incremental},Ww.updateData=function(t){this.group.removeAll();var e=new Hw({rectHover:!0,cursor:"default"});e.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},Ww.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;e=new Float32Array(e.buffer,r,n)}t.setShape("points",e)})}},Ww.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new Jd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Ww.incrementalUpdate=function(t,e){var n;this._incremental?(n=new Hw,this._incremental.addDisplayable(n,!0)):((n=new Hw({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(n)),n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!!this._incremental)},Ww._setCommon=function(t,e,n){var r=e.hostModel,i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.symbolProxy=Fw(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("color");a&&t.setColor(a),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(t.dataIndex=n+(t.startIndex||0))}))},Ww.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ww._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var Gw=zr;D_.extendChartView({type:"scatter",render:function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).updateData(r),this._finished=!0},incrementalPrepareRender:function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).incrementalPrepareUpdate(r),this._finished=!1},incrementalRender:function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var r=t.getData();if(this.group.dirty(),!this._finished||r.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var i=gb().reset(t);i.progress&&i.progress({start:0,end:r.count()},r),this._symbolDraw.updateLayout(r)},_updateSymbolDraw:function(t,e){var n=this._symbolDraw,r=e.pipelineContext.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new Gw:new U_,this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),D_.registerVisual(fb("scatter","circle")),D_.registerLayout(gb("scatter")),nl.inherits(Br,d_);var qw=Br,Uw=Lx.getScaleExtent,Yw=Lx.niceScaleExtent;Vr.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Vr.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},Vr.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},Vr.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var i,o=Math.atan2(-n,e),a=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var l=this._indicatorAxes[u],c=Math.abs(o-l.angle);c<a&&(i=l,s=u,a=c)}return[s,+(i&&i.coodToData(r))]},Vr.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i)/2;this.cx=Np.parsePercent(n[0],r),this.cy=Np.parsePercent(n[1],i),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=Np.parsePercent(t.get("radius"),o),nl.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},Vr.prototype.update=function(t,e){function n(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}var r=this._indicatorAxes,i=this._model;nl.each(r,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,n){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var o=e.getData();nl.each(r,function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))})}},this);var o=i.get("splitNumber");nl.each(r,function(t,e){var r=Uw(t.scale,t.model);Yw(t.scale,t.model);var i=t.model,a=t.scale,s=i.getMin(),u=i.getMax(),l=a.getInterval();if(null!=s&&null!=u)a.setExtent(+s,+u),a.setInterval((u-s)/o);else if(null!=s){var c;do{c=s+l*o,a.setExtent(+s,c),a.setInterval(l),l=n(l)}while(c<r[1]&&isFinite(c)&&isFinite(r[1]))}else if(null!=u){var h;do{h=u-l*o,a.setExtent(h,+u),a.setInterval(l),l=n(l)}while(h>r[0]&&isFinite(h)&&isFinite(r[0]))}else{a.getTicks().length-1>o&&(l=n(l));var f=Math.round((r[0]+r[1])/2/l)*l,d=Math.round(o/2);a.setExtent(Np.round(f-d*l),Np.round(f+(o-d)*l)),a.setInterval(l)}})},Vr.dimensions=[],Vr.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var i=new Vr(r,t,e);n.push(i),r.coordinateSystem=i}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])}),n},yv.register("radar",Vr);var Xw=Ab.valueAxis,Zw=(D_.extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("name"),s=this.get("name.show"),u=this.get("name.formatter"),l=this.get("nameGap"),c=this.get("triggerEvent"),h=nl.map(this.get("indicator")||[],function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var f=a;if(null!=h.color&&(f=nl.defaults({color:h.color},a)),h=nl.merge(nl.clone(h),{boundaryGap:t,splitNumber:e,scale:n,axisLine:r,axisTick:i,axisLabel:o,name:h.text,nameLocation:"end",nameGap:l,nameTextStyle:f,triggerEvent:c},!1),s||(h.name=""),"string"==typeof u){var d=h.name;h.name=u.replace("{value}",null!=d?d:"")}else"function"==typeof u&&(h.name=u(h.name,h));var p=nl.extend(new kp(h,null,this.ecModel),Ex);return p.mainType="radar",p.componentIndex=this.componentIndex,p},this);this.getIndicatorModels=function(){return h}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:nl.merge({lineStyle:{color:"#bbb"}},Xw.axisLine),axisLabel:Fr(Xw.axisLabel,!1),axisTick:Fr(Xw.axisTick,!1),splitLine:Fr(Xw.splitLine,!0),splitArea:Fr(Xw.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]),$w=(D_.extendComponentView({type:"radar",render:function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),r=nl.map(n,function(t){return new nw(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});nl.each(r,function(t){nl.each(Zw,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,n){var r=n%e.length;return t[r]=t[r]||[],r}var n=t.coordinateSystem,r=n.getIndicatorAxes();if(r.length){var i=t.get("shape"),o=t.getModel("splitLine"),a=t.getModel("splitArea"),s=o.getModel("lineStyle"),u=a.getModel("areaStyle"),l=o.get("show"),c=a.get("show"),h=s.get("color"),f=u.get("color");h=nl.isArray(h)?h:[h],f=nl.isArray(f)?f:[f];var d=[],p=[];if("circle"===i)for(var g=r[0].getTicksCoords(),v=n.cx,m=n.cy,y=0;y<g.length;y++)l&&d[S=e(d,h,y)].push(new _p.Circle({shape:{cx:v,cy:m,r:g[y].coord}})),c&&y<g.length-1&&p[S=e(p,f,y)].push(new _p.Ring({shape:{cx:v,cy:m,r0:g[y].coord,r:g[y+1].coord}}));else{var x,_=nl.map(r,function(t,e){var r=t.getTicksCoords();return x=null==x?r.length-1:Math.min(r.length-1,x),nl.map(r,function(t){return n.coordToPoint(t.coord,e)})}),b=[];for(y=0;y<=x;y++){for(var w=[],M=0;M<r.length;M++)w.push(_[M][y]);if(w[0]&&w.push(w[0].slice()),l&&d[S=e(d,h,y)].push(new _p.Polyline({shape:{points:w}})),c&&b){var S=e(p,f,y-1);p[S].push(new _p.Polygon({shape:{points:w.concat(b)}}))}b=w.slice().reverse()}}var A=s.getLineStyle(),T=u.getAreaStyle();nl.each(p,function(t,e){this.group.add(_p.mergePath(t,{style:nl.defaults({stroke:"none",fill:f[e%f.length]},T),silent:!0}))},this),nl.each(d,function(t,e){this.group.add(_p.mergePath(t,{style:nl.defaults({fill:"none",stroke:h[e%h.length]},A),silent:!0}))},this)}}}),Vp.encodeHTML),Kw=xm.extend({type:"series.radar",dependencies:["radar"],init:function(t){Kw.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return Ow(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(t){var e=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(t);return $w(""===r?this.name:r)+"<br/>"+nl.map(n,function(n,r){var i=e.get(e.mapDimension(n.dim),t);return $w(n.name+" : "+i)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),Jw=(D_.extendChartView({type:"radar",render:function(t,e,n){function r(e,n,r,i,o,a){r.removeAll();for(var s=0;s<n.length-1;s++){var u=function(t,e){var n=t.getItemVisual(e,"symbol")||"circle",r=t.getItemVisual(e,"color");if("none"!==n){var i=function(t){return nl.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),o=Hx.createSymbol(n,-1,-1,2,2,r);return o.attr({style:{strokeNoScale:!0},z2:100,scale:[i[0]/2,i[1]/2]}),o}}(i,o);u&&(u.__dimIdx=s,e[s]?(u.attr("position",e[s]),_p[a?"initProps":"updateProps"](u,{position:n[s]},t,o)):u.attr("position",n[s]),r.add(u))}}function i(t){return nl.map(t,function(t){return[o.cx,o.cy]})}var o=t.coordinateSystem,a=this.group,s=t.getData(),u=this._data;s.diff(u).add(function(e){var n=s.getItemLayout(e);if(n){var o=new _p.Polygon,a=new _p.Polyline,u={shape:{points:n}};o.shape.points=i(n),a.shape.points=i(n),_p.initProps(o,u,t,e),_p.initProps(a,u,t,e);var l=new _p.Group,c=new _p.Group;l.add(a),l.add(o),l.add(c),r(a.shape.points,n,c,s,e,!0),s.setItemGraphicEl(e,l)}}).update(function(e,n){var i=u.getItemGraphicEl(n),o=i.childAt(0),a=i.childAt(1),l=i.childAt(2),c={shape:{points:s.getItemLayout(e)}};c.shape.points&&(r(o.shape.points,c.shape.points,l,s,e,!1),_p.updateProps(o,c,t),_p.updateProps(a,c,t),s.setItemGraphicEl(e,i))}).remove(function(t){a.remove(u.getItemGraphicEl(t))}).execute(),s.eachItemGraphicEl(function(t,e){function n(){u.attr("ignore",p)}function r(){u.attr("ignore",d)}var i=s.getItemModel(e),o=t.childAt(0),u=t.childAt(1),l=t.childAt(2),c=s.getItemVisual(e,"color");a.add(t),o.useStyle(nl.defaults(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),o.hoverStyle=i.getModel("emphasis.lineStyle").getLineStyle();var h=i.getModel("areaStyle"),f=i.getModel("emphasis.areaStyle"),d=h.isEmpty()&&h.parentModel.isEmpty(),p=f.isEmpty()&&f.parentModel.isEmpty();p=p&&d,u.ignore=d,u.useStyle(nl.defaults(h.getAreaStyle(),{fill:c,opacity:.7})),u.hoverStyle=f.getAreaStyle();var g=i.getModel("itemStyle").getItemStyle(["color"]),v=i.getModel("emphasis.itemStyle").getItemStyle(),m=i.getModel("label"),y=i.getModel("emphasis.label");l.eachChild(function(t){t.setStyle(g),t.hoverStyle=nl.clone(v),_p.setLabelStyle(t.style,t.hoverStyle,m,y,{labelFetcher:s.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:s.get(s.dimensions[t.__dimIdx],e),autoColor:c,isRectText:!0})}),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",n).on("mouseover",n).on("normal",r).on("mouseout",r),_p.setHoverStyle(t)}),this._data=s},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),function(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){for(var i=r.getIndicatorAxes(),o=0;o<i.length;o++)e.each(e.mapDimension(i[o].dim),function(t,e){n[e]=n[e]||[],n[e][o]=r.dataToPoint(t,o)});e.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),e.setItemLayout(t,n[t])})}})});D_.registerVisual(Nw("radar")),D_.registerVisual(fb("radar","circle")),D_.registerLayout(Jw),D_.registerProcessor(Vw("radar")),D_.registerPreprocessor(function(t){var e=t.polar;if(e){nl.isArray(e)||(e=[e]);var n=[];nl.each(e,function(e,r){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],nl.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}nl.each(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})});var Qw=il.applyTransform;nl.mixin(Hr,xl),Wr.prototype={constructor:Wr,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,r){return this._rect=new tc(t,e,n,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,r){this.transformTo(t,e,n,r),this._viewRect=new tc(t,e,n,r)},transformTo:function(t,e,n,r){var i=this.getBoundingRect(),o=this._rawTransformable;o.transform=i.calculateTransform(new tc(t,e,n,r)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=il.applyTransform([],r,t),n=il.applyTransform([],n,t),e.origin=r,e.position=[n[0]-r[0],n[1]-r[1]],e.scale=[i,i],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),dl.copy(this.transform||(this.transform=[]),e.transform||dl.create()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],dl.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,n){var r=e?this._rawTransform:this.transform;return n=n||[],r?Qw(n,t,r):il.copy(n,t)},pointToData:function(t){var e=this.invTransform;return e?Qw([],t,e):[t[0],t[1]]},convertToPixel:nl.curry(Gr,"dataToPoint"),convertFromPixel:nl.curry(Gr,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},nl.mixin(Wr,xl);for(var tM=Wr,eM=[126,25],nM=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],rM=0;rM<nM.length;rM++)for(var iM=0;iM<nM[rM].length;iM++)nM[rM][iM][0]/=10.5,nM[rM][iM][1]/=-14,nM[rM][iM][0]+=eM[0],nM[rM][iM][1]+=eM[1];var oM={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},aM={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},sM=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],uM=[function(t){"china"===t.map&&t.regions.push(new $x("南海诸岛",nl.map(nM,function(t){return{type:"polygon",exterior:t}}),eM))},function(t){nl.each(t.regions,function(t){var e=oM[t.name];if(e){var n=t.center;n[0]+=e[0]/10.5,n[1]+=-e[1]/14}})},function(t){nl.each(t.regions,function(t){var e=aM[t.name];if(e){var n=t.center;n[0]=e[0],n[1]=e[1]}})},function(t){if("china"===t.map)for(var e=0,n=t.regions.length;e<n;++e)"台湾"===t.regions[e].name&&t.regions[e].geometries.push({type:"polygon",exterior:sM[0]})}];qr.prototype={constructor:qr,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},loadGeoJson:function(t,e,n){try{this.regions=t?Kx(t):[]}catch(t){throw"Invalid geoJson format\n"+t.message}e=e||{},n=n||{};for(var r=this.regions,i=nl.createHashMap(),o=0;o<r.length;o++){var a=r[o].name;a=n.hasOwnProperty(a)?n[a]:a,r[o].name=a,i.set(a,r[o]),this.addGeoCoord(a,r[o].center);var s=e[a];s&&r[o].transformTo(s.left,s.top,s.width,s.height)}this._regionsMap=i,this._rect=null,nl.each(uM,function(t){t(this)},this)},transformTo:function(t,e,n,r){var i=this.getBoundingRect();(i=i.clone()).y=-i.y-i.height;var o=this._rawTransformable;o.transform=i.calculateTransform(new tc(t,e,n,r)),o.decomposeTransform();var a=o.scale;a[1]=-a[1],o.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,n=0;n<e.length;n++){var r=e[n].getBoundingRect();(t=t||r.clone()).union(r)}return this._rect=t||new tc(0,0,0,0)},dataToPoint:function(t,e,n){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return tM.prototype.dataToPoint.call(this,t,e,n)},convertToPixel:nl.curry(Ur,"dataToPoint"),convertFromPixel:nl.curry(Ur,"pointToData")},nl.mixin(qr,tM);var lM=qr,cM={dimensions:lM.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("geo",function(t,r){var i=t.get("map"),o=D_.getMap(i),a=new lM(i+r,i,o&&o.geoJson,o&&o.specialAreas,t.get("nameMap"));a.zoomLimit=t.get("scaleLimit"),n.push(a),Xr(a,t),t.coordinateSystem=a,a.model=t,a.resize=Yr,a.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}});var r={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t)}}),nl.each(r,function(t,r){var i=D_.getMap(r),o=nl.map(t,function(t){return t.get("nameMap")}),a=new lM(r,r,i&&i.geoJson,i&&i.specialAreas,nl.mergeAll(o));a.zoomLimit=nl.retrieve.apply(null,nl.map(t,function(t){return t.get("scaleLimit")})),n.push(a),a.resize=Yr,a.resize(t[0],e),nl.each(t,function(t){t.coordinateSystem=a,Xr(a,t)})}),n},getFilledRegions:function(t,e,n){var r=(t||[]).slice();n=n||{};var i=D_.getMap(e),o=i&&i.geoJson;if(!o)return t;for(var a=nl.createHashMap(),s=o.features,u=0;u<r.length;u++)a.set(r[u].name,r[u]);for(u=0;u<s.length;u++){var l=s[u].properties.name;a.get(l)||(n.hasOwnProperty(l)&&(l=n[l]),r.push({name:l}))}return r}};D_.registerCoordinateSystem("geo",cM);var hM=cM,fM=Vp.encodeHTML,dM=Vp.addCommas,pM=Kv.retrieveRawAttr,gM=xm.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(t){gM.superApply(this,"init",arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t){return Ow(this,["value"])},mergeOption:function(t){gM.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],r=0,i=t.count();r<i;r++)n.push({name:t.getName(r),value:t.get(e,r),selected:pM(t,r,"selected")});return hM.getFilledRegions(n,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(t,e){},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),n=dM(this.getRawValue(t)),r=e.getName(t),i=this.seriesGroup,o=[],a=0;a<i.length;a++){var s=i[a].originalData.indexOfName(r),u=e.mapDimension("value");isNaN(i[a].originalData.get(u,s))||o.push(fM(i[a].name))}return o.join(", ")+"<br />"+fM(r+" : "+n)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,r=n.getRegion(e);return r&&n.dataToPoint(r.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});nl.mixin(gM,Cw);var vM="\0_ec_interaction_mutex";D_.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var mM={take:function(t,e,n){Zr(t)[e]=n},release:function(t,e,n){var r=Zr(t);r[e]===n&&(r[e]=null)},isTaken:function(t,e){return!!Zr(t)[e]}};nl.mixin($r,ul);var yM=$r,xM=function(t,e,n){var r=t.target,i=r.position;i[0]+=e,i[1]+=n,r.dirty()},_M=function(t,e,n,r){var i=t.target,o=t.zoomLimit,a=i.position,s=i.scale,u=t.zoom=t.zoom||1;if(u*=e,o){var l=o.min||0,c=o.max||1/0;u=Math.max(Math.min(c,u),l)}var h=u/t.zoom;t.zoom=u,a[0]-=(n-a[0])*(h-1),a[1]-=(r-a[1])*(h-1),s[0]*=h,s[1]*=h,i.dirty()},bM={axisPointer:1,tooltip:1,brush:1},wM=function(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!bM[r.mainType]&&i&&i.model!==n},MM=wM;ei.prototype={constructor:ei,draw:function(t,e,n,r,i){var o="geo"===t.mainType,a=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(e){a||e.getHostGeoModel()!==t||(a=e.getData())});var s=t.coordinateSystem,u=this.group,l=s.scale,c={position:s.position,scale:l};!u.childAt(0)||i?u.attr(c):_p.updateProps(u,c,t),u.removeAll();var h=["itemStyle"],f=["emphasis","itemStyle"],d=["label"],p=["emphasis","label"],g=nl.createHashMap();nl.each(s.regions,function(e){var n=g.get(e.name)||g.set(e.name,new _p.Group),r=new _p.CompoundPath({shape:{paths:[]}});n.add(r);var i,s=(C=t.getRegionModel(e.name)||t).getModel(h),c=C.getModel(f),v=Qr(s),m=Qr(c),y=C.getModel(d),x=C.getModel(p);if(a){i=a.indexOfName(e.name);var _=a.getItemVisual(i,"color",!0);_&&(v.fill=_)}nl.each(e.geometries,function(t){if("polygon"===t.type){r.shape.paths.push(new _p.Polygon({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)r.shape.paths.push(new _p.Polygon({shape:{points:t.interiors[e]}}))}}),r.setStyle(v),r.style.strokeNoScale=!0,r.culling=!0;var b=y.get("show"),w=x.get("show"),M=a&&isNaN(a.get(a.mapDimension("value"),i)),S=a&&a.getItemLayout(i);if(o||M&&(b||w)||S&&S.showLabel){var A,T=o?e.name:i;(!a||i>=0)&&(A=t);var O=new _p.Text({position:e.center.slice(),scale:[1/l[0],1/l[1]],z2:10,silent:!0});_p.setLabelStyle(O.style,O.hoverStyle={},y,x,{labelFetcher:A,labelDataIndex:T,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(O)}if(a)a.setItemGraphicEl(i,n);else{var C=t.getRegionModel(e.name);r.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:C&&C.option||{}}}(n.__regions||(n.__regions=[])).push(e),_p.setHoverStyle(n,m,{hoverSilentOnTouch:!!t.get("selectedMode")}),u.add(n)}),this._updateController(t,e,n),function(t,e,n,r,i){n.off("click"),n.off("mousedown"),e.get("selectedMode")&&(n.on("mousedown",function(){t._mouseDownFlag=!0}),n.on("click",function(o){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var a=o.target;!a.__regions;)a=a.parent;if(a){var s={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:nl.map(a.__regions,function(t){return{name:t.name,from:i.uid}})};s[e.mainType+"Id"]=e.id,r.dispatchAction(s),ti(e,n)}}}))}(this,t,u,n,r),ti(t,u)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(t,e,n){function r(){var e={type:"geoRoam",componentType:s};return e[s+"Id"]=t.id,e}var i=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=i.getZoom(),o.enable(t.get("roam")||!1);var s=t.mainType;o.off("pan").on("pan",function(t,e){this._mouseDownFlag=!1,xM(a,t,e),n.dispatchAction(nl.extend(r(),{dx:t,dy:e}))},this),o.off("zoom").on("zoom",function(t,e,i){if(this._mouseDownFlag=!1,_M(a,t,e,i),n.dispatchAction(nl.extend(r(),{zoom:t,originX:e,originY:i})),this._updateGroup){var o=this.group,s=o.scale;o.traverse(function(t){"text"===t.type&&t.attr("scale",[1/s[0],1/s[1]])})}},this),o.setPointerChecker(function(e,r,o){return i.getViewRectAfterRoam().contain(r,o)&&!MM(e,n,t)})}};var SM=ei,AM=(D_.extendChartView({type:"map",render:function(t,e,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!t.getHostGeoModel()){if(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===t.id)(o=this._mapDraw)&&i.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new SM(n,!0);i.add(o.group),o.draw(t,e,n,this,r),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,n){var r=t.originalData,i=this.group;r.each(r.mapDimension("value"),function(e,n){if(!isNaN(e)){var o=r.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,u=new _p.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:s?8:10});if(!s){var l=t.mainSeries.getData(),c=r.getName(n),h=l.indexOfName(c),f=r.getItemModel(n),d=f.getModel("label"),p=f.getModel("emphasis.label"),g=l.getItemGraphicEl(h),v=nl.retrieve2(t.getFormattedLabel(n,"normal"),c),m=nl.retrieve2(t.getFormattedLabel(n,"emphasis"),v),y=function(){var t=_p.setTextStyle({},p,{text:p.get("show")?m:null},{isRectText:!0,useInsideStyle:!1},!0);u.style.extendFrom(t),u.__mapOriginalZ2=u.z2,u.z2+=1},x=function(){_p.setTextStyle(u.style,d,{text:d.get("show")?v:null,textPosition:d.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=u.__mapOriginalZ2&&(u.z2=u.__mapOriginalZ2,u.__mapOriginalZ2=null)};g.on("mouseover",y).on("mouseout",x).on("emphasis",y).on("normal",x),x()}i.add(u)}}})}}),{updateCenterAndZoom:function(t,e,n){var r=t.getZoom(),i=t.getCenter(),o=e.zoom,a=t.dataToPoint(i);if(null!=e.dx&&null!=e.dy&&(a[0]-=e.dx,a[1]-=e.dy,i=t.pointToData(a),t.setCenter(i)),null!=o){if(n){var s=n.min||0,u=n.max||1/0;o=Math.max(Math.min(r*o,u),s)/r}t.scale[0]*=o,t.scale[1]*=o;var l=t.position,c=(e.originX-l[0])*(o-1),h=(e.originY-l[1])*(o-1);l[0]-=c,l[1]-=h,t.updateTransform(),i=t.pointToData(a),t.setCenter(i),t.setZoom(o*r)}return{center:t.getCenter(),zoom:t.getZoom()}}}),TM=AM.updateCenterAndZoom;D_.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){var r=e.coordinateSystem;if("geo"===r.type){var i=TM(r,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom),"series"===n&&nl.each(e.seriesGroup,function(t){t.setCenter(i.center),t.setZoom(i.zoom)})}})});D_.registerLayout(function(t){var e={};t.eachSeriesByType("map",function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!e[r]){var i={};nl.each(n.seriesGroup,function(e){var n=e.coordinateSystem,r=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&r.each(r.mapDimension("value"),function(t,e){var o=r.getName(e),a=n.getRegion(o);if(a&&!isNaN(t)){var s=i[o]||0,u=n.dataToPoint(a.center);i[o]=s+1,r.setItemLayout(e,{point:u,offset:s})}})});var o=n.getData();o.each(function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!i[e],o.setItemLayout(t,n)}),e[r]=!0}})}),D_.registerVisual(function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),n=t.getModel("itemStyle"),r=n.get("areaColor"),i=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:r,color:i})})}),D_.registerProcessor(D_.PRIORITY.PROCESSOR.STATISTIC,function(t){var e={};t.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),r=n?"o"+n.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),nl.each(e,function(t,e){for(var n=function(t,e){var n={};return nl.each(t,function(t){t.each(t.mapDimension("value"),function(e,r){var i="ec-"+t.getName(r);n[i]=n[i]||[],isNaN(e)||n[i].push(e)})}),t[0].map(t[0].mapDimension("value"),function(r,i){for(var o="ec-"+t[0].getName(i),a=0,s=1/0,u=-1/0,l=n[o].length,c=0;c<l;c++)s=Math.min(s,n[o][c]),u=Math.max(u,n[o][c]),a+=n[o][c];return 0===l?NaN:"min"===e?s:"max"===e?u:"average"===e?a/l:a})}(nl.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),r=0;r<t.length;r++)t[r].originalData=t[r].getData();for(r=0;r<t.length;r++)t[r].seriesGroup=t,t[r].needsDrawMap=0===r&&!t[r].getHostGeoModel(),t[r].setData(n.cloneShallow()),t[r].mainSeries=t[0]})}),D_.registerPreprocessor(function(t){var e=[];nl.each(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,nl.defaults(t,t.mapLocation))})}),Ew("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var OM=nl.each,CM="\0__link_datas",IM="\0__link_mainData",kM=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,ni(e,n,t),OM(n,function(n){OM(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,nl.curry(function(t,e){if(function(t){return t[IM]===t}(this)){var n=nl.extend({},this[CM]);n[this.dataType]=e,ni(e,n,t)}else ri(e,this.dataType,this[IM],t);return e},t))})}),e.wrapMethod("cloneShallow",nl.curry(function(t,e){return OM(e[CM],function(n,r){n!==e&&ri(n.cloneShallow(),r,e,t)}),e},t)),OM(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,nl.curry(function(t,e){return t.struct&&t.struct.update(this),e},t))}),nl.assert(n[e.dataType]===e)},DM=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};DM.prototype={constructor:DM,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),t=t||{},nl.isString(t)&&(t={order:t});var r,i=t.order||"preorder",o=this[t.attr||"children"];"preorder"===i&&(r=e.call(n,this));for(var a=0;!r&&a<o.length;a++)o[a].eachNode(t,e,n);"postorder"===i&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].getNodeById(t);if(i)return i}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].contains(t);if(i)return i}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,n=this.hostTree,r=n.data.getItemModel(this.dataIndex),i=this.getLevelModel();return i||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),r.getModel(t,(i||e||n.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},ii.prototype={constructor:ii,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},ii.createTree=function(t,e,n){var r=new ii(e,n.levels,n.leaves),i=[],o=1;(function t(e,n){var a=e.value;o=Math.max(o,nl.isArray(a)?a.length:1),i.push(e);var s=new DM(e.name,r);n?function(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}(s,n):r.root=s,r._nodes.push(s);var u=e.children;if(u)for(var l=0;l<u.length;l++)t(u[l],s)})(t),r.root.updateDepthAndHeight(0);var a=By(i,{coordDimensions:["value"],dimensionsCount:o}),s=new Oy(a,e);return s.initData(i),kM({mainData:s,struct:r,structAttr:"tree"}),r.update(),r};var LM=ii,EM=Vp.encodeHTML,PM=(xm.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},n=t.leaves||{},r={};r.leaves=n;var i=LM.createTree(e,this,r),o=0;i.eachNode("preorder",function(t){t.depth>o&&(o=t.depth)});var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return i.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a}),i.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],r=e.getNodeByDataIndex(t),i=r.getValue(),o=r.name;r&&r!==n;)o=r.parentNode.name+"."+o,r=r.parentNode;return EM(o+(isNaN(i)||null==i?"":" : "+i))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),{init:function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,r=[t];e=r.pop();)if(n=e.children,e.isExpand&&n.length)for(var i=n.length-1;i>=0;i--){var o=n[i];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},r.push(o)}},firstWalk:function(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,i=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){!function(t){for(var e=t.children,n=e.length,r=0,i=0;--n>=0;){var o=e[n];o.hierNode.prelim+=r,o.hierNode.modifier+=r,i+=o.hierNode.change,r+=o.hierNode.shift+i}}(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(t.hierNode.prelim=i.hierNode.prelim+e(t,i),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else i&&(t.hierNode.prelim=i.hierNode.prelim+e(t,i));t.parentNode.hierNode.defaultAncestor=function(t,e,n,r){if(e){for(var i=t,o=t,a=o.parentNode.children[0],s=e,u=i.hierNode.modifier,l=o.hierNode.modifier,c=a.hierNode.modifier,h=s.hierNode.modifier;s=oi(s),o=ai(o),s&&o;){i=oi(i),a=ai(a),i.hierNode.ancestor=t;var f=s.hierNode.prelim+h-o.hierNode.prelim-l+r(s,o);f>0&&(function(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}(function(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}(s,t,n),t,f),l+=f,u+=f),h+=s.hierNode.modifier,l+=o.hierNode.modifier,u+=i.hierNode.modifier,c+=a.hierNode.modifier}s&&!oi(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=h-u),o&&!ai(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=l-c,n=t)}return n}(t,i,t.parentNode.hierNode.defaultAncestor||r[0],e)},secondWalk:function(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier},separation:function(t){return arguments.length?t:function(t,e){return t.parentNode===e.parentNode?1:2}},radialCoordinate:function(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n},getViewRect:function(t,e){return Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}}),NM=PM.radialCoordinate;D_.extendChartView({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new _p.Group,this.group.add(this._mainGroup)},render:function(t,e,n,r){var i=t.getData(),o=t.layoutInfo,a=this._mainGroup,s=t.get("layout");"radial"===s?a.attr("position",[o.x+o.width/2,o.y+o.height/2]):a.attr("position",[o.x,o.y]);var u=this._data,l={expandAndCollapse:t.get("expandAndCollapse"),layout:s,orient:t.getOrient(),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};i.diff(u).add(function(e){si(i,e)&&li(i,e,null,a,t,l)}).update(function(e,n){var r=u.getItemGraphicEl(n);si(i,e)?li(i,e,r,a,t,l):r&&ci(u,n,r,a,t,l)}).remove(function(e){var n=u.getItemGraphicEl(e);n&&ci(u,e,n,a,t,l)}).execute(),!0===l.expandAndCollapse&&i.eachItemGraphicEl(function(e,r){e.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:r})})}),this._data=i},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),D_.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=t.dataIndex,r=e.getData().tree.getNodeByDataIndex(n);r.isExpand=!r.isExpand})});var jM=function(t,e,n){for(var r,i=[t],o=[];r=i.pop();)if(o.push(r),r.isExpand){var a=r.children;if(a.length)for(var s=0;s<a.length;s++)i.push(a[s])}for(;r=o.pop();)e(r,n)},RM=function(t,e){for(var n,r=[t];n=r.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var o=i.length-1;o>=0;o--)r.push(i[o])}},zM=PM.init,BM=PM.firstWalk,VM=PM.secondWalk,FM=PM.separation,HM=PM.radialCoordinate,WM=PM.getViewRect;D_.registerVisual(fb("tree","circle")),D_.registerLayout(function(t,e){t.eachSeriesByType("tree",function(t){!function(t,e){var n=WM(t,e);t.layoutInfo=n;var r=t.get("layout"),i=0,o=0,a=null;"radial"===r?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,a=FM(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(i=n.width,o=n.height,a=FM());var s=t.getData().tree.root,u=s.children[0];if(u){zM(s),jM(u,BM,a),s.hierNode.modifier=-u.hierNode.prelim,RM(u,VM);var l=u,c=u,h=u;RM(u,function(t){var e=t.getLayout().x;e<l.getLayout().x&&(l=t),e>c.getLayout().x&&(c=t),t.depth>h.depth&&(h=t)});var f=l===c?1:a(l,c)/2,d=f-l.getLayout().x,p=0,g=0,v=0,m=0;if("radial"===r)p=i/(c.getLayout().x+f+d),g=o/(h.depth-1||1),RM(u,function(t){v=(t.getLayout().x+d)*p,m=(t.depth-1)*g;var e=HM(v,m);t.setLayout({x:e.x,y:e.y,rawX:v,rawY:m},!0)});else{var y=t.getOrient();"RL"===y||"LR"===y?(g=o/(c.getLayout().x+f+d),p=i/(h.depth-1||1),RM(u,function(t){m=(t.getLayout().x+d)*g,v="LR"===y?(t.depth-1)*p:i-(t.depth-1)*p,t.setLayout({x:v,y:m},!0)})):"TB"!==y&&"BT"!==y||(p=i/(c.getLayout().x+f+d),g=o/(h.depth-1||1),RM(u,function(t){v=(t.getLayout().x+d)*p,m="TB"===y?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:v,y:m},!0)}))}}}(t,e)})});var GM={retrieveTargetInfo:function(t,e,n){if(t&&nl.indexOf(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if(i&&r.contains(i))return{node:i};var o=t.targetNodeId;if(null!=o&&(i=r.getNodeById(o)))return{node:i}}},getPathToRoot:fi,aboveViewRoot:function(t,e){var n=fi(t);return nl.indexOf(n,e)>=0},wrapTreePathInfo:function(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}},qM=Vp.encodeHTML,UM=Vp.addCommas,YM=GM.wrapTreePathInfo,XM=(xm.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;nl.each(e.children,function(e){t(e);var r=e.value;nl.isArray(r)&&(r=r[0]),n+=r});var r=e.value;nl.isArray(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=n),r<0&&(r=0),nl.isArray(e.value)?e.value[0]=r:e.value=r}(n);var r=t.levels||[];r=t.levels=function(t,e){var n,r=e.get("color");if(r)return t=t||[],nl.each(t,function(t){var e=new kp(t),r=e.get("color");(e.get("itemStyle.color")||r&&"none"!==r)&&(n=!0)}),n||((t[0]||(t[0]={})).color=r.slice()),t}(r,e);var i={};return i.levels=r,LM.createTree(n,this,i).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),r=UM(nl.isArray(n)?n[0]:n),i=e.getName(t);return qM(i+": "+r)},getDataParams:function(t){var e=xm.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=YM(n,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},nl.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=nl.createHashMap(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}}),GM.wrapTreePathInfo);di.prototype={constructor:di,render:function(t,e,n,r){var i=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),i.get("show")&&n){var a=i.getModel("itemStyle"),s=a.getModel("textStyle"),u={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,s),this._renderContent(t,u,a,s,r),Xp.positionElement(o,u.pos,u.box)}},_prepare:function(t,e,n){for(var r=t;r;r=r.parentNode){var i=r.getModel().get("name"),o=n.getTextRect(i),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:r,text:i,width:a})}},_renderContent:function(t,e,n,r,i){for(var o=0,a=e.emptyItemWidth,s=t.get("breadcrumb.height"),u=Xp.getAvailableSize(e.pos,e.box),l=e.totalWidth,c=e.renderList,h=c.length-1;h>=0;h--){var f=c[h],d=f.node,p=f.width,g=f.text;l>u.width&&(l-=p-a,p=a,g=null);var v=new _p.Polygon({shape:{points:function(t,e,n,r,i,o){var a=[[i?t:t-5,0],[t+n,0],[t+n,0+r],[i?t:t-5,0+r]];return!(0===h)&&a.splice(2,0,[t+n+5,0+r/2]),!i&&a.push([t,0+r/2]),a}(o,0,p,s,h===c.length-1)},style:nl.defaults(n.getItemStyle(),{lineJoin:"bevel",text:g,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:nl.curry(i,d)});this.group.add(v),function(t,e,n){v.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&XM(n,e)}}(0,t,d),o+=p+8}},remove:function(){this.group.removeAll()}};for(var ZM=di,$M={createWrap:function(){var t,e=[],n={};return{add:function(t,r,i,o,a){return nl.isString(o)&&(a=o,o=0),!n[t.id]&&(n[t.id]=1,e.push({el:t,target:r,time:i,delay:o,easing:a}),!0)},done:function(e){return t=e,this},start:function(){for(var r=e.length,i=0,o=e.length;i<o;i++){var a=e[i];a.el.animateTo(a.target,a.time,a.delay,a.easing,function(){--r||(e.length=0,n={},t&&t())})}return this}}}},KM=nl.bind,JM=_p.Group,QM=_p.Rect,tS=nl.each,eS=["label"],nS=["emphasis","label"],rS=["upperLabel"],iS=["emphasis","upperLabel"],oS=10,aS=Bh([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),sS=function(t){var e=aS(t);return e.stroke=e.fill=e.lineWidth=null,e},uS=(D_.extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,n,r){var i=e.findComponents({mainType:"series",subType:"treemap",query:r});if(!(nl.indexOf(i,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var o=GM.retrieveTargetInfo(r,["treemapZoomToNode","treemapRootToNode"],t),a=r&&r.type,s=t.layoutInfo,u=!this._oldTree,l=this._storage,c="treemapRootToNode"===a&&o&&l?{rootNodeGroup:l.nodeGroup[o.node.getRawIndex()],direction:r.direction}:null,h=this._giveContainerGroup(s),f=this._doRender(h,t,c);u||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?f.renderFinally():this._doAnimation(h,f,t,c),this._resetController(n),this._renderBreadcrumb(t,n,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new JM,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){var r=e.getData().tree,i=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,u=[],l=nl.curry(function(t,e,n,r,i,o,a,s,u,l){function c(t,e){m?!t.invisible&&o.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function h(e,n,r,i,o,s){var u=a.getModel(),l=nl.retrieve(t.getFormattedLabel(a.dataIndex,"normal",null,null,s?"upperLabel":"label"),u.get("name"));if(!s&&d.isLeafRoot){var c=t.get("drillDownIcon",!0);l=c?c+" "+l:l}var h=u.getModel(s?rS:eS),f=u.getModel(s?iS:nS),p=h.getShallow("show");_p.setLabelStyle(e,n,h,f,{defaultText:p?l:null,autoColor:r,isRectText:!0}),s&&(e.textRect=nl.clone(s)),e.truncate=p&&h.get("ellipsis")?{outerWidth:i,outerHeight:o,minChar:2}:null}function f(t,o,s,u){var l=null!=x&&n[t][x],c=i[t];return l?(n[t][x]=null,function(t,e,n){(c[y]={}).old="nodeGroup"===n?e.position.slice():nl.extend({},e.shape)}(0,l,t)):m||((l=new o({z:function(t,e){var n=s*oS+u;return(n-1)/n}()})).__tmDepth=s,l.__tmStorageName=t,function(t,e,n){var o=t[y]={},s=a.parentNode;if(s&&(!r||"drillDown"===r.direction)){var u=0,l=0,c=i.background[s.getRawIndex()];!r&&c&&c.old&&(u=c.old.width,l=c.old.height),o.old="nodeGroup"===n?[0,l]:{x:u,y:l,width:0,height:0}}o.fadein="nodeGroup"!==n}(c,0,t)),e[t][y]=l}if(a){var d=a.getLayout();if(d&&d.isInView){var p=d.width,g=d.height,v=d.borderWidth,m=d.invisible,y=a.getRawIndex(),x=s&&s.getRawIndex(),_=a.viewChildren,b=d.upperHeight,w=_&&_.length,M=a.getModel("itemStyle"),S=a.getModel("emphasis.itemStyle"),A=f("nodeGroup",JM);if(A){if(u.add(A),A.attr("position",[d.x||0,d.y||0]),A.__tmNodeWidth=p,A.__tmNodeHeight=g,d.isAboveViewRoot)return A;var T=f("background",QM,l,1);if(T&&function(e,n,r){n.dataIndex=a.dataIndex,n.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:p,height:g});var i=a.getVisual("borderColor",!0),o=S.get("borderColor");c(n,function(){var t=sS(M);t.fill=i;var e=aS(S);if(e.fill=o,r){var a=p-2*v;h(t,e,i,a,b,{x:v,y:0,width:a,height:b})}else t.text=e.text=null;n.setStyle(t),_p.setHoverStyle(n,e)}),e.add(n)}(A,T,w&&d.upperHeight),!w){var O=f("content",QM,l,2);O&&function(e,n){n.dataIndex=a.dataIndex,n.seriesIndex=t.seriesIndex;var r=Math.max(p-2*v,0),i=Math.max(g-2*v,0);n.culling=!0,n.setShape({x:v,y:v,width:r,height:i});var o=a.getVisual("color",!0);c(n,function(){var t=sS(M);t.fill=o;var e=aS(S);h(t,e,o,r,i),n.setStyle(t),_p.setHoverStyle(n,e)}),e.add(n)}(A,O)}return A}}}},e,a,s,n,o,u);!function t(e,n,r,i,o){function a(t){return t.getId()}function s(a,s){var u=null!=a?e[a]:null,c=null!=s?n[s]:null,h=l(u,c,r,o);h&&t(u&&u.viewChildren||[],c&&c.viewChildren||[],h,i,o+1)}i?(n=e,tS(e,function(t,e){!t.isRemoved()&&s(e,e)})):new cy(n,e,a,a).add(s).update(s).remove(nl.curry(s,null)).execute()}(r.root?[r.root]:[],i&&i.root?[i.root]:[],t,r===i||!i,0);var c=function(t){var e={nodeGroup:[],background:[],content:[]};return s&&tS(s,function(t,n){var r=e[n];tS(t,function(t){t&&(r.push(t),t.__tmWillDelete=1)})}),e}();return this._oldTree=r,this._storage=a,{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){tS(c,function(t){tS(t,function(t){t.parent&&t.parent.remove(t)})}),tS(u,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,e,n,r){if(n.get("animation")){var i=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=$M.createWrap();tS(e.willDeleteEls,function(t,e){tS(t,function(t,n){if(!t.invisible){var s,u=t.parent;if(r&&"drillDown"===r.direction)s=u===r.rootNodeGroup?{shape:{x:0,y:0,width:u.__tmNodeWidth,height:u.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var l=0,c=0;u.__tmWillDelete||(l=u.__tmNodeWidth/2,c=u.__tmNodeHeight/2),s="nodeGroup"===e?{position:[l,c],style:{opacity:0}}:{shape:{x:l,y:c,width:0,height:0},style:{opacity:0}}}s&&a.add(t,s,i,o)}})}),tS(this._storage,function(t,n){tS(t,function(t,r){var s=e.lastsForAnimation[n][r],u={};s&&("nodeGroup"===n?s.old&&(u.position=t.position.slice(),t.attr("position",s.old)):(s.old&&(u.shape=nl.extend({},t.shape),t.setShape(s.old)),s.fadein?(t.setStyle("opacity",0),u.style={opacity:1}):1!==t.style.opacity&&(u.style={opacity:1})),a.add(t,u,i,o))})},this),this._state="animating",a.done(KM(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new yM(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",KM(this._onPan,this)),e.on("zoom",KM(this._onZoom,this)));var n=new tc(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,r){return n.contain(e,r)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t,e){if("animating"!==this._state&&(Math.abs(t)>3||Math.abs(e)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t,y:r.y+e,width:r.width,height:r.height}})}},_onZoom:function(t,e,n){if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var o=new tc(i.x,i.y,i.width,i.height),a=this.seriesModel.layoutInfo;e-=a.x,n-=a.y;var s=dl.create();dl.translate(s,s,[-e,-n]),dl.scale(s,s,[t,t]),dl.translate(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var r=n.node;if(r.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var i=r.hostTree.data.getItemModel(r.dataIndex),o=i.get("link",!0),a=i.get("target",!0)||"blank";o&&window.open(o,a)}}}}},this)},_renderBreadcrumb:function(t,e,n){n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new ZM(this.group))).render(t,e,n.node,KM(function(e){"animating"!==this._state&&(GM.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(r){var i=this._storage.background[r.getRawIndex()];if(i){var o=i.transformCoordToLocal(t,e),a=i.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:r,offsetX:o[0],offsetY:o[1]}}},this),n}}),["treemapZoomToNode","treemapRender","treemapMove"]),lS=0;lS<uS.length;lS++)D_.registerAction({type:uS[lS],update:"updateView"},function(){});D_.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,n){var r=GM.retrieveTargetInfo(t,["treemapZoomToNode","treemapRootToNode"],e);if(r){var i=e.getViewRoot();i&&(t.direction=GM.aboveViewRoot(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}})});var cS=Np.linearMap,hS=nl.each,fS=nl.isObject,dS=-1,pS=function(t){var e=t.mappingMethod,n=t.type,r=this.option=nl.clone(t);this.type=n,this.mappingMethod=e,this._normalizeData=vS[e];var i=gS[n];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._doMap=i._doMap[e],"piecewise"===e?(pi(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,nl.each(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}(r)):"category"===e?r.categories?function(t){var e=t.categories,n=t.visual,r=t.categoryMap={};if(hS(e,function(t,e){r[t]=e}),!nl.isArray(n)){var i=[];nl.isObject(n)?hS(n,function(t,e){var n=r[e];i[null!=n?n:dS]=t}):i[dS]=n,n=wi(t,i)}for(var o=e.length-1;o>=0;o--)null==n[o]&&(delete r[e[o]],e.pop())}(r):pi(r,!0):(nl.assert("linear"!==e||r.dataExtent),pi(r))};pS.prototype={constructor:pS,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return nl.bind(this._normalizeData,this)}};var gS=pS.visualHandlers={color:{applyVisual:mi("color"),getColorMapper:function(){var t=this.option;return nl.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),yi.call(this,t)}:function(e,n,r){var i=!!r;return!n&&(e=this._normalizeData(e)),r=Ll.fastLerp(e,t.parsedVisual,r),i?r:Ll.stringify(r,"rgba")},this)},_doMap:{linear:function(t){return Ll.stringify(Ll.fastLerp(t,this.option.parsedVisual),"rgba")},category:yi,piecewise:function(t,e){var n=bi.call(this,e);return null==n&&(n=Ll.stringify(Ll.fastLerp(t,this.option.parsedVisual),"rgba")),n},fixed:xi}},colorHue:gi(function(t,e){return Ll.modifyHSL(t,e)}),colorSaturation:gi(function(t,e){return Ll.modifyHSL(t,null,e)}),colorLightness:gi(function(t,e){return Ll.modifyHSL(t,null,null,e)}),colorAlpha:gi(function(t,e){return Ll.modifyAlpha(t,e)}),opacity:{applyVisual:mi("opacity"),_doMap:_i([0,1])},liftZ:{applyVisual:mi("liftZ"),_doMap:{linear:xi,category:xi,piecewise:xi,fixed:xi}},symbol:{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);if(nl.isString(r))n("symbol",r);else if(fS(r))for(var i in r)r.hasOwnProperty(i)&&n(i,r[i])},_doMap:{linear:vi,category:yi,piecewise:function(t,e){var n=bi.call(this,e);return null==n&&(n=vi.call(this,t)),n},fixed:xi}},symbolSize:{applyVisual:mi("symbolSize"),_doMap:_i([0,1])}},vS={linear:function(t){return cS(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=pS.findPieceIndex(t,e,!0);if(null!=n)return cS(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?dS:e},fixed:nl.noop};pS.listVisualTypes=function(){var t=[];return nl.each(gS,function(e,n){t.push(n)}),t},pS.addVisualHandler=function(t,e){gS[t]=e},pS.isValidType=function(t){return gS.hasOwnProperty(t)},pS.eachVisual=function(t,e,n){nl.isObject(t)?nl.each(t,e,n):e.call(n,t)},pS.mapVisual=function(t,e,n){var r,i=nl.isArray(t)?[]:nl.isObject(t)?{}:(r=!0,null);return pS.eachVisual(t,function(t,o){var a=e.call(n,t,o);r?i=a:i[o]=a}),i},pS.retrieveVisuals=function(t){var e,n={};return t&&hS(gS,function(r,i){t.hasOwnProperty(i)&&(n[i]=t[i],e=!0)}),e?n:null},pS.prepareVisualTypes=function(t){if(fS(t)){var e=[];hS(t,function(t,n){e.push(n)}),t=e}else{if(!nl.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},pS.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},pS.findPieceIndex=function(t,e,n){function r(e,n){var r=Math.abs(e-t);r<o&&(o=r,i=n)}for(var i,o=1/0,a=0,s=e.length;a<s;a++){var u=e[a].value;if(null!=u){if(u===t||"string"==typeof u&&u===t+"")return a;n&&r(u,a)}}for(a=0,s=e.length;a<s;a++){var l=e[a],c=l.interval,h=l.close;if(c){if(c[0]===-1/0){if(Mi(h[1],t,c[1]))return a}else if(c[1]===1/0){if(Mi(h[0],c[0],t))return a}else if(Mi(h[0],c[0],t)&&Mi(h[1],t,c[1]))return a;n&&r(c[0],a),n&&r(c[1],a)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i};var mS=pS,yS=nl.isArray,xS="itemStyle",_S={seriesType:"treemap",reset:function(t,e,n,r){var i=t.getData().tree,o=i.root,a=t.getModel(xS);o.isRemoved()||function t(e,n,r,i,o,a){var s=e.getModel(),u=e.getLayout();if(u&&!u.invisible&&u.isInView){var l,c=e.getModel(xS),h=function(t,e,n,r){var i=nl.extend({},e);return nl.each(["color","colorAlpha","colorSaturation"],function(o){var a=t.get(o,!0);null==a&&n&&(a=n[o]),null==a&&(a=e[o]),null==a&&(a=r.get(o)),null!=a&&(i[o]=a)}),i}(c,n,r[e.depth],i),f=c.get("borderColor"),d=c.get("borderColorSaturation");null!=d&&(f=function(t,e){return null!=e?Ll.modifyHSL(e,null,null,t):null}(d,l=Si(h))),e.setVisual("borderColor",f);var p=e.viewChildren;if(p&&p.length){var g=function(t,e,n,r,i,o){if(p&&p.length){var a=Ti(e,"color")||null!=i.color&&"none"!==i.color&&(Ti(e,"colorAlpha")||Ti(e,"colorSaturation"));if(a){var s=e.get("visualMin"),u=e.get("visualMax"),l=n.dataExtent.slice();null!=s&&s<l[0]&&(l[0]=s),null!=u&&u>l[1]&&(l[1]=u);var c=e.get("colorMappingBy"),h={type:a.name,dataExtent:l,visual:a.range};"color"!==h.type||"index"!==c&&"id"!==c?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var f=new mS(h);return f.__drColorMappingBy=c,f}}}(0,s,u,0,h);nl.each(p,function(e,n){(e.depth>=o.length||e===o[e.depth])&&t(e,function(t,e,n,r,i,o){var a=nl.extend({},e);if(i){var s=i.type,u="color"===s&&i.__drColorMappingBy,l="index"===u?r:"id"===u?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=i.mapValueToVisual(l)}return a}(s,h,e,n,g,a),r,i,o,a)})}else l=Si(h),e.setVisual("color",l)}}(o,{},nl.map(i.levelModels,function(t){return t?t.get(xS):null}),a,t.getViewRoot().getAncestors(),t)}},bS=Np.parsePercent,wS=Np.MAX_SAFE_INTEGER,MS=Math.max,SS=Math.min,AS=nl.retrieve,TS=nl.each,OS=["itemStyle","borderWidth"],CS=["itemStyle","gapWidth"],IS=["upperLabel","show"],kS=["upperLabel","height"],DS={seriesType:"treemap",reset:function(t,e,n,r){var i=n.getWidth(),o=n.getHeight(),a=t.option,s=Xp.getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=a.size||[],l=bS(AS(s.width,u[0]),i),c=bS(AS(s.height,u[1]),o),h=r&&r.type,f=GM.retrieveTargetInfo(r,["treemapZoomToNode","treemapRootToNode"],t),d="treemapRender"===h||"treemapMove"===h?r.rootRect:null,p=t.getViewRoot(),g=GM.getPathToRoot(p);if("treemapMove"!==h){var v="treemapZoomToNode"===h?function(t,e,n,r,i){var o=(e||{}).node,a=[r,i];if(!o||o===n)return a;for(var s,u=r*i,l=u*t.option.zoomToNodeRatio;s=o.parentNode;){for(var c=0,h=s.children,f=0,d=h.length;f<d;f++)c+=h[f].getValue();var p=o.getValue();if(0===p)return a;l*=c/p;var g=s.getModel(),v=g.get(OS);(l+=4*v*v+(3*v+Math.max(v,Ci(g)))*Math.pow(l,.5))>wS&&(l=wS),o=s}l<u&&(l=u);var m=Math.pow(l/u,.5);return[r*m,i*m]}(t,f,p,l,c):d?[d.width,d.height]:[l,c],m=a.sort;m&&"asc"!==m&&"desc"!==m&&(m="desc");var y={squareRatio:a.squareRatio,sort:m,leafDepth:a.leafDepth};p.hostTree.clearLayouts(),x={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]},p.setLayout(x),function t(e,n,r,i){var o,a;if(!e.isRemoved()){var s=e.getLayout();o=s.width,a=s.height;var u=(p=e.getModel()).get(OS),l=p.get(CS)/2,c=Ci(p),h=Math.max(u,c),f=u-l,d=h-l,p=e.getModel();e.setLayout({borderWidth:u,upperHeight:h,upperLabelHeight:c},!0);var g=(o=MS(o-2*f,0))*(a=MS(a-f-d,0)),v=function(t,e,n,r,i,o){var a=t.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=r.leafDepth&&r.leafDepth<=o;if(i&&!u)return t.viewChildren=[];!function(t,e){e&&t.sort(function(t,n){var r="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r})}(a=nl.filter(a,function(t){return!t.isRemoved()}),s);var l=function(t,e,n){for(var r=0,i=0,o=e.length;i<o;i++)r+=e[i].getValue();var a=t.get("visualDimension");if(e&&e.length)if("value"===a&&n)s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&s.reverse();else{var s=[1/0,-1/0];TS(e,function(t){var e=t.getValue(a);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})}else s=[NaN,NaN];return{sum:r,dataExtent:s}}(e,a,s);if(0===l.sum)return t.viewChildren=[];if(l.sum=function(t,e,n,r,i){if(!r)return n;for(var o=t.get("visibleMin"),a=i.length,s=a,u=a-1;u>=0;u--){var l=i["asc"===r?a-u-1:u].getValue();l/n*e<o&&(s=u,n-=l)}return"asc"===r?i.splice(0,a-s):i.splice(s,a-s),n}(e,n,l.sum,s,a),0===l.sum)return t.viewChildren=[];for(var c=0,h=a.length;c<h;c++){var f=a[c].getValue()/l.sum*n;a[c].setLayout({area:f})}return u&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0),t.viewChildren=a,t.setLayout({dataExtent:l.dataExtent},!0),a}(e,p,g,n,r,i);if(v.length){var m={x:f,y:d,width:o,height:a},y=SS(o,a),x=1/0,_=[];_.area=0;for(var b=0,w=v.length;b<w;){var M=v[b];_.push(M),_.area+=M.getLayout().area;var S=function(t,e,n){for(var r,i=0,o=1/0,a=0,s=t.length;a<s;a++)(r=t[a].getLayout().area)&&(r<o&&(o=r),r>i&&(i=r));var u=t.area*t.area,l=e*e*n;return u?MS(l*i/u,u/(l*o)):1/0}(_,y,n.squareRatio);S<=x?(b++,x=S):(_.area-=_.pop().getLayout().area,Oi(_,y,m,l,!1),y=SS(m.width,m.height),_.length=_.area=0,x=1/0)}if(_.length&&Oi(_,y,m,l,!0),!r){var A=p.get("childrenVisibleMin");null!=A&&g<A&&(r=!0)}for(b=0,w=v.length;b<w;b++)t(v[b],n,r,i+1)}}}(p,y,!1,0);var x=p.getLayout();TS(g,function(t,e){var n=(g[e+1]||p).getValue();t.setLayout(nl.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))})}var _=t.getData().tree.root;_.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!n)return r;var i=n.node,o=i.getLayout();if(!o)return r;for(var a=[o.width/2,o.height/2],s=i;s;){var u=s.getLayout();a[0]+=u.x,a[1]+=u.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,d,f),!0),t.setLayoutInfo(s),function t(e,n,r,i,o){var a=e.getLayout(),s=r[o],u=s&&s===e;if(!(s&&!u||o===r.length&&e!==i)){e.setLayout({isInView:!0,invisible:!u&&!n.intersect(a),isAboveViewRoot:u},!0);var l=new tc(n.x-a.x,n.y-a.y,n.width,n.height);TS(e.viewChildren||[],function(e){t(e,l,r,i,o+1)})}}(_,new tc(-s.x,-s.y,i,o),g,p,0)}};D_.registerVisual(_S),D_.registerLayout(DS);var LS=Rh,ES=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},PS=ES.prototype;PS.type="graph",PS.isDirected=function(){return this._directed},PS.addNode=function(t,e){t=t||""+e;var n=this._nodesMap;if(!n[Ii(t)]){var r=new ki(t,e);return r.hostGraph=this,this.nodes.push(r),n[Ii(t)]=r,r}},PS.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},PS.getNodeById=function(t){return this._nodesMap[Ii(t)]},PS.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),ki.isInstance(t)||(t=r[Ii(t)]),ki.isInstance(e)||(e=r[Ii(e)]),t&&e){var o=t.id+"-"+e.id;if(!i[o]){var a=new Di(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),i[o]=a,a}}},PS.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},PS.getEdge=function(t,e){ki.isInstance(t)&&(t=t.id),ki.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},PS.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},PS.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},PS.breadthFirstTraverse=function(t,e,n,r){if(ki.isInstance(e)||(e=this._nodesMap[Ii(e)]),e){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(r,e,null))for(var a=[e];a.length;){var s=a.shift(),u=s[i];for(o=0;o<u.length;o++){var l=u[o],c=l.node1===s?l.node2:l.node1;if(!c.__visited){if(t.call(r,c,s))return;a.push(c),c.__visited=!0}}}}},PS.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)r[e.getRawIndex(i)].dataIndex=i},PS.clone=function(){for(var t=new ES(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<n.length;r++){var i=n[r];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},ki.prototype={constructor:ki,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},Di.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var NS=function(t,e){return{getValue:function(n){var r=this[t][e];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n,r){return this[t][e].getItemVisual(this.dataIndex,n,r)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};nl.mixin(ki,NS("hostGraph","data")),nl.mixin(Di,NS("hostGraph","edgeData")),ES.Node=ki,ES.Edge=Di,LS(ki),LS(Di);var jS=ES,RS=function(t,e,n,r,i){for(var o=new jS(r),a=0;a<t.length;a++)o.addNode(nl.retrieve(t[a].id,t[a].name,a),a);var s=[],u=[],l=0;for(a=0;a<e.length;a++){var c=e[a],h=c.source,f=c.target;o.addEdge(h,f,l)&&(u.push(c),s.push(nl.retrieve(c.id,h+" > "+f)),l++)}var d,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)d=Xy(t,n);else{var g=yv.get(p),v=g&&"view"!==g.type&&g.dimensions||[];nl.indexOf(v,"value")<0&&v.concat(["value"]);var m=By(t,{coordDimensions:v});(d=new Oy(m,n)).initData(t)}var y=new Oy(["value"],n);return y.initData(u,s),i&&i(d,y),kM({mainData:d,struct:o,structAttr:"graph",datas:{node:d,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o},zS=Dh.defaultEmphasis,BS=Vp.encodeHTML,VS=D_.extendSeriesModel({type:"series.graph",init:function(t){VS.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){VS.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){VS.superApply(this,"mergeDefaultAndTheme",arguments),zS(t,["edgeLabel"],["show"])},getInitialData:function(t,e){var n=t.edges||t.links||[],r=t.data||t.nodes||[],i=this;if(r&&n)return RS(r,n,this,!0,function(t,n){t.wrapMethod("getItemModel",function(t){var e=i._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var r=i.getModel("edgeLabel"),o=new kp({label:r.option},r.parentModel,e),a=i.getModel("emphasis.edgeLabel"),s=new kp({emphasis:{label:a.option}},a.parentModel,e);n.wrapMethod("getItemModel",function(t){return t.customizeGetParent(function(t){return(t=this.parsePath(t))&&"label"===t[0]?o:t&&"emphasis"===t[0]&&"label"===t[1]?s:this.parentModel}),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(t,n),o=r.graph.getEdgeByIndex(t),a=r.getName(o.node1.dataIndex),s=r.getName(o.node2.dataIndex),u=[];return null!=a&&u.push(a),null!=s&&u.push(s),u=BS(u.join(" > ")),i.value&&(u+=" : "+BS(i.value)),u}return VS.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=nl.map(this.option.categories||[],function(t){return null!=t.value?t:nl.extend({value:0},t)}),e=new Oy(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return VS.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),FS=_p.Line.prototype,HS=_p.BezierCurve.prototype,WS=_p.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(Li(e)?FS:HS).buildPath(t,e)},pointAt:function(t){return Li(this.shape)?FS.pointAt.call(this,t):HS.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,n=Li(e)?[e.x2-e.x1,e.y2-e.y1]:HS.tangentAt.call(this,t);return il.normalize(n,n)}}),GS=Np.round,qS=["fromSymbol","toSymbol"],US=ji.prototype;US.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),n=this.childOfName("label");if(t||e||!n.ignore){for(var r=1,i=this.parent;i;)i.scale&&(r/=i.scale[0]),i=i.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var a=o.shape.percent,s=o.pointAt(0),u=o.pointAt(a),l=il.sub([],u,s);if(il.normalize(l,l),t&&(t.attr("position",s),p=o.tangentAt(0),t.attr("rotation",Math.PI/2-Math.atan2(p[1],p[0])),t.attr("scale",[r*a,r*a])),e&&(e.attr("position",u),p=o.tangentAt(1),e.attr("rotation",-Math.PI/2-Math.atan2(p[1],p[0])),e.attr("scale",[r*a,r*a])),!n.ignore){n.attr("position",u);var c,h,f,d=5*r;if("end"===n.__position)c=[l[0]*d+u[0],l[1]*d+u[1]],h=l[0]>.8?"left":l[0]<-.8?"right":"center",f=l[1]>.8?"top":l[1]<-.8?"bottom":"middle";else if("middle"===n.__position){var p,g=a/2,v=[(p=o.tangentAt(g))[1],-p[0]],m=o.pointAt(g);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]),c=[m[0]+v[0]*d,m[1]+v[1]*d],h="center",f="bottom";var y=-Math.atan2(p[1],p[0]);u[0]<s[0]&&(y=Math.PI+y),n.attr("rotation",y)}else c=[-l[0]*d+s[0],-l[1]*d+s[1]],h=l[0]>.8?"right":l[0]<-.8?"left":"center",f=l[1]>.8?"bottom":l[1]<-.8?"top":"middle";n.attr({style:{textVerticalAlign:n.__verticalAlign||f,textAlign:n.__textAlign||h},position:c,scale:[r,r]})}}}},US._createLine=function(t,e,n){var r=t.hostModel,i=function(t){var e=new WS({name:"line"});return Ni(e.shape,t),e}(t.getItemLayout(e));i.shape.percent=0,_p.initProps(i,{shape:{percent:1}},r,e),this.add(i);var o=new _p.Text({name:"label"});this.add(o),nl.each(qS,function(n){var r=Pi(n,t,e);this.add(r),this[Ei(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},US.updateData=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),o=t.getItemLayout(e),a={shape:{}};Ni(a.shape,o),_p.updateProps(i,a,r,e),nl.each(qS,function(n){var r=t.getItemVisual(e,n),i=Ei(n);if(this[i]!==r){this.remove(this.childOfName(n));var o=Pi(n,t,e);this.add(o)}this[i]=r},this),this._updateCommonStl(t,e,n)},US._updateCommonStl=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),o=n&&n.lineStyle,a=n&&n.hoverLineStyle,s=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var l=t.getItemModel(e);o=l.getModel("lineStyle").getLineStyle(),a=l.getModel("emphasis.lineStyle").getLineStyle(),s=l.getModel("label"),u=l.getModel("emphasis.label")}var c=t.getItemVisual(e,"color"),h=nl.retrieve3(t.getItemVisual(e,"opacity"),o.opacity,1);i.useStyle(nl.defaults({strokeNoScale:!0,fill:"none",stroke:c,opacity:h},o)),i.hoverStyle=a,nl.each(qS,function(t){var e=this.childOfName(t);e&&(e.setColor(c),e.setStyle({opacity:h}))},this);var f,d,p=s.getShallow("show"),g=u.getShallow("show"),v=this.childOfName("label");if((p||g)&&(f=c||"#000",null==(d=r.getFormattedLabel(e,"normal",t.dataType)))){var m=r.getRawValue(e);d=null==m?t.getName(e):isFinite(m)?GS(m):m}var y=p?d:null,x=g?nl.retrieve2(r.getFormattedLabel(e,"emphasis",t.dataType),d):null,_=v.style;null==y&&null==x||(_p.setTextStyle(v.style,s,{text:y},{autoColor:f}),v.__textAlign=_.textAlign,v.__verticalAlign=_.textVerticalAlign,v.__position=s.get("position")||"middle"),v.hoverStyle=null!=x?{text:x,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null},v.ignore=!p&&!g,_p.setHoverStyle(this)},US.highlight=function(){this.trigger("emphasis")},US.downplay=function(){this.trigger("normal")},US.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},US.setLinePoints=function(t){var e=this.childOfName("line");Ni(e.shape,t),e.dirty()},nl.inherits(ji,_p.Group);var YS=ji,XS=Ri.prototype;XS.isPersistent=function(){return!0},XS.updateData=function(t){var e=this,n=e.group,r=e._lineData;e._lineData=t,r||n.removeAll();var i=zi(t);t.diff(r).add(function(n){!function(t,e,n,r){if(Vi(e.getItemLayout(n))){var i=new t._ctor(e,n,r);e.setItemGraphicEl(n,i),t.group.add(i)}}(e,t,n,i)}).update(function(n,o){!function(t,e,n,r,i,o){var a=e.getItemGraphicEl(r);Vi(n.getItemLayout(i))?(a?a.updateData(n,i,o):a=new t._ctor(n,i,o),n.setItemGraphicEl(i,a),t.group.add(a)):t.group.remove(a)}(e,r,t,o,n,i)}).remove(function(t){n.remove(r.getItemGraphicEl(t))}).execute()},XS.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},XS.incrementalPrepareUpdate=function(t){this._seriesScope=zi(t),this._lineData=null,this.group.removeAll()},XS.incrementalUpdate=function(t,e){for(var n=t.start;n<t.end;n++)if(Vi(e.getItemLayout(n))){var r=new this._ctor(e,n,this._seriesScope);r.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),this.group.add(r),e.setItemGraphicEl(n,r)}},XS.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},XS._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var ZS=Ri,$S=[],KS=[],JS=[],QS=Qh.quadraticAt,tA=il.distSquare,eA=Math.abs,nA=function(t,e){function n(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var r=[],i=Qh.quadraticSubdivide,o=[[],[],[]],a=[[],[]],s=[];e/=2,t.eachEdge(function(t,u){var l=t.getLayout(),c=t.getVisual("fromSymbol"),h=t.getVisual("toSymbol");l.__original||(l.__original=[il.clone(l[0]),il.clone(l[1])],l[2]&&l.__original.push(il.clone(l[2])));var f=l.__original;if(null!=l[2]){if(il.copy(o[0],f[0]),il.copy(o[1],f[2]),il.copy(o[2],f[1]),c&&"none"!=c){var d=n(t.node1),p=Fi(o,f[0],d*e);i(o[0][0],o[1][0],o[2][0],p,r),o[0][0]=r[3],o[1][0]=r[4],i(o[0][1],o[1][1],o[2][1],p,r),o[0][1]=r[3],o[1][1]=r[4]}if(h&&"none"!=h){d=n(t.node2),p=Fi(o,f[1],d*e);i(o[0][0],o[1][0],o[2][0],p,r),o[1][0]=r[1],o[2][0]=r[2],i(o[0][1],o[1][1],o[2][1],p,r),o[1][1]=r[1],o[2][1]=r[2]}il.copy(l[0],o[0]),il.copy(l[1],o[2]),il.copy(l[2],o[1])}else il.copy(a[0],f[0]),il.copy(a[1],f[1]),il.sub(s,a[1],a[0]),il.normalize(s,s),c&&"none"!=c&&(d=n(t.node1),il.scaleAndAdd(a[0],a[0],s,d*e)),h&&"none"!=h&&(d=n(t.node2),il.scaleAndAdd(a[1],a[1],s,-d*e)),il.copy(l[0],a[0]),il.copy(l[1],a[1])})},rA=wM,iA=["itemStyle","opacity"],oA=["lineStyle","opacity"],aA=(D_.extendChartView({type:"graph",init:function(t,e){var n=new U_,r=new ZS,i=this.group;this._controller=new yM(e.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},render:function(t,e,n){var r=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var i=this._symbolDraw,o=this._lineDraw,a=this.group;if("view"===r.type){var s={position:r.position,scale:r.scale};this._firstRender?a.attr(s):_p.updateProps(a,s,t)}nA(t.getGraph(),this._getNodeGlobalScale(t));var u=t.getData();i.updateData(u);var l=t.getEdgeData();o.updateData(l),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var c=t.forceLayout,h=t.get("force.layoutAnimation");c&&this._startForceLayoutIteration(c,h),u.eachItemGraphicEl(function(e,r){var i=u.getItemModel(r);e.off("drag").off("dragend");var o=u.getItemModel(r).get("draggable");o&&e.on("drag",function(){c&&(c.warmUp(),!this._layouting&&this._startForceLayoutIteration(c,h),c.setFixed(r),u.setItemLayout(r,e.position))},this).on("dragend",function(){c&&c.setUnfixed(r)},this),e.setDraggable(o&&c),e.off("mouseover",e.__focusNodeAdjacency),e.off("mouseout",e.__unfocusNodeAdjacency),i.get("focusNodeAdjacency")&&(e.on("mouseover",e.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))},this),u.graph.eachEdge(function(e){var r=e.getGraphicEl();r.off("mouseover",r.__focusNodeAdjacency),r.off("mouseout",r.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(r.on("mouseover",r.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),r.on("mouseout",r.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))});var f="circular"===t.get("layout")&&t.get("circular.rotateLabel"),d=u.getLayout("cx"),p=u.getLayout("cy");u.eachItemGraphicEl(function(t,e){var n=t.getSymbolPath();if(f){var r=u.getItemLayout(e),i=Math.atan2(r[1]-p,r[0]-d);i<0&&(i=2*Math.PI+i);var o=r[0]<d;o&&(i-=Math.PI);var a=o?"left":"right";n.setStyle({textRotation:-i,textPosition:a,textOrigin:"center"}),n.hoverStyle&&(n.hoverStyle.textPosition=a)}else n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,n,r){var i=this._model.getData().graph,o=r.dataIndex,a=r.edgeDataIndex,s=i.getNodeByIndex(o),u=i.getEdgeByIndex(a);(s||u)&&(i.eachNode(function(t){Wi(t,iA,.1)}),i.eachEdge(function(t){Wi(t,oA,.1)}),s&&(Gi(s,iA),nl.each(s.edges,function(t){t.dataIndex<0||(Gi(t,oA),Gi(t.node1,iA),Gi(t.node2,iA))})),u&&(Gi(u,oA),Gi(u.node1,iA),Gi(u.node2,iA)))},unfocusNodeAdjacency:function(t,e,n,r){var i=this._model.getData().graph;i.eachNode(function(t){Wi(t,iA)}),i.eachEdge(function(t){Wi(t,oA)})},_startForceLayoutIteration:function(t,e){var n=this;!function r(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(r,16):r())})}()},_updateController:function(t,e,n){var r=this._controller,i=this._controllerHost,o=this.group;r.setPointerChecker(function(e,r,i){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(r,i)&&!rA(e,n,t)}),"view"===t.coordinateSystem.type?(r.enable(t.get("roam")),i.zoomLimit=t.get("scaleLimit"),i.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(e,r){xM(i,e,r),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e,dy:r})}).on("zoom",function(e,r,o){_M(i,e,r,o),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e,originX:r,originY:o}),this._updateNodeAndLinkScale(),nA(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)):r.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),n=this._getNodeGlobalScale(t),r=[n,n];e.eachItemGraphicEl(function(t,e){t.attr("scale",r)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,r=e.scale,i=r&&r[0]||1;return((e.getZoom()-1)*n+1)/i},updateLayout:function(t){nA(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),AM.updateCenterAndZoom);D_.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var n=e.coordinateSystem,r=aA(n,t);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)})}),D_.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),D_.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var sA=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),Ui(n)}},uA=Ui,lA=nl.each,cA=sA,hA=uA,fA=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=e.getBoundingRect(),r=t.getData(),i=r.graph,o=0,a=r.getSum("value"),s=2*Math.PI/(a||r.count()),u=n.width/2+n.x,l=n.height/2+n.y,c=Math.min(n.width,n.height)/2;i.eachNode(function(t){var e=t.getValue("value");o+=s*(a?e:1)/2,t.setLayout([c*Math.cos(o)+u,c*Math.sin(o)+l]),o+=s*(a?e:1)/2}),r.setLayout({cx:u,cy:l}),i.eachEdge(function(t){var e,n=t.getModel().get("lineStyle.curveness")||0,r=il.clone(t.node1.getLayout()),i=il.clone(t.node2.getLayout()),o=(r[0]+i[0])/2,a=(r[1]+i[1])/2;+n&&(e=[u*(n*=3)+o*(1-n),l*n+a*(1-n)]),t.setLayout([r,i,e])})}},dA=fA,pA=il.scaleAndAdd,gA=function(t,e,n){for(var r=n.rect,i=r.width,o=r.height,a=[r.x+i/2,r.y+o/2],s=null==n.gravity?.1:n.gravity,u=0;u<t.length;u++){var l=t[u];l.p||(l.p=il.create(i*(Math.random()-.5)+a[0],o*(Math.random()-.5)+a[1])),l.pp=il.clone(l.p),l.edges=null}var c=.6;return{warmUp:function(){c=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(n){for(var r=[],i=t.length,o=0;o<e.length;o++){var u=e[o],l=u.n1,h=u.n2;il.sub(r,h.p,l.p);var f=il.len(r)-u.d,d=h.w/(l.w+h.w);isNaN(d)&&(d=0),il.normalize(r,r),!l.fixed&&pA(l.p,l.p,r,d*f*c),!h.fixed&&pA(h.p,h.p,r,-(1-d)*f*c)}for(o=0;o<i;o++)(m=t[o]).fixed||(il.sub(r,a,m.p),pA(m.p,m.p,r,s*c));for(o=0;o<i;o++){l=t[o];for(var p=o+1;p<i;p++){h=t[p],il.sub(r,h.p,l.p),0===(f=il.len(r))&&(il.set(r,Math.random()-.5,Math.random()-.5),f=1);var g=(l.rep+h.rep)/f/f;!l.fixed&&pA(l.pp,l.pp,r,g),!h.fixed&&pA(h.pp,h.pp,r,-g)}}var v=[];for(o=0;o<i;o++){var m=t[o];m.fixed||(il.sub(v,m.p,m.pp),pA(m.p,m.p,v,c),il.copy(m.pp,m.p))}c*=.992,n&&n(t,e,c<.01)}}},vA=sA,mA=fA,yA=Np.linearMap,xA=Xp.getLayoutRect;D_.registerProcessor(function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getGraph().data,i=n.mapArray(n.getName);r.filterSelf(function(t){var n=r.getItemModel(t).getShallow("category");if(null!=n){"number"==typeof n&&(n=i[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0})},this)}),D_.registerVisual(fb("graph","circle",null)),D_.registerVisual(function(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each(function(r){var o=n.getName(r);i["ec-"+o]=r;var a=n.getItemModel(r).get("itemStyle.color")||t.getColorFromPalette(o,e);n.setItemVisual(r,"color",a)}),n.count()&&r.each(function(t){var e=r.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=i["ec-"+e]),r.getItemVisual(t,"color",!0)||r.setItemVisual(t,"color",n.getItemVisual(e,"color")))})})}),D_.registerVisual(function(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),r=qi(t.get("edgeSymbol")),i=qi(t.get("edgeSymbolSize")),o="lineStyle.color".split("."),a="lineStyle.opacity".split(".");n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("color",t.get(o)),n.setVisual("opacity",t.get(a)),n.each(function(t){var r=n.getItemModel(t),i=e.getEdgeByIndex(t),s=qi(r.getShallow("symbol",!0)),u=qi(r.getShallow("symbolSize",!0)),l=r.get(o),c=r.get(a);switch(l){case"source":l=i.node1.getVisual("color");break;case"target":l=i.node2.getVisual("color")}s[0]&&i.setVisual("fromSymbol",s[0]),s[1]&&i.setVisual("toSymbol",s[1]),u[0]&&i.setVisual("fromSymbolSize",u[0]),u[1]&&i.setVisual("toSymbolSize",u[1]),i.setVisual("color",l),i.setVisual("opacity",c)})})}),D_.registerLayout(function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var r=t.getData(),i=[];lA(n.dimensions,function(t){i=i.concat(r.mapDimension(t,!0))});for(var o=0;o<r.count();o++){for(var a=[],s=!1,u=0;u<i.length;u++){var l=r.get(i[u],o);isNaN(l)||(s=!0),a.push(l)}s?r.setItemLayout(o,n.dataToPoint(a)):r.setItemLayout(o,[NaN,NaN])}hA(r.graph)}else e&&"none"!==e||cA(t)})}),D_.registerLayout(function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&dA(t)})}),D_.registerLayout(function(t){t.eachSeriesByType("graph",function(t){if(!(h=t.coordinateSystem)||"view"===h.type)if("force"===t.get("layout")){var e=t.preservedPoints||{},n=t.getGraph(),r=n.data,i=n.edgeData,o=t.getModel("force"),a=o.get("initLayout");t.preservedPoints?r.each(function(t){var n=r.getId(t);r.setItemLayout(t,e[n]||[NaN,NaN])}):a&&"none"!==a?"circular"===a&&mA(t):vA(t);var s=r.getDataExtent("value"),u=i.getDataExtent("value"),l=o.get("repulsion"),c=o.get("edgeLength");nl.isArray(l)||(l=[l,l]),nl.isArray(c)||(c=[c,c]),c=[c[1],c[0]];var h,f=r.mapArray("value",function(t,e){var n=r.getItemLayout(e),i=yA(t,s,l);return isNaN(i)&&(i=(l[0]+l[1])/2),{w:i,rep:i,fixed:r.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),d=i.mapArray("value",function(t,e){var r=n.getEdgeByIndex(e),i=yA(t,u,c);return isNaN(i)&&(i=(c[0]+c[1])/2),{n1:f[r.node1.dataIndex],n2:f[r.node2.dataIndex],d:i,curveness:r.getModel().get("lineStyle.curveness")||0}}),p=(h=t.coordinateSystem).getBoundingRect(),g=gA(f,d,{rect:p,gravity:o.get("gravity")}),v=g.step;g.step=function(t){for(var i=0,o=f.length;i<o;i++)f[i].fixed&&il.copy(f[i].p,n.getNodeByIndex(i).getLayout());v(function(i,o,a){for(var s=0,u=i.length;s<u;s++)i[s].fixed||n.getNodeByIndex(s).setLayout(i[s].p),e[r.getId(s)]=i[s].p;for(s=0,u=o.length;s<u;s++){var l=o[s],c=n.getEdgeByIndex(s),h=l.n1.p,f=l.n2.p,d=c.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],il.copy(d[0],h),il.copy(d[1],f),+l.curveness&&(d[2]=[(h[0]+f[0])/2-(h[1]-f[1])*l.curveness,(h[1]+f[1])/2-(f[0]-h[0])*l.curveness]),c.setLayout(d)}t&&t(a)})},t.forceLayout=g,t.preservedPoints=e,g.step()}else t.forceLayout=null})}),D_.registerCoordinateSystem("graphView",{create:function(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var i=t.getData(),o=i.mapArray(function(t){var e=i.getItemModel(t);return[+e.get("x"),+e.get("y")]}),a=[],s=[];hf(o,a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var u=(s[0]-a[0])/(s[1]-a[1]),l=function(t,e,n){var r=t.getBoxLayoutParams();return r.aspect=n,xA(r,{width:e.getWidth(),height:e.getHeight()})}(t,e,u);isNaN(u)&&(a=[l.x,l.y],s=[l.x+l.width,l.y+l.height]);var c=s[0]-a[0],h=s[1]-a[1],f=l.width,d=l.height,p=t.coordinateSystem=new tM;p.zoomLimit=t.get("scaleLimit"),p.setBoundingRect(a[0],a[1],c,h),p.setViewRect(l.x,l.y,f,d),p.setCenter(t.get("center")),p.setZoom(t.get("zoom")),n.push(p)}}),n}}),xm.extend({type:"series.gauge",getInitialData:function(t,e){var n=t.data||[];return nl.isArray(n)||(n=[n]),t.data=n,Ow(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var _A=Jf.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,r=Math.sin,i=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=i/3?1:2),u=e.y-r(a)*o*(o>=i/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,u),t.lineTo(e.x+n(a)*o,e.y+r(a)*o),t.lineTo(e.x+n(e.angle)*i,e.y+r(e.angle)*i),t.lineTo(e.x-n(a)*o,e.y-r(a)*o),t.lineTo(s,u)}}),bA=Np.parsePercent,wA=Np.round,MA=Np.linearMap,SA=2*Math.PI,AA=(Dm.extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var r=t.get("axisLine.lineStyle.color"),i=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i);return{cx:bA(n[0],e.getWidth()),cy:bA(n[1],e.getHeight()),r:bA(t.get("radius"),o/2)}}(t,n);this._renderMain(t,e,n,r,i)},dispose:function(){},_renderMain:function(t,e,n,r,i){for(var o=this.group,a=t.getModel("axisLine").getModel("lineStyle"),s=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,l=((d=-t.get("endAngle")/180*Math.PI)-u)%SA,c=u,h=a.get("width"),f=0;f<r.length;f++){var d=u+l*Math.min(Math.max(r[f][0],0),1),p=new _p.Sector({shape:{startAngle:c,endAngle:d,cx:i.cx,cy:i.cy,clockwise:s,r0:i.r-h,r:i.r},silent:!0});p.setStyle({fill:r[f][1]}),p.setStyle(a.getLineStyle(["color","borderWidth","borderColor"])),o.add(p),c=d}var g=function(t){if(t<=0)return r[0][1];for(var e=0;e<r.length;e++)if(r[e][0]>=t&&(0===e?0:r[e-1][0])<t)return r[e][1];return r[e-1][1]};if(!s){var v=u;u=d,d=v}this._renderTicks(t,e,n,g,i,u,d,s),this._renderPointer(t,e,n,g,i,u,d,s),this._renderTitle(t,e,n,g,i),this._renderDetail(t,e,n,g,i)},_renderTicks:function(t,e,n,r,i,o,a,s){for(var u=this.group,l=i.cx,c=i.cy,h=i.r,f=+t.get("min"),d=+t.get("max"),p=t.getModel("splitLine"),g=t.getModel("axisTick"),v=t.getModel("axisLabel"),m=t.get("splitNumber"),y=g.get("splitNumber"),x=bA(p.get("length"),h),_=bA(g.get("length"),h),b=o,w=(a-o)/m,M=w/y,S=p.getModel("lineStyle").getLineStyle(),A=g.getModel("lineStyle").getLineStyle(),T=0;T<=m;T++){var O=Math.cos(b),C=Math.sin(b);if(p.get("show")){var I=new _p.Line({shape:{x1:O*h+l,y1:C*h+c,x2:O*(h-x)+l,y2:C*(h-x)+c},style:S,silent:!0});"auto"===S.stroke&&I.setStyle({stroke:r(T/m)}),u.add(I)}if(v.get("show")){var k=Yi(wA(T/m*(d-f)+f),v.get("formatter")),D=v.get("distance"),L=r(T/m);u.add(new _p.Text({style:_p.setTextStyle({},v,{text:k,x:O*(h-x-D)+l,y:C*(h-x-D)+c,textVerticalAlign:C<-.4?"top":C>.4?"bottom":"middle",textAlign:O<-.4?"left":O>.4?"right":"center"},{autoColor:L}),silent:!0}))}if(g.get("show")&&T!==m){for(var E=0;E<=y;E++){O=Math.cos(b),C=Math.sin(b);var P=new _p.Line({shape:{x1:O*h+l,y1:C*h+c,x2:O*(h-_)+l,y2:C*(h-_)+c},silent:!0,style:A});"auto"===A.stroke&&P.setStyle({stroke:r((T+E/y)/m)}),u.add(P),b+=M}b-=M}else b+=w}},_renderPointer:function(t,e,n,r,i,o,a,s){var u=this.group,l=this._data;if(t.get("pointer.show")){var c=[+t.get("min"),+t.get("max")],h=[o,a],f=t.getData(),d=f.mapDimension("value");f.diff(l).add(function(e){var n=new _A({shape:{angle:o}});_p.initProps(n,{shape:{angle:MA(f.get(d,e),c,h,!0)}},t),u.add(n),f.setItemGraphicEl(e,n)}).update(function(e,n){var r=l.getItemGraphicEl(n);_p.updateProps(r,{shape:{angle:MA(f.get(d,e),c,h,!0)}},t),u.add(r),f.setItemGraphicEl(e,r)}).remove(function(t){var e=l.getItemGraphicEl(t);u.remove(e)}).execute(),f.eachItemGraphicEl(function(t,e){var n=f.getItemModel(e),o=n.getModel("pointer");t.setShape({x:i.cx,y:i.cy,width:bA(o.get("width"),i.r),r:bA(o.get("length"),i.r)}),t.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",r(MA(f.get(d,e),c,[0,1],!0))),_p.setHoverStyle(t,n.getModel("emphasis.itemStyle").getItemStyle())}),this._data=f}else l&&l.eachItemGraphicEl(function(t){u.remove(t)})},_renderTitle:function(t,e,n,r,i){var o=t.getData(),a=o.mapDimension("value"),s=t.getModel("title");if(s.get("show")){var u=s.get("offsetCenter"),l=i.cx+bA(u[0],i.r),c=i.cy+bA(u[1],i.r),h=+t.get("min"),f=+t.get("max"),d=t.getData().get(a,0),p=r(MA(d,[h,f],[0,1],!0));this.group.add(new _p.Text({silent:!0,style:_p.setTextStyle({},s,{x:l,y:c,text:o.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}},_renderDetail:function(t,e,n,r,i){var o=t.getModel("detail"),a=+t.get("min"),s=+t.get("max");if(o.get("show")){var u=o.get("offsetCenter"),l=i.cx+bA(u[0],i.r),c=i.cy+bA(u[1],i.r),h=bA(o.get("width"),i.r),f=bA(o.get("height"),i.r),d=t.getData(),p=d.get(d.mapDimension("value"),0),g=r(MA(p,[a,s],[0,1],!0));this.group.add(new _p.Text({silent:!0,style:_p.setTextStyle({},o,{x:l,y:c,text:Yi(p,o.get("formatter")),textWidth:isNaN(h)?null:h,textHeight:isNaN(f)?null:f,textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}}}),Dh.defaultEmphasis),TA=D_.extendSeriesModel({type:"series.funnel",init:function(t){TA.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return Ow(this,["value"])},_defaultLabelLine:function(t){AA(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),n=TA.superCall(this,"getDataParams",t),r=e.mapDimension("value"),i=e.getSum(r);return n.percent=i?+(e.get(r,t)/i*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),OA=Xi.prototype,CA=["itemStyle","opacity"];OA.updateData=function(t,e,n){var r=this.childAt(0),i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e),s=t.getItemModel(e).get(CA);s=null==s?1:s,r.useStyle({}),n?(r.setShape({points:a.points}),r.setStyle({opacity:0}),_p.initProps(r,{style:{opacity:s}},i,e)):_p.updateProps(r,{style:{opacity:s},shape:{points:a.points}},i,e);var u=o.getModel("itemStyle"),l=t.getItemVisual(e,"color");r.setStyle(nl.defaults({lineJoin:"round",fill:l},u.getItemStyle(["opacity"]))),r.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),_p.setHoverStyle(this)},OA._updateLabel=function(t,e){var n=this.childAt(1),r=this.childAt(2),i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");_p.updateProps(n,{shape:{points:a.linePoints||a.linePoints}},i,e),_p.updateProps(r,{style:{x:a.x,y:a.y}},i,e),r.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var u=o.getModel("label"),l=o.getModel("emphasis.label"),c=o.getModel("labelLine"),h=o.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color");_p.setLabelStyle(r.style,r.hoverStyle={},u,l,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),r.ignore=r.normalIgnore=!u.get("show"),r.hoverIgnore=!l.get("show"),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:s}),n.setStyle(c.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle()},nl.inherits(Xi,_p.Group),Dm.extend({type:"funnel",render:function(t,e,n){var r=t.getData(),i=this._data,o=this.group;r.diff(i).add(function(t){var e=new Xi(r,t);r.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var n=i.getItemGraphicEl(e);n.updateData(r,t),o.add(n),r.setItemGraphicEl(t,n)}).remove(function(t){var e=i.getItemGraphicEl(t);o.remove(e)}).execute(),this._data=r},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var IA=Np.parsePercent,kA=Np.linearMap;D_.registerVisual(Nw("funnel")),D_.registerLayout(function(t,e,n){t.eachSeriesByType("funnel",function(t){var n=t.getData(),r=n.mapDimension("value"),i=t.get("sort"),o=function(t,e){return Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=function(t,e){for(var n=t.mapDimension("value"),r=t.mapArray(n,function(t){return t}),i=[],o="ascending"===e,a=0,s=t.count();a<s;a++)i[a]=a;return"function"==typeof e?i.sort(e):"none"!==e&&i.sort(function(t,e){return o?r[t]-r[e]:r[e]-r[t]}),i}(n,i),s=[IA(t.get("minSize"),o.width),IA(t.get("maxSize"),o.width)],u=n.getDataExtent(r),l=t.get("min"),c=t.get("max");null==l&&(l=Math.min(u[0],0)),null==c&&(c=u[1]);var h=t.get("funnelAlign"),f=t.get("gap"),d=(o.height-f*(n.count()-1))/n.count(),p=o.y,g=function(t,e){var i,a=n.get(r,t)||0,u=kA(a,[l,c],s,!0);switch(h){case"left":i=o.x;break;case"center":i=o.x+(o.width-u)/2;break;case"right":i=o.x+o.width-u}return[[i,e],[i+u,e]]};"ascending"===i&&(d=-d,f=-f,p+=o.height,a=a.reverse());for(var v=0;v<a.length;v++){var m=a[v],y=a[v+1],x=n.getItemModel(m).get("itemStyle.height");null==x?x=d:(x=IA(x,o.height),"ascending"===i&&(x=-x));var _=g(m,p),b=g(y,p+x);p+=x+f,n.setItemLayout(m,{points:_.concat(b.slice().reverse())})}!function(t){t.each(function(e){var n,r,i,o,a=t.getItemModel(e),s=a.getModel("label").get("position"),u=a.getModel("labelLine"),l=t.getItemLayout(e),c=l.points,h="inner"===s||"inside"===s||"center"===s;if(h)n="center",o=[[r=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,i=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4],[r,i]];else{var f,d,p,g=u.get("length");"left"===s?(f=(c[3][0]+c[0][0])/2,d=(c[3][1]+c[0][1])/2,r=(p=f-g)-5,n="right"):(f=(c[1][0]+c[2][0])/2,d=(c[1][1]+c[2][1])/2,r=(p=f+g)+5,n="left"),o=[[f,d],[p,d]],i=d}l.label={linePoints:o,x:r,y:i,verticalAlign:"middle",textAlign:n,inside:h}})}(n)})}),D_.registerProcessor(Vw("funnel"));var DA=function(t,e,n,r,i){d_.call(this,t,e,n),this.type=r||"value",this.axisIndex=i};DA.prototype={constructor:DA,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},nl.inherits(DA,d_);var LA=DA,EA=function(t,e,n,r,i,o){e[0]=$i(e[0],n),e[1]=$i(e[1],n),t=t||0;var a=n[1]-n[0];null!=i&&(i=$i(i,[0,a])),null!=o&&(o=Math.max(o,null!=i?i:0)),"all"===r&&(i=o=Math.abs(e[1]-e[0]),r=0);var s=Zi(e,r);e[r]+=t;var u=i||0,l=n.slice();s.sign<0?l[0]+=u:l[1]-=u,e[r]=$i(e[r],l),c=Zi(e,r),null!=i&&(c.sign!==s.sign||c.span<i)&&(e[1-r]=e[r]+s.sign*i);var c=Zi(e,r);return null!=o&&c.span>o&&(e[1-r]=e[r]+c.sign*o),e},PA=nl.each,NA=Math.min,jA=Math.max,RA=Math.floor,zA=Math.ceil,BA=Np.round,VA=Math.PI;Ki.prototype={type:"parallel",constructor:Ki,_init:function(t,e,n){var r=t.dimensions,i=t.parallelAxisIndex;PA(r,function(t,n){var r=i[n],o=e.getComponent("parallelAxis",r),a=this._axesMap.set(t,new LA(t,Lx.createScaleByModel(o),[0,0],o.get("type"),r)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,i=e.pixelDimIndex,o=t[1-i],a=t[i];return o>=n&&o<=n+e.axisLength&&a>=r&&a<=r+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var r=n.getData();PA(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(r,r.mapDimension(t)),Lx.niceScaleExtent(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,n=this._rect,r=["x","y"],i=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=n[i[a]],u=[0,s],l=this.dimensions.length,c=Ji(e.get("axisExpandWidth"),u),h=Ji(e.get("axisExpandCount")||0,[0,l]),f=e.get("axisExpandable")&&l>3&&l>h&&h>1&&c>0&&s>0,d=e.get("axisExpandWindow");d?(t=Ji(d[1]-d[0],u),d[1]=d[0]+t):(t=Ji(c*(h-1),u),(d=[c*(e.get("axisExpandCenter")||RA(l/2))-t/2])[1]=d[0]+t);var p=(s-t)/(l-h);p<3&&(p=0);var g=[RA(BA(d[0]/c,1))+1,zA(BA(d[1]/c,1))-1],v=p/c*d[0];return{layout:o,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:s,axisBase:n[r[1-a]],axisLength:n[i[1-a]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:d,axisCount:l,winInnerIndices:g,axisExpandWindow0Pos:v}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;e.each(function(t){var e=[0,r.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),PA(n,function(e,n){var o=(r.axisExpandable?function(t,e){var n,r,i=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,u=e.winInnerIndices,l=s,c=!1;return t<u[0]?(n=t*s,r=s):t<=u[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],l=o,c=!0):(n=i-(a-1-t)*s,r=s),{position:n,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:r}}:function(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}})(n,r),a={horizontal:{x:o.position,y:r.axisLength},vertical:{x:0,y:o.position}},s={horizontal:VA/2,vertical:0},u=[a[i].x+t.x,a[i].y+t.y],l=s[i],c=dl.create();dl.rotate(c,c,l),dl.translate(c,c,u),this._axesLayout[e]={position:u,rotation:l,transform:c,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.count());var i=this._axesMap,o=this.dimensions,a=[],s=[];nl.each(o,function(e){a.push(t.mapDimension(e)),s.push(i.get(e).model)});for(var u=this.hasAxisBrushed(),l=n;l<r;l++){var c;if(u){c="active";for(var h=t.getValues(a,l),f=0,d=o.length;f<d;f++)if("inactive"===s[f].getActiveState(h[f])){c="inactive";break}}else c="normal";e(c,l)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,i=t.length;r<i;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){var n=this._axesLayout[e];return _p.applyTransform([t,0],n.transform)},getAxisLayout:function(t){return nl.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),i=r[1]-r[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",l=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),h=null!=c[0];return l?(h&&l&&s<i*c[0]?(u="jump",a=s-i*c[2]):h&&l&&s>i*(1-c[0])?(u="jump",a=s-i*(1-c[2])):(a=s-i*c[1])>=0&&(a=s-i*(1-c[1]))<=0&&(a=0),(a*=e.axisExpandWidth/l)?EA(a,r,o,"all"):u="none"):(i=r[1]-r[0],(r=[jA(0,o[1]*s/i-i/2)])[1]=NA(o[1],r[0]+i),r[0]=r[1]-i),{axisExpandWindow:r,behavior:u}}};var FA=Ki;yv.register("parallel",{create:function(t,e){var n=[];return t.eachComponent("parallel",function(r,i){var o=new FA(r,t,e);o.name="parallel_"+i,o.resize(r,e),r.coordinateSystem=o,o.model=r,n.push(o)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}});var HA=Qp.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Bh([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=nl.clone(t);if(e)for(var n=e.length-1;n>=0;n--)Np.asc(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var r=0,i=e.length;r<i;r++)if(e[r][0]<=t&&t<=e[r][1])return"active";return"inactive"}});nl.merge(HA.prototype,Ex),Ib("parallel",HA,function(t,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),Qp.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Qp.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&nl.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},setAxisExpand:function(t){nl.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=nl.filter(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this);nl.each(n,function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})}}),D_.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),D_.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})});var WA=nl.curry,GA=nl.each,qA=nl.map,UA=Math.min,YA=Math.max,XA=Math.pow,ZA=1e4,$A=6,KA=6,JA="globalPan",QA={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},tT={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},eT={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},nT=0;Qi.prototype={constructor:Qi,enableBrush:function(t){return this._brushType&&function(t){var e=t._zr;mM.release(e,JA,t._uid),GA(t._handlers,function(t,n){e.off(n,t)}),t._brushType=t._brushOption=null}(this),t.brushType&&function(t,e){var n=t._zr;t._enableGlobalPan||mM.take(n,JA,t._uid),GA(t._handlers,function(t,e){n.on(e,t)}),t._brushType=e.brushType,t._brushOption=nl.merge(nl.clone(eT),e,!0)}(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};nl.each(t,function(t){e[t.panelId]=nl.clone(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){GA(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:r+e)+"-"+t.brushType}function n(e,n){var r=t[e];if(null!=n&&i[n]===s)o[e]=i[n];else{var u=o[e]=null!=n?(i[n].__brushOption=r,i[n]):eo(a,to(a,r));io(a,u)}}t=nl.map(t,function(t){return nl.merge(nl.clone(eT),t,!0)});var r="\0-brush-index-",i=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new cy(i,t,function(t,n){return e(t.__brushOption,n)},e).add(n).update(n).remove(function(t){i[t]!==s&&a.group.remove(i[t])}).execute(),this},unmount:function(){return this.enableBrush(!1),uo(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},nl.mixin(Qi,ul);var rT={mousedown:function(t){if(this._dragging)Ao.call(this,t);else if(!t.target||!t.target.draggable){bo(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=ao(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(function(t,e,n){if(t._brushType){var r=t._zr,i=t._covers,o=ao(t,e,n);if(!t._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&iT[s.brushType].contain(i[a],n[0],n[1]))return}o&&r.setCursorStyle("crosshair")}}(this,t,e),this._dragging){bo(t);var n=Mo(this,t,e,!1);n&&lo(this,n)}},mouseup:Ao},iT={lineX:To(0),lineY:To(1),rect:{createCover:function(t,e){return ho(WA(yo,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=co(t);return mo(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){fo(t,e,n,r)},updateCommon:po,contain:wo},polygon:{createCover:function(t,e){var n=new _p.Group;return n.add(new _p.Polyline({name:"main",style:vo(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new _p.Polygon({name:"main",draggable:!0,drift:WA(function(t,e,n,r,i){var o=e.__brushOption.range,a=xo(t,n,r);GA(o,function(t){t[0]+=a[0],t[1]+=a[1]}),io(t,e),lo(t,{isEnd:!1})},t,e),ondragend:WA(lo,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:_o(t,e,n)})},updateCommon:po,contain:wo}},oT=Qi,aT=wM,sT=function(t){return t=Oo(t),function(e,n){return _p.clipPointsByRect(e,t)}},uT=function(t,e){return t=Oo(t),function(n){var r=null!=e?e:n,i=r?t.width:t.height,o=r?t.x:t.y;return[o,o+(i||0)]}},lT=function(t,e,n){return t=Oo(t),function(r,i,o){return t.contain(i[0],i[1])&&!aT(r,e,n)}},cT=["axisLine","axisTickLabel","axisName"],hT=D_.extendComponentView({type:"parallelAxis",init:function(t,e){hT.superApply(this,"init",arguments),(this._brushController=new oT(e.getZr())).on("brush",nl.bind(this._onBrush,this))},render:function(t,e,n,r){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,r)){this.axisModel=t,this.api=n,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new _p.Group,this.group.add(this._axisGroup),t.get("show")){var o=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),a=o.coordinateSystem,s=t.getAreaSelectStyle(),u=s.width,l=t.axis.dim,c=a.getAxisLayout(l),h=nl.extend({strokeContainThreshold:u},c),f=new nw(t,h);nl.each(cT,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(h,s,t,o,u,n);var d=r&&!1===r.animation?null:t;_p.groupTransition(i,this._axisGroup,d)}}},_refreshBrushController:function(t,e,n,r,i,o){var a=n.axis.getExtent(),s=a[1]-a[0],u=Math.min(30,.1*Math.abs(s)),l=_p.BoundingRect.create({x:a[0],y:-i/2,width:s,height:i});l.x-=u,l.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:sT(l),isTargetByCursor:lT(l,o,r),getLinearBrushOtherExtent:uT(l,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return nl.map(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(n))},_onBrush:function(t,e){var n=this.axisModel,r=n.axis,i=nl.map(t,function(t){return[r.coordToData(t.range[0],!0),r.coordToData(t.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:i})},dispose:function(){this._brushController.dispose()}});D_.extendComponentView({type:"parallel",render:function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},nl.each(fT,function(t,e){n.getZr().on(e,this._handlers[e]=nl.bind(t,this))},this)),Nm.createOrUpdate(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){nl.each(this._handlers,function(t,n){e.getZr().off(n,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(nl.extend({type:"parallelAxisExpand"},t))}});var fT={mousedown:function(t){Co(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(Co(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&Co(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r&&null})}}};D_.registerPreprocessor(function(t){!function(t){if(!t.parallel){var e=!1;nl.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}(t),function(t){var e=Dh.normalizeToArray(t.parallelAxis);nl.each(e,function(e){if(nl.isObject(e)){var n=e.parallelIndex||0,r=Dh.normalizeToArray(t.parallel)[n];r&&r.parallelAxisDefault&&nl.merge(e,r.parallelAxisDefault,!1)}})}(t)});var dT=nl.each,pT=nl.createHashMap,gT=(xm.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n=this.getSource();return function(t,e){if(!t.encodeDefine){var n=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(n){var r=t.encodeDefine=pT();dT(n.dimensions,function(t){var e=+t.replace("dim","");r.set(t,e)})}}}(n,this),Xy(n,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,n=this.getData(),r=[];return e.eachActiveState(n,function(e,i){t===e&&r.push(n.getRawIndex(i))}),r},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}}),.3),vT=(Dm.extend({type:"parallel",init:function(){this._dataGroup=new _p.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(t,e,n,r){var i=this._dataGroup,o=t.getData(),a=this._data,s=t.coordinateSystem,u=s.dimensions,l=Do(t);if(o.diff(a).add(function(t){Lo(ko(o,i,t,u,s),o,t,l)}).update(function(e,n){var i=a.getItemGraphicEl(n),c=Io(o,e,u,s);o.setItemGraphicEl(e,i);var h=r&&!1===r.animation?null:t;_p.updateProps(i,{shape:{points:c}},h,e),Lo(i,o,e,l)}).remove(function(t){var e=a.getItemGraphicEl(t);i.remove(e)}).execute(),!this._initialized){this._initialized=!0;var c=function(t,e,n){var r=t.model,i=t.getRect(),o=new _p.Rect({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),a="horizontal"===r.get("layout")?"width":"height";return o.setShape(a,0),_p.initProps(o,{shape:{width:i.width,height:i.height}},e,n),o}(s,t,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(c)}this._data=o},incrementalPrepareRender:function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,n){for(var r=e.getData(),i=e.coordinateSystem,o=i.dimensions,a=Do(e),s=t.start;s<t.end;s++){var u=ko(r,this._dataGroup,s,o,i);u.incremental=!0,Lo(u,r,s,a)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]),mT={seriesType:"parallel",reset:function(t,e,n){var r=t.getModel("itemStyle"),i=t.getModel("lineStyle"),o=e.get("color"),a=i.get("color")||r.get("color")||o[t.seriesIndex%o.length],s=t.get("inactiveOpacity"),u=t.get("activeOpacity"),l=t.getModel("lineStyle").getLineStyle(),c=t.coordinateSystem,h=t.getData(),f={normal:l.opacity,active:u,inactive:s};return h.setVisual("color",a),{progress:function(t,e){c.eachActiveState(e,function(t,n){var r=f[t];if("normal"===t&&e.hasItemOption){var i=e.getItemModel(n).get(vT,!0);null!=i&&(r=i)}e.setItemVisual(n,"opacity",r)},t.start,t.end)}}}};D_.registerVisual(mT);var yT=Vp.encodeHTML,xT=xm.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,n=t.data||t.nodes;if(n&&e)return RS(n,e,this,!0).data},setNodePosition:function(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getDataParams(t,n),i=r.data,o=i.source+" -- "+i.target;return r.value&&(o+=" : "+r.value),yT(o)}return xT.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),_T=_p.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var n=e.extent/2;t.moveTo(e.x1,e.y1-n),t.bezierCurveTo(e.cpx1,e.cpy1-n,e.cpx2,e.cpy2-n,e.x2,e.y2-n),t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n),t.closePath()}});D_.extendChartView({type:"sankey",_model:null,render:function(t,e,n){var r=t.getGraph(),i=this.group,o=t.layoutInfo,a=o.width,s=o.height,u=t.getData(),l=t.getData("edge");this._model=t,i.removeAll(),i.attr("position",[o.x,o.y]),r.eachEdge(function(e){var n=new _T;n.dataIndex=e.dataIndex,n.seriesIndex=t.seriesIndex,n.dataType="edge";var r=e.getModel("lineStyle"),o=r.get("curveness"),u=e.node1.getLayout(),c=e.node1.getModel(),h=c.get("localX"),f=c.get("localY"),d=e.node2.getLayout(),p=e.node2.getModel(),g=p.get("localX"),v=p.get("localY"),m=e.getLayout();n.shape.extent=Math.max(1,m.dy);var y=(null!=h?h*a:u.x)+u.dx,x=(null!=f?f*s:u.y)+m.sy+m.dy/2,_=null!=g?g*a:d.x,b=(null!=v?v*s:d.y)+m.ty+m.dy/2,w=y*(1-o)+_*o,M=x,S=y*o+_*(1-o),A=b;switch(n.setShape({x1:y,y1:x,x2:_,y2:b,cpx1:w,cpy1:M,cpx2:S,cpy2:A}),n.setStyle(r.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color");break;case"target":n.style.fill=e.node2.getVisual("color")}_p.setHoverStyle(n,e.getModel("emphasis.lineStyle").getItemStyle()),i.add(n),l.setItemGraphicEl(e.dataIndex,n)}),r.eachNode(function(e){var n=e.getLayout(),r=e.getModel(),o=r.get("localX"),l=r.get("localY"),c=r.getModel("label"),h=r.getModel("emphasis.label"),f=new _p.Rect({shape:{x:null!=o?o*a:n.x,y:null!=l?l*s:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle()}),d=e.getModel("emphasis.itemStyle").getItemStyle();_p.setLabelStyle(f.style,d,c,h,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),f.setStyle("fill",e.getVisual("color")),_p.setHoverStyle(f,d),i.add(f),u.setItemGraphicEl(e.dataIndex,f),f.dataType="node"}),t.get("draggable")&&u.eachItemGraphicEl(function(e,r){e.drift=function(e,i){this.shape.x+=e,this.shape.y+=i,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(r),localX:this.shape.x/a,localY:this.shape.y/s})},e.draggable=!0,e.cursor="move"}),!this._data&&t.get("animation")&&i.setClipPath(function(t,e,n){var r=new _p.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return _p.initProps(r,{shape:{width:t.width+20,height:t.height+20}},e,function(){i.removeClipPath()}),r}(i.getBoundingRect(),t)),this._data=t.getData()},dispose:function(){}}),D_.registerAction({type:"dragNode",event:"dragNode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})});var bT=function(){function t(e,r){if(r>=n.length)return e;for(var i=-1,o=e.length,a=n[r++],s={},u={};++i<o;){var l=a(e[i]),c=u[l];c?c.push(e[i]):u[l]=[e[i]]}return nl.each(u,function(e,n){s[n]=t(e,r)}),s}function e(t,i){if(i>=n.length)return t;var o=[],a=r[i++];return nl.each(t,function(t,n){o.push({key:n,values:e(t,i)})}),a?o.sort(function(t,e){return a(t.key,e.key)}):o}var n=[],r=[];return{key:function(t){return n.push(t),this},sortKeys:function(t){return r[n.length-1]=t,this},entries:function(n){return e(t(n,0),0)}}};D_.registerLayout(function(t,e,n){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),r=t.get("nodeGap"),i=function(t,e){return Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=i;var o=i.width,a=i.height,s=t.getGraph(),u=s.nodes,l=s.edges;!function(t){nl.each(t,function(t){var e=Po(t.outEdges,jo),n=Po(t.inEdges,jo),r=Math.max(e,n);t.setLayout({value:r},!0)})}(u),function(t,e,n,r,i,o,a){(function(t,e,n,r){for(var i=[],o=[],a=[],s=[],u=0,l=0;l<e.length;l++)i[l]=1;for(l=0;l<t.length;l++)o[l]=t[l].inEdges.length,0===o[l]&&a.push(t[l]);for(;a.length;)nl.each(a,function(r){r.setLayout({x:u},!0),r.setLayout({dx:n},!0),nl.each(r.outEdges,function(n){var r=e.indexOf(n);i[r]=0;var a=n.node2,u=t.indexOf(a);0==--o[u]&&s.push(a)})}),++u,a=s,s=[];for(l=0;l<i.length;l++);(function(t,e){nl.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})})(t,u),function(t,e){nl.each(t,function(t){var n=t.getLayout().x*e;t.setLayout({x:n},!0)})}(t,(r-n)/(u-1))})(t,e,n,i),function(t,e,n,r,i){var o=bT().key(function(t){return t.getLayout().x}).sortKeys(function(t,e){return t-e}).entries(t).map(function(t){return t.values});(function(t,e,n,r,i){var o=[];nl.each(e,function(t){var e=t.length,n=0;nl.each(t,function(t){n+=t.getLayout().value});var a=(r-(e-1)*i)/n;o.push(a)}),o.sort(function(t,e){return t-e});var a=o[0];nl.each(e,function(t){nl.each(t,function(t,e){t.setLayout({y:e},!0);var n=t.getLayout().value*a;t.setLayout({dy:n},!0)})}),nl.each(n,function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)})})(0,o,e,n,r),Eo(o,r,n);for(var a=1;i>0;i--)(function(t,e){nl.each(t.slice().reverse(),function(t){nl.each(t,function(t){if(t.outEdges.length){var n=Po(t.outEdges,function(t){return No(t.node2)*t.getValue()})/Po(t.outEdges,jo),r=t.getLayout().y+(n-No(t))*e;t.setLayout({y:r},!0)}})})})(o,a*=.99),Eo(o,r,n),function(t,e){nl.each(t,function(t){nl.each(t,function(t){if(t.inEdges.length){var n=Po(t.inEdges,function(t){return No(t.node1)*t.getValue()})/Po(t.inEdges,jo),r=t.getLayout().y+(n-No(t))*e;t.setLayout({y:r},!0)}})})}(o,a),Eo(o,r,n)}(t,e,o,r,a),function(t){nl.each(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}),t.inEdges.sort(function(t,e){return t.node1.getLayout().y-e.node1.getLayout().y})}),nl.each(t,function(t){var e=0,n=0;nl.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),nl.each(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}(t)}(u,l,n,r,o,a,0!==nl.filter(u,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"))})}),D_.registerVisual(function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,r=-1/0;nl.each(e,function(t){var e=t.getLayout().value;e<n&&(n=e),e>r&&(r=e)}),nl.each(e,function(e){var i=new mS({type:"color",mappingMethod:"linear",dataExtent:[n,r],visual:t.get("color")}).mapValueToVisual(e.getLayout().value);e.setVisual("color",i);var o=e.getModel().get("itemStyle.color");null!=o&&e.setVisual("color",o)})}})});var wT=py.getDimensionTypeByAxis,MT={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(t,e){var n,r,i=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),a=i.get("type"),s=o.get("type");"category"===a?(t.layout="horizontal",n=i.getOrdinalMeta(),r=!0):"category"===s?(t.layout="vertical",n=o.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],l="horizontal"===t.layout?0:1,c=this._baseAxisDim=u[l],h=u[1-l],f=[i,o],d=f[l].get("type"),p=f[1-l].get("type"),g=t.data;if(g&&r){var v=[];nl.each(g,function(t,e){var n;t.value&&nl.isArray(t.value)?(n=t.value.slice(),t.value.unshift(e)):nl.isArray(t)?(n=t.slice(),t.unshift(e)):n=t,v.push(n)}),t.data=v}var m=this.defaultValueDimensions;return Ow(this,{coordDimensions:[{name:c,type:wT(d),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:wT(p),dimsDef:m.slice()}],dimensionsCount:m.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}}},ST=MT.seriesModelMixin,AT=xm.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});nl.mixin(AT,ST,!0);var TT=["itemStyle"],OT=["emphasis","itemStyle"],CT=(Dm.extend({type:"boxplot",render:function(t,e,n){var r=t.getData(),i=this.group,o=this._data;this._data||i.removeAll();var a="horizontal"===t.get("layout")?1:0;r.diff(o).add(function(t){if(r.hasValue(t)){var e=Ro(r.getItemLayout(t),r,t,a,!0);r.setItemGraphicEl(t,e),i.add(e)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(r.hasValue(t)){var s=r.getItemLayout(t);n?zo(s,n,r,t):n=Ro(s,r,t,a),i.add(n),r.setItemGraphicEl(t,n)}else i.remove(n)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&i.remove(e)}).execute(),this._data=r},remove:function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:nl.noop}),Jf.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var n=e.points,r=0;for(t.moveTo(n[r][0],n[r][1]),r++;r<4;r++)t.lineTo(n[r][0],n[r][1]);for(t.closePath();r<n.length;r++)t.moveTo(n[r][0],n[r][1]),r++,t.lineTo(n[r][0],n[r][1])}})),IT=["itemStyle","borderColor"],kT=Np.parsePercent,DT=nl.each;D_.registerVisual(function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var r=n[e.seriesIndex%n.length],i=e.getData();i.setVisual({legendSymbol:"roundRect",color:e.get(IT)||r}),t.isSeriesFiltered(e)||i.each(function(t){var e=i.getItemModel(t);i.setItemVisual(t,{color:e.get(IT,!0)})})})}),D_.registerLayout(function(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var r=t.getBaseAxis(),i=nl.indexOf(n,r);i<0&&(i=n.length,n[i]=r,e[i]={axis:r,seriesModels:[]}),e[i].seriesModels.push(t)}),e}(t);DT(e,function(t){var e=t.seriesModels;e.length&&(function(t){var e,n,r=t.axis,i=t.seriesModels,o=i.length,a=t.boxWidthList=[],s=t.boxOffsetList=[],u=[];if("category"===r.type)n=r.getBandWidth();else{var l=0;DT(i,function(t){l=Math.max(l,t.getData().count())}),e=r.getExtent(),Math.abs(e[1]-e[0])}DT(i,function(t){var e=t.get("boxWidth");nl.isArray(e)||(e=[e,e]),u.push([kT(e[0],n)||0,kT(e[1],n)||0])});var c=.8*n-2,h=c/o*.3,f=(c-h*(o-1))/o,d=f/2-c/2;DT(i,function(t,e){s.push(d),d+=h+f,a.push(Math.min(Math.max(f,u[e][0]),u[e][1]))})}(t),DT(e,function(e,n){!function(t,e,n){function r(t,n,r){var i,o=s.get(n,r),u=[];return u[l]=t,u[c]=o,isNaN(t)||isNaN(o)?i=[NaN,NaN]:(i=a.dataToPoint(u))[l]+=e,i}function i(t,e,n){var r=e.slice(),i=e.slice();r[l]+=u,i[l]-=u,n?t.push(r,i):t.push(i,r)}function o(t,e){var n=e.slice(),r=e.slice();n[l]-=u,r[l]+=u,t.push(n,r)}var a=t.coordinateSystem,s=t.getData(),u=n/2,l="horizontal"===t.get("layout")?0:1,c=1-l,h=["x","y"],f=s.mapDimension(h[l]),d=s.mapDimension(h[c],!0);if(!(null==f||d.length<5))for(var p=0;p<s.count();p++){var g=s.get(f,p),v=r(g,d[2],p),m=r(g,d[0],p),y=r(g,d[1],p),x=r(g,d[3],p),_=r(g,d[4],p),b=[];i(b,y,0),i(b,x,1),b.push(m,y,_,x),o(b,m),o(b,_),o(b,v),s.setItemLayout(p,{initBaseline:v[c],ends:b})}}(e,t.boxOffsetList[n],t.boxWidthList[n])}))})});var LT=MT.seriesModelMixin,ET=xm.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:5e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,n){var r=e.getItemLayout(t);return r&&n.rect(r.brushRect)}});nl.mixin(ET,LT,!0);var PT=["itemStyle"],NT=["emphasis","itemStyle"],jT=["color","color0","borderColor","borderColor0"],RT=(Dm.extend({type:"candlestick",render:function(t,e,n){this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,r){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e=t.getData(),n=this._data,r=this.group,i=e.getLayout("isSimpleBox");this._data||r.removeAll(),e.diff(n).add(function(n){if(e.hasValue(n)){var o,a=e.getItemLayout(n);o=Bo(a,0,!0),_p.initProps(o,{shape:{points:a.ends}},t,n),Vo(o,e,n,i),r.add(o),e.setItemGraphicEl(n,o)}}).update(function(o,a){var s=n.getItemGraphicEl(a);if(e.hasValue(o)){var u=e.getItemLayout(o);s?_p.updateProps(s,{shape:{points:u.ends}},t,o):s=Bo(u),Vo(s,e,o,i),r.add(s),e.setItemGraphicEl(o,s)}else r.remove(s)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&r.remove(e)}).execute(),this._data=e},_renderLarge:function(t){this._clear(),Fo(t,this.group)},_incrementalRenderNormal:function(t,e){for(var n,r=e.getData(),i=r.getLayout("isSimpleBox");null!=(n=t.next());){var o;Vo(o=Bo(r.getItemLayout(n)),r,n,i),o.incremental=!0,this.group.add(o)}},_incrementalRenderLarge:function(t,e){Fo(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:nl.noop}),Jf.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))}})),zT=Jf.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var n=e.points,r=0;r<n.length;)if(this.__sign===n[r++]){var i=n[r++];t.moveTo(i,n[r++]),t.lineTo(i,n[r++])}else r+=3}}),BT=["itemStyle","borderColor"],VT=["itemStyle","borderColor0"],FT=["itemStyle","color"],HT=["itemStyle","color0"],WT={seriesType:"candlestick",plan:Sm(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?FT:HT)}function r(t,e){return e.get(t>0?BT:VT)}var i=t.getData(),o=t.pipelineContext.large;if(i.setVisual({legendSymbol:"roundRect",colorP:n(1,t),colorN:n(-1,t),borderColorP:r(1,t),borderColorN:r(-1,t)}),!e.isSeriesFiltered(t))return!o&&{progress:function(t,e){for(var i;null!=(i=t.next());){var o=e.getItemModel(i),a=e.getItemLayout(i).sign;e.setItemVisual(i,{color:n(a,o),borderColor:r(a,o)})}}}}},GT=_p.subPixelOptimize,qT=Np.parsePercent,UT=nl.retrieve2,YT="undefined"!=typeof Float32Array?Float32Array:Array,XT={seriesType:"candlestick",plan:Sm(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=function(t,e){var n,r=t.getBaseAxis(),i="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/e.count()),o=qT(UT(t.get("barMaxWidth"),i),i),a=qT(UT(t.get("barMinWidth"),1),i),s=t.get("barWidth");return null!=s?qT(s,i):Math.max(Math.min(i/2,o),a)}(t,n),i=0,o=1,a=["x","y"],s=n.mapDimension(a[i]),u=n.mapDimension(a[o],!0),l=u[0],c=u[1],h=u[2],f=u[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(null==s||u.length<4))return{progress:t.pipelineContext.large?function(t,n){for(var r,a,u=new YT(5*t.count),d=0,p=[],g=[];null!=(a=t.next());){var v=n.get(s,a),m=n.get(l,a),y=n.get(c,a),x=n.get(h,a),_=n.get(f,a);isNaN(v)||isNaN(x)||isNaN(_)?(u[d++]=NaN,d+=4):(u[d++]=Wo(n,a,m,y,c),p[i]=v,p[o]=x,r=e.dataToPoint(p,null,g),u[d++]=r?r[0]:NaN,u[d++]=r?r[1]:NaN,p[o]=_,r=e.dataToPoint(p,null,g),u[d++]=r?r[1]:NaN)}n.setLayout("largePoints",u)}:function(t,n){function a(t,n){var r=[];return r[i]=n,r[o]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(r)}function u(t,e,n){var o=e.slice(),a=e.slice();o[i]=GT(o[i]+r/2,1,!1),a[i]=GT(a[i]-r/2,1,!0),n?t.push(o,a):t.push(a,o)}function d(t){return t[i]=GT(t[i],1),t}for(var p;null!=(p=t.next());){var g=n.get(s,p),v=n.get(l,p),m=n.get(c,p),y=n.get(h,p),x=n.get(f,p),_=Math.min(v,m),b=Math.max(v,m),w=a(_,g),M=a(b,g),S=a(y,g),A=a(x,g),T=[];u(T,M,0),u(T,w,1),T.push(d(A),d(M),d(S),d(w)),n.setItemLayout(p,{sign:Wo(n,p,v,m,c),initBaseline:v>m?M[o]:w[o],ends:T,brushRect:function(t,e,n){var s=a(y,n),u=a(e,n);return s[i]-=r/2,u[i]-=r/2,{x:s[0],y:s[1],width:o?r:u[0]-s[0],height:o?u[1]-s[1]:r}}(0,x,g)})}}}}};D_.registerPreprocessor(function(t){t&&nl.isArray(t.series)&&nl.each(t.series,function(t){nl.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}),D_.registerVisual(WT),D_.registerLayout(XT),xm.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return Xy(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var ZT=Hx.createSymbol,$T=_p.Group,KT=Np.parsePercent,JT=qo.prototype;JT.stopEffectAnimation=function(){this.childAt(1).removeAll()},JT.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,r=this.childAt(1),i=0;i<3;i++){var o=ZT(e,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-i/3*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(a).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(a).start(),r.add(o)}Go(r,t)},JT.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale"],i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}Go(n,t)},JT.highlight=function(){this.trigger("emphasis")},JT.downplay=function(){this.trigger("normal")},JT.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),i=t.getItemModel(e),o=t.getItemVisual(e,"symbol"),a=function(t){return nl.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),s=t.getItemVisual(e,"color");r.attr("scale",a),r.traverse(function(t){t.attr({fill:s})});var u=i.getShallow("symbolOffset");if(u){var l=r.position;l[0]=KT(u[0],a[0]),l[1]=KT(u[1],a[1])}r.rotation=(i.getShallow("symbolRotate")||0)*Math.PI/180||0;var c={};if(c.showEffectOn=n.get("showEffectOn"),c.rippleScale=i.get("rippleEffect.scale"),c.brushType=i.get("rippleEffect.brushType"),c.period=1e3*i.get("rippleEffect.period"),c.effectOffset=e/t.count(),c.z=i.getShallow("z")||0,c.zlevel=i.getShallow("zlevel")||0,c.symbolType=o,c.color=s,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===c.showEffectOn)this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c),this._effectCfg=c;else{this._effectCfg=null,this.stopEffectAnimation();var h=this.childAt(0),f=function(){h.highlight(),"render"!==c.showEffectOn&&this.startEffectAnimation(c)},d=function(){h.downplay(),"render"!==c.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",f,this).on("mouseout",d,this).on("emphasis",f,this).on("normal",d,this)}this._effectCfg=c},JT.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},nl.inherits(qo,$T);var QT=qo;D_.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new U_(QT)},render:function(t,e,n){var r=t.getData(),i=this._symbolDraw;i.updateData(r),this.group.add(i.group)},updateTransform:function(t,e,n){var r=t.getData();this.group.dirty();var i=gb().reset(t);i.progress&&i.progress({start:0,end:r.count()},r),this._symbolDraw.updateLayout(r)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=dl.clone(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}}),D_.registerVisual(fb("effectScatter","circle")),D_.registerLayout(gb("effectScatter"));var tO=nl.concatArray,eO=nl.mergeAll,nO=nl.map,rO=Vp.encodeHTML,iO="undefined"==typeof Uint32Array?Array:Uint32Array,oO="undefined"==typeof Float64Array?Array:Float64Array,aO=xm.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],Uo(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),aO.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],Uo(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}aO.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=tO(this._flatCoords,e.flatCoords),this._flatCoordsOffset=tO(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(t);for(i=0;i<o.length;i++)e[i]=e[i]||[],e[i][0]=o[i][0],e[i][1]=o[i][1];return o.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,r=new iO(n),i=new oO(n),o=0,a=0,s=0,u=0;u<n;){s++;var l=t[u++];r[a++]=o+e,r[a++]=l;for(var c=0;c<l;c++){var h=t[u++],f=t[u++];i[o++]=h,i[o++]=f}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new Oy(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0}),n},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;var r=e.get("fromName"),i=e.get("toName"),o=[];return null!=r&&o.push(r),null!=i&&o.push(i),rO(o.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),sO=Hx.createSymbol,uO=Yo.prototype;uO.createLine=function(t,e,n){return new YS(t,e,n)},uO._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");nl.isArray(r)||(r=[r,r]);var o=n.get("color")||t.getItemVisual(e,"color"),a=this.childAt(1);this._symbolType!==i&&(this.remove(a),(a=sO(i,-.5,-.5,1,1,o)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",o),a.setStyle(n.getItemStyle(["color"])),a.attr("scale",r),a.setColor(o),a.attr("scale",r),this._symbolType=i,this._updateEffectAnimation(t,n,e))},uO._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(r){var i=this,o=t.getItemLayout(n),a=1e3*e.get("period"),s=e.get("loop"),u=e.get("constantSpeed"),l=nl.retrieve(e.get("delay"),function(e){return e/t.count()*a/3}),c="function"==typeof l;if(r.ignore=!0,this.updateAnimationPoints(r,o),u>0&&(a=this.getLineLength(r)/u*1e3),a!==this._period||s!==this._loop){r.stopAnimation();var h=l;c&&(h=l(n)),r.__t>0&&(h=-a*r.__t),r.__t=0;var f=r.animate("",s).when(a,{__t:1}).delay(h).during(function(){i.updateSymbolPosition(r)});s||f.done(function(){i.remove(r)}),f.start()}this._period=a,this._loop=s}},uO.getLineLength=function(t){return il.dist(t.__p1,t.__cp1)+il.dist(t.__cp1,t.__p2)},uO.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},uO.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},uO.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,r=t.__cp1,i=t.__t,o=t.position,a=Qh.quadraticAt,s=Qh.quadraticDerivativeAt;o[0]=a(e[0],r[0],n[0],i),o[1]=a(e[1],r[1],n[1],i);var u=s(e[0],r[0],n[0],i),l=s(e[1],r[1],n[1],i);t.rotation=-Math.atan2(l,u)-Math.PI/2,t.ignore=!1},uO.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},nl.inherits(Yo,_p.Group);var lO=Yo,cO=Xo.prototype;cO._createPolyline=function(t,e,n){var r=t.getItemLayout(e),i=new _p.Polyline({shape:{points:r}});this.add(i),this._updateCommonStl(t,e,n)},cO.updateData=function(t,e,n){var r=t.hostModel,i=this.childAt(0),o={shape:{points:t.getItemLayout(e)}};_p.updateProps(i,o,r,e),this._updateCommonStl(t,e,n)},cO._updateCommonStl=function(t,e,n){var r=this.childAt(0),i=t.getItemModel(e),o=t.getItemVisual(e,"color"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle;n&&!t.hasItemOption||(a=i.getModel("lineStyle").getLineStyle(),s=i.getModel("emphasis.lineStyle").getLineStyle()),r.useStyle(nl.defaults({strokeNoScale:!0,fill:"none",stroke:o},a)),r.hoverStyle=s,_p.setHoverStyle(this)},cO.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},nl.inherits(Xo,_p.Group);var hO=Xo,fO=Zo.prototype;fO.createLine=function(t,e,n){return new hO(t,e,n)},fO.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],r=0,i=1;i<e.length;i++){var o=e[i-1],a=e[i];r+=il.dist(o,a),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}},fO.getLineLength=function(t){return this._length},fO.updateSymbolPosition=function(t){var e=t.__t,n=this._points,r=this._offsets,i=n.length;if(r){var o=this._lastFrame;if(e<this._lastFramePercent){for(a=Math.min(o+1,i-1);a>=0&&!(r[a]<=e);a--);a=Math.min(a,i-2)}else{for(var a=o;a<i&&!(r[a]>e);a++);a=Math.min(a-1,i-2)}il.lerp(t.position,n[a],n[a+1],(e-r[a])/(r[a+1]-r[a]));var s=n[a+1][0]-n[a][0],u=n[a+1][1]-n[a][1];t.rotation=-Math.atan2(u,s)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=e,t.ignore=!1}},nl.inherits(Zo,lO);var dO=Zo,pO=_p.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,r=e.curveness;if(e.polyline)for(a=0;a<n.length;){var i=n[a++];if(i>0){t.moveTo(n[a++],n[a++]);for(var o=1;o<i;o++)t.lineTo(n[a++],n[a++])}}else for(var a=0;a<n.length;){var s=n[a++],u=n[a++],l=n[a++],c=n[a++];if(t.moveTo(s,u),r>0){var h=(s+l)/2-(u-c)*r,f=(u+c)/2-(l-s)*r;t.quadraticCurveTo(h,f,l,c)}else t.lineTo(l,c)}},findDataIndex:function(t,e){var n=this.shape,r=n.segs,i=n.curveness;if(n.polyline)for(var o=0,a=0;a<r.length;){var s=r[a++];if(s>0)for(var u=r[a++],l=r[a++],c=1;c<s;c++){var h=r[a++],f=r[a++];if(Df.containStroke(u,l,h,f))return o}o++}else for(o=0,a=0;a<r.length;){u=r[a++],l=r[a++],h=r[a++],f=r[a++];if(i>0){var d=(u+h)/2-(l-f)*i,p=(l+f)/2-(h-u)*i;if(Pf.containStroke(u,l,d,p,h,f))return o}else if(Df.containStroke(u,l,h,f))return o;o++}return-1}}),gO=$o.prototype;gO.isPersistent=function(){return!this._incremental},gO.updateData=function(t){this.group.removeAll();var e=new pO({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},gO.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new Jd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},gO.incrementalUpdate=function(t,e){var n=new pO;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},gO.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},gO._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get("lineStyle.curveness")}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("color");i&&t.setStyle("stroke",i),t.setStyle("fill"),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n+t.__startIndex)}))},gO._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var vO=$o,mO={seriesType:"lines",plan:Sm(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s,u=i.end-i.start;if(n){for(var l=0,c=i.start;c<i.end;c++)l+=t.getLineCoordsCount(c);s=new Float32Array(u+2*l)}else s=new Float32Array(4*u);var h=0,f=[];for(c=i.start;c<i.end;c++){g=t.getLineCoords(c,a),n&&(s[h++]=g);for(var d=0;d<g;d++)f=e.dataToPoint(a[d],!1,f),s[h++]=f[0],s[h++]=f[1]}o.setLayout("linesPoints",s)}else for(c=i.start;c<i.end;c++){var p=o.getItemModel(c),g=t.getLineCoords(c,a),v=[];if(n)for(var m=0;m<g;m++)v.push(e.dataToPoint(a[m]));else{v[0]=e.dataToPoint(a[0]),v[1]=e.dataToPoint(a[1]);var y=p.get("lineStyle.curveness");+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}o.setItemLayout(c,v)}}}}},yO=(D_.extendChartView({type:"lines",init:function(){},render:function(t,e,n){var r=t.getData(),i=this._updateLineDraw(r,t),o=t.get("zlevel"),a=t.get("effect.trailLength"),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a&&(u||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),i.updateData(r),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(t,e,n){var r=t.getData();this._updateLineDraw(r,t).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var r=t.getData(),i=t.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=mO.reset(t);o.progress&&o.progress({start:0,end:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,r=this._showEffect(e),i=!!e.get("polyline"),o=e.pipelineContext.large;return n&&r===this._hasEffet&&i===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new vO:new ZS(i?r?dO:hO:r?lO:YS),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}}),"lineStyle.opacity".split(".")),xO={seriesType:"lines",reset:function(t,e,n){var r=Ko(t.get("symbol")),i=Ko(t.get("symbolSize")),o=t.getData();return o.setVisual("fromSymbol",r&&r[0]),o.setVisual("toSymbol",r&&r[1]),o.setVisual("fromSymbolSize",i&&i[0]),o.setVisual("toSymbolSize",i&&i[1]),o.setVisual("opacity",t.get(yO)),{dataEach:o.hasItemOption?function(t,e){var n=t.getItemModel(e),r=Ko(n.getShallow("symbol",!0)),i=Ko(n.getShallow("symbolSize",!0)),o=n.get(yO);r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),i[0]&&t.setItemVisual(e,"fromSymbolSize",i[0]),i[1]&&t.setItemVisual(e,"toSymbolSize",i[1]),t.setItemVisual(e,"opacity",o)}:null}}};D_.registerLayout(mO),D_.registerVisual(xO),xm.extend({type:"series.heatmap",getInitialData:function(t,e){return Xy(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=yv.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),Jo.prototype={update:function(t,e,n,r,i,o){var a=this._getBrush(),s=this._getGradient(t,i,"inRange"),u=this._getGradient(t,i,"outOfRange"),l=this.pointSize+this.blurSize,c=this.canvas,h=c.getContext("2d"),f=t.length;c.width=e,c.height=n;for(var d=0;d<f;++d){var p=t[d],g=p[0],v=p[1],m=r(p[2]);h.globalAlpha=m,h.drawImage(a,g-l,v-l)}if(!c.width||!c.height)return c;for(var y=h.getImageData(0,0,c.width,c.height),x=y.data,_=0,b=x.length,w=this.minOpacity,M=this.maxOpacity-w;_<b;){m=x[_+3]/256;var S=4*Math.floor(255*m);if(m>0){var A=o(m)?s:u;m>0&&(m=m*M+w),x[_++]=A[S],x[_++]=A[S+1],x[_++]=A[S+2],x[_++]=A[S+3]*m*256}else _+=4}return h.putImageData(y,0,0),c},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=nl.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},_getGradient:function(t,e,n){for(var r=this._gradientPixels,i=r[n]||(r[n]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)e[n](s/255,!0,o),i[a++]=o[0],i[a++]=o[1],i[a++]=o[2],i[a++]=o[3];return i}};var _O=Jo,bO=(D_.extendChartView({type:"heatmap",render:function(t,e,n){var r;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(r=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var i=t.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):function(t){var e=i.dimensions;return"lng"===e[0]&&"lat"===e[1]}()&&this._renderOnGeo(i,t,r,n)},incrementalPrepareRender:function(t,e,n){this.group.removeAll()},incrementalRender:function(t,e,n,r){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,r,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,n,r,i){var o,a,s=t.coordinateSystem;if("cartesian2d"===s.type){var u=s.getAxis("x"),l=s.getAxis("y");o=u.getBandWidth(),a=l.getBandWidth()}for(var c=this.group,h=t.getData(),f=t.getModel("itemStyle").getItemStyle(["color"]),d=t.getModel("emphasis.itemStyle").getItemStyle(),p=t.getModel("label"),g=t.getModel("emphasis.label"),v=s.type,m="cartesian2d"===v?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],y=n;y<r;y++){var x;if("cartesian2d"===v){if(isNaN(h.get(m[2],y)))continue;var _=s.dataToPoint([h.get(m[0],y),h.get(m[1],y)]);x=new _p.Rect({shape:{x:_[0]-o/2,y:_[1]-a/2,width:o,height:a},style:{fill:h.getItemVisual(y,"color"),opacity:h.getItemVisual(y,"opacity")}})}else{if(isNaN(h.get(m[1],y)))continue;x=new _p.Rect({z2:1,shape:s.dataToRect([h.get(m[0],y)]).contentShape,style:{fill:h.getItemVisual(y,"color"),opacity:h.getItemVisual(y,"opacity")}})}var b=h.getItemModel(y);h.hasItemOption&&(f=b.getModel("itemStyle").getItemStyle(["color"]),d=b.getModel("emphasis.itemStyle").getItemStyle(),p=b.getModel("label"),g=b.getModel("emphasis.label"));var w=t.getRawValue(y),M="-";w&&null!=w[2]&&(M=w[2]),_p.setLabelStyle(f,d,p,g,{labelFetcher:t,labelDataIndex:y,defaultText:M,isRectText:!0}),x.setStyle(f),_p.setHoverStyle(x,h.hasItemOption?d:nl.extend({},d)),x.incremental=i,i&&(x.useHoverLayer=!0),c.add(x),h.setItemGraphicEl(y,x)}},_renderOnGeo:function(t,e,n,r){var i=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new _O;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var u=t.getViewRect().clone(),l=t.getRoamTransform();u.applyTransform(l);var c=Math.max(u.x,0),h=Math.max(u.y,0),f=Math.min(u.width+u.x,r.getWidth()),d=Math.min(u.height+u.y,r.getHeight()),p=f-c,g=d-h,v=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],m=a.mapArray(v,function(e,n,r){var i=t.dataToPoint([e,n]);return i[0]-=c,i[1]-=h,i.push(r),i}),y=n.getExtent(),x="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(y,n.option.range):function(t,e,n){var r=t[1]-t[0],i=(e=nl.map(e,function(e){return{interval:[(e.interval[0]-t[0])/r,(e.interval[1]-t[0])/r]}})).length,o=0;return function(t){for(r=o;r<i;r++)if((a=e[r].interval)[0]<=t&&t<=a[1]){o=r;break}if(r===i)for(var r=o-1;r>=0;r--){var a=e[r].interval;if(a[0]<=t&&t<=a[1]){o=r;break}}return r>=0&&r<i&&n[r]}}(y,n.getPieceList(),n.option.selected);s.update(m,p,g,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var _=new _p.Image({style:{width:p,height:g,x:c,y:h,image:s.canvas},silent:!0});this.group.add(_)},dispose:function(){}}),dw.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,bO.superApply(this,"getInitialData",arguments)}})),wO=Hx.createSymbol,MO=Np.parsePercent,SO=Np.isNumeric,AO=gw,TO=["itemStyle","borderWidth"],OO=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],CO=new _p.Circle,IO=(D_.extendChartView({type:"pictorialBar",render:function(t,e,n){var r=this.group,i=t.getData(),o=this._data,a=t.coordinateSystem,s=!!a.getBaseAxis().isHorizontal(),u=a.grid.getRect(),l={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:s,valueDim:OO[+s],categoryDim:OO[1-s]};return i.diff(o).add(function(t){if(i.hasValue(t)){var e=aa(i,t),n=Qo(i,t,e,l),o=ua(i,l,n);i.setItemGraphicEl(t,o),r.add(o),da(o,l,n)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var a=aa(i,t),s=Qo(i,t,a,l),u=ca(i,s);n&&u!==n.__pictorialShapeStr&&(r.remove(n),i.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var r=n.animationModel,i=n.dataIndex,o=t.__pictorialBundle;_p.updateProps(o,{position:n.bundlePosition.slice()},r,i),n.symbolRepeat?na(t,e,n,!0):ra(t,0,n,!0),ia(t,n,!0),oa(t,e,n,!0)}(n,l,s):n=ua(i,l,s,!0),i.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,r.add(n),da(n,l,s)}else r.remove(n)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&la(o,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=i,this.group},dispose:nl.noop,remove:function(t,e){var n=this.group,r=this._data;t.get("animation")?r&&r.eachItemGraphicEl(function(e){la(r,e.dataIndex,t,e)}):n.removeAll()}}),dx.layout);D_.registerLayout(nl.curry(IO,"pictorialBar")),D_.registerVisual(fb("pictorialBar","roundRect"));var kO=function(t,e,n,r,i){d_.call(this,t,e,n),this.type=r||"value",this.position=i||"bottom",this.orient=null};kO.prototype={constructor:kO,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},nl.inherits(kO,d_);var DO=kO,LO=Xp.getLayoutRect,EO=nl.each;ga.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:ga,_init:function(t,e,n){var r=this.dimension,i=new DO(r,Lx.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),o="category"===i.type;i.onBand=o&&t.get("boundaryGap"),i.inverse=t.get("inverse"),i.orient=t.get("orient"),t.axis=i,i.model=t,i.coordinateSystem=this,this._axis=i},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();EO(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),Lx.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=LO({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],i=e.reverse?1:0;e.setExtent(r[i],r[1-i]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),r=n[0]+n[1],i=t.isHorizontal();t.toGlobalCoord=i?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord=i?function(t){return t-e}:function(t){return r-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),r=[],i="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[i]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r}};var PO=ga;yv.register("single",{create:function(t,e){var n=[];return t.eachComponent("singleAxis",function(r,i){var o=new PO(r,t,e);o.name="single_"+i,o.resize(r,e),r.coordinateSystem=o,n.push(o)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=n&&n.coordinateSystem}}),n},dimensions:PO.prototype.dimensions});var NO=function(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,i={},o=r.position,a=r.orient,s=n.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],l={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};i.position=["vertical"===a?l.vertical[o]:u[0],"horizontal"===a?l.horizontal[o]:u[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get("axisTick.inside")&&(i.tickDirection=-i.tickDirection),nl.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(i.labelDirection=-i.labelDirection);var c=e.rotate;return null==c&&(c=t.get("axisLabel.rotate")),i.labelRotation="top"===o?-c:c,i.z2=1,i},jO=["axisLine","axisTickLabel","axisName"],RO=uw.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,n,r){var i=this.group;i.removeAll();var o=NO(t),a=new nw(t,o);nl.each(jO,a.add,a),i.add(a.getGroup()),t.get("splitLine.show")&&this._splitLine(t),RO.superCall(this,"render",t,e,n,r)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var n=t.getModel("splitLine"),r=n.getModel("lineStyle"),i=r.get("width"),o=r.get("color");o=o instanceof Array?o:[o];for(var a=t.coordinateSystem.getRect(),s=e.isHorizontal(),u=[],l=0,c=e.getTicksCoords({tickModel:n}),h=[],f=[],d=0;d<c.length;++d){var p=e.toGlobalCoord(c[d].coord);s?(h[0]=p,h[1]=a.y,f[0]=p,f[1]=a.y+a.height):(h[0]=a.x,h[1]=p,f[0]=a.x+a.width,f[1]=p);var g=l++%o.length;u[g]=u[g]||[],u[g].push(new _p.Line(_p.subPixelOptimizeLine({shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:{lineWidth:i},silent:!0})))}for(d=0;d<u.length;++d)this.group.add(_p.mergePath(u[d],{style:{stroke:o[d%o.length],lineDash:r.getLineDash(i),lineWidth:i},silent:!0}))}}}),zO=Qp.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});nl.merge(zO.prototype,Ex),Ib("single",zO,function(t,e){return e.type||(e.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var BO=function(t,e){var n,r=[],i=t.seriesIndex;if(null==i||!(n=e.getSeriesByIndex(i)))return{point:[]};var o=n.getData(),a=Dh.queryDataIndex(o,t);if(null==a||a<0||nl.isArray(a))return{point:[]};var s=o.getItemGraphicEl(a),u=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(a)||[];else if(u&&u.dataToPoint)r=u.dataToPoint(o.getValues(nl.map(u.dimensions,function(t){return o.mapDimension(t)}),a,!0))||[];else if(s){var l=s.getBoundingRect().clone();l.applyTransform(s.transform),r=[l.x+l.width/2,l.y+l.height/2]}return{point:r,el:s}},VO=Dh.makeInner,FO=nl.each,HO=nl.curry,WO=VO(),GO=(D_.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),(0,Dh.makeInner)()),qO=nl.each,UO=function(t,e,n){if(!Hu.node){var r=e.getZr();GO(r).records||(GO(r).records={}),function(t,e){function n(n,r){t.on(n,function(n){var i=function(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}(e);qO(GO(t).records,function(t){t&&r(t,n,i.dispatchAction)}),function(t,e){var n,r=t.showTip.length,i=t.hideTip.length;r?n=t.showTip[r-1]:i&&(n=t.hideTip[i-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}(i.pendings,e)})}GO(t).initialized||(GO(t).initialized=!0,n("click",nl.curry(xa,"click")),n("mousemove",nl.curry(xa,"mousemove")),n("globalout",function(t,e,n){t.handler("leave",null,n)}))}(r,e),(GO(r).records[t]||(GO(r).records[t]={})).handler=n}},YO=function(t,e){if(!Hu.node){var n=e.getZr();(GO(n).records||{})[t]&&(GO(n).records[t]=null)}},XO=D_.extendComponentView({type:"axisPointer",render:function(t,e,n){var r=e.getComponent("tooltip"),i=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";UO("axisPointer",n,function(t,e,n){"none"!==i&&("leave"===t||i.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){YO(e.getZr(),"axisPointer"),XO.superApply(this._model,"remove",arguments)},dispose:function(t,e){YO("axisPointer",e),XO.superApply(this._model,"dispose",arguments)}}),ZO=(0,Dh.makeInner)(),$O=nl.clone,KO=nl.bind;(_a.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,r){var i=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==i||this._lastStatus!==o){this._lastValue=i,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var u={};this.makeElOption(u,i,t,e,n);var l=u.graphicKey;l!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=l;var c=this._moveAnimation=this.determineAnimation(t,e);if(a){var h=nl.curry(ba,e,c);this.updatePointerEl(a,u,h,e),this.updateLabelEl(a,u,h,e)}else a=this._group=new _p.Group,this.createPointerEl(a,u,t,e),this.createLabelEl(a,u,t,e),n.getZr().add(a);Sa(a,e,!0),this._renderHandle(i)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),r=t.axis,i="category"===r.type,o=e.get("snap");if(!o&&!i)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(i&&r.getBandWidth()>a)return!0;if(o){var s=ow.getAxisInfo(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/s>a}return!1}return!0===n},makeElOption:function(t,e,n,r,i){},createPointerEl:function(t,e,n,r){var i=e.pointer;if(i){var o=ZO(t).pointerEl=new _p[i.type]($O(e.pointer));t.add(o)}},createLabelEl:function(t,e,n,r){if(e.label){var i=ZO(t).labelEl=new _p.Rect($O(e.label));t.add(i),wa(i,r)}},updatePointerEl:function(t,e,n){var r=ZO(t).pointerEl;r&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,r){var i=ZO(t).labelEl;i&&(i.setStyle(e.label.style),n(i,{shape:e.label.shape,position:e.label.position}),wa(i,r))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return i&&r.remove(i),void(this._handle=null);this._handle||(e=!0,i=this._handle=_p.createIcon(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){ih.stop(t.event)},onmousedown:KO(this._onHandleDragMove,this,0,0),drift:KO(this._onHandleDragMove,this),ondragend:KO(this._onHandleDragEnd,this)}),r.add(i)),Sa(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");nl.isArray(s)||(s=[s,s]),i.attr("scale",[s[0]/2,s[1]/2]),Nm.createOrUpdate(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){ba(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Ma(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(Ma(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(Ma(r)),ZO(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}}).constructor=_a,jh(_a);var JO=_a,QO={buildElStyle:function(t){var e,n=t.get("type"),r=t.getModel(n+"Style");return"line"===n?(e=r.getLineStyle()).fill=null:"shadow"===n&&((e=r.getAreaStyle()).stroke=null),e},buildLabelElOption:Aa,getValueLabel:Ta,getTransformedPosition:Oa,buildCartesianSingleLabelElOption:function(t,e,n,r,i,o){var a=nw.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get("label.margin"),Aa(e,r,i,o,{position:Oa(r.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})},makeLineShape:function(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}},makeRectShape:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},makeSectorShape:function(t,e,n,r,i,o){return{cx:t,cy:e,r0:n,r:r,startAngle:i,endAngle:o,clockwise:!0}}},tC=JO.extend({makeElOption:function(t,e,n,r,i){var o=n.axis,a=o.grid,s=r.get("type"),u=Ca(a,o).getOtherAxis(o).getGlobalExtent(),l=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var c=QO.buildElStyle(r),h=eC[s](o,l,u,c);h.style=c,t.graphicKey=h.type,t.pointer=h}var f=lw(a.model,n);QO.buildCartesianSingleLabelElOption(e,t,f,n,r,i)},getHandleTransform:function(t,e,n){var r=lw(e.axis.grid.model,e,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:QO.getTransformedPosition(e.axis,t,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,r){var i=n.axis,o=i.grid,a=i.getGlobalExtent(!0),s=Ca(o,i).getOtherAxis(i).getGlobalExtent(),u="x"===i.dim?0:1,l=t.position;l[u]+=e[u],l[u]=Math.min(a[1],l[u]),l[u]=Math.max(a[0],l[u]);var c=(s[1]+s[0])/2,h=[c,c];return h[u]=l[u],{position:l,rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}}),eC={line:function(t,e,n,r){var i=QO.makeLineShape([e,n[0]],[e,n[1]],Ia(t));return _p.subPixelOptimizeLine({shape:i,style:r}),{type:"Line",shape:i}},shadow:function(t,e,n,r){var i=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:QO.makeRectShape([e-i/2,n[0]],[i,o],Ia(t))}}};uw.registerAxisPointerClass("CartesianAxisPointer",tC),D_.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!nl.isArray(e)&&(t.axisPointer.link=[e])}}),D_.registerProcessor(D_.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=ow.collect(t,e)}),D_.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,n){var r=t.currTrigger,i=[t.x,t.y],o=t,a=t.dispatchAction||nl.bind(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ya(i)&&(i=BO({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var u=ya(i),l=o.axesInfo,c=s.axesInfo,h="leave"===r||ya(i),f={},d={},p={list:[],map:{}},g={showPointer:HO(function(t,e,n,r){t[e.key]={value:n,payloadBatch:r}},d),showTooltip:HO(function(t,e,n,r){var i=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&i.length){var u=e.coordSys.model,l=ow.makeKey(u),c=t.map[l];c||(c=t.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:i.slice()})}},p)};FO(s.coordSysMap,function(t,e){var n=u||t.containPoint(i);FO(s.coordSysAxesInfo[e],function(t,e){var r=t.axis,o=function(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}(l,t);if(!h&&n&&(!l||o)){var a=o&&o.value;null!=a||u||(a=r.pointToData(i)),null!=a&&va(t,a,g,!1,f)}})});var v={};return FO(c,function(t,e){var n=t.linkGroup;n&&!d[e]&&FO(n.axesInfo,function(e,r){var i=d[r];if(e!==t&&i){var o=i.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,ma(e),ma(t)))),v[t.key]=o}})}),FO(v,function(t,e){va(c[e],t,g,!0,f)}),function(t,e,n){var r=f.axesInfo=[];FO(e,function(e,n){var i=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(i.status="show"),i.value=o.value,i.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(i.status="hide"),"show"===i.status&&r.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:i.value})})}(d,c),function(t,e,n,r){if(!ya(e)&&t.list.length){var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}else r({type:"hideTip"})}(p,i,t,a),function(t,e,n){var r=n.getZr(),i=WO(r).axisPointerLastHighlights||{},o=WO(r).axisPointerLastHighlights={};FO(t,function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&FO(n.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var a=[],s=[];nl.each(i,function(t,e){!o[e]&&s.push(t)}),nl.each(o,function(t,e){!i[e]&&a.push(t)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),a.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:a})}(c,0,n),f}});var nC=["x","y"],rC=["width","height"],iC=JO.extend({makeElOption:function(t,e,n,r,i){var o=n.axis,a=o.coordinateSystem,s=Da(a,1-ka(o)),u=a.dataToPoint(e)[0],l=r.get("type");if(l&&"none"!==l){var c=QO.buildElStyle(r),h=oC[l](o,u,s,c);h.style=c,t.graphicKey=h.type,t.pointer=h}var f=NO(n);QO.buildCartesianSingleLabelElOption(e,t,f,n,r,i)},getHandleTransform:function(t,e,n){var r=NO(e,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:QO.getTransformedPosition(e.axis,t,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,r){var i=n.axis,o=i.coordinateSystem,a=ka(i),s=Da(o,a),u=t.position;u[a]+=e[a],u[a]=Math.min(s[1],u[a]),u[a]=Math.max(s[0],u[a]);var l=Da(o,1-a),c=(l[1]+l[0])/2,h=[c,c];return h[a]=u[a],{position:u,rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}}}),oC={line:function(t,e,n,r){var i=QO.makeLineShape([e,n[0]],[e,n[1]],ka(t));return _p.subPixelOptimizeLine({shape:i,style:r}),{type:"Line",shape:i}},shadow:function(t,e,n,r){var i=t.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:QO.makeRectShape([e-i/2,n[0]],[i,o],ka(t))}}};uw.registerAxisPointerClass("SingleAxisPointer",iC),D_.extendComponentView({type:"single"});var aC=py.getDimensionTypeByAxis,sC=Vp.encodeHTML,uC=xm.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){uC.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){for(var e=t.length,n=bT().key(function(t){return t[2]}).entries(t),r=nl.map(n,function(t){return{name:t.key,dataList:t.values}}),i=r.length,o=-1,a=-1,s=0;s<i;++s){var u=r[s].dataList.length;u>o&&(o=u,a=s)}for(var l=0;l<i;++l)if(l!==a)for(var c=r[l].name,h=0;h<o;++h){for(var f=r[a].dataList[h][0],d=r[l].dataList.length,p=-1,g=0;g<d;++g)if(r[l].dataList[g][0]===f){p=g;break}-1===p&&(t[e]=[],t[e][0]=f,t[e][1]=0,t[e][2]=c,e++)}return t},getInitialData:function(t,e){for(var n=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),r=nl.filter(t.data,function(t){return void 0!==t[2]}),i=this.fixData(r||[]),o=[],a=this.nameMap=nl.createHashMap(),s=0,u=0;u<i.length;++u)o.push(i[u][2]),a.get(i[u][2])||(a.set(i[u][2],s),s++);var l=By(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:aC(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),c=new Oy(l,this);return c.initData(i),c},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),n=[],r=0;r<e;++r)n[r]=r;for(var i=bT().key(function(e){return t.get("name",e)}).entries(n),o=nl.map(i,function(t){return{name:t.key,indices:t.values}}),a=t.mapDimension("single"),s=0;s<o.length;++s)o[s].indices.sort(function(e,n){return t.get(a,e)-t.get(a,n)});return o},getAxisTooltipData:function(t,e,n){nl.isArray(t)||(t=t?[t]:[]);for(var r,i=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,u=0;u<s;++u){for(var l=Number.MAX_VALUE,c=-1,h=o[u].indices.length,f=0;f<h;++f){var d=i.get(t[0],o[u].indices[f]),p=Math.abs(d-e);p<=l&&(r=d,l=p,c=o[u].indices[f])}a.push(c)}return{dataIndices:a,nestestValue:r}},formatTooltip:function(t){var e=this.getData(),n=e.getName(t),r=e.get(e.mapDimension("value"),t);return(isNaN(r)||null==r)&&(r="-"),sC(n+" : "+r)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),lC=ab.Polygon,cC=nl.bind,hC=nl.extend,fC=(D_.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,n){function r(t){return t.name}function i(e,n,r){var i=this._layers;if("remove"!==e){for(var u,l=[],c=[],f=s[n].indices,d=0;d<f.length;d++){var p=o.getItemLayout(f[d]),g=p.x,v=p.y0,m=p.y;l.push([g,v]),c.push([g,v+m]),u=o.getItemVisual(f[d],"color")}var y,x,_=o.getItemLayout(f[0]),b=o.getItemModel(f[d-1]),w=b.getModel("label"),M=w.get("margin");if("add"===e)S=h[n]=new _p.Group,y=new lC({shape:{points:l,stackedOnPoints:c,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),x=new _p.Text({style:{x:_.x-M,y:_.y0+_.y/2}}),S.add(y),S.add(x),a.add(S),y.setClipPath(function(t,e,n){var r=new _p.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return _p.initProps(r,{shape:{width:t.width+20,height:t.height+20}},e,function(){y.removeClipPath()}),r}(y.getBoundingRect(),t));else{var S=i[r];y=S.childAt(0),x=S.childAt(1),a.add(S),h[n]=S,_p.updateProps(y,{shape:{points:l,stackedOnPoints:c}},t),_p.updateProps(x,{style:{x:_.x-M,y:_.y0+_.y/2}},t)}var A=b.getModel("emphasis.itemStyle"),T=b.getModel("itemStyle");_p.setTextStyle(x.style,w,{text:w.get("show")?t.getFormattedLabel(f[d-1],"normal")||o.getName(f[d-1]):null,textVerticalAlign:"middle"}),y.setStyle(hC({fill:u},T.getItemStyle(["color"]))),_p.setHoverStyle(y,A.getItemStyle())}else a.remove(i[n])}var o=t.getData(),a=this.group,s=t.getLayerSeries(),u=o.getLayout("layoutInfo"),l=u.rect,c=u.boundaryGap;a.attr("position",[0,l.y+c[0]]);var h={};new cy(this._layersSeries||[],s,r,r).add(cC(i,this,"add")).update(cC(i,this,"update")).remove(cC(i,this,"remove")).execute(),this._layersSeries=s,this._layers=h},dispose:function(){}}),function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.coordinateSystem,r={},i=n.getRect();r.rect=i;var o=t.get("boundaryGap"),a=n.getAxis();r.boundaryGap=o,"horizontal"===a.orient?(o[0]=Np.parsePercent(o[0],i.height),o[1]=Np.parsePercent(o[1],i.height),La(e,t,i.height-o[0]-o[1])):(o[0]=Np.parsePercent(o[0],i.width),o[1]=Np.parsePercent(o[1],i.width),La(e,t,i.width-o[0]-o[1])),e.setLayout("layoutInfo",r)})}),dC=nl.createHashMap;D_.registerLayout(fC),D_.registerVisual(function(t){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.getRawData(),r=t.get("color"),i=dC();e.each(function(t){i.set(e.getRawIndex(t),t)}),n.each(function(o){var a=n.getName(o),s=r[(t.nameMap.get(a)-1)%r.length];n.setItemVisual(o,"color",s);var u=i.get(o);null!=u&&e.setItemVisual(u,"color",s)})})}),D_.registerProcessor(Vw("themeRiver"));var pC=GM.wrapTreePathInfo,gC=(xm.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;nl.each(e.children,function(e){t(e);var r=e.value;nl.isArray(r)&&(r=r[0]),n+=r});var r=e.value;nl.isArray(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=n),r<0&&(r=0),nl.isArray(e.value)?e.value[0]=r:e.value=r}(n);var r=t.levels||[],i={};return i.levels=r,LM.createTree(n,this,i).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=xm.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=pC(n,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}}),{NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"}),vC=2,mC=4,yC=Ea.prototype;yC.updateData=function(t,e,n,r,i){this.node=e,e.piece=this,r=r||this._seriesModel,i=i||this._ecModel;var o=this.childAt(0);o.dataIndex=e.dataIndex;var a=e.getModel(),s=e.getLayout(),u=nl.extend({},s);u.label=null;var l,c=function(t,e,n){var r=t.getVisual("color"),i=t.getVisual("visualMeta");i&&0!==i.length||(r=null);var o=t.getModel("itemStyle").get("color");if(o)return o;if(r)return r;if(0===t.depth)return n.option.color[0];var a=n.option.color.length;return n.option.color[function(t){for(var e=t;e.depth>1;)e=e.parentNode;var n=t.getAncestors()[0];return nl.indexOf(n.children,e)}(t)%a]}(e,0,i),h=a.getModel("itemStyle").getItemStyle();if("normal"===n)l=h;else{var f=a.getModel(n+".itemStyle").getItemStyle();l=nl.merge(f,h)}l=nl.defaults({lineJoin:"bevel",fill:l.fill||c},l),t?(o.setShape(u),o.shape.r=s.r0,_p.updateProps(o,{shape:{r:s.r}},r,e.dataIndex),o.useStyle(l)):"object"==typeof l.fill&&l.fill.type||"object"==typeof o.style.fill&&o.style.fill.type?(_p.updateProps(o,{shape:u},r),o.useStyle(l)):_p.updateProps(o,{shape:u,style:l},r),this._updateLabel(r,c,n);var d=a.getShallow("cursor");if(d&&o.attr("cursor",d),t){var p=r.getShallow("highlightPolicy");this._initEvents(o,e,r,p)}this._seriesModel=r||this._seriesModel,this._ecModel=i||this._ecModel},yC.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(e.node===n?n.piece.updateData(!1,n,"emphasis"):function(t,e,n){return n!==gC.NONE&&(n===gC.SELF?t===e:n===gC.ANCESTOR?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}(n,e.node,t)?n.piece.childAt(0).trigger("highlight"):t!==gC.NONE&&n.piece.childAt(0).trigger("downplay"))})},yC.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},yC.onHighlight=function(){this.updateData(!1,this.node,"highlight")},yC.onDownplay=function(){this.updateData(!1,this.node,"downplay")},yC._updateLabel=function(t,e,n){function r(t){var e=a.get(t);return null==e?o.get(t):e}var i=this.node.getModel(),o=i.getModel("label"),a="normal"===n||"emphasis"===n?o:i.getModel(n+".label"),s=i.getModel("emphasis.label"),u=nl.retrieve(t.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);!1===r("show")&&(u="");var l=this.node.getLayout(),c=a.get("minAngle");null==c&&(c=o.get("minAngle")),c=c/180*Math.PI;var h=l.endAngle-l.startAngle;null!=c&&Math.abs(h)<c&&(u="");var f=this.childAt(1);_p.setLabelStyle(f.style,f.hoverStyle||{},o,s,{defaultText:a.getShallow("show")?u:null,autoColor:e,useInsideStyle:!0});var d,p=(l.startAngle+l.endAngle)/2,g=Math.cos(p),v=Math.sin(p),m=r("position"),y=r("distance")||0,x=r("align");"outside"===m?(d=l.r+y,x=p>Math.PI/2?"right":"left"):x&&"center"!==x?"left"===x?(d=l.r0+y,p>Math.PI/2&&(x="right")):"right"===x&&(d=l.r-y,p>Math.PI/2&&(x="left")):(d=(l.r+l.r0)/2,x="center"),f.attr("style",{text:u,textAlign:x,textVerticalAlign:r("verticalAlign")||"middle",opacity:r("opacity")});var _=d*g+l.cx,b=d*v+l.cy;f.attr("position",[_,b]);var w=r("rotate"),M=0;"radial"===w?(M=-p)<-Math.PI/2&&(M+=Math.PI):"tangential"===w?(M=Math.PI/2-p)>Math.PI/2?M-=Math.PI:M<-Math.PI/2&&(M+=Math.PI):"number"==typeof w&&(M=w*Math.PI/180),f.attr("rotation",M)},yC._initEvents=function(t,e,n,r){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var i=this,o=function(){i.onEmphasis(r)},a=function(){i.onNormal()};n.isAnimationEnabled()&&t.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",function(){i.onDownplay()}).on("highlight",function(){i.onHighlight()})},nl.inherits(Ea,_p.Group);var xC=Ea,_C=(Dm.extend({type:"sunburst",init:function(){},render:function(t,e,n,r){var i=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),a=o.tree.root,s=t.getViewRoot(),u=this.group,l=t.get("renderLabelForZeroData"),c=[];s.eachNode(function(t){c.push(t)});var h=this._oldChildren||[];if(function(n,r){function i(t){return t.getId()}function s(i,s){!function(n,r){if(l||!n||n.getValue()||(n=null),n!==a&&r!==a)if(r&&r.piece)n?(r.piece.updateData(!1,n,"normal",t,e),o.setItemGraphicEl(n.dataIndex,r.piece)):function(t){t&&t.piece&&(u.remove(t.piece),t.piece=null)}(r);else if(n){var i=new xC(n,t,e);u.add(i),o.setItemGraphicEl(n.dataIndex,i)}}(null==i?null:n[i],null==s?null:r[s])}0===n.length&&0===r.length||new cy(r,n,i,i).add(s).update(s).remove(nl.curry(s,null)).execute()}(c,h),function(n,r){if(r.depth>0){i.virtualPiece?i.virtualPiece.updateData(!1,n,"normal",t,e):(i.virtualPiece=new xC(n,t,e),u.add(i.virtualPiece)),r.piece._onclickEvent&&r.piece.off("click",r.piece._onclickEvent);var o=function(t){i._rootToNode(r.parentNode)};r.piece._onclickEvent=o,i.virtualPiece.on("click",o)}else i.virtualPiece&&(u.remove(i.virtualPiece),i.virtualPiece=null)}(a,s),r&&r.highlight&&r.highlight.piece){var f=t.getShallow("highlightPolicy");r.highlight.piece.onEmphasis(f)}else if(r&&r.unhighlight){var d=this.virtualPiece;!d&&a.children.length&&(d=a.children[0].piece),d&&d.onNormal()}this._initEvents(),this._oldChildren=c},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var n=!1;t.seriesModel.getViewRoot().eachNode(function(r){if(!n&&r.piece&&r.piece.childAt(0)===e.target){var i=r.getModel().get("nodeClick");if("rootToNode"===i)t._rootToNode(r);else if("link"===i){var o=r.getModel(),a=o.get("link");if(a){var s=o.get("target",!0)||"_blank";window.open(a,s)}}n=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}}}),"sunburstRootToNode");D_.registerAction({type:_C,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){var r=GM.retrieveTargetInfo(t,[_C],e);if(r){var i=e.getViewRoot();i&&(t.direction=GM.aboveViewRoot(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}})});var bC="sunburstHighlight";D_.registerAction({type:bC,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){var r=GM.retrieveTargetInfo(t,[bC],e);r&&(t.highlight=r.node)})}),D_.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){t.unhighlight=!0})});var wC=Np.parsePercent,MC=(Math.PI,Math.PI/180);D_.registerVisual(nl.curry(Nw,"sunburst")),D_.registerLayout(nl.curry(function(t,e,n,r){e.eachSeriesByType(t,function(t){var e=t.get("center"),r=t.get("radius");nl.isArray(r)||(r=[0,r]),nl.isArray(e)||(e=[e,e]);var i=n.getWidth(),o=n.getHeight(),a=Math.min(i,o),s=wC(e[0],i),u=wC(e[1],o),l=wC(r[0],a/2),c=wC(r[1],a/2),h=-t.get("startAngle")*MC,f=t.get("minAngle")*MC,d=t.getData().tree.root,p=t.getViewRoot(),g=p.depth,v=t.get("sort");null!=v&&function t(e,n){var r=e.children||[];e.children=function(t,e){if("function"==typeof e)return t.sort(e);var n="asc"===e;return t.sort(function(t,e){var r=(t.getValue()-e.getValue())*(n?1:-1);return 0===r?(t.dataIndex-e.dataIndex)*(n?-1:1):r})}(r,n),r.length&&nl.each(e.children,function(e){t(e,n)})}(p,v);var m=0;nl.each(p.children,function(t){!isNaN(t.getValue())&&m++});var y=p.getValue(),x=Math.PI/(y||m)*2,_=p.depth>0,b=p.height-(_?-1:1),w=(c-l)/(b||1),M=t.get("clockwise"),S=t.get("stillShowZeroSum"),A=M?1:-1,T=function(t,e){if(t){var n=e;if(t!==d){var r=t.getValue(),i=0===y&&S?x:r*x;i<f&&(i=f),n=e+A*i;var o=t.depth-g-(_?-1:1),c=l+w*o,h=l+w*(o+1),p=t.getModel();null!=p.get("r0")&&(c=wC(p.get("r0"),a/2)),null!=p.get("r")&&(h=wC(p.get("r"),a/2)),t.setLayout({angle:i,startAngle:e,endAngle:n,clockwise:M,cx:s,cy:u,r0:c,r:h})}if(t.children&&t.children.length){var v=0;nl.each(t.children,function(t){v+=T(t,e+v)})}return n-e}};if(_){var O=l,C=l+w,I=2*Math.PI;d.setLayout({angle:I,startAngle:h,endAngle:h+I,clockwise:M,cx:s,cy:u,r0:O,r:C})}T(p,h)})},"sunburst")),D_.registerProcessor(nl.curry(Vw,"sunburst"));var SC=E_.getDefaultLabel,AC=dx.getLayoutOnAxis,TC=["itemStyle"],OC=["emphasis","itemStyle"],CC=["label"],IC=["emphasis","label"],kC="e\0\0",DC={cartesian2d:function(t){var e=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:nl.bind(function(t,e){return e=e||[0,0],nl.map(["x","y"],function(n,r){var i=this.getAxis(n),o=e[r],a=t[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a))},this)},t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:nl.bind(function(t,e){return e=e||[0,0],nl.map([0,1],function(n){var r=e[n],i=t[n]/2,o=[],a=[];return o[n]=r-i,a[n]=r+i,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])},this)},t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:nl.bind(function(t,e){var n=this.getAxis(),r=e instanceof Array?e[0]:e,i=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))},t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:nl.bind(function(r){var i=e.dataToRadius(r[0]),o=n.dataToAngle(r[1]),a=t.coordToPoint([i,o]);return a.push(i,o*Math.PI/180),a}),size:nl.bind(function(t,e){return nl.map(["Radius","Angle"],function(n,r){var i=this["get"+n+"Axis"](),o=e[r],a=t[r]/2,s="dataTo"+n,u="category"===i.type?i.getBandWidth():Math.abs(i[s](o-a)-i[s](o+a));return"Angle"===n&&(u=u*Math.PI/180),u},this)},t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};D_.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(t,e){return Xy(this.getSource(),this)}}),D_.extendChartView({type:"custom",_data:null,render:function(t,e,n){var r=this._data,i=t.getData(),o=this.group,a=Na(t,i,e,n);this.group.removeAll(),i.diff(r).add(function(e){ja(null,e,a(e),t,o,i)}).update(function(e,n){ja(r.getItemGraphicEl(n),e,a(e),t,o,i)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&o.remove(e)}).execute(),this._data=i},incrementalPrepareRender:function(t,e,n){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,n,r){for(var i=e.getData(),o=Na(e,i,n,r),a=t.start;a<t.end;a++)ja(null,a,o(a),e,this.group,i).traverse(function(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)})},dispose:nl.noop}),D_.registerPreprocessor(function(t){var e=t.graphic;nl.isArray(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var LC=D_.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,LC.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var n=this.option,r=(e?n:t).elements,i=n.elements=e?[]:n.elements,o=[];this._flatten(r,o);var a=Dh.mappingToExists(i,o);Dh.makeIdAndName(a);var s=this._elOptionsToUpdate=[];nl.each(a,function(t,e){var n=t.option;n&&(s.push(n),function(t,e){var n=t.exist;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var r=e.parentOption;r?e.parentId=r.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var r=nl.extend({},n),i=t[e],o=n.$action||"merge";"merge"===o?i?(nl.merge(i,r,!0),Xp.mergeLayoutParam(i,r,{ignoreSize:!0}),Xp.copyLayoutParams(n,i)):t[e]=r:"replace"===o?t[e]=r:"remove"===o&&i&&(t[e]=null)}(i,e,n),function(t,e){t&&(t.hv=e.hv=[Ha(e,["left","right"]),Ha(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}(i[e],n))},this);for(var u=i.length-1;u>=0;u--)null==i[u]?i.splice(u,1):delete i[u].$action},_flatten:function(t,e,n){nl.each(t,function(t){if(t){n&&(t.parentOption=n),e.push(t);var r=t.children;"group"===t.type&&r&&this._flatten(r,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});D_.extendComponentView({type:"graphic",init:function(t,e){this._elMap=nl.createHashMap(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,n),this._relocate(t,n)},_updateElements:function(t,e){var n=t.useElOptionsToUpdate();if(n){var r=this._elMap,i=this.group;nl.each(n,function(t){var e=t.$action,n=t.id,o=r.get(n),a=t.parentId,s=null!=a?r.get(a):i;if("text"===t.type){var u=t.style;t.hv&&t.hv[1]&&(u.textVerticalAlign=u.textBaseline=null),!u.hasOwnProperty("textFill")&&u.fill&&(u.textFill=u.fill),!u.hasOwnProperty("textStroke")&&u.stroke&&(u.textStroke=u.stroke)}var l=function(t){return t=nl.extend({},t),nl.each(["id","parentId","$action","hv","bounding"].concat(Xp.LOCATION_PARAMS),function(e){delete t[e]}),t}(t);e&&"merge"!==e?"replace"===e?(Fa(o,r),Va(n,s,l,r)):"remove"===e&&Fa(o,r):o?o.attr(l):Va(n,s,l,r);var c=r.get(n);c&&(c.__ecGraphicWidth=t.width,c.__ecGraphicHeight=t.height)})}},_relocate:function(t,e){for(var n=t.option.elements,r=this.group,i=this._elMap,o=n.length-1;o>=0;o--){var a=n[o],s=i.get(a.id);if(s){var u=s.parent,l=u===r?{width:e.getWidth(),height:e.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0};Xp.positionElement(s,a,l,null,{hv:a.hv,boundingMode:a.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){Fa(e,t)}),this._elMap=nl.createHashMap()},dispose:function(){this._clear()}});var EC=Dh.isNameSpecified,PC=D_.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{}},mergeOption:function(t){PC.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var r=t[n].get("name");if(this.isSelected(r)){this.select(r),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],n=[];t.eachRawSeries(function(r){var i,o=r.name;if(n.push(o),r.legendDataProvider){var a=r.legendDataProvider(),s=a.mapArray(a.getName);t.isSeriesFiltered(r)||(n=n.concat(s)),s.length?e=e.concat(s):i=!0}else i=!0;i&&EC(r)&&e.push(r.name)}),this._availableNames=n;var r=this.get("data")||e,i=nl.map(r,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new kp(t,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;nl.each(n,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&nl.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),NC=PC;D_.registerAction("legendToggleSelect","legendselectchanged",nl.curry(Wa,"toggleSelected")),D_.registerAction("legendSelect","legendselected",nl.curry(Wa,"select")),D_.registerAction("legendUnSelect","legendunselected",nl.curry(Wa,"unSelect"));var jC=Xp.getLayoutRect,RC=Xp.box,zC=Xp.positionElement,BC=function(t,e,n){var r=e.getBoxLayoutParams(),i=e.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=jC(r,o,i);RC(e.get("orient"),t,e.get("itemGap"),a.width,a.height),zC(t,r,o,i)},VC=function(t,e){var n=Vp.normalizeCssArray(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),new _p.Rect({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1})},FC=Hx.createSymbol,HC=VC,WC=nl.curry,GC=nl.each,qC=_p.Group,UC=D_.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new qC),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,n){if(this.resetInner(),t.get("show",!0)){var r=t.get("align");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(r,t,e,n);var i=t.getBoxLayoutParams(),o={width:n.getWidth(),height:n.getHeight()},a=t.get("padding"),s=Xp.getLayoutRect(i,o,a),u=this.layoutInner(t,r,s),l=Xp.getLayoutRect(nl.defaults({width:u.width,height:u.height},i),o,a);this.group.attr("position",[l.x-u.x,l.y-u.y]),this.group.add(this._backgroundEl=HC(u,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(t,e,n,r){var i=this.getContentGroup(),o=nl.createHashMap(),a=e.get("selectedMode"),s=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&s.push(t.id)}),GC(e.getData(),function(u,l){var c=u.get("name");if(this.newlineDisabled||""!==c&&"\n"!==c){var h=n.getSeriesByName(c)[0];if(!o.get(c))if(h){var f=h.getData(),d=f.getVisual("color");"function"==typeof d&&(d=d(h.getDataParams(0)));var p=f.getVisual("legendSymbol")||"roundRect",g=f.getVisual("symbol");this._createItem(c,l,u,e,p,g,t,d,a).on("click",WC(Ga,c,r)).on("mouseover",WC(qa,h,null,r,s)).on("mouseout",WC(Ua,h,null,r,s)),o.set(c,!0)}else n.eachRawSeries(function(n){if(!o.get(c)&&n.legendDataProvider){var i=n.legendDataProvider(),h=i.indexOfName(c);if(h<0)return;var f=i.getItemVisual(h,"color");this._createItem(c,l,u,e,"roundRect",null,t,f,a).on("click",WC(Ga,c,r)).on("mouseover",WC(qa,n,c,r,s)).on("mouseout",WC(Ua,n,c,r,s)),o.set(c,!0)}},this)}else i.add(new qC({newline:!0}))},this)},_createItem:function(t,e,n,r,i,o,a,s,u){var l=r.get("itemWidth"),c=r.get("itemHeight"),h=r.get("inactiveColor"),f=r.get("symbolKeepAspect"),d=r.isSelected(t),p=new qC,g=n.getModel("textStyle"),v=n.get("icon"),m=n.getModel("tooltip"),y=m.parentModel;if(i=v||i,p.add(FC(i,0,0,l,c,d?s:h,null==f||f)),!v&&o&&(o!==i||"none"==o)){var x=.8*c;"none"===o&&(o="circle"),p.add(FC(o,(l-x)/2,(c-x)/2,x,x,d?s:h,null==f||f))}var _="left"===a?l+5:-5,b=a,w=r.get("formatter"),M=t;"string"==typeof w&&w?M=w.replace("{name}",null!=t?t:""):"function"==typeof w&&(M=w(t)),p.add(new _p.Text({style:_p.setTextStyle({},g,{text:M,x:_,y:c/2,textFill:d?g.getTextColor():h,textAlign:b,textVerticalAlign:"middle"})}));var S=new _p.Rect({shape:p.getBoundingRect(),invisible:!0,tooltip:m.get("show")?nl.extend({content:t,formatter:y.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:t,$vars:["name"]}},m.option):null});return p.add(S),p.eachChild(function(t){t.silent=!0}),S.silent=!u,this.getContentGroup().add(p),_p.setHoverStyle(p),p.__legendDataIndex=e,p},layoutInner:function(t,e,n){var r=this.getContentGroup();Xp.box(t.get("orient"),r,t.get("itemGap"),n.width,n.height);var i=r.getBoundingRect();return r.attr("position",[-i.x,-i.y]),this.group.getBoundingRect()}});D_.registerProcessor(function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}),Qp.registerSubTypeDefaulter("legend",function(){return"plain"});var YC=Xp.mergeLayoutParam,XC=Xp.getLayoutParams,ZC=NC.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,n,r){var i=XC(t);ZC.superCall(this,"init",t,e,n,r),Ya(this,t,i)},mergeOption:function(t,e){ZC.superCall(this,"mergeOption",t,e),Ya(this,this.option,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),$C=_p.Group,KC=["width","height"],JC=["x","y"],QC=UC.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){QC.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new $C),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new $C),this._showController},resetInner:function(){QC.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,n,r){function i(t,n){var i=t+"DataIndex",u=_p.createIcon(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:nl.bind(o._pageGo,o,i,e,r)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});u.name=t,a.add(u)}var o=this;QC.superCall(this,"renderInner",t,e,n,r);var a=this._controllerGroup,s=e.get("pageIconSize",!0);nl.isArray(s)||(s=[s,s]),i("pagePrev",0);var u=e.getModel("pageTextStyle");a.add(new _p.Text({name:"pageText",style:{textFill:u.getTextColor(),font:u.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),i("pageNext",1)},layoutInner:function(t,e,n){var r=this.getContentGroup(),i=this._containerGroup,o=this._controllerGroup,a=t.getOrient().index,s=KC[a],u=KC[1-a],l=JC[1-a];Xp.box(t.get("orient"),r,t.get("itemGap"),a?n.width:null,a?null:n.height),Xp.box("horizontal",o,t.get("pageButtonItemGap",!0));var c=r.getBoundingRect(),h=o.getBoundingRect(),f=this._showController=c[s]>n[s],d=[-c.x,-c.y];d[a]=r.position[a];var p=[0,0],g=[-h.x,-h.y],v=nl.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));f&&("end"===t.get("pageButtonPosition",!0)?g[a]+=n[s]-h[s]:p[a]+=h[s]+v),g[1-a]+=c[u]/2-h[u]/2,r.attr("position",d),i.attr("position",p),o.attr("position",g);var m=this.group.getBoundingRect();if((m={x:0,y:0})[s]=f?n[s]:c[s],m[u]=Math.max(c[u],h[u]),m[l]=Math.min(0,h[l]+g[1-a]),i.__rectSize=n[s],f){var y={x:0,y:0};y[s]=Math.max(n[s]-h[s]-v,0),y[u]=m[u],i.setClipPath(new _p.Rect({shape:y})),i.__rectSize=y[s]}else o.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(t);return null!=x.pageIndex&&_p.updateProps(r,{position:x.contentPosition},!!f&&t),this._updatePageInfoView(t,x),m},_pageGo:function(t,e,n){var r=this._getPageInfo(e)[t];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},_updatePageInfoView:function(t,e){var n=this._controllerGroup;nl.each(["pagePrev","pageNext"],function(r){var i=null!=e[r+"DataIndex"],o=n.childOfName(r);o&&(o.setStyle("fill",i?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=i?"pointer":"default")});var r=n.childOfName("pageText"),i=t.get("pageFormatter"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;r&&i&&r.setStyle("text",nl.isString(i)?i.replace("{current}",a).replace("{total}",s):i({current:a,total:s}))},_getPageInfo:function(t){function e(t){var e=t.getBoundingRect().clone();return e[d]+=t.position[c],e}var n,r,i,o,a=t.get("scrollDataIndex",!0),s=this.getContentGroup(),u=s.getBoundingRect(),l=this._containerGroup.__rectSize,c=t.getOrient().index,h=KC[c],f=KC[1-c],d=JC[c],p=s.position.slice();this._showController?s.eachChild(function(t){t.__legendDataIndex===a&&(o=t)}):o=s.childAt(0);var g=l?Math.ceil(u[h]/l):0;if(o){var v=o.getBoundingRect(),m=o.position[c]+v[d];p[c]=-m-u[d],n=Math.floor(g*(m+v[d]+l/2)/u[h]),n=u[h]&&g?Math.max(0,Math.min(g-1,n)):-1;var y={x:0,y:0};y[h]=l,y[f]=u[f],y[d]=-p[c]-u[d];var x,_=s.children();if(s.eachChild(function(t,n){var r=e(t);r.intersect(y)&&(null==x&&(x=n),i=t.__legendDataIndex),n===_.length-1&&r[d]+r[h]<=y[d]+y[h]&&(i=null)}),null!=x){var b=e(_[x]);if(y[d]=b[d]+b[h]-y[h],x<=0&&b[d]>=y[d])r=null;else{for(;x>0&&e(_[x-1]).intersect(y);)x--;r=_[x].__legendDataIndex}}}return{contentPosition:p,pageIndex:n,pageCount:g,pagePrevDataIndex:r,pageNextDataIndex:i}}});D_.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})}),D_.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var tI=nl.each,eI=Vp.toCamelCase,nI=["","-webkit-","-moz-","-o-"];Xa.prototype={constructor:Xa,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function(t){var e=[],n=t.get("transitionDuration"),r=t.get("backgroundColor"),i=t.getModel("textStyle"),o=t.get("padding");return n&&e.push(function(t){var e="left "+n+"s cubic-bezier(0.23, 1, 0.32, 1),top "+n+"s cubic-bezier(0.23, 1, 0.32, 1)";return nl.map(nI,function(t){return t+"transition:"+e}).join(";")}()),r&&(Hu.canvasSupported?e.push("background-Color:"+r):(e.push("background-Color:#"+Ll.toHex(r)),e.push("filter:alpha(opacity=70)"))),tI(["width","color","radius"],function(n){var r="border-"+n,i=eI(r),o=t.get(i);null!=o&&e.push(r+":"+o+("color"===n?"":"px"))}),e.push(function(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();return r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),tI(["decoration","align"],function(n){var r=t.get(n);r&&e.push("text-"+n+":"+r)}),e.join(";")}(i)),null!=o&&e.push("padding:"+Vp.normalizeCssArray(o).join("px ")+"px"),e.join(";")+";"}(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n,r=this._zr;r&&r.painter&&(n=r.painter.getViewportRootOffset())&&(t+=n.offsetLeft,e+=n.offsetTop);var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(nl.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}};var rI=Xa,iI=nl.bind,oI=nl.each,aI=Np.parsePercent,sI=new _p.Rect({shape:{x:-1,y:-1,width:2,height:2}});D_.extendComponentView({type:"tooltip",init:function(t,e){if(!Hu.node){var n=new rI(e.getDom(),e);this._tooltipContent=n}},render:function(t,e,n){if(!Hu.node&&!Hu.wxa){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var r=this._tooltipContent;r.update(),r.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");UO("itemTooltip",this._api,iI(function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){r.manuallyShowTip(t,e,n,{x:r._lastX,y:r._lastY})})}},manuallyShowTip:function(t,e,n,r){if(r.from!==this.uid&&!Hu.node){var i=$a(r,n);this._ticket="";var o=r.dataByCoordSys;if(r.tooltip&&null!=r.x&&null!=r.y){var a=sI;a.position=[r.x,r.y],a.update(),a.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:a},i)}else if(o)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},i);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,r))return;var s=BO(r,e),u=s.point[0],l=s.point[1];null!=u&&null!=l&&this._tryShow({offsetX:u,offsetY:l,position:r.position,target:s.el,event:{}},i)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target,event:{}},i))}},manuallyHideTip:function(t,e,n,r){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,r.from!==this.uid&&this._hide($a(r,n))},_manuallyAxisShowTip:function(t,e,n,r){var i=r.seriesIndex,o=r.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=o&&null!=a){var s=e.getSeriesByIndex(i);if(s&&"axis"===(t=Za([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:o,position:r.position}),!0}},_tryShow:function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;r&&r.length?this._showAxisTooltip(r,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=nl.bind(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,r=this._tooltipModel,i=[e.offsetX,e.offsetY],o=[],a=[],s=Za([e.tooltipOption,r]);oI(t,function(t){oI(t.dataByAxis,function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),r=t.value,i=[];if(e&&null!=r){var s=QO.getValueLabel(r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);nl.each(t.seriesDataIndices,function(o){var u=n.getSeriesByIndex(o.seriesIndex),l=o.dataIndexInside,c=u&&u.getDataParams(l);c.axisDim=t.axisDim,c.axisIndex=t.axisIndex,c.axisType=t.axisType,c.axisId=t.axisId,c.axisValue=Lx.getAxisRawValue(e.axis,r),c.axisValueLabel=s,c&&(a.push(c),i.push(u.formatTooltip(l,!0)))});var u=s;o.push((u?Vp.encodeHTML(u)+"<br />":"")+i.join("<br />"))}})},this),o.reverse(),o=o.join("<br /><br />");var u=e.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,u,i[0],i[1],this._tooltipContent,a):this._showTooltipContent(s,o,a,Math.random(),i[0],i[1],u)})},_showSeriesItemTooltip:function(t,e,n){var r=this._ecModel,i=e.seriesIndex,o=r.getSeriesByIndex(i),a=e.dataModel||o,s=e.dataIndex,u=e.dataType,l=a.getData(),c=Za([l.getItemModel(s),a,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),h=c.get("trigger");if(null==h||"item"===h){var f=a.getDataParams(s,u),d=a.formatTooltip(s,!1,u),p="item_"+a.name+"_"+s;this._showOrMove(c,function(){this._showTooltipContent(c,d,f,p,t.offsetX,t.offsetY,t.position,t.target)}),n({type:"showTip",dataIndexInside:s,dataIndex:l.getRawIndex(s),seriesIndex:i,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var r=e.tooltip;if("string"==typeof r){r={content:r,formatter:r}}var i=new kp(r,this._tooltipModel,this._ecModel),o=i.get("content"),a=Math.random();this._showOrMove(i,function(){this._showTooltipContent(i,o,i.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,r,i,o,a,s){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,l=t.get("formatter");a=a||t.get("position");var c=e;if(l&&"string"==typeof l)c=Vp.formatTpl(l,n,!0);else if("function"==typeof l){var h=iI(function(e,r){e===this._ticket&&(u.setContent(r),this._updatePosition(t,a,i,o,u,n,s))},this);this._ticket=r,c=l(n,r,h)}u.setContent(c),u.show(t),this._updatePosition(t,a,i,o,u,n,s)}},_updatePosition:function(t,e,n,r,i,o,a){var s=this._api.getWidth(),u=this._api.getHeight();e=e||t.get("position");var l=i.getSize(),c=t.get("align"),h=t.get("verticalAlign"),f=a&&a.getBoundingRect().clone();if(a&&f.applyTransform(a.transform),"function"==typeof e&&(e=e([n,r],o,i.el,f,{viewSize:[s,u],contentSize:l.slice()})),nl.isArray(e))n=aI(e[0],s),r=aI(e[1],u);else if(nl.isObject(e)){e.width=l[0],e.height=l[1];var d=Xp.getLayoutRect(e,{width:s,height:u});n=d.x,r=d.y,c=null,h=null}else"string"==typeof e&&a?(n=(p=function(t,e,n){var r=n[0],i=n[1],o=0,a=0,s=e.width,u=e.height;switch(t){case"inside":o=e.x+s/2-r/2,a=e.y+u/2-i/2;break;case"top":o=e.x+s/2-r/2,a=e.y-i-5;break;case"bottom":o=e.x+s/2-r/2,a=e.y+u+5;break;case"left":o=e.x-r-5,a=e.y+u/2-i/2;break;case"right":o=e.x+s+5,a=e.y+u/2-i/2}return[o,a]}(e,f,l))[0],r=p[1]):(n=(p=function(t,e,n,r,i,o,a){var s=Ka(n),u=s.width,l=s.height;return null!=o&&(t+u+o>r?t-=u+o:t+=o),null!=a&&(e+l+a>i?e-=l+a:e+=a),[t,e]}(n,r,i.el,s,u,c?null:20,h?null:20))[0],r=p[1]);if(c&&(n-=Ja(c)?l[0]/2:"right"===c?l[0]:0),h&&(r-=Ja(h)?l[1]/2:"bottom"===h?l[1]:0),t.get("confine")){var p=function(t,e,n,r,i){var o=Ka(n),a=o.width,s=o.height;return t=Math.min(t+a,r)-a,e=Math.min(e+s,i)-s,[t=Math.max(t,0),e=Math.max(e,0)]}(n,r,i.el,s,u);n=p[0],r=p[1]}i.moveTo(n,r)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&oI(e,function(e,r){var i=e.dataByAxis||{},o=(t[r]||{}).dataByAxis||[];(n&=i.length===o.length)&&oI(i,function(t,e){var r=o[e]||{},i=t.seriesDataIndices||[],a=r.seriesDataIndices||[];(n&=t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&i.length===a.length)&&oI(i,function(t,e){var r=a[e];n&=t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){Hu.node||Hu.wxa||(this._tooltipContent.hide(),YO("itemTooltip",e))}}),D_.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),D_.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var uI=Np.parsePercent,lI=Hy.isDimensionStacked;es.prototype={constructor:es,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:d_.prototype.dataToCoord,radiusToData:d_.prototype.coordToData},nl.inherits(es,d_);var cI=es;ns.prototype={constructor:ns,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:d_.prototype.dataToCoord,angleToData:d_.prototype.coordToData},nl.inherits(ns,d_);var hI=ns,fI=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new cI,this._angleAxis=new hI,this._radiusAxis.polar=this._angleAxis.polar=this};fI.prototype={type:"polar",axisPointerEnabled:!0,constructor:fI,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);r.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var u=Math.atan2(-n,e)/Math.PI*180,l=u<o?1:-1;u<o||u>a;)u+=360*l;return[s,u]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]}};var dI=fI,pI=Qp.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});nl.merge(pI.prototype,Ex);var gI={splitNumber:5};Ib("angle",pI,rs,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),Ib("radius",pI,rs,gI),D_.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var vI=Np.parsePercent,mI=Lx.createScaleByModel,yI=Lx.niceScaleExtent,xI=Hy.getStackedDimension,_I={dimensions:dI.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,r){var i=new dI(r);i.update=function(t,e){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();nl.each(e.mapDimension("radius",!0),function(t){i.scale.unionExtentFromData(e,xI(e,t))}),nl.each(e.mapDimension("angle",!0),function(t){r.scale.unionExtentFromData(e,xI(e,t))})}}),yI(r.scale,r.model),yI(i.scale,i.model),"category"===r.type&&!r.onBand){var o=r.getExtent(),a=360/r.scale.count();r.inverse?o[1]+=a:o[1]-=a,r.setExtent(o[0],o[1])}};var o=i.getRadiusAxis(),a=i.getAngleAxis(),s=t.findAxisModel("radiusAxis"),u=t.findAxisModel("angleAxis");is(o,s),is(a,u),function(t,e,n){var r=e.get("center"),i=n.getWidth(),o=n.getHeight();t.cx=vI(r[0],i),t.cy=vI(r[1],o);var a=t.getRadiusAxis(),s=Math.min(i,o)/2,u=vI(e.get("radius"),s);a.inverse?a.setExtent(u,0):a.setExtent(0,u)}(i,t,e),n.push(i),t.coordinateSystem=i,i.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}};yv.register("polar",_I);var bI=["axisLine","axisLabel","axisTick","splitLine","splitArea"],wI=(uw.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,i=r.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=nl.map(n.getViewLabels(),function(t){return(t=nl.clone(t)).coord=n.dataToCoord(t.tickValue),t});ss(a),ss(o),nl.each(bI,function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,r,o,i,a)},this)}},_axisLine:function(t,e,n,r){var i=t.getModel("axisLine.lineStyle"),o=new _p.Circle({shape:{cx:e.cx,cy:e.cy,r:r[as(e)]},style:i.getLineStyle(),z2:1,silent:!0});o.style.fill=null,this.group.add(o)},_axisTick:function(t,e,n,r){var i=t.getModel("axisTick"),o=(i.get("inside")?-1:1)*i.get("length"),a=r[as(e)],s=nl.map(n,function(t){return new _p.Line({shape:os(e,[a,a+o],t.coord)})});this.group.add(_p.mergePath(s,{style:nl.defaults(i.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,n,r,i){var o=t.getCategories(!0),a=t.getModel("axisLabel"),s=a.get("margin");nl.each(i,function(n,i){var u=a,l=n.tickValue,c=r[as(e)],h=e.coordToPoint([c+s,n.coord]),f=e.cx,d=e.cy,p=Math.abs(h[0]-f)/c<.3?"center":h[0]>f?"left":"right",g=Math.abs(h[1]-d)/c<.3?"middle":h[1]>d?"top":"bottom";o&&o[l]&&o[l].textStyle&&(u=new kp(o[l].textStyle,a,a.ecModel));var v=new _p.Text({silent:!0});this.group.add(v),_p.setTextStyle(v.style,u,{x:h[0],y:h[1],textFill:u.getTextColor()||t.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:p,textVerticalAlign:g})},this)},_splitLine:function(t,e,n,r){var i=t.getModel("splitLine").getModel("lineStyle"),o=i.get("color"),a=0;o=o instanceof Array?o:[o];for(var s=[],u=0;u<n.length;u++){var l=a++%o.length;s[l]=s[l]||[],s[l].push(new _p.Line({shape:os(e,r,n[u].coord)}))}for(u=0;u<s.length;u++)this.group.add(_p.mergePath(s[u],{style:nl.defaults({stroke:o[u%o.length]},i.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,r){if(n.length){var i=t.getModel("splitArea").getModel("areaStyle"),o=i.get("color"),a=0;o=o instanceof Array?o:[o];for(var s=[],u=Math.PI/180,l=-n[0].coord*u,c=Math.min(r[0],r[1]),h=Math.max(r[0],r[1]),f=t.get("clockwise"),d=1;d<n.length;d++){var p=a++%o.length;s[p]=s[p]||[],s[p].push(new _p.Sector({shape:{cx:e.cx,cy:e.cy,r0:c,r:h,startAngle:l,endAngle:-n[d].coord*u,clockwise:f},silent:!0})),l=-n[d].coord*u}for(d=0;d<s.length;d++)this.group.add(_p.mergePath(s[d],{style:nl.defaults({fill:o[d%o.length]},i.getAreaStyle()),silent:!0}))}}}),["axisLine","axisTickLabel","axisName"]),MI=["splitLine","splitArea"],SI=(uw.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,i=r.getAngleAxis(),o=n.getTicksCoords(),a=i.getExtent()[0],s=n.getExtent(),u=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(r,t,a),l=new nw(t,u);nl.each(wI,l.add,l),this.group.add(l.getGroup()),nl.each(MI,function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,r,a,s,o)},this)}},_splitLine:function(t,e,n,r,i){var o=t.getModel("splitLine").getModel("lineStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var u=[],l=0;l<i.length;l++){var c=s++%a.length;u[c]=u[c]||[],u[c].push(new _p.Circle({shape:{cx:e.cx,cy:e.cy,r:i[l].coord},silent:!0}))}for(l=0;l<u.length;l++)this.group.add(_p.mergePath(u[l],{style:nl.defaults({stroke:a[l%a.length],fill:null},o.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,r,i){if(i.length){var o=t.getModel("splitArea").getModel("areaStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var u=[],l=i[0].coord,c=1;c<i.length;c++){var h=s++%a.length;u[h]=u[h]||[],u[h].push(new _p.Sector({shape:{cx:e.cx,cy:e.cy,r0:l,r:i[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),l=i[c].coord}for(c=0;c<u.length;c++)this.group.add(_p.mergePath(u[c],{style:nl.defaults({fill:a[c%a.length]},o.getAreaStyle()),silent:!0}))}}}),JO.extend({makeElOption:function(t,e,n,r,i){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a,s=o.polar,u=s.getOtherAxis(o).getExtent();a=o["dataTo"+Vp.capitalFirst(o.dim)](e);var l=r.get("type");if(l&&"none"!==l){var c=QO.buildElStyle(r),h=AI[l](o,s,a,u,c);h.style=c,t.graphicKey=h.type,t.pointer=h}var f=function(t,e,n,r,i){var o=e.axis,a=o.dataToCoord(t),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u,l,c,h=r.getRadiusAxis().getExtent();if("radius"===o.dim){var f=dl.create();dl.rotate(f,f,s),dl.translate(f,f,[r.cx,r.cy]),u=_p.applyTransform([a,-i],f);var d=e.getModel("axisLabel").get("rotate")||0,p=nw.innerTextLayout(s,d*Math.PI/180,-1);l=p.textAlign,c=p.textVerticalAlign}else{var g=h[1];u=r.coordToPoint([g+i,a]);var v=r.cx,m=r.cy;l=Math.abs(u[0]-v)/g<.3?"center":u[0]>v?"left":"right",c=Math.abs(u[1]-m)/g<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:l,verticalAlign:c}}(e,n,0,s,r.get("label.margin"));QO.buildLabelElOption(t,n,r,i,f)}})),AI={line:function(t,e,n,r,i){return"angle"===t.dim?{type:"Line",shape:QO.makeLineShape(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r,i){var o=Math.max(1,t.getBandWidth()),a=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:QO.makeSectorShape(e.cx,e.cy,r[0],r[1],(-n-o/2)*a,(o/2-n)*a)}:{type:"Sector",shape:QO.makeSectorShape(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}};uw.registerAxisPointerClass("PolarAxisPointer",SI),D_.registerLayout(nl.curry(function(t,e,n){var r=n.getWidth(),i=n.getHeight(),o={},a=function(t,e){var n={};nl.each(t,function(t,e){var r=t.getData(),i=t.coordinateSystem.getBaseAxis(),o=i.getExtent(),a="category"===i.type?i.getBandWidth():Math.abs(o[1]-o[0])/r.count(),s=n[ts(i)]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=s.stacks;n[ts(i)]=s;var l=Qa(t);u[l]||s.autoWidthCount++,u[l]=u[l]||{width:0,maxWidth:0};var c=uI(t.get("barWidth"),a),h=uI(t.get("barMaxWidth"),a),f=t.get("barGap"),d=t.get("barCategoryGap");c&&!u[l].width&&(c=Math.min(s.remainedWidth,c),u[l].width=c,s.remainedWidth-=c),h&&(u[l].maxWidth=h),null!=f&&(s.gap=f),null!=d&&(s.categoryGap=d)});var r={};return nl.each(n,function(t,e){r[e]={};var n=t.stacks,i=t.bandWidth,o=uI(t.categoryGap,i),a=uI(t.gap,1),s=t.remainedWidth,u=t.autoWidthCount,l=(s-o)/(u+(u-1)*a);l=Math.max(l,0),nl.each(n,function(t,e){var n=t.maxWidth;n&&n<l&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,u--)}),l=(s-o)/(u+(u-1)*a),l=Math.max(l,0);var c,h=0;nl.each(n,function(t,e){t.width||(t.width=l),c=t,h+=t.width*(1+a)}),c&&(h-=c.width*a);var f=-h/2;nl.each(n,function(t,n){r[e][n]=r[e][n]||{offset:f,width:t.width},f+=t.width*(1+a)})}),r}(nl.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,s=n.getBaseAxis(),u=Qa(t),l=a[ts(s)][u],c=l.offset,h=l.width,f=n.getOtherAxis(s),d=t.get("center")||["50%","50%"],p=uI(d[0],r),g=uI(d[1],i),v=t.get("barMinHeight")||0,m=t.get("barMinAngle")||0;o[u]=o[u]||[];for(var y=e.mapDimension(f.dim),x=e.mapDimension(s.dim),_=lI(e,y),b=f.getExtent()[0],w=0,M=e.count();w<M;w++){var S=e.get(y,w),A=e.get(x,w);if(!isNaN(S)){var T,O,C,I,k=S>=0?"p":"n",D=b;if(_&&(o[u][A]||(o[u][A]={p:b,n:b}),D=o[u][A][k]),"radius"===f.dim){var L=f.dataToRadius(S)-b,E=s.dataToAngle(A);Math.abs(L)<v&&(L=(L<0?-1:1)*v),T=D,O=D+L,I=(C=E-c)-h,_&&(o[u][A][k]=O)}else{var P=f.dataToAngle(S,!0)-b,N=s.dataToRadius(A);Math.abs(P)<m&&(P=(P<0?-1:1)*m),O=(T=N+c)+h,C=D,I=D+P,_&&(o[u][A][k]=I)}e.setItemLayout(w,{cx:p,cy:g,r0:T,r:O,startAngle:-C*Math.PI/180,endAngle:-I*Math.PI/180})}}}},this)},"bar")),D_.extendComponentView({type:"polar"});var TI=Qp.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){Qp.prototype.init.apply(this,arguments),Dh.defaultEmphasis(t,"label",["show"])},optionUpdated:function(){var t=this.option,e=this;t.regions=hM.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=nl.reduce(t.regions||[],function(t,n){return n.name&&t.set(n.name,new kp(n,e)),t},nl.createHashMap()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new kp(null,this,this.ecModel)},getFormattedLabel:function(t,e){var n=this.getRegionModel(t).get("label."+e+".formatter"),r={name:t};return"function"==typeof n?(r.status=e,n(r)):"string"==typeof n?n.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});nl.mixin(TI,Cw),D_.extendComponentView({type:"geo",init:function(t,e){var n=new SM(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,r){if(!r||"geoToggleSelect"!==r.type||r.from!==this.uid){var i=this._mapDraw;t.get("show")?i.draw(t,e,n,this,r):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),us("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),us("select",{type:"geoSelect",event:"geoselected"}),us("unSelect",{type:"geoUnSelect",event:"geounselected"});var OI=["rect","polygon","keep","clear"],CI=nl.each,II=function(t,e,n){var r={};return CI(e,function(e){var i=r[e]=function(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}();CI(t[e],function(t,r){if(mS.isValidType(r)){var o={type:r,visual:t};n&&n(o,e),i[r]=new mS(o),"opacity"===r&&((o=nl.clone(o)).type="colorAlpha",i.__hidden.__alphaForOpacity=new mS(o))}})}),r},kI=function(t,e,n){var r;nl.each(n,function(t){e.hasOwnProperty(t)&&ls(e[t])&&(r=!0)}),r&&nl.each(n,function(n){e.hasOwnProperty(n)&&ls(e[n])?t[n]=nl.clone(e[n]):delete t[n]})},DI=function(t,e,n,r,i,o){function a(t,a){s=null==o?t:a;var l=n.getRawDataItem(s);if(!l||!1!==l.visualMap)for(var c=r.call(i,t),h=e[c],f=u[c],d=0,p=f.length;d<p;d++){var g=f[d];h[g]&&h[g].applyVisual(t,function(t){return n.getItemVisual(s,t)},function(t,e){n.setItemVisual(s,t,e)})}}var s,u={};nl.each(t,function(t){var n=mS.prepareVisualTypes(e[t]);u[t]=n}),null==o?n.each(a):n.each([o],a)},LI=function(t,e,n,r){var i={};return nl.each(t,function(t){var n=mS.prepareVisualTypes(e[t]);i[t]=n}),{progress:function(t,o){null!=r&&(r=o.getDimension(r));for(var a;null!=(a=t.next());){var s=o.getRawDataItem(a);if(s&&!1===s.visualMap)return;for(var u=null!=r?o.get(r,a,!0):a,l=n(u),c=e[l],h=i[l],f=0,d=h.length;f<d;f++){var p=h[f];c[p]&&c[p].applyVisual(u,function(t){return o.getItemVisual(a,t)},function(t,e){o.setItemVisual(a,t,e)})}}}}},EI={lineX:cs(0),lineY:cs(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Zx(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var i=t.x,o=t.y,a=t.width,s=t.height,u=r[0];return!!(Zx(r,i,o)||Zx(r,i+a,o)||Zx(r,i,o+s)||Zx(r,i+a,o+s)||tc.create(t).contain(u[0],u[1])||fs(i,o,i+a,o,r)||fs(i,o,i,o+s,r)||fs(i+a,o,i+a,o+s,r)||fs(i,o+s,i+a,o+s,r))||void 0}}},PI=nl.each,NI=nl.indexOf,jI=nl.curry,RI=["dataToPoint","pointToData"],zI=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BI=ps.prototype;BI.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var r=WI[t.brushType](0,n,e);t.__rangeOffset={offset:GI[t.brushType](r.values,t.range,[1,1]),xyMinMax:r.xyMinMax}}})},BI.matchOutputRanges=function(t,e,n){PI(t,function(t){var r=this.findTargetInfo(t,e);r&&!0!==r&&nl.each(r.coordSyses,function(r){var i=WI[t.brushType](1,r,t.range);n(t,i.values,r,e)})},this)},BI.setInputRanges=function(t,e){PI(t,function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var r=WI[t.brushType](0,n.coordSys,t.coordRange),i=t.__rangeOffset;t.range=i?GI[t.brushType](r.values,i.offset,function(t,e){var n=xs(t),r=xs(e),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}(r.xyMinMax,i.xyMinMax)):r.values}},this)},BI.makePanelOpts=function(t,e){return nl.map(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e&&e(n),clipPath:sT(r),isTargetByCursor:lT(r,t,n.coordSysModel),getLinearBrushOtherExtent:uT(r)}})},BI.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return!0===r||r&&NI(r.coordSyses,e.coordinateSystem)>=0},BI.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=vs(e,t),i=0;i<n.length;i++){var o=n[i],a=t.panelId;if(a){if(o.panelId===a)return o}else for(i=0;i<FI.length;i++)if(FI[i](r,o))return o}return!0};var VI={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,i=t.gridModels,o=nl.createHashMap(),a={},s={};(n||r||i)&&(PI(n,function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0}),PI(r,function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0}),PI(i,function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0}),o.each(function(t){var i=t.coordinateSystem,o=[];PI(i.getCartesians(),function(t,e){(NI(n,t.getAxis("x").model)>=0||NI(r,t.getAxis("y").model)>=0)&&o.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:HI.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){PI(t.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:HI.geo})})}},FI=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],HI={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(_p.getTransform(t)),e}},WI={lineX:jI(ms,0),lineY:jI(ms,1),rect:function(t,e,n){var r=e[RI[t]]([n[0][0],n[1][0]]),i=e[RI[t]]([n[0][1],n[1][1]]),o=[gs([r[0],i[0]]),gs([r[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:nl.map(n,function(n){var i=e[RI[t]](n);return r[0][0]=Math.min(r[0][0],i[0]),r[1][0]=Math.min(r[1][0],i[1]),r[0][1]=Math.max(r[0][1],i[0]),r[1][1]=Math.max(r[1][1],i[1]),i}),xyMinMax:r}}},GI={lineX:jI(ys,0),lineY:jI(ys,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return nl.map(t,function(t,r){return[t[0]-n[0]*e[r][0],t[1]-n[1]*e[r][1]]})}},qI=ps,UI=["inBrush","outOfBrush"],YI="__ecBrushSelect",XI="__ecInBrushSelectEvent",ZI=D_.PRIORITY.VISUAL.BRUSH;D_.registerLayout(ZI,function(t,e,n){t.eachComponent({mainType:"brush"},function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(e.brushTargetManager=new qI(e.option,t)).setInputRanges(e.areas,t)})}),D_.registerVisual(ZI,function(t,e,n){var r,i,o=[];t.eachComponent({mainType:"brush"},function(e,n){function a(t){return"all"===c||h[t]}function s(t){return!!t.length}var u={brushId:e.id,brushIndex:n,brushName:e.name,areas:nl.clone(e.areas),selected:[]};o.push(u);var l=e.option,c=l.brushLink,h=[],f=[],d=[],p=0;n||(r=l.throttleType,i=l.throttleDelay);var g=nl.map(e.areas,function(t){return function(t){var e=t.selectors={};return nl.each(EI[t.brushType],function(n,r){e[r]=function(r){return n(r,e,t)}}),t}(nl.defaults({boundingRect:$I[t.brushType](t)},t))}),v=II(e.option,UI,function(t){t.mappingMethod="fixed"});nl.isArray(c)&&nl.each(c,function(t){h[t]=1}),t.eachSeries(function(n,r){var i=d[r]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;p|=n.hasAxisBrushed(),a(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(f[e]=1)})}(n,r):function(n,r,i){var o=bs(n);if(o&&!function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(nl.isArray(n)?nl.indexOf(n,e)<0:e!==n)}(e,r)&&(nl.each(g,function(r){o[r.brushType]&&e.brushTargetManager.controlSeries(r,n,t)&&i.push(r),p|=s(i)}),a(r)&&s(i))){var u=n.getData();u.each(function(t){_s(o,i,u,t)&&(f[t]=1)})}}(n,r,i)}),t.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};u.selected.push(n);var r=bs(t),i=d[e],o=t.getData(),l=a(e)?function(t){return f[t]?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return _s(r,i,o,t)?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"};(a(e)?p:s(i))&&DI(UI,v,o,l)})}),function(t,e,n,r,i){if(i){var o=t.getZr();o[XI]||(o[YI]||(o[YI]=function(t,e){if(!t.isDisposed()){var n=t.getZr();n[XI]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[XI]=!1}}),Nm.createOrUpdate(o,YI,n,e)(t,r))}}(e,r,i,o,n)});var $I={lineX:nl.noop,lineY:nl.noop,rect:function(t){return ws(t.range)},polygon:function(t){for(var e,n=t.range,r=0,i=n.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[r];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&ws(e)}},KI=["#ddd"];D_.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;!e&&kI(n,t,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:KI},r.hasOwnProperty("liftZ")||(r.liftZ=5)},setAreas:function(t){t&&(this.areas=nl.map(t,function(t){return Ms(this.option,t)},this))},setBrushOption:function(t){this.brushOption=Ms(this.option,t),this.brushType=this.brushOption.brushType}}),D_.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new oT(e.getZr())).on("brush",nl.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,Ss.apply(this,arguments)},updateTransform:Ss,updateView:Ss,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:nl.clone(t),$from:n})}}),D_.registerAction({type:"brush",event:"brush"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),D_.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var JI={},QI={register:function(t,e){JI[t]=e},get:function(t){return JI[t]}},tk=Rm.toolbox.brush;As.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:nl.clone(tk.title)};var ek=As.prototype;ek.render=ek.updateView=function(t,e,n){var r,i,o;e.eachComponent({mainType:"brush"},function(t){r=t.brushType,i=t.brushOption.brushMode||"single",o|=t.areas.length}),this._brushType=r,this._brushMode=i,nl.each(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===i:"clear"===e?o:e===r)?"emphasis":"normal")})},ek.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return nl.each(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},ek.onclick=function(t,e,n){var r=this._brushType,i=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===i?"single":"multiple":i}})},QI.register("brush",As),D_.registerPreprocessor(function(t,e){var n=t&&t.brush;if(nl.isArray(n)||(n=n?[n]:[]),n.length){var r=[];nl.each(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e))});var i=t&&t.toolbox;nl.isArray(i)&&(i=i[0]),i||(i={feature:{}},t.toolbox=[i]);var o=i.feature||(i.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,r),function(t){var e={};nl.each(t,function(t){e[t]=1}),t.length=0,nl.each(e,function(e,n){t.push(n)})}(s),e&&!s.length&&s.push.apply(s,OI)}}),Ts.prototype={constructor:Ts,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=Np.parseDate(t)).getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var r=t.getDate();r=r<10?"0"+r:r;var i=t.getDay();return{y:e,m:n,d:r,day:i=Math.abs((i+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+r,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function n(t,e){return null!=t[e]&&"auto"!==t[e]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[r,7]:[7,r];nl.each([0,1],function(t){n(o,t)&&(a[i[t]]=o[t]*s[t])});var u={width:e.getWidth(),height:e.getHeight()},l=this._rect=Xp.getLayoutRect(a,u);nl.each([0,1],function(t){n(o,t)||(o[t]=l[i[t]]/s[t])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(t,e){nl.isArray(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo,i=n.formatedDate;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+864e5))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([r.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},convertToPixel:nl.curry(Os,"dataToPoint"),convertFromPixel:nl.curry(Os,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(nl.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var n=this.getDateInfo(e),r=n.date;r.setMonth(r.getMonth()+1);var i=this.getNextNDay(r,-1);t=[n.formatedDate,i.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,r=new Date(t[0].time),i=r.getDate(),o=t[1].date.getDate();if(r.setDate(i+n-1),r.getDate()!==o)for(var a=r.getTime()-t[1].time>0?1:-1;r.getDate()!==o&&(r.getTime()-t[1].time)*a>0;)n-=a,r.setDate(i+n-1);var s=Math.floor((n+t[0].day+6)/7),u=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:s,nthWeek:u,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return!1;var i=7*(t-1)-r.fweek+e,o=new Date(r.start.time);return o.setDate(r.start.d+i),this.getDateInfo(o)}},Ts.dimensions=Ts.prototype.dimensions,Ts.getDimensionsInfo=Ts.prototype.getDimensionsInfo,Ts.create=function(t,e){var n=[];return t.eachComponent("calendar",function(r){var i=new Ts(r,t,e);n.push(i),r.coordinateSystem=i}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])}),n},yv.register("calendar",Ts);var nk=Xp.getLayoutParams,rk=Xp.sizeCalculable,ik=Xp.mergeLayoutParam,ok=Qp.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,n,r){var i=nk(t);ok.superApply(this,"init",arguments),Cs(t,i)},mergeOption:function(t,e){ok.superApply(this,"mergeOption",arguments),Cs(this.option,t)}}),ak={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},sk={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},uk=(D_.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,n){var r=this.group;r.removeAll();var i=t.coordinateSystem,o=i.getRangeInfo(),a=i.getOrient();this._renderDayRect(t,o,r),this._renderLines(t,o,a,r),this._renderYearText(t,o,a,r),this._renderMonthText(t,a,r),this._renderWeekText(t,o,a,r)},_renderDayRect:function(t,e,n){for(var r=t.coordinateSystem,i=t.getModel("itemStyle").getItemStyle(),o=r.getCellWidth(),a=r.getCellHeight(),s=e.start.time;s<=e.end.time;s=r.getNextNDay(s,1).time){var u=r.dataToRect([s],!1).tl,l=new _p.Rect({shape:{x:u[0],y:u[1],width:o,height:a},cursor:"default",style:i});n.add(l)}},_renderLines:function(t,e,n,r){function i(e){o._firstDayOfMonth.push(a.getDateInfo(e)),o._firstDayPoints.push(a.dataToRect([e],!1).tl);var i=o._getLinePointsOfOneWeek(t,e,n);o._tlpoints.push(i[0]),o._blpoints.push(i[i.length-1]),u&&o._drawSplitline(i,s,r)}var o=this,a=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),u=t.get("splitLine.show"),l=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,h=0;c.time<=e.end.time;h++){i(c.formatedDate),0===h&&(c=a.getDateInfo(e.start.y+"-"+e.start.m));var f=c.date;f.setMonth(f.getMonth()+1),c=a.getDateInfo(f)}i(a.getNextNDay(e.end.time,1).formatedDate),u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,n),s,r),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,n),s,r)},_getEdgesPoints:function(t,e,n){var r=[t[0].slice(),t[t.length-1].slice()],i="horizontal"===n?0:1;return r[0][i]=r[0][i]-e/2,r[1][i]=r[1][i]+e/2,r},_drawSplitline:function(t,e,n){var r=new _p.Polyline({z2:20,shape:{points:t},style:e});n.add(r)},_getLinePointsOfOneWeek:function(t,e,n){var r=t.coordinateSystem;e=r.getDateInfo(e);for(var i=[],o=0;o<7;o++){var a=r.getNextNDay(e.time,o),s=r.dataToRect([a.time],!1);i[2*a.day]=s.tl,i[2*a.day+1]=s["horizontal"===n?"bl":"tr"]}return i},_formatterLabel:function(t,e){return"string"==typeof t&&t?Vp.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,n,r,i){e=e.slice();var o=["center","bottom"];"bottom"===r?(e[1]+=i,o=["center","top"]):"left"===r?e[0]-=i:"right"===r?(e[0]+=i,o=["center","top"]):e[1]-=i;var a=0;return"left"!==r&&"right"!==r||(a=Math.PI/2),{rotation:a,position:e,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(t,e,n,r){var i=t.getModel("yearLabel");if(i.get("show")){var o=i.get("margin"),a=i.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(s[0][0]+s[1][0])/2,l=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,h={top:[u,s[c][1]],bottom:[u,s[1-c][1]],left:[s[1-c][0],l],right:[s[c][0],l]},f=e.start.y;+e.end.y>+e.start.y&&(f=f+"-"+e.end.y);var d=i.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:f},g=this._formatterLabel(d,p),v=new _p.Text({z2:30});_p.setTextStyle(v.style,i,{text:g}),v.attr(this._yearTextPositionControl(v,h[a],n,a,o)),r.add(v)}},_monthTextPositionControl:function(t,e,n,r,i){var o="left",a="top",s=t[0],u=t[1];return"horizontal"===n?(u+=i,e&&(o="center"),"start"===r&&(a="bottom")):(s+=i,e&&(a="middle"),"start"===r&&(o="right")),{x:s,y:u,textAlign:o,textVerticalAlign:a}},_renderMonthText:function(t,e,n){var r=t.getModel("monthLabel");if(r.get("show")){var i=r.get("nameMap"),o=r.get("margin"),a=r.get("position"),s=r.get("align"),u=[this._tlpoints,this._blpoints];nl.isString(i)&&(i=ak[i.toUpperCase()]||[]);var l="start"===a?0:1,c="horizontal"===e?0:1;o="start"===a?-o:o;for(var h="center"===s,f=0;f<u[l].length-1;f++){var d=u[l][f].slice(),p=this._firstDayOfMonth[f];if(h){var g=this._firstDayPoints[f];d[c]=(g[c]+u[0][f+1][c])/2}var v=r.get("formatter"),m=i[+p.m-1],y={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:m},x=this._formatterLabel(v,y),_=new _p.Text({z2:30});nl.extend(_p.setTextStyle(_.style,r,{text:x}),this._monthTextPositionControl(d,h,e,a,o)),n.add(_)}}},_weekTextPositionControl:function(t,e,n,r,i){var o="center",a="middle",s=t[0],u=t[1],l="start"===n;return"horizontal"===e?(s=s+r+(l?1:-1)*i[0]/2,o=l?"right":"left"):(u=u+r+(l?1:-1)*i[1]/2,a=l?"bottom":"top"),{x:s,y:u,textAlign:o,textVerticalAlign:a}},_renderWeekText:function(t,e,n,r){var i=t.getModel("dayLabel");if(i.get("show")){var o=t.coordinateSystem,a=i.get("position"),s=i.get("nameMap"),u=i.get("margin"),l=o.getFirstDayOfWeek();nl.isString(s)&&(s=sk[s.toUpperCase()]||[]);var c=o.getNextNDay(e.end.time,7-e.lweek).time,h=[o.getCellWidth(),o.getCellHeight()];u=Np.parsePercent(u,h["horizontal"===n?0:1]),"start"===a&&(c=o.getNextNDay(e.start.time,-(7+e.fweek)).time,u=-u);for(var f=0;f<7;f++){var d,p=o.getNextNDay(c,f),g=o.dataToRect([p.time],!1).center;d=Math.abs((f+l)%7);var v=new _p.Text({z2:30});nl.extend(_p.setTextStyle(v.style,i,{text:s[d]}),this._weekTextPositionControl(g,n,a,u,h)),r.add(v)}}}}),Xp.getLayoutRect);D_.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),D_.extendComponentView({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,i=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=t.get("textBaseline"),u=new _p.Text({style:_p.setTextStyle({},i,{text:t.get("text"),textFill:i.getTextColor()},{disableBox:!0}),z2:10}),l=u.getBoundingRect(),c=t.get("subtext"),h=new _p.Text({style:_p.setTextStyle({},o,{text:c,textFill:o.getTextColor(),y:l.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),f=t.get("link"),d=t.get("sublink");u.silent=!f,h.silent=!d,f&&u.on("click",function(){window.open(f,"_"+t.get("target"))}),d&&h.on("click",function(){window.open(d,"_"+t.get("subtarget"))}),r.add(u),c&&r.add(h);var p=r.getBoundingRect(),g=t.getBoxLayoutParams();g.width=p.width,g.height=p.height;var v=uk(g,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),r.attr("position",[v.x,v.y]);var m={textAlign:a,textVerticalAlign:s};u.setStyle(m),h.setStyle(m),p=r.getBoundingRect();var y=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var _=new _p.Rect({shape:{x:p.x-y[3],y:p.y-y[0],width:p.width+y[1]+y[3],height:p.height+y[0]+y[2],r:t.get("borderRadius")},style:x,silent:!0});_p.subPixelOptimizeRect(_),r.add(_)}}}),Qp.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var lk=["cartesian2d","polar","singleAxis"],ck={isCoordSupported:function(t){return nl.indexOf(lk,t)>=0},createNameEach:Is,eachAxisDim:Is(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),createLinkedNodesFinder:function(t,e,n){function r(t,r){r.nodes.push(t),e(function(e){nl.each(n(t,e)||[],function(t){r.records[e.name][t]=!0})})}return function(i){var o,a={nodes:[],records:{}};if(e(function(t){a.records[t.name]={}}),!i)return a;r(i,a);do{o=!1,t(function(t){!function(t,e){return nl.indexOf(e.nodes,t)>=0}(t,a)&&function(t,r){var i=!1;return e(function(e){nl.each(n(t,e)||[],function(t){r.records[e.name][t]&&(i=!0)})}),i}(t,a)&&(r(t,a),o=!0)})}while(o);return a}}},hk=nl.each,fk=Np.asc,dk=function(t,e,n,r){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=r,this._dataZoomModel=n};dk.prototype={constructor:dk,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(n){if(ck.isCoordSupported(n.get("coordinateSystem"))){var r=this._dimName,i=e.queryComponents({mainType:r+"Axis",index:n.get(r+"AxisIndex"),id:n.get(r+"AxisId")})[0];this._axisIndex===(i&&i.componentIndex)&&t.push(n)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n,r=this._dimName,i=this.ecModel,o=this.getAxisModel();return"x"===r||"y"===r?(e="gridIndex",t="x"===r?"y":"x"):(e="polarIndex",t="angle"===r?"radius":"angle"),i.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(n=t)}),n},getMinMaxSpan:function(){return nl.clone(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,n=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),i=[0,100],o=[t.start,t.end],a=[];return hk(["startValue","endValue"],function(e){a.push(null!=t[e]?n.parse(t[e]):null)}),hk([0,1],function(t){var s=a[t],u=o[t];"percent"===r[t]?(null==u&&(u=i[t]),s=n.parse(Np.linearMap(u,i,e,!0))):u=Np.linearMap(s,e,i,!0),a[t]=s,o[t]=u}),{valueWindow:fk(a),percentWindow:fk(o)}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var r=[1/0,-1/0];return hk(n,function(t){var n=t.getData();n&&hk(n.mapDimension(e,!0),function(t){var e=n.getApproximateExtent(t);e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])})}),r[1]<r[0]&&(r=[NaN,NaN]),function(t,e){var n=t.getAxisModel(),r=n.getMin(!0),i="category"===n.get("type"),o=i&&n.getCategories().length;null!=r&&"dataMin"!==r&&"function"!=typeof r?e[0]=r:i&&(e[0]=o>0?0:NaN);var a=n.getMax(!0);null!=a&&"dataMax"!==a&&"function"!=typeof a?e[1]=a:i&&(e[1]=o>0?o-1:NaN),n.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,r),r}(this,this._dimName,e);var n=this.calculateDataWindow(t.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,function(t){var e=t._minMaxSpan={},n=t._dataZoomModel;hk(["min","max"],function(r){e[r+"Span"]=n.get(r+"Span");var i=n.get(r+"ValueSpan");if(null!=i&&(e[r+"ValueSpan"]=i,null!=(i=t.getAxisModel().axis.scale.parse(i)))){var o=t._dataExtent;e[r+"Span"]=Np.linearMap(o[0]+i,o,[0,100],!0)}})}(this),ks(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,ks(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;"none"!==i&&hk(r,function(t){var e=t.getData(),r=e.mapDimension(n,!0);"weakFilter"===i?e.filterSelf(function(t){for(var n,i,a,s=0;s<r.length;s++){var u=e.get(r[s],t),l=!isNaN(u),c=u<o[0],h=u>o[1];if(l&&!c&&!h)return!0;l&&(a=!0),c&&(n=!0),h&&(i=!0)}return a&&n&&i}):hk(r,function(n){if("empty"===i)t.setData(e.map(n,function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN}));else{var r={};r[n]=o,e.selectRange(r)}}),hk(r,function(t){e.setApproximateExtent(o,t)})})}}};var pk=dk,gk=nl.each,vk=ck.eachAxisDim,mk=D_.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var r=Ds(t);this.mergeDefaultAndTheme(t,n),this.doInit(r)},mergeOption:function(t){var e=Ds(t);nl.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;Hu.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),Ls(this,t),gk([["start","startValue"],["end","endValue"]],function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,n,r,i){var o=this.dependentModels[e.axis][n],a=o.__dzAxisProxy||(o.__dzAxisProxy=new pk(e.name,n,this,i));t[e.name+"_"+n]=a},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();vk(function(e){var n=e.axisIndex;t[n]=Dh.normalizeToArray(t[n])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;vk(function(n){null!=t[n.axisIndex]&&(e=!0)},this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option,r=this.dependentModels;if(t){var i="vertical"===e?"y":"x";r[i+"Axis"].length?(n[i+"AxisIndex"]=[0],t=!1):gk(r.singleAxis,function(r){t&&r.get("orient",!0)===e&&(n.singleAxisIndex=[r.componentIndex],t=!1)})}t&&vk(function(e){if(t){var r=[],i=this.dependentModels[e.axis];if(i.length&&!r.length)for(var o=0,a=i.length;o<a;o++)"category"===i[o].get("type")&&r.push(o);n[e.axisIndex]=r,r.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&vk(function(e){var r=n[e.axisIndex],i=t.get(e.axisIndex),o=t.get(e.axisId);i=t.ecModel.queryComponents({mainType:e.axis,index:i,id:o})[0].componentIndex,nl.indexOf(r,i)<0&&r.push(i)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return vk(function(r){var i=t.get(r.axisIndex),o=this.dependentModels[r.axis][i];o&&o.get("type")===e||(n=!1)},this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return vk(function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}},this),t},eachTargetAxis:function(t,e){var n=this.ecModel;vk(function(r){gk(this.get(r.axisIndex),function(i){t.call(e,r,i,this,n)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},setRawRange:function(t,e){var n=this.option;gk([["start","startValue"],["end","endValue"]],function(e){null==t[e[0]]&&null==t[e[1]]||(n[e[0]]=t[e[0]],n[e[1]]=t[e[1]])},this),!e&&Ls(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),yk=wm.extend({type:"dataZoom",render:function(t,e,n,r){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){var t=this.dataZoomModel,e=this.ecModel,n={};return t.eachTargetAxis(function(t,r){var i=e.getComponent(t.axis,r);if(i){var o=i.getCoordSysModel();o&&function(t,e,n,r){for(var i,o=0;o<n.length;o++)if(n[o].model===t){i=n[o];break}i||n.push(i={model:t,axisModels:[],coordIndex:r}),i.axisModels.push(e)}(o,i,n[o.mainType]||(n[o.mainType]=[]),o.componentIndex)}},this),n}}),xk=(mk.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),_p.Rect),_k=Np.linearMap,bk=Np.asc,wk=nl.bind,Mk=nl.each,Sk="horizontal",Ak=5,Tk=["line","bar","candlestick","scatter"],Ok=yk.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,r){Ok.superApply(this,"render",arguments),Nm.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){Ok.superApply(this,"remove",arguments),Nm.clear(this,"_dispatchZoomAction")},dispose:function(){Ok.superApply(this,"dispose",arguments),Nm.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new _p.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},i=this._orient===Sk?{right:r.width-n.x-n.width,top:r.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},o=Xp.getLayoutParams(t.option);nl.each(["right","top","width","height"],function(t){"ph"===o[t]&&(o[t]=i[t])});var a=Xp.getLayoutRect(o,r,t.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==Sk||i?n===Sk&&i?{scale:a?[-1,1]:[-1,-1]}:"vertical"!==n||i?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=t.getBoundingRect([o]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new xk({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),n.add(new xk({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:nl.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,r=n.getRawData(),i=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=i){var o=r.getDataExtent(i),a=.3*(o[1]-o[0]);o=[o[0]-a,o[1]+a];var s,u=[0,e[1]],l=[0,e[0]],c=[[e[0],0],[0,0]],h=[],f=l[1]/(r.count()-1),d=0,p=Math.round(r.count()/e[0]);r.each([i],function(t,e){if(p>0&&e%p)d+=f;else{var n=null==t||isNaN(t)||""===t,r=n?0:_k(t,o,u,!0);n&&!s&&e?(c.push([c[c.length-1][0],0]),h.push([h[h.length-1][0],0])):!n&&s&&(c.push([d,0]),h.push([d,0])),c.push([d,r]),h.push([d,r]),d+=f,s=n}});var g=this.dataZoomModel;this._displayables.barGroup.add(new _p.Polygon({shape:{points:c},style:nl.defaults({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new _p.Polyline({shape:{points:h},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis(function(i,o){var a=t.getAxisProxy(i.name,o).getTargetSeriesModels();nl.each(a,function(t){if(!(n||!0!==e&&nl.indexOf(Tk,t.get("type"))<0)){var a,s=r.getComponent(i.axis,o).axis,u={x:"y",y:"x",radius:"angle",angle:"radius"}[i.name],l=t.coordinateSystem;null!=u&&l.getOtherAxis&&(a=l.getOtherAxis(s).inverse),u=t.getData().mapDimension(u),n={thisAxis:s,series:t,thisDim:i.name,otherDim:u,otherAxisInverse:a}}},this)},this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],r=this._displayables.barGroup,i=this._size,o=this.dataZoomModel;r.add(t.filler=new xk({draggable:!0,cursor:Es(this._orient),drift:wk(this._onDragMove,this,"all"),onmousemove:function(t){ih.stop(t.event)},ondragstart:wk(this._showDataInfo,this,!0),ondragend:wk(this._onDragEnd,this),onmouseover:wk(this._showDataInfo,this,!0),onmouseout:wk(this._showDataInfo,this,!1),style:{fill:o.get("fillerColor"),textPosition:"inside"}})),r.add(new xk(_p.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),Mk([0,1],function(t){var i=_p.createIcon(o.get("handleIcon"),{cursor:Es(this._orient),draggable:!0,drift:wk(this._onDragMove,this,t),onmousemove:function(t){ih.stop(t.event)},ondragend:wk(this._onDragEnd,this),onmouseover:wk(this._showDataInfo,this,!0),onmouseout:wk(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),a=i.getBoundingRect();this._handleHeight=Np.parsePercent(o.get("handleSize"),this._size[1]),this._handleWidth=a.width/a.height*this._handleHeight,i.setStyle(o.getModel("handleStyle").getItemStyle());var s=o.get("handleColor");null!=s&&(i.style.fill=s),r.add(e[t]=i);var u=o.textStyleModel;this.group.add(n[t]=new _p.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:u.getTextColor(),textFont:u.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[_k(t[0],[0,100],e,!0),_k(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];EA(e,r,i,n.get("zoomLock")?"all":t,null!=o.minSpan?_k(o.minSpan,a,i,!0):null,null!=o.maxSpan?_k(o.maxSpan,a,i,!0):null);var s=this._range,u=this._range=bk([_k(r[0],i,a,!0),_k(r[1],i,a,!0)]);return!s||s[0]!==u[0]||s[1]!==u[1]},_updateView:function(t){var e=this._displayables,n=this._handleEnds,r=bk(n.slice()),i=this._size;Mk([0,1],function(t){var r=e.handles[t],o=this._handleHeight;r.attr({scale:[o/2,o/2],position:[n[t],i[1]/2-o/2]})},this),e.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=_p.getTransform(r.handles[t].parent,this.group),n=_p.transformDirection(0===t?"right":"left",e),s=this._handleWidth/2+Ak,u=_p.applyTransform([h[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:u[0],y:u[1],textVerticalAlign:o===Sk?"middle":n,textAlign:o===Sk?n:"center",text:a[t]})}var n=this.dataZoomModel,r=this._displayables,i=r.handleLabels,o=this._orient,a=["",""];if(n.get("showDetail")){var s=n.findRepresentativeAxisProxy();if(s){var u=s.getAxisModel().axis,l=this._range,c=t?s.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var h=bk(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(i,20));return nl.isFunction(r)?r(t,o):nl.isString(r)?r.replace("{value}",o):o},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n){this._dragging=!0;var r=this._displayables.barGroup.getLocalTransform(),i=_p.applyTransform([e,n],r,!0),o=this._updateInterval(t,i[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,n=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,o=this._updateInterval("all",n[0]-i);this._updateView(),o&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(Mk(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}}),!t){var e=this.api.getWidth(),n=this.api.getHeight();t={x:.2*e,y:.2*n,width:.6*e,height:.6*n}}return t}}),Ck=(mk.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}}),nl.curry),Ik="\0_ec_dataZoom_roams",kk=function(t,e){var n=Ps(t),r=e.dataZoomId,i=e.coordId;nl.each(n,function(t,n){var o=t.dataZoomInfos;o[r]&&nl.indexOf(e.allCoordIds,i)<0&&(delete o[r],t.count--)}),Ns(n);var o=n[i];o||((o=n[i]={coordId:i,dataZoomInfos:{},count:0}).controller=function(t,e){var n=new yM(t.getZr());return n.on("pan",Ck(function(t,e,n,r,i,o,a){js(t,function(s){return s.panGetRange(t.controller,e,n,r,i,o,a)})},e)),n.on("zoom",Ck(function(t,e,n,r){js(t,function(i){return i.zoomGetRange(t.controller,e,n,r)})},e)),n}(t,o),o.dispatchAction=nl.curry(function(t,e){t.dispatchAction({type:"dataZoom",batch:e})},t)),!o.dataZoomInfos[r]&&o.count++,o.dataZoomInfos[r]=e;var a=function(t){var e,n={},r={type_true:2,type_move:1,type_false:0,type_undefined:-1};return nl.each(t,function(t){var i=!t.disabled&&(!t.zoomLock||"move");r["type_"+i]>r["type_"+e]&&(e=i),nl.extend(n,t.roamControllerOpt)}),{controlType:e,opt:n}}(o.dataZoomInfos);o.controller.enable(a.controlType,a.opt),o.controller.setPointerChecker(e.containsPoint),Nm.createOrUpdate(o,"dispatchAction",e.throttleRate,"fixRate")},Dk=function(t,e){var n=Ps(t);nl.each(n,function(t){t.controller.dispose();var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)}),Ns(n)},Lk=function(t){return t.type+"\0_"+t.id},Ek=nl.bind,Pk=yk.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,n,r){Pk.superApply(this,"render",arguments),this._range=t.getPercentRange(),nl.each(this.getTargetCoordInfo(),function(e,r){var i=nl.map(e,function(t){return Lk(t.model)});nl.each(e,function(e){var o=e.model,a=t.option;kk(n,{coordId:Lk(o),allCoordIds:i,containsPoint:function(t,e,n){return o.coordinateSystem.containPoint([e,n])},dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:Ek(this._onPan,this,e,r),zoomGetRange:Ek(this._onZoom,this,e,r),zoomLock:a.zoomLock,disabled:a.disabled,roamControllerOpt:{zoomOnMouseWheel:a.zoomOnMouseWheel,moveOnMouseMove:a.moveOnMouseMove,preventDefaultMouseMove:a.preventDefaultMouseMove}})},this)},this)},dispose:function(){Dk(this.api,this.dataZoomModel.id),Pk.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,n,r,i,o,a,s,u){var l=this._range,c=l.slice(),h=t.axisModels[0];if(h){var f=Nk[e]([o,a],[s,u],h,n,t),d=f.signal*(c[1]-c[0])*f.pixel/f.pixelLength;return EA(d,c,[0,100],"all"),this._range=c,l[0]!==c[0]||l[1]!==c[1]?c:void 0}},_onZoom:function(t,e,n,r,i,o){var a=this._range,s=a.slice(),u=t.axisModels[0];if(u){var l=Nk[e](null,[i,o],u,n,t),c=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(s[1]-s[0])+s[0];r=Math.max(1/r,0),s[0]=(s[0]-c)*r+c,s[1]=(s[1]-c)*r+c;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return EA(0,s,[0,100],0,h.minSpan,h.maxSpan),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}}),Nk={grid:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),l=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,r,i){var o=n.axis,a=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},jk=nl.createHashMap,Rk=nl.each;D_.registerProcessor({getTargetSeries:function(t){var e=jk();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,r){var i=r.getAxisProxy(t.name,n);Rk(i.getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,r){r.getAxisProxy(t.name,n).reset(r,e)}),t.eachTargetAxis(function(t,n,r){r.getAxisProxy(t.name,n).filterData(r,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),r=e.getDataValueWindow();t.setRawRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]},!0)})}}),D_.registerAction("dataZoom",function(t,e){var n=ck.createLinkedNodesFinder(nl.bind(e.eachComponent,e,"dataZoom"),ck.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),r=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){r.push.apply(r,n(t).nodes)}),nl.each(r,function(e,n){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})});var zk=nl.each,Bk=function(t){var e=t&&t.visualMap;nl.isArray(e)||(e=e?[e]:[]),zk(e,function(t){if(t){Rs(t,"splitList")&&!Rs(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&nl.isArray(e)&&zk(e,function(t){nl.isObject(t)&&(Rs(t,"start")&&!Rs(t,"min")&&(t.min=t.start),Rs(t,"end")&&!Rs(t,"max")&&(t.max=t.end))})}})};Qp.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"});var Vk=D_.PRIORITY.VISUAL.COMPONENT;D_.registerVisual(Vk,{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(e){var r=t.pipelineContext;!e.isTargetSeries(t)||r&&r.large||n.push(LI(e.stateList,e.targetVisuals,nl.bind(e.getValueState,e),e.getDataDimension(t.getData())))}),n}}),D_.registerVisual(Vk,{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var i=e.getVisualMeta(nl.bind(function(t,e,n,r){for(var i=e.targetVisuals[r],o=mS.prepareVisualTypes(i),a={color:t.getData().getVisual("color")},s=0,u=o.length;s<u;s++){var l=o[s],c=i["opacity"===l?"__alphaForOpacity":l];c&&c.applyVisual(n,function(t){return a[t]},function(t,e){a[t]=e})}return a.color},null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimension(n),a=n.getDimensionInfo(o);null!=a&&(i.dimension=a.index,r.push(i))}}),t.getData().setVisual("visualMeta",r)}});var Fk={get:function(t,e,n){var r=nl.clone((Hk[t]||{})[e]);return n&&nl.isArray(r)?r[r.length-1]:r}},Hk={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Wk=Fk,Gk=mS.mapVisual,qk=mS.eachVisual,Uk=nl.isArray,Yk=nl.each,Xk=Np.asc,Zk=Np.linearMap,$k=nl.noop,Kk=D_.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;Hu.canvasSupported||(n.realtime=!1),!e&&kI(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=nl.bind(t,this),this.controllerVisuals=II(this.option.controller,e,t),this.targetVisuals=II(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=Dh.normalizeToArray(t),e},eachTargetSeries:function(t,e){nl.each(this.getTargetSeriesIndices(),function(n){t.call(e,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},formatValueText:function(t,e,n){function r(t){return t===u[0]?"min":t===u[1]?"max":(+t).toFixed(Math.min(s,20))}var i,o,a=this.option,s=a.precision,u=this.dataBound,l=a.formatter;return n=n||["<",">"],nl.isArray(t)&&(t=t.slice(),i=!0),o=e?t:i?[r(t[0]),r(t[1])]:r(t),nl.isString(l)?l.replace("{value}",i?o[0]:o).replace("{value2}",i?o[1]:o):nl.isFunction(l)?i?l(t[0],t[1]):l(t):i?t[0]===u[0]?n[0]+" "+o[1]:t[1]===u[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o},resetExtent:function(){var t=this.option,e=Xk([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var r=t.dimensions,i=r.length-1;i>=0;i--){var o=r[i];if(!t.getDimensionInfo(o).isCalculationCoord)return o}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){Uk(n.color)&&!t.inRange&&(t.inRange={color:n.color.slice().reverse()}),t.inRange=t.inRange||{color:e.get("gradientColor")},Yk(this.stateList,function(e){var n=t[e];if(nl.isString(n)){var r=Wk.get(n,"active",a);r?(t[e]={},t[e][n]=r):delete t[e]}},this)}var e=this.ecModel,n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},i=n.target||(n.target={}),o=n.controller||(n.controller={});nl.merge(i,r),nl.merge(o,r);var a=this.isCategory();t.call(this,i),t.call(this,o),function(t,e,n){var r=t[e],i=t[n];r&&!i&&(i=t[n]={},Yk(r,function(t,e){if(mS.isValidType(e)){var n=Wk.get(e,"inactive",a);null!=n&&(i[e]=n,"color"!==e||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,r=this.get("inactiveColor");Yk(this.stateList,function(i){var o=this.itemSize,s=t[i];s||(s=t[i]={color:a?r:[r]}),null==s.symbol&&(s.symbol=e&&nl.clone(e)||(a?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&nl.clone(n)||(a?o[0]:[o[0],o[0]])),s.symbol=Gk(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var u=s.symbolSize;if(null!=u){var l=-1/0;qk(u,function(t){t>l&&(l=t)}),s.symbolSize=Gk(u,function(t){return Zk(t,[0,l],[0,o[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:$k,getValueState:$k,getVisualMeta:$k}),Jk=[20,140],Qk=Kk.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){Qk.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){Qk.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=Jk[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=Jk[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):nl.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){Kk.prototype.completeVisualOption.apply(this,arguments),nl.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Np.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimension(i),function(e,n){t[0]<=e&&e<=t[1]&&r.push(n)},this),e.push({seriesId:n.id,dataIndex:r})},this),e},getVisualMeta:function(t){function e(e,n){i.push({value:e,color:t(e,n)})}for(var n=zs(0,0,this.getExtent()),r=zs(0,0,this.option.range.slice()),i=[],o=0,a=0,s=r.length,u=n.length;a<u&&(!r.length||n[a]<=r[0]);a++)n[a]<r[o]&&e(n[a],"outOfRange");for(l=1;o<s;o++,l=0)l&&i.length&&e(r[o],"outOfRange"),e(r[o],"inRange");for(var l=1;a<u;a++)(!r.length||r[r.length-1]<n[a])&&(l&&(i.length&&e(i[i.length-1].value,"outOfRange"),l=0),e(n[a],"outOfRange"));var c=i.length;return{stops:i,outerColors:[c?i[0].color:"transparent",c?i[c-1].color:"transparent"]}}}),tD=D_.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,n,r){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,n=Vp.normalizeCssArray(e.get("padding")||0),r=t.getBoundingRect();t.add(new _p.Rect({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,n){var r=(n=n||{}).forceState,i=this.visualMapModel,o={};if("symbol"===e&&(o.symbol=i.get("itemSymbol")),"color"===e){var a=i.get("contentColor");o.color=a}var s=i.controllerVisuals[r||i.getValueState(t)],u=mS.prepareVisualTypes(s);return nl.each(u,function(r){var i=s[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",i=s.__alphaForOpacity),mS.dependsOn(r,e)&&i&&i.applyVisual(t,function(t){return o[t]},function(t,e){o[t]=e})}),o[e]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;Xp.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:nl.noop}),eD=Xp.getLayoutRect,nD={getItemAlign:function(t,e,n){var r=t.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===r.orient?1:0,s=[["left","right","width"],["top","bottom","height"]],u=s[a],l=[0,null,10],c={},h=0;h<3;h++)c[s[1-a][h]]=l[h],c[u[h]]=2===h?n[0]:r[u[h]];var f=[["x","width",3],["y","height",0]][a],d=eD(c,o,r.padding);return u[(d.margin[f[2]]||0)+d[f[0]]+.5*d[f[1]]<.5*o[f[1]]?0:1]},convertDataIndex:function(t){return nl.each(t||[],function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}},rD=Np.linearMap,iD=nl.each,oD=Math.min,aD=Math.max,sD=tD.extend({type:"visualMap.continuous",init:function(){sD.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,r){r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){if(e){var r=e[1-n];r=null!=r?r+"":"";var i=this.visualMapModel,o=i.get("textGap"),a=i.itemSize,s=this._shapes.barGroup,u=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),l=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new _p.Text({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===c?"middle":l,textAlign:"horizontal"===c?l:"center",text:r,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,i=this._orient,o=this._useHandle,a=nD.getItemAlign(e,this.api,r),s=n.barGroup=this._createBarGroup(a);s.add(n.outOfRange=Bs()),s.add(n.inRange=Bs(null,o?Fs(this._orient):null,nl.bind(this._dragHandle,this,"all",!1),nl.bind(this._dragHandle,this,"all",!0)));var u=e.textStyleModel.getTextRect("国"),l=aD(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,r,l,i,a),this._createHandle(s,1,r,l,i,a)),this._createIndicator(s,r,l,i),t.add(s)},_createHandle:function(t,e,n,r,i){var o=nl.bind(this._dragHandle,this,e,!1),a=nl.bind(this._dragHandle,this,e,!0),s=Bs(function(t,e){return 0===t?[[0,0],[r,0],[r,-r]]:[[0,0],[r,0],[r,r]]}(e),Fs(this._orient),o,a);s.position[0]=n[0],t.add(s);var u=this.visualMapModel.textStyleModel,l=new _p.Text({draggable:!0,drift:o,onmousemove:function(t){ih.stop(t.event)},ondragend:a,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(l);var c=["horizontal"===i?r/2:1.5*r,"horizontal"===i?0===e?-1.5*r:1.5*r:0===e?-r/2:r/2],h=this._shapes;h.handleThumbs[e]=s,h.handleLabelPoints[e]=c,h.handleLabels[e]=l},_createIndicator:function(t,e,n,r){var i=Bs([[0,0]],"move");i.position[0]=e[0],i.attr({invisible:!0,silent:!0}),t.add(i);var o=this.visualMapModel.textStyleModel,a=new _p.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(a);var s=["horizontal"===r?n/2:9,0],u=this._shapes;u.indicator=i,u.indicatorLabel=a,u.indicatorLabelPoint=s},_dragHandle:function(t,e,n,r){if(this._useHandle){if(this._dragging=!e,!e){var i=this._applyTransform([n,r],this._shapes.barGroup,!0);this._updateInterval(t,i[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():Vs(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),r=[0,t.itemSize[1]];this._handleEnds=[rD(e[0],n,r,!0),rD(e[1],n,r,!0)]},_updateInterval:function(t,e){e=e||0;var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];EA(e,r,i,t,0);var o=n.getExtent();this._dataInterval=[rD(r[0],i,o,!0),rD(r[1],i,o,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),r=this._shapes,i=[0,e.itemSize[1]],o=t?i:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,i,"outOfRange");r.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),r.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,a)},_createBarVisual:function(t,e,n,r){var i={forceState:r,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,i),a=[this.getControllerVisual(t[0],"symbolSize",i),this.getControllerVisual(t[1],"symbolSize",i)],s=this._createBarPoints(n,a);return{barColor:new Yd(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(t,e){var n=[],r=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<100;i++){var o=t[0]+r*i;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:i/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new _p.Group("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,o=n.handleLabels;iD([0,1],function(a){var s=i[a];s.setStyle("fill",e.handlesColor[a]),s.position[1]=t[a];var u=_p.applyTransform(n.handleLabelPoints[a],_p.getTransform(s,this.group));o[a].setStyle({x:u[0],y:u[1],text:r.formatValueText(this._dataInterval[a]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(t,e,n,r){var i=this.visualMapModel,o=i.getExtent(),a=i.itemSize,s=[0,a[1]],u=rD(t,o,s,!0),l=this._shapes,c=l.indicator;if(c){c.position[1]=u,c.attr("invisible",!1),c.setShape("points",function(t,e,n,r){return t?[[0,-oD(e,aD(n,0))],[6,0],[0,oD(e,aD(r-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,r,u,a[1]));var h=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});c.setStyle("fill",h);var f=_p.applyTransform(l.indicatorLabelPoint,_p.getTransform(c,this.group)),d=l.indicatorLabel;d.attr("invisible",!1);var p=this._applyTransform("left",l.barGroup),g=this._orient;d.setStyle({text:(n||"")+i.formatValueText(e),textVerticalAlign:"horizontal"===g?p:"middle",textAlign:"horizontal"===g?"center":p,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,r=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);r[1]=oD(aD(0,r[1]),n[1]),t._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],o=n.getExtent();t=oD(aD(i[0],t),i[1]);var a=function(t,e,n){var r=6,i=t.get("hoverLinkDataSize");return i&&(r=rD(i,e,n,!0)/2),r}(n,o,i),s=[t-a,t+a],u=rD(t,i,o,!0),l=[rD(s[0],i,o,!0),rD(s[1],i,o,!0)];s[0]<i[0]&&(l[0]=-1/0),s[1]>i[1]&&(l[1]=1/0),e&&(l[0]===-1/0?this._showIndicator(u,l[1],"< ",a):l[1]===1/0?this._showIndicator(u,l[0],"> ",a):this._showIndicator(u,u,"≈ ",a));var c=this._hoverLinkDataIndices,h=[];(e||Vs(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(l));var f=Dh.compressBatches(c,h);this._dispatchHighDown("downplay",nD.convertDataIndex(f[0])),this._dispatchHighDown("highlight",nD.convertDataIndex(f[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=e.dataIndex){var r=this.ecModel.getSeriesByIndex(e.seriesIndex);if(n.isTargetSeries(r)){var i=r.getData(e.dataType),o=i.get(n.getDataDimension(i),e.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",nD.convertDataIndex(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,n,r){var i=_p.getTransform(e,r?null:this.group);return _p[nl.isArray(t)?"applyTransform":"transformDirection"](t,i,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});D_.registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})}),D_.registerPreprocessor(Bk);var uD=Np.reformIntervals,lD=Kk.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){lD.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();cD[this._mode].call(this),this._resetSelected(t,e);var r=this.option.categories;this.resetVisual(function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=nl.clone(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=nl.map(this._pieceList,function(t){return t=nl.clone(t),"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,n){return t&&t[e]&&(nl.isObject(t[e])?t[e].hasOwnProperty(n):t[e]===n)}var e=this.option,n={},r=mS.listVisualTypes(),i=this.isCategory();nl.each(e.pieces,function(t){nl.each(r,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),nl.each(n,function(n,r){var o=0;nl.each(this.stateList,function(n){o|=t(e,n,r)||t(e.target,n,r)},this),!o&&nl.each(this.stateList,function(t){(e[t]||(e[t]={}))[r]=Wk.get(r,"inRange"===t?"active":"inactive",i)})},this),Kk.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var n=this.option,r=this._pieceList,i=(e?n:t).selected||{};if(n.selected=i,nl.each(r,function(t,e){var n=this.getSelectedMapKey(t);i.hasOwnProperty(n)||(i[n]=!0)},this),"single"===n.selectedMode){var o=!1;nl.each(r,function(t,e){var n=this.getSelectedMapKey(t);i[n]&&(o?i[n]=!1:o=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=nl.clone(t)},getValueState:function(t){var e=mS.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimension(i),function(e,n){mS.findPieceIndex(e,this._pieceList)===t&&r.push(n)},this),e.push({seriesId:n.id,dataIndex:r})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},getVisualMeta:function(t){function e(e,o){var a=i.getRepresentValue({interval:e});o||(o=i.getValueState(a));var s=t(a,o);e[0]===-1/0?r[0]=s:e[1]===1/0?r[1]=s:n.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var n=[],r=[],i=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return nl.each(o,function(t){var n=t.interval;n&&(n[0]>s&&e([s,n[0]],"outOfRange"),e(n.slice()),s=n[1])},this),{stops:n,outerColors:r}}}}),cD={splitNumber:function(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var o=(r[1]-r[0])/i;+o.toFixed(n)!==o&&n<5;)n++;t.precision=n,o=+o.toFixed(n);var a=0;t.minOpen&&e.push({index:a++,interval:[-1/0,r[0]],close:[0,0]});for(var s=r[0],u=a+i;a<u;s+=o){var l=a===i-1?r[1]:s+o;e.push({index:a++,interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({index:a++,interval:[r[1],1/0],close:[0,0]}),uD(e),nl.each(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;nl.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),Hs(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;nl.each(t.pieces,function(t,n){nl.isObject(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var i=r.value=t.value;r.interval=[i,i],r.close=[1,1]}else{for(var o=r.interval=[],a=r.close=[0,0],s=[1,0,1],u=[-1/0,1/0],l=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],f=0;f<3&&null==o[c];f++)o[c]=t[h[f]],a[c]=s[f],l[c]=2===f;null==o[c]&&(o[c]=u[c])}l[0]&&o[1]===1/0&&(a[0]=0),l[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(r.value=o[0])}r.visual=mS.retrieveVisuals(t),e.push(r)},this),Hs(t,e),uD(e),nl.each(e,function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}},hD=Hx.createSymbol;tD.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,i=r.getFont(),o=r.getTextColor(),a=this._getItemAlign(),s=e.itemSize,u=this._getViewData(),l=u.endsText,c=nl.retrieve(e.get("showLabel",!0),!l);l&&this._renderEndsText(t,l[0],s,c,a),nl.each(u.viewPieceList,function(r){var u=r.piece,l=new _p.Group;l.onclick=nl.bind(this._onItemClick,this,u),this._enableHoverLink(l,r.indexInModelPieceList);var h=e.getRepresentValue(u);if(this._createItemSymbol(l,h,[0,0,s[0],s[1]]),c){var f=this.visualMapModel.getValueState(h);l.add(new _p.Text({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:u.text,textVerticalAlign:"middle",textAlign:a,textFont:i,textFill:o,opacity:"outOfRange"===f?.5:1}}))}t.add(l)},this),l&&this._renderEndsText(t,l[1],s,c,a),Xp.box(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function n(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:t,batch:nD.convertDataIndex(n.findTargetDataIndices(e))})}t.on("mouseover",nl.bind(n,this,"highlight")).on("mouseout",nl.bind(n,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return nD.getItemAlign(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(t,e,n,r,i){if(e){var o=new _p.Group,a=this.visualMapModel.textStyleModel;o.add(new _p.Text({style:{x:r?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:r?i:"center",text:e,textFont:a.getFont(),textFill:a.getTextColor()}})),t.add(o)}},_getViewData:function(){var t=this.visualMapModel,e=nl.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),r=t.get("orient"),i=t.get("inverse");return("horizontal"===r?i:!i)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(hD(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,r=nl.clone(n.selected),i=e.getSelectedMapKey(t);"single"===n.selectedMode?(r[i]=!0,nl.each(r,function(t,e){r[e]=e===i})):r[i]=!r[i],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}}),D_.registerPreprocessor(Bk);var fD=Vp.addCommas,dD=Vp.encodeHTML,pD=D_.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,n,r){this.mergeDefaultAndTheme(t,n),this.mergeOption(t,n,r.createdBySelf,!0)},isAnimationEnabled:function(){if(Hu.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e,n,r){var i=this.constructor,o=this.mainType+"Model";n||e.eachSeries(function(t){var n=t.get(this.mainType,!0),a=t[o];n&&n.data?(a?a.mergeOption(n,e,!0):(r&&Ws(n),nl.each(n.data,function(t){t instanceof Array?(Ws(t[0]),Ws(t[1])):Ws(t)}),a=new i(n,this,e),nl.extend(a,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),a.__hostSeries=t),t[o]=a):t[o]=null},this)},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),r=nl.isArray(n)?nl.map(n,fD).join(", "):fD(n),i=e.getName(t),o=dD(this.name);return(null!=n||i)&&(o+="<br />"),i&&(o+=dD(i),null!=n&&(o+=" : ")),null!=n&&(o+=dD(r)),o},getData:function(){return this._data},setData:function(t){this._data=t}});nl.mixin(pD,nm);var gD=pD,vD=(gD.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}}),Hy.isDimensionStacked),mD=nl.indexOf,yD=nl.curry,xD={min:yD(Gs,"min"),max:yD(Gs,"max"),average:yD(Gs,"average")},_D={dataTransform:function(t,e){var n=t.getData(),r=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!nl.isArray(e.coord)&&r){var i=r.dimensions,o=qs(e,n,r,t);if((e=nl.clone(e)).type&&xD[e.type]&&o.baseAxis&&o.valueAxis){var a=mD(i,o.baseAxis.dim),s=mD(i,o.valueAxis.dim);e.coord=xD[e.type](n,o.baseDataDim,o.valueDataDim,a,s),e.value=e.coord[s]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],l=0;l<2;l++)xD[u[l]]&&(u[l]=Us(n,n.mapDimension(i[l]),u[l]));e.coord=u}}return e},getAxisInfo:qs,dataFilter:function(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)},dimValueGetter:function(t,e,n,r){return r<2?t.coord&&t.coord[r]:t.value},numCalculate:Us},bD=D_.extendComponentView({type:"marker",init:function(){this.markerGroupMap=nl.createHashMap()},render:function(t,e,n){var r=this.markerGroupMap;r.each(function(t){t.__keep=!1});var i=this.type+"Model";e.eachSeries(function(t){var r=t[i];r&&this.renderSeries(t,r,e,n)},this),r.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});bD.extend({type:"markPoint",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(Ys(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,new U_),l=function(t,e,n){var r;r=t?nl.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return nl.defaults({name:t},n)}):[{name:"value",type:"float"}];var i=new Oy(r,n),o=nl.map(n.get("data"),nl.curry(_D.dataTransform,e));return t&&(o=nl.filter(o,nl.curry(_D.dataFilter,t))),i.initData(o,null,t?_D.dimValueGetter:function(t){return t.value}),i}(i,t,e);e.setData(l),Ys(e.getData(),t,r),l.each(function(t){var n=l.getItemModel(t),r=n.getShallow("symbolSize");"function"==typeof r&&(r=r(e.getRawValue(t),e.getDataParams(t))),l.setItemVisual(t,{symbolSize:r,color:n.get("itemStyle.color")||a.getVisual("color"),symbol:n.getShallow("symbol")})}),u.updateData(l),this.group.add(u.group),l.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),u.__keep=!0,u.group.silent=e.get("silent")||t.get("silent")}}),D_.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),gD.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var wD=function(t,e,n,r){var i=t.getData(),o=r.type;if(!nl.isArray(r)&&("min"===o||"max"===o||"average"===o||"median"===o||null!=r.xAxis||null!=r.yAxis)){var a,s;if(null!=r.yAxis||null!=r.xAxis)a=null!=r.yAxis?"y":"x",e.getAxis(a),s=nl.retrieve(r.yAxis,r.xAxis);else{var u=_D.getAxisInfo(r,i,e,t);a=u.valueDataDim,u.valueAxis,s=_D.numCalculate(i,a,o)}var l="x"===a?0:1,c=1-l,h=nl.clone(r),f={};h.type=null,h.coord=[],f.coord=[],h.coord[c]=-1/0,f.coord[c]=1/0;var d=n.get("precision");d>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(d,20))),h.coord[l]=f.coord[l]=s,r=[h,f,{type:o,valueIndex:r.valueIndex,value:s}]}return(r=[_D.dataTransform(t,r[0]),_D.dataTransform(t,r[1]),nl.extend({},r[2])])[2].type=r[2].type||"",nl.merge(r[2],r[0]),nl.merge(r[2],r[1]),r};bD.extend({type:"markLine",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markLineModel;if(e){var r=e.getData(),i=e.__from,o=e.__to;i.each(function(e){$s(i,e,!0,t,n),$s(o,e,!1,t,n)}),r.each(function(t){r.setItemLayout(t,[i.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,n,r){function i(e,n,i){var o=e.getItemModel(n);$s(e,n,i,t,r),e.setItemVisual(n,{symbolSize:o.get("symbolSize")||g[i?0:1],symbol:o.get("symbol",!0)||p[i?0:1],color:o.get("itemStyle.color")||s.getVisual("color")})}var o=t.coordinateSystem,a=t.id,s=t.getData(),u=this.markerGroupMap,l=u.get(a)||u.set(a,new ZS);this.group.add(l.group);var c=function(t,e,n){var r;r=t?nl.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return nl.defaults({name:t},n)}):[{name:"value",type:"float"}];var i=new Oy(r,n),o=new Oy(r,n),a=new Oy([],n),s=nl.map(n.get("data"),nl.curry(wD,e,t,n));t&&(s=nl.filter(s,nl.curry(function(t,e){if("cartesian2d"===t.type){var n=e[0].coord,r=e[1].coord;if(n&&r&&(Zs(1,n,r,t)||Zs(0,n,r,t)))return!0}return _D.dataFilter(t,e[0])&&_D.dataFilter(t,e[1])},t)));var u=t?_D.dimValueGetter:function(t){return t.value};return i.initData(nl.map(s,function(t){return t[0]}),null,u),o.initData(nl.map(s,function(t){return t[1]}),null,u),a.initData(nl.map(s,function(t){return t[2]})),a.hasItemOption=!0,{from:i,to:o,line:a}}(o,t,e),h=c.from,f=c.to,d=c.line;e.__from=h,e.__to=f,e.setData(d);var p=e.get("symbol"),g=e.get("symbolSize");nl.isArray(p)||(p=[p,p]),"number"==typeof g&&(g=[g,g]),c.from.each(function(t){i(h,t,!0),i(f,t,!1)}),d.each(function(t){var e=d.getItemModel(t).get("lineStyle.color");d.setItemVisual(t,{color:e||h.getItemVisual(t,"color")}),d.setItemLayout(t,[h.getItemLayout(t),f.getItemLayout(t)]),d.setItemVisual(t,{fromSymbolSize:h.getItemVisual(t,"symbolSize"),fromSymbol:h.getItemVisual(t,"symbol"),toSymbolSize:f.getItemVisual(t,"symbolSize"),toSymbol:f.getItemVisual(t,"symbol")})}),l.updateData(d),c.line.eachItemGraphicEl(function(t,n){t.traverse(function(t){t.dataModel=e})}),l.__keep=!0,l.group.silent=e.get("silent")||t.get("silent")}}),D_.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),gD.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var MD=function(t,e,n,r){var i=_D.dataTransform(t,r[0]),o=_D.dataTransform(t,r[1]),a=nl.retrieve,s=i.coord,u=o.coord;s[0]=a(s[0],-1/0),s[1]=a(s[1],-1/0),u[0]=a(u[0],1/0),u[1]=a(u[1],1/0);var l=nl.mergeAll([{},i,o]);return l.coord=[i.coord,o.coord],l.x0=i.x,l.y0=i.y,l.x1=o.x,l.y1=o.y,l},SD=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];bD.extend({type:"markArea",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var r=e.getData();r.each(function(e){var i=nl.map(SD,function(i){return Qs(r,e,i,t,n)});r.setItemLayout(e,i),r.getItemGraphicEl(e).setShape("points",i)})}},this)},renderSeries:function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,{group:new _p.Group});this.group.add(u.group),u.__keep=!0;var l=function(t,e,n){var r,i;t?(r=nl.map(t&&t.dimensions,function(t){var n=e.getData(),r=n.getDimensionInfo(n.mapDimension(t))||{};return nl.defaults({name:t},r)}),i=new Oy(nl.map(["x0","y0","x1","y1"],function(t,e){return{name:t,type:r[e%2].type}}),n)):i=new Oy(r=[{name:"value",type:"float"}],n);var o=nl.map(n.get("data"),nl.curry(MD,e,t,n));t&&(o=nl.filter(o,nl.curry(function(t,e){var n=e.coord[0],r=e.coord[1];return!("cartesian2d"!==t.type||!n||!r||!Js(1,n,r)&&!Js(0,n,r))||_D.dataFilter(t,{coord:n,x:e.x0,y:e.y0})||_D.dataFilter(t,{coord:r,x:e.x1,y:e.y1})},t)));var a=t?function(t,e,n,r){return t.coord[Math.floor(r/2)][r%2]}:function(t){return t.value};return i.initData(o,null,a),i.hasItemOption=!0,i}(i,t,e);e.setData(l),l.each(function(e){l.setItemLayout(e,nl.map(SD,function(n){return Qs(l,e,n,t,r)})),l.setItemVisual(e,{color:a.getVisual("color")})}),l.diff(u.__data).add(function(t){var e=new _p.Polygon({shape:{points:l.getItemLayout(t)}});l.setItemGraphicEl(t,e),u.group.add(e)}).update(function(t,n){var r=u.__data.getItemGraphicEl(n);_p.updateProps(r,{shape:{points:l.getItemLayout(t)}},e,t),u.group.add(r),l.setItemGraphicEl(t,r)}).remove(function(t){var e=u.__data.getItemGraphicEl(t);u.group.remove(e)}).execute(),l.eachItemGraphicEl(function(t,n){var r=l.getItemModel(n),i=r.getModel("label"),o=r.getModel("emphasis.label"),a=l.getItemVisual(n,"color");t.useStyle(nl.defaults(r.getModel("itemStyle").getItemStyle(),{fill:Ll.modifyAlpha(a,.4),stroke:a})),t.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle(),_p.setLabelStyle(t.style,t.hoverStyle,i,o,{labelFetcher:e,labelDataIndex:n,defaultText:l.getName(n)||"",isRectText:!0,autoColor:a}),_p.setHoverStyle(t,{}),t.dataModel=e}),u.__data=l,u.group.silent=e.get("silent")||t.get("silent")}}),D_.registerPreprocessor(function(t){t.markArea=t.markArea||{}});Qp.registerSubTypeDefaulter("timeline",function(){return"slider"}),D_.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),nl.defaults({currentIndex:n.option.currentIndex},t)}),D_.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)});var AD=Qp.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(t){AD.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,r=this._names=[];if("category"===n){var i=[];nl.each(e,function(t,e){var n,o=Dh.getDataItemValue(t);nl.isObject(t)?(n=nl.clone(t)).value=e:n=e,i.push(n),nl.isString(o)||null!=o&&!isNaN(o)||(o=""),r.push(o+"")}),e=i}var o={category:"ordinal",time:"time"}[n]||"number";(this._data=new Oy([{name:"value",type:o}],this)).initData(e,r)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),TD=AD.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});nl.mixin(TD,nm);var OD=wm.extend({type:"timeline"}),CD=function(t,e,n,r){d_.call(this,t,e,n),this.type=r||"value",this.model=null};CD.prototype={constructor:CD,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},nl.inherits(CD,d_);var ID=CD,kD=Hx.createSymbol,DD=Vp.encodeHTML,LD=nl.bind,ED=nl.each,PD=Math.PI;OD.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,n,r){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),o=this._createGroup("mainGroup"),a=this._createGroup("labelGroup"),s=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return DD(s.scale.getLabel(t))},ED(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](i,o,s,t)},this),this._renderAxisLabel(i,a,s,t),this._position(i,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.position"),r=t.get("orient"),i=function(t,e){return Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==n||"auto"===n?n="horizontal"===r?i.y+i.height/2<e.getHeight()/2?"-":"+":i.x+i.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][n]);var o={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},a={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},s={horizontal:0,vertical:PD/2},u="vertical"===r?i.height:i.width,l=t.getModel("controlStyle"),c=l.get("show",!0),h=c?l.get("itemSize"):0,f=c?l.get("itemGap"):0,d=h+f,p=t.get("label.rotate")||0;p=p*PD/180;var g,v,m,y,x=l.get("position",!0),_=c&&l.get("showPlayBtn",!0),b=c&&l.get("showPrevBtn",!0),w=c&&l.get("showNextBtn",!0),M=0,S=u;return"left"===x||"bottom"===x?(_&&(g=[0,0],M+=d),b&&(v=[M,0],M+=d),w&&(m=[S-h,0],S-=d)):(_&&(g=[S-h,0],S-=d),b&&(v=[0,0],M+=d),w&&(m=[S-h,0],S-=d)),y=[M,S],t.get("inverse")&&y.reverse(),{viewRect:i,mainLength:u,orient:r,rotation:s[r],labelRotation:p,labelPosOpt:n,labelAlign:t.get("label.align")||o[r],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||a[r],playPosition:g,prevBtnPosition:v,nextBtnPosition:m,axisExtent:y,controlSize:h,controlGap:f}},_position:function(t,e){function n(t){var e=t.position;t.origin=[h[0][0]-e[0],h[1][0]-e[1]]}function r(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function i(t,e,n,r,i){t[r]+=n[r][i]-e[r][i]}var o=this._mainGroup,a=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var u=dl.create(),l=s.x,c=s.y+s.height;dl.translate(u,u,[-l,-c]),dl.rotate(u,u,-PD/2),dl.translate(u,u,[l,c]),(s=s.clone()).applyTransform(u)}var h=r(s),f=r(o.getBoundingRect()),d=r(a.getBoundingRect()),p=o.position,g=a.position;g[0]=p[0]=h[0][0];var v=t.labelPosOpt;if(isNaN(v))i(p,f,h,1,m="+"===v?0:1),i(g,d,h,1,1-m);else{var m=v>=0?0:1;i(p,f,h,1,m),g[1]=p[1]+v}o.attr("position",p),a.attr("position",g),o.rotation=a.rotation=t.rotation,n(o),n(a)},_createAxis:function(t,e){var n=e.getData(),r=e.get("axisType"),i=Lx.createScaleByModel(e,r);i.getTicks=function(){return n.mapArray(["value"],function(t){return t})};var o=n.getDataExtent("value");i.setExtent(o[0],o[1]),i.niceTicks();var a=new ID("value",i,t.axisExtent,r);return a.model=e,a},_createGroup:function(t){var e=this["_"+t]=new _p.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,n,r){var i=n.getExtent();r.get("lineStyle.show")&&e.add(new _p.Line({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:nl.extend({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,r){var i=r.getData(),o=n.scale.getTicks();ED(o,function(t){var o=n.dataToCoord(t),a=i.getItemModel(t),s=a.getModel("itemStyle"),u=a.getModel("emphasis.itemStyle"),l={position:[o,0],onclick:LD(this._changeTimeline,this,t)},c=nu(a,s,e,l);_p.setHoverStyle(c,u.getItemStyle()),a.get("tooltip")?(c.dataIndex=t,c.dataModel=r):c.dataIndex=c.dataModel=null},this)},_renderAxisLabel:function(t,e,n,r){if(n.getLabelModel().get("show")){var i=r.getData(),o=n.getViewLabels();ED(o,function(r){var o=r.tickValue,a=i.getItemModel(o),s=a.getModel("label"),u=a.getModel("emphasis.label"),l=n.dataToCoord(r.tickValue),c=new _p.Text({position:[l,0],rotation:t.labelRotation-t.rotation,onclick:LD(this._changeTimeline,this,o),silent:!1});_p.setTextStyle(c.style,s,{text:r.formattedLabel,textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(c),_p.setHoverStyle(c,_p.setTextStyle({},u))},this)}},_renderControl:function(t,e,n,r){function i(t,n,i,c){if(t){var h=function(t,e,n,r){return _p.makePath(t.get(e).replace(/^path:\/\//,""),nl.clone(r||{}),new tc(n[0],n[1],n[2],n[3]),"center")}(r,n,l,{position:t,origin:[o/2,0],rotation:c?-a:0,rectHover:!0,style:s,onclick:i});e.add(h),_p.setHoverStyle(h,u)}}var o=t.controlSize,a=t.rotation,s=r.getModel("controlStyle").getItemStyle(),u=r.getModel("emphasis.controlStyle").getItemStyle(),l=[0,-o/2,o,o],c=r.getPlayState(),h=r.get("inverse",!0);i(t.nextBtnPosition,"controlStyle.nextIcon",LD(this._changeTimeline,this,h?"-":"+")),i(t.prevBtnPosition,"controlStyle.prevIcon",LD(this._changeTimeline,this,h?"+":"-")),i(t.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),LD(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(t,e,n,r){var i=r.getData(),o=r.getCurrentIndex(),a=i.getItemModel(o).getModel("checkpointStyle"),s=this,u={onCreate:function(t){t.draggable=!0,t.drift=LD(s._handlePointerDrag,s),t.ondragend=LD(s._handlePointerDragend,s),ru(t,o,n,r,!0)},onUpdate:function(t){ru(t,o,n,r)}};this._currentPointer=nu(a,a,this._mainGroup,{},this._currentPointer,u)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],r=this._axis,i=Np.asc(r.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(LD(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return _p.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,n=this.model.getData(),r=1/0,i=this._axis;return n.each(["value"],function(n,o){var a=i.dataToCoord(n),s=Math.abs(a-t);s<r&&(r=s,e=o)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}}),D_.registerPreprocessor(function(t){var e=t&&t.timeline;nl.isArray(e)||(e=e?[e]:[]),nl.each(e,function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),tu(t),eu(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});eu(r,"position")||(r.position=t.controlPosition),"none"!==r.position||eu(r,"show")||(r.show=!1,delete r.position),delete t.controlPosition}nl.each(t.data||[],function(t){nl.isObject(t)&&!nl.isArray(t)&&(!eu(t,"value")&&eu(t,"name")&&(t.value=t.name),tu(t))})}(t)})});var ND=D_.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){ND.superApply(this,"optionUpdated",arguments),nl.each(this.option.feature,function(t,e){var n=QI.get(e);n&&nl.merge(t,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}}),jD=(D_.extendComponentView({type:"toolbox",render:function(t,e,n,r){function i(i,c){var h,f=l[i],d=l[c],p=s[f],g=new kp(p,t,t.ecModel);if(f&&!d){if(0===f.indexOf("my"))h={model:g,onclick:g.option.onclick,featureName:f};else{var v=QI.get(f);if(!v)return;h=new v(g,e,n)}u[f]=h}else{if(!(h=u[d]))return;h.model=g,h.ecModel=e,h.api=n}f||!d?g.get("show")&&!h.unusable?(function(r,i,s){var u=r.getModel("iconStyle"),l=r.getModel("emphasis.iconStyle"),c=i.getIcons?i.getIcons():r.get("icon"),h=r.get("title")||{};if("string"==typeof c){var f=c,d=h;h={},(c={})[s]=f,h[s]=d}var p=r.iconPaths={};nl.each(c,function(s,c){var f=_p.createIcon(s,{},{x:-a/2,y:-a/2,width:a,height:a});f.setStyle(u.getItemStyle()),f.hoverStyle=l.getItemStyle(),_p.setHoverStyle(f),t.get("showTitle")&&(f.__title=h[c],f.on("mouseover",function(){var t=l.getItemStyle();f.setStyle({text:h[c],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})}).on("mouseout",function(){f.setStyle({textFill:null})})),f.trigger(r.get("iconStatus."+c)||"normal"),o.add(f),f.on("click",nl.bind(i.onclick,i,e,n,c)),p[c]=f})}(g,h,f),g.setIconStatus=function(t,e){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,r[t]&&r[t].trigger(e)},h.render&&h.render(g,e,n,r)):h.remove&&h.remove(e,n):h.dispose&&h.dispose(e,n)}var o=this.group;if(o.removeAll(),t.get("show")){var a=+t.get("itemSize"),s=t.get("feature")||{},u=this._features||(this._features={}),l=[];nl.each(s,function(t,e){l.push(e)}),new cy(this._featureNames||[],l).add(i).update(i).remove(nl.curry(i,null)).execute(),this._featureNames=l,BC(o,t,n),o.add(VC(o.getBoundingRect(),t)),o.eachChild(function(t){var e=t.__title,r=t.hoverStyle;if(r&&e){var i=Pc.getBoundingRect(e,Pc.makeFont(r)),s=t.position[0]+o.position[0],u=!1;t.position[1]+o.position[1]+a+i.height>n.getHeight()&&(r.textPosition="top",u=!0);var l=u?-5-i.height:a+8;s+i.width/2>n.getWidth()?(r.textPosition=["100%",l],r.textAlign="right"):s-i.width/2<0&&(r.textPosition=[0,l],r.textAlign="left")}})}},updateView:function(t,e,n,r){nl.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,r)})},remove:function(t,e){nl.each(this._features,function(n){n.remove&&n.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){nl.each(this._features,function(n){n.dispose&&n.dispose(t,e)})}}),Rm.toolbox.saveAsImage);iu.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:jD.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:jD.lang.slice()},iu.prototype.unusable=!Hu.canvasSupported,iu.prototype.onclick=function(t,e){var n=this.model,r=n.get("name")||t.get("title.0.text")||"echarts",i=document.createElement("a"),o=n.get("type",!0)||"png";i.download=r+"."+o,i.target="_blank";var a=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(i.href=a,"function"!=typeof MouseEvent||Hu.browser.ie||Hu.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),u=s.length,l=new Uint8Array(u);u--;)l[u]=s.charCodeAt(u);var c=new Blob([l]);window.navigator.msSaveOrOpenBlob(c,r+"."+o)}else{var h=n.get("lang"),f='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(h&&h[0]||"")+'" /></body>';window.open().document.write(f)}else{var d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});i.dispatchEvent(d)}},QI.register("saveAsImage",iu);var RD=Rm.toolbox.magicType;ou.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:nl.clone(RD.title),option:{},seriesIndex:{}};var zD=ou.prototype;zD.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return nl.each(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n};var BD={line:function(t,e,n,r){if("bar"===t)return nl.merge({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get("option.line")||{},!0)},bar:function(t,e,n,r){if("line"===t)return nl.merge({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get("option.bar")||{},!0)},stack:function(t,e,n,r){if("line"===t||"bar"===t)return nl.merge({id:e,stack:"__ec_magicType_stack__"},r.get("option.stack")||{},!0)},tiled:function(t,e,n,r){if("line"===t||"bar"===t)return nl.merge({id:e,stack:""},r.get("option.tiled")||{},!0)}},VD=[["line","bar"],["stack","tiled"]];zD.onclick=function(t,e,n){var r=this.model,i=r.get("seriesIndex."+n);if(BD[n]){var o={series:[]};nl.each(VD,function(t){nl.indexOf(t,n)>=0&&nl.each(t,function(t){r.setIconStatus(t,"normal")})}),r.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},function(e){var i=e.subType,a=e.id,s=BD[n](i,a,e,r);s&&(nl.defaults(s,e.option),o.series.push(s));var u=e.coordinateSystem;if(u&&"cartesian2d"===u.type&&("line"===n||"bar"===n)){var l=u.getAxesByScale("ordinal")[0];if(l){var c=l.dim+"Axis",h=t.queryComponents({mainType:c,index:e.get(name+"Index"),id:e.get(name+"Id")})[0].componentIndex;o[c]=o[c]||[];for(var f=0;f<=h;f++)o[c][h]=o[c][h]||{};o[c][h].boundaryGap="bar"===n}}}),e.dispatchAction({type:"changeMagicType",currentType:n,newOption:o})}},D_.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),QI.register("magicType",ou);var FD=Rm.toolbox.dataView,HD=new Array(60).join("-"),WD="\t",GD=new RegExp("[\t]+","g");su.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:nl.clone(FD.title),lang:nl.clone(FD.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},su.prototype.onclick=function(t,e){function n(){r.removeChild(o),x._dom=null}var r=e.getDom(),i=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=i.get("lang")||[];a.innerHTML=s[0]||i.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=i.get("textColor");var u=document.createElement("div"),l=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var c=i.get("optionToContent"),h=i.get("contentToOption"),f=function(t){var e=function(t){var e={},n=[],r=[];return t.eachRawSeries(function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(t);else{var o=i.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:r}}(t);return{value:nl.filter([function(t){var e=[];return nl.each(t,function(t,n){var r=t.categoryAxis,i=t.valueAxis.dim,o=[" "].concat(nl.map(t.series,function(t){return t.name})),a=[r.model.getCategories()];nl.each(t.series,function(t){a.push(t.getRawData().mapArray(i,function(t){return t}))});for(var s=[o.join(WD)],u=0;u<a[0].length;u++){for(var l=[],c=0;c<a.length;c++)l.push(a[c][u]);s.push(l.join(WD))}e.push(s.join("\n"))}),e.join("\n\n"+HD+"\n\n")}(e.seriesGroupByCategoryAxis),function(t){return nl.map(t,function(t){var e=t.getRawData(),n=[t.name],r=[];return e.each(e.dimensions,function(){for(var t=arguments,i=arguments.length,o=arguments[i-1],a=e.getName(o),s=0;s<i-1;s++)r[s]=t[s];n.push((a?a+WD:"")+r.join(WD))}),n.join("\n")}).join("\n\n"+HD+"\n\n")}(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+HD+"\n\n"),meta:e.meta}}(t);if("function"==typeof c){var d=c(e.getOption());"string"==typeof d?u.innerHTML=d:nl.isDom(d)&&u.appendChild(d)}else u.appendChild(l),l.readOnly=i.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=i.get("textColor"),l.style.borderColor=i.get("textareaBorderColor"),l.style.backgroundColor=i.get("textareaColor"),l.value=f.value;var p=f.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:0;left:0;right:0;";var v="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),y=document.createElement("div");v+=";background-color:"+i.get("buttonColor"),v+=";color:"+i.get("buttonTextColor");var x=this;ih.addEventListener(m,"click",n),ih.addEventListener(y,"click",function(){var t;try{t="function"==typeof h?h(u,e.getOption()):function(t,e){var n=t.split(new RegExp("\n*"+HD+"\n*","g")),r={series:[]};return nl.each(n,function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(WD)>=0)return!0}(t)){var i=function(e){for(var n=t.split(/\n+/g),r=au(n.shift()).split(GD),i=[],o=nl.map(r,function(t){return{name:t,data:[]}}),a=0;a<n.length;a++){var s=au(n[a]).split(GD);i.push(s.shift());for(var u=0;u<s.length;u++)o[u]&&(o[u].data[a]=s[u])}return{series:o,categories:i}}(),o=e[n],a=o.axisDim+"Axis";o&&(r[a]=r[a]||[],r[a][o.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else i=function(e){for(var n=t.split(/\n+/g),r=au(n.shift()),i=[],o=0;o<n.length;o++){var a,s=au(n[o]).split(GD),u="",l=!1;isNaN(s[0])?(l=!0,u=s[0],s=s.slice(1),i[o]={name:u,value:[]},a=i[o].value):a=i[o]=[];for(var c=0;c<s.length;c++)a.push(+s[c]);1===a.length&&(l?i[o].value=a[0]:i[o]=a[0])}return{name:r,data:i}}(),r.series.push(i)}),r}(l.value,p)}catch(t){throw n(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),n()}),m.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=v,m.style.cssText=v,!i.get("readOnly")&&g.appendChild(y),g.appendChild(m),ih.addEventListener(l,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,n=this.selectionStart,r=this.selectionEnd;this.value=e.substring(0,n)+WD+e.substring(r),this.selectionStart=this.selectionEnd=n+1,ih.stop(t)}}),o.appendChild(a),o.appendChild(u),o.appendChild(g),u.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},su.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},su.prototype.dispose=function(t,e){this.remove(t,e)},QI.register("dataView",su),D_.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];nl.each(t.newOption.series,function(t){var r=e.getSeriesByName(t.name)[0];if(r){var i=r.get("data");n.push({name:t.name,data:function(t,e){return nl.map(t,function(t,n){var r=e&&e[n];return nl.isObject(r)&&!nl.isArray(r)?(nl.isObject(t)&&!nl.isArray(t)&&(t=t.value),nl.defaults({value:t},r)):t})}(t.data,i)})}else n.push(nl.extend({type:"scatter"},t))}),e.mergeOption(nl.defaults({series:n},t.newOption))});var qD=nl.each,UD="\0_ec_hist_store",YD=function(t,e){var n=uu(t);qD(e,function(e,r){for(var i=n.length-1;i>=0&&!n[i][r];i--);if(i<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(o){var a=o.getPercentRange();n[0][r]={dataZoomId:r,start:a[0],end:a[1]}}}}),n.push(e)},XD=function(t){var e=uu(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return qD(n,function(t,n){for(var i=e.length-1;i>=0;i--)if(t=e[i][n]){r[n]=t;break}}),r},ZD=function(t){t[UD]=null},$D=function(t){return uu(t).length},KD=(mk.extend({type:"dataZoom.select"}),yk.extend({type:"dataZoom.select"}),Rm.toolbox.dataZoom),JD=nl.each,QD="\0_ec_\0toolbox-dataZoom_";lu.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:nl.clone(KD.title)};var tL=lu.prototype;tL.render=function(t,e,n,r){this.model=t,this.ecModel=e,this.api=n,function(t,e,n,r,i){var o=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(o="dataZoomSelect"===r.key&&r.dataZoomSelectActive),n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new qI(cu(t.option),e,{include:["grid"]});n._brushController.setPanels(a.makePanelOpts(i,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!o&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(t,e,this,r,n),function(t,e){t.setIconStatus("back",$D(e)>1?"emphasis":"normal")}(t,e)},tL.onclick=function(t,e,n){eL[n].call(this)},tL.remove=function(t,e){this._brushController.unmount()},tL.dispose=function(t,e){this._brushController.dispose()};var eL={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(XD(this.ecModel))}};tL._onBrush=function(t,e){function n(t,e,n){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var r;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(t,e.componentIndex)&&(r=n)}),r}(t,a),u=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(n=EA(0,n.slice(),o.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),s&&(r[s.id]={dataZoomId:s.id,startValue:n[0],endValue:n[1]})}if(e.isEnd&&t.length){var r={},i=this.ecModel;this._brushController.updateCovers([]),new qI(cu(this.model.option),i,{include:["grid"]}).matchOutputRanges(t,i,function(t,e,r){if("cartesian2d"===r.type){var i=t.brushType;"rect"===i?(n("x",r,e[0]),n("y",r,e[1])):n({lineX:"x",lineY:"y"}[i],r,e)}}),YD(i,r),this._dispatchZoomAction(r)}},tL._dispatchZoomAction=function(t){var e=[];JD(t,function(t,n){e.push(nl.clone(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},QI.register("dataZoom",lu),D_.registerPreprocessor(function(t){function e(e,r){if(r){var i=e+"Index",o=r[i];null==o||"all"==o||nl.isArray(o)||(o=!1===o||"none"===o?[]:[o]),function(e,n){var r=t[e];nl.isArray(r)||(r=r?[r]:[]),JD(r,n)}(e,function(t,r){if(null==o||"all"==o||-1!==nl.indexOf(o,r)){var a={type:"select",$fromToolbox:!0,id:QD+e+r};a[i]=r,n.push(a)}})}}if(t){var n=t.dataZoom||(t.dataZoom=[]);nl.isArray(n)||(t.dataZoom=n=[n]);var r=t.toolbox;if(r&&(nl.isArray(r)&&(r=r[0]),r&&r.feature)){var i=r.feature.dataZoom;e("xAxis",i),e("yAxis",i)}}});var nL=Rm.toolbox.restore;hu.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:nL.title},hu.prototype.onclick=function(t,e,n){ZD(t),e.dispatchAction({type:"restore",from:this.uid})},QI.register("restore",hu),D_.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var rL,iL="urn:schemas-microsoft-com:vml",oL="undefined"==typeof window?null:window,aL=!1,sL=oL&&oL.document;if(sL&&!Hu.canvasSupported)try{!sL.namespaces.zrvml&&sL.namespaces.add("zrvml",iL),rL=function(t){return sL.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){rL=function(t){return sL.createElement("<"+t+' xmlns="'+iL+'" class="zrvml">')}}var uL={doc:sL,createNode:function(t){return rL(t)},initVML:function(){if(!aL&&sL){aL=!0;var t=sL.styleSheets;t.length<31?sL.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},lL=il.applyTransform,cL=kf.CMD,hL=Math.round,fL=Math.sqrt,dL=Math.abs,pL=Math.cos,gL=Math.sin,vL=Math.max;if(!Hu.canvasSupported){var mL=21600,yL=mL/2,xL=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=mL+","+mL,t.coordorigin="0,0"},_L=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},bL=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},wL=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},ML=function(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},SL=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},AL=function(t,e,n){var r=Ll.parse(e);n=+n,isNaN(n)&&(n=1),r&&(t.color=_L(r[0],r[1],r[2]),t.opacity=n*r[3])},TL=function(t,e,n,r){var i="fill"==e,o=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(i||!i&&n.lineWidth)?(t[i?"filled":"stroked"]="true",n[e]instanceof qd&&wL(t,o),o||(o=uL.createNode(e)),i?function(t,e,n){var r=e.fill;if(null!=r)if(r instanceof qd){var i,o=0,a=[0,0],s=0,u=1,l=n.getBoundingRect(),c=l.width,h=l.height;if("linear"===r.type){i="gradient";var f=n.transform,d=[r.x*c,r.y*h],p=[r.x2*c,r.y2*h];f&&(lL(d,d,f),lL(p,p,f));var g=p[0]-d[0],v=p[1]-d[1];(o=180*Math.atan2(g,v)/Math.PI)<0&&(o+=360),o<1e-6&&(o=0)}else{i="gradientradial";d=[r.x*c,r.y*h],f=n.transform;var m=n.scale,y=c,x=h;a=[(d[0]-l.x)/y,(d[1]-l.y)/x],f&&lL(d,d,f),y/=m[0]*mL,x/=m[1]*mL;var _=vL(y,x);s=0/_,u=2*r.r/_-s}var b=r.colorStops.slice();b.sort(function(t,e){return t.offset-e.offset});for(var w=b.length,M=[],S=[],A=0;A<w;A++){var T=b[A],O=function(t){var e=Ll.parse(t);return[_L(e[0],e[1],e[2]),e[3]]}(T.color);S.push(T.offset*u+s+" "+O[0]),0!==A&&A!==w-1||M.push(O)}if(w>=2){var C=M[0][0],I=M[1][0],k=M[0][1]*e.opacity,D=M[1][1]*e.opacity;t.type=i,t.method="none",t.focus="100%",t.angle=o,t.color=C,t.color2=I,t.colors=S.join(","),t.opacity=D,t.opacity2=k}"radial"===i&&(t.focusposition=a.join(","))}else AL(t,r,e.opacity)}(o,n,r):function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof qd||AL(t,e.stroke,e.opacity)}(o,n),bL(t,o)):(t[i?"filled":"stroked"]="false",wL(t,o))},OL=[[],[],[]];Jf.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=uL.createNode("shape"),xL(n),this._vmlEl=n),TL(n,"fill",e,this),TL(n,"stroke",e,this);var r=this.transform,i=null!=r,o=n.getElementsByTagName("stroke")[0];if(o){var a=e.lineWidth;if(i&&!e.strokeNoScale){var s=r[0]*r[3]-r[1]*r[2];a*=fL(dL(s))}o.weight=a+"px"}var u=this.path||(this.path=new kf);this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=function(t,e){var n,r,i,o,a,s,u=cL.M,l=cL.C,c=cL.L,h=cL.A,f=cL.Q,d=[],p=t.data,g=t.len();for(o=0;o<g;){switch(r="",n=0,i=p[o++]){case u:r=" m ",n=1,a=p[o++],s=p[o++],OL[0][0]=a,OL[0][1]=s;break;case c:r=" l ",n=1,a=p[o++],s=p[o++],OL[0][0]=a,OL[0][1]=s;break;case f:case l:r=" c ",n=3;var v,m,y=p[o++],x=p[o++],_=p[o++],b=p[o++];i===f?(v=_,m=b,_=(_+2*y)/3,b=(b+2*x)/3,y=(a+2*y)/3,x=(s+2*x)/3):(v=p[o++],m=p[o++]),OL[0][0]=y,OL[0][1]=x,OL[1][0]=_,OL[1][1]=b,OL[2][0]=v,OL[2][1]=m,a=v,s=m;break;case h:var w=0,M=0,S=1,A=1,T=0;e&&(w=e[4],M=e[5],S=fL(e[0]*e[0]+e[1]*e[1]),A=fL(e[2]*e[2]+e[3]*e[3]),T=Math.atan2(-e[1]/A,e[0]/S));var O=p[o++],C=p[o++],I=p[o++],k=p[o++],D=p[o++]+T,L=p[o++]+D+T;o++;var E=p[o++],P=O+pL(D)*I,N=C+gL(D)*k,j=(y=O+pL(L)*I,x=C+gL(L)*k,E?" wa ":" at ");Math.abs(P-y)<1e-4&&(Math.abs(L-D)>.01?E&&(P+=.0125):Math.abs(N-C)<1e-4?E&&P<O||!E&&P>O?x-=.0125:x+=.0125:E&&N<C||!E&&N>C?y+=.0125:y-=.0125),d.push(j,hL(((O-I)*S+w)*mL-yL),",",hL(((C-k)*A+M)*mL-yL),",",hL(((O+I)*S+w)*mL-yL),",",hL(((C+k)*A+M)*mL-yL),",",hL((P*S+w)*mL-yL),",",hL((N*A+M)*mL-yL),",",hL((y*S+w)*mL-yL),",",hL((x*A+M)*mL-yL)),a=y,s=x;break;case cL.R:var R=OL[0],z=OL[1];R[0]=p[o++],R[1]=p[o++],z[0]=R[0]+p[o++],z[1]=R[1]+p[o++],e&&(lL(R,R,e),lL(z,z,e)),R[0]=hL(R[0]*mL-yL),z[0]=hL(z[0]*mL-yL),R[1]=hL(R[1]*mL-yL),z[1]=hL(z[1]*mL-yL),d.push(" m ",R[0],",",R[1]," l ",z[0],",",R[1]," l ",z[0],",",z[1]," l ",R[0],",",z[1]);break;case cL.Z:d.push(" x ")}if(n>0){d.push(r);for(var B=0;B<n;B++){var V=OL[B];e&&lL(V,V,e),d.push(hL(V[0]*mL-yL),",",hL(V[1]*mL-yL),B<n-1?",":"")}}}return d.join("")}(u,this.transform),n.style.zIndex=ML(this.zlevel,this.z,this.z2),bL(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Jf.prototype.onRemove=function(t){wL(t,this._vmlEl),this.removeRectText(t)},Jf.prototype.onAdd=function(t){bL(t,this._vmlEl),this.appendRectText(t)},Zc.prototype.brushVML=function(t){var e,n,r=this.style,i=r.image;if(function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()}(i)){var o=i.src;if(o===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var a=i.runtimeStyle,s=a.width,u=a.height;a.width="auto",a.height="auto",e=i.width,n=i.height,a.width=s,a.height=u,this._imageSrc=o,this._imageWidth=e,this._imageHeight=n}i=o}else i===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(i){var l=r.x||0,c=r.y||0,h=r.width,f=r.height,d=r.sWidth,p=r.sHeight,g=r.sx||0,v=r.sy||0,m=d&&p,y=this._vmlEl;y||(y=uL.doc.createElement("div"),xL(y),this._vmlEl=y);var x,_=y.style,b=!1,w=1,M=1;if(this.transform&&(x=this.transform,w=fL(x[0]*x[0]+x[1]*x[1]),M=fL(x[2]*x[2]+x[3]*x[3]),b=x[1]||x[2]),b){var S=[l,c],A=[l+h,c],T=[l,c+f],O=[l+h,c+f];lL(S,S,x),lL(A,A,x),lL(T,T,x),lL(O,O,x);var C=vL(S[0],A[0],T[0],O[0]),I=vL(S[1],A[1],T[1],O[1]),k=[];k.push("M11=",x[0]/w,",","M12=",x[2]/M,",","M21=",x[1]/w,",","M22=",x[3]/M,",","Dx=",hL(l*w+x[4]),",","Dy=",hL(c*M+x[5])),_.padding="0 "+hL(C)+"px "+hL(I)+"px 0",_.filter="progid:DXImageTransform.Microsoft.Matrix("+k.join("")+", SizingMethod=clip)"}else x&&(l=l*w+x[4],c=c*M+x[5]),_.filter="",_.left=hL(l)+"px",_.top=hL(c)+"px";var D=this._imageEl,L=this._cropEl;D||(D=uL.doc.createElement("div"),this._imageEl=D);var E=D.style;if(m){if(e&&n)E.width=hL(w*e*h/d)+"px",E.height=hL(M*n*f/p)+"px";else{var P=new Image,N=this;P.onload=function(){P.onload=null,e=P.width,n=P.height,E.width=hL(w*e*h/d)+"px",E.height=hL(M*n*f/p)+"px",N._imageWidth=e,N._imageHeight=n,N._imageSrc=i},P.src=i}L||((L=uL.doc.createElement("div")).style.overflow="hidden",this._cropEl=L);var j=L.style;j.width=hL((h+g*h/d)*w),j.height=hL((f+v*f/p)*M),j.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-g*h/d*w+",Dy="+-v*f/p*M+")",L.parentNode||y.appendChild(L),D.parentNode!=L&&L.appendChild(D)}else E.width=hL(w*h)+"px",E.height=hL(M*f)+"px",y.appendChild(D),L&&L.parentNode&&(y.removeChild(L),this._cropEl=null);var R="",z=r.opacity;z<1&&(R+=".Alpha(opacity="+hL(100*z)+") "),R+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+i+", SizingMethod=scale)",E.filter=R,y.style.zIndex=ML(this.zlevel,this.z,this.z2),bL(t,y),null!=r.text&&this.drawRectText(t,this.getBoundingRect())}},Zc.prototype.onRemove=function(t){wL(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},Zc.prototype.onAdd=function(t){bL(t,this._vmlEl),this.appendRectText(t)};var CL,IL={},kL=0,DL=document.createElement("div");Pc.$override("measureText",function(t,e){var n=uL.doc;CL||((CL=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",uL.doc.body.appendChild(CL));try{CL.style.font=e}catch(t){}return CL.innerHTML="",CL.appendChild(n.createTextNode(t)),{width:CL.offsetWidth}});for(var LL=new tc,EL=[Yc,Xc,Zc,Jf,gd],PL=0;PL<EL.length;PL++){var NL=EL[PL].prototype;NL.drawRectText=function(t,e,n,r){var i=this.style;this.__dirty&&Gc.normalizeTextStyle(i,!0);var o=i.text;if(null!=o&&(o+=""),o){if(i.rich){var a=Pc.parseRichText(o,i);o=[];for(var s=0;s<a.lines.length;s++){for(var u=a.lines[s].tokens,l=[],c=0;c<u.length;c++)l.push(u[c].text);o.push(l.join(""))}o=o.join("\n")}var h,f,d=i.textAlign,p=i.textVerticalAlign,g=function(t){var e=IL[t];if(!e){kL>100&&(kL=0,IL={});var n,r=DL.style;try{r.font=t,n=r.fontFamily.split(",")[0]}catch(t){}e={style:r.fontStyle||"normal",variant:r.fontVariant||"normal",weight:r.fontWeight||"normal",size:0|parseFloat(r.fontSize||12),family:n||"Microsoft YaHei"},IL[t]=e,kL++}return e}(i.font),v=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';n=n||Pc.getBoundingRect(o,v,d,p);var m=this.transform;if(m&&!r&&(LL.copy(e),LL.applyTransform(m),e=LL),r)h=e.x,f=e.y;else{var y=i.textPosition,x=i.textDistance;if(y instanceof Array)h=e.x+SL(y[0],e.width),f=e.y+SL(y[1],e.height),d=d||"left";else{var _=Pc.adjustTextPositionOnRect(y,e,x);h=_.x,f=_.y,d=d||_.textAlign,p=p||_.textVerticalAlign}}h=Pc.adjustTextX(h,n.width,d),f=Pc.adjustTextY(f,n.height,p),f+=n.height/2;var b,w,M,S=uL.createNode,A=this._textVmlEl;A?w=(b=(M=A.firstChild).nextSibling).nextSibling:(A=S("line"),b=S("path"),w=S("textpath"),M=S("skew"),w.style["v-text-align"]="left",xL(A),b.textpathok=!0,w.on=!0,A.from="0 0",A.to="1000 0.05",bL(A,M),bL(A,b),bL(A,w),this._textVmlEl=A);var T=[h,f],O=A.style;m&&r?(lL(T,T,m),M.on=!0,M.matrix=m[0].toFixed(3)+","+m[2].toFixed(3)+","+m[1].toFixed(3)+","+m[3].toFixed(3)+",0,0",M.offset=(hL(T[0])||0)+","+(hL(T[1])||0),M.origin="0 0",O.left="0px",O.top="0px"):(M.on=!1,O.left=hL(h)+"px",O.top=hL(f)+"px"),w.string=String(o).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{w.style.font=v}catch(t){}TL(A,"fill",{fill:i.textFill,opacity:i.opacity},this),TL(A,"stroke",{stroke:i.textStroke,opacity:i.opacity,lineDash:i.lineDash},this),A.style.zIndex=ML(this.zlevel,this.z,this.z2),bL(t,A)}},NL.removeRectText=function(t){wL(t,this._textVmlEl),this._textVmlEl=null},NL.appendRectText=function(t){bL(t,this._textVmlEl)}}gd.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},gd.prototype.onRemove=function(t){this.removeRectText(t)},gd.prototype.onAdd=function(t){this.appendRectText(t)}}var jL=nl.each;du.prototype={constructor:du,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var r=t[n];r.invisible||r.ignore?(r.__alreadyNotVisible||r.onRemove(e),r.__alreadyNotVisible=!0):(r.__alreadyNotVisible&&r.onAdd(e),r.__alreadyNotVisible=!1,r.__dirty&&(r.beforeBrush&&r.beforeBrush(),(r.brushVML||r.brush).call(r,e),r.afterBrush&&r.afterBrush())),r.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||fu(e.width))-fu(e.paddingLeft)-fu(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||fu(e.height))-fu(e.paddingTop)-fu(e.paddingBottom)|0}},jL(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){du.prototype[t]=function(t){return function(){Fl('In IE8.0 VML mode painter not support method "'+t+'"')}}(t)});var RL=du;(0,Ah.registerPainter)("vml",RL);var zL=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},BL=zL,VL=kf.CMD,FL=Array.prototype.join,HL="none",WL=Math.round,GL=Math.sin,qL=Math.cos,UL=Math.PI,YL=2*Math.PI,XL=180/UL,ZL=1e-4,$L={brush:function(t){var e=t.style,n=t.__svgEl;n||(n=BL("path"),t.__svgEl=n),t.path||t.createPathProxy();var r=t.path;if(t.__dirtyPath){r.beginPath(),t.buildPath(r,t.shape),t.__dirtyPath=!1;var i=function(t){for(var e=[],n=t.data,r=t.len(),i=0;i<r;){var o="",a=0;switch(n[i++]){case VL.M:o="M",a=2;break;case VL.L:o="L",a=2;break;case VL.Q:o="Q",a=4;break;case VL.C:o="C",a=6;break;case VL.A:var s=n[i++],u=n[i++],l=n[i++],c=n[i++],h=n[i++],f=n[i++],d=n[i++],p=n[i++],g=Math.abs(f),v=gu(g-YL)&&!gu(g),m=!1;m=g>=YL||!gu(g)&&(f>-UL&&f<0||f>UL)==!!p;var y=pu(s+l*qL(h)),x=pu(u+c*GL(h));v&&(f=p?YL-1e-4:1e-4-YL,m=!0,9===i&&e.push("M",y,x));var _=pu(s+l*qL(h+f)),b=pu(u+c*GL(h+f));e.push("A",pu(l),pu(c),WL(d*XL),+m,+p,_,b);break;case VL.Z:o="Z";break;case VL.R:_=pu(n[i++]),b=pu(n[i++]);var w=pu(n[i++]),M=pu(n[i++]);e.push("M",_,b,"L",_+w,b,"L",_+w,b+M,"L",_,b+M,"L",_,b)}o&&e.push(o);for(var S=0;S<a;S++)e.push(pu(n[i++]))}return e.join(" ")}(r);i.indexOf("NaN")<0&&mu(n,"d",i)}yu(n,e),vu(n,t.transform),null!=e.text&&tE(t,t.getBoundingRect())}},KL={brush:function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var r=e.x||0,i=e.y||0,o=e.width,a=e.height,s=t.__svgEl;s||(s=BL("image"),t.__svgEl=s),n!==t.__imageSrc&&(function(t,e,n){s.setAttributeNS("http://www.w3.org/1999/xlink","href",n)}(0,0,n),t.__imageSrc=n),mu(s,"width",o),mu(s,"height",a),mu(s,"x",r),mu(s,"y",i),vu(s,t.transform),null!=e.text&&tE(t,t.getBoundingRect())}}},JL={},QL=new tc,tE=function(t,e,n){var r=t.style;t.__dirty&&Gc.normalizeTextStyle(r,!0);var i=r.text;if(null!=i){i+="";var o=t.__textSvgEl;o||(o=BL("text"),t.__textSvgEl=o);var a,s,u=r.textPosition,l=r.textDistance,c=r.textAlign||"left";"number"==typeof r.fontSize&&(r.fontSize+="px");var h=r.font||[r.fontStyle||"",r.fontWeight||"",r.fontSize||"",r.fontFamily||""].join(" ")||Pc.DEFAULT_FONT,f=xu(r.textVerticalAlign),d=(n=Pc.getBoundingRect(i,h,c,f)).lineHeight;if(u instanceof Array)a=e.x+u[0],s=e.y+u[1];else{var p=Pc.adjustTextPositionOnRect(u,e,l);a=p.x,s=p.y,f=xu(p.textVerticalAlign),c=p.textAlign}mu(o,"alignment-baseline",f),h&&(o.style.font=h);var g=r.textPadding;if(mu(o,"x",a),mu(o,"y",s),yu(o,r,!0),t instanceof gd||t.style.transformText)vu(o,t.transform);else{if(t.transform)QL.copy(e),QL.applyTransform(t.transform),e=QL;else{var v=t.transformCoordToGlobal(e.x,e.y);e.x=v[0],e.y=v[1]}var m=r.textOrigin;"center"===m?(a=n.width/2+a,s=n.height/2+s):m&&(a=m[0]+a,s=m[1]+s);var y=-r.textRotation||0,x=dl.create();dl.rotate(x,t.transform,y),vu(o,x)}var _=i.split("\n"),b=_.length,w=c;"left"===w?(w="start",g&&(a+=g[3])):"right"===w?(w="end",g&&(a-=g[1])):"center"===w&&(w="middle",g&&(a+=(g[3]-g[1])/2));var M=0;if("baseline"===f?(M=-n.height+d,g&&(M-=g[2])):"middle"===f?(M=(-n.height+d)/2,g&&(s+=(g[0]-g[2])/2)):g&&(M+=g[0]),t.__text!==i||t.__textFont!==h){var S=t.__tspanList||[];for(t.__tspanList=S,T=0;T<b;T++)(O=S[T])?O.innerHTML="":(O=S[T]=BL("tspan"),o.appendChild(O),mu(O,"alignment-baseline",f),mu(O,"text-anchor",w)),mu(O,"x",a),mu(O,"y",s+T*d+M),O.appendChild(document.createTextNode(_[T]));for(;T<S.length;T++)o.removeChild(S[T]);S.length=b,t.__text=i,t.__textFont=h}else if(t.__tspanList.length)for(var A=t.__tspanList.length,T=0;T<A;++T){var O=t.__tspanList[T];O&&(mu(O,"x",a),mu(O,"y",s+T*d+M))}}};JL.drawRectText=tE,JL.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],tE(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))};var eE={path:$L,image:KL,text:JL};_u.prototype={diff:function(t,e,n){n||(n=function(t,e){return t===e}),this.equals=n;var r=this;t=t.slice();var i=(e=e.slice()).length,o=t.length,a=1,s=i+o,u=[{newPos:-1,components:[]}],l=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=i&&l+1>=o){for(var c=[],h=0;h<e.length;h++)c.push(h);return[{indices:c,count:e.length}]}for(;a<=s;){var f=function(){for(var n=-1*a;n<=a;n+=2){var s,l=u[n-1],c=u[n+1],h=(c?c.newPos:0)-n;l&&(u[n-1]=void 0);var f=l&&l.newPos+1<i,d=c&&0<=h&&h<o;if(f||d){if(!f||d&&l.newPos<c.newPos?(s=function(t){return{newPos:t.newPos,components:t.components.slice(0)}}(c),r.pushComponent(s.components,void 0,!0)):((s=l).newPos++,r.pushComponent(s.components,!0,void 0)),h=r.extractCommon(s,e,t,n),s.newPos+1>=i&&h+1>=o)return function(t,e,n,r){for(var i=0,o=e.length,a=0,s=0;i<o;i++){var u=e[i];if(u.removed){for(var l=[],c=s;c<s+u.count;c++)l.push(c);u.indices=l,s+=u.count}else{for(l=[],c=a;c<a+u.count;c++)l.push(c);u.indices=l,a+=u.count,u.added||(s+=u.count)}}return e}(0,s.components);u[n]=s}else u[n]=void 0}a++}();if(f)return f}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var i=e.length,o=n.length,a=t.newPos,s=a-r,u=0;a+1<i&&s+1<o&&this.equals(e[a+1],n[s+1]);)a++,s++,u++;return u&&t.components.push({count:u}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var nE=new _u,rE=zL,iE=eE.path,oE=eE.image,aE=eE.text;bu.prototype.createElement=rE,bu.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),n):null:n[0]},bu.prototype.update=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))"function"==typeof e&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},bu.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},bu.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},bu.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return nl.each(this._tagNames,function(n){var r=t.getElementsByTagName(n);e=e.concat([].slice.call(r))}),e},bu.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;nl.each(t,function(t){t[e._markLabel]="0"})},bu.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},bu.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),n=this;nl.each(e,function(e){"1"!==e[n._markLabel]&&t.removeChild(e)})}},bu.prototype.getSvgProxy=function(t){return t instanceof Jf?iE:t instanceof Zc?oE:t instanceof gd?aE:iE},bu.prototype.getTextSvgElement=function(t){return t.__textSvgEl},bu.prototype.getSvgElement=function(t){return t.__svgEl};var sE=bu;nl.inherits(wu,sE),wu.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;nl.each(["fill","stroke"],function(r){if(e.style[r]&&("linear"===e.style[r].type||"radial"===e.style[r].type)){var i,o=e.style[r],a=n.getDefs(!0);o._dom?(i=o._dom,a.contains(o._dom)||n.addDom(i)):i=n.add(o),n.markUsed(e);var s=i.getAttribute("id");t.setAttribute(r,"url(#"+s+")")}})}},wu.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return Fl("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},wu.prototype.update=function(t){var e=this;sE.prototype.update.call(this,t,function(){var n=t.type,r=t._dom.tagName;"linear"===n&&"linearGradient"===r||"radial"===n&&"radialGradient"===r?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},wu.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void Fl("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,r=0,i=n.length;r<i;++r){var o=this.createElement("stop");o.setAttribute("offset",100*n[r].offset+"%"),o.setAttribute("stop-color",n[r].color),e.appendChild(o)}t._dom=e},wu.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&sE.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&sE.prototype.markUsed.call(this,e._dom)}};var uE=wu;nl.inherits(Mu,sE),Mu.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},Mu.prototype.updateDom=function(t,e,n){if(e&&e.length>0){var r,i,o=this.getDefs(!0),a=e[0],s=n?"_textDom":"_dom";a[s]?(i=a[s].getAttribute("id"),r=a[s],o.contains(r)||o.appendChild(r)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",i),o.appendChild(r),a[s]=r);var u=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!n){var l=Array.prototype.slice.call(a.transform);dl.mul(a.transform,a.parent.invTransform,a.transform),u.brush(a),a.transform=l}else u.brush(a);var c=this.getSvgElement(a);r.innerHTML="",r.appendChild(c.cloneNode()),t.setAttribute("clip-path","url(#"+i+")"),e.length>1&&this.updateDom(r,e.slice(1),n)}else t&&t.setAttribute("clip-path","none")},Mu.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&nl.each(t.__clipPaths,function(t){t._dom&&sE.prototype.markUsed.call(e,t._dom),t._textDom&&sE.prototype.markUsed.call(e,t._textDom)})};var lE=Mu;nl.inherits(Su,sE),Su.prototype.addWithoutUpdate=function(t,e){if(e&&Au(e.style)){var n,r=e.style;r._shadowDom?(n=r._shadowDom,this.getDefs(!0).contains(r._shadowDom)||this.addDom(n)):n=this.add(e),this.markUsed(e);var i=n.getAttribute("id");t.style.filter="url(#"+i+")"}},Su.prototype.add=function(t){var e=this.createElement("filter"),n=t.style;return n._shadowDomId=n._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(t,e),this.addDom(e),e},Su.prototype.update=function(t,e){var n=e.style;if(Au(n)){var r=this;sE.prototype.update.call(this,e,function(t){r.updateDom(e,t._shadowDom)})}else this.remove(t,n)},Su.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},Su.prototype.updateDom=function(t,e){var n=e.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var r,i,o,a,s=t.style,u=t.scale&&t.scale[0]||1,l=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)r=s.shadowOffsetX||0,i=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);r=s.textShadowOffsetX||0,i=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}n.setAttribute("dx",r/u),n.setAttribute("dy",i/l),n.setAttribute("flood-color",a);var c=o/2/u+" "+o/2/l;n.setAttribute("stdDeviation",c),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(n),s._shadowDom=e},Su.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&sE.prototype.markUsed.call(this,e._shadowDom)};var cE=Su,hE=zL,fE=nl.each,dE=eE.path,pE=eE.image,gE=eE.text,vE=function(t,e,n,r){this.root=t,this.storage=e,this._opts=n=nl.extend({},n||{});var i=hE("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("version","1.1"),i.setAttribute("baseProfile","full"),i.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new uE(r,i),this.clipPathManager=new lE(r,i),this.shadowManager=new cE(r,i);var o=document.createElement("div");o.style.cssText="overflow:hidden;position:relative",this._svgRoot=i,this._viewport=o,t.appendChild(o),o.appendChild(i),this.resize(n.width,n.height),this._visibleList=[]};vE.prototype={constructor:vE,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,n=this._svgRoot,r=this._visibleList,i=t.length,o=[];for(e=0;e<i;e++){var a=function(t){return t instanceof Jf?dE:t instanceof Zc?pE:t instanceof gd?gE:dE}(d=t[e]),s=Lu(d)||Du(d);d.invisible||(d.__dirty&&(a&&a.brush(d),this.clipPathManager.update(d),d.style&&(this.gradientManager.update(d.style.fill),this.gradientManager.update(d.style.stroke),this.shadowManager.update(s,d)),d.__dirty=!1),o.push(d))}var u,l=function(t,e,n){return nE.diff(t,e,n)}(r,o);for(e=0;e<l.length;e++)if((h=l[e]).removed)for(f=0;f<h.count;f++){s=Lu(d=r[h.indices[f]]);var c=Du(d);ku(n,s),ku(n,c)}for(e=0;e<l.length;e++){var h=l[e];if(h.added)for(f=0;f<h.count;f++){s=Lu(d=o[h.indices[f]]),c=Du(d);u?Cu(n,s,u):Iu(n,s),s?Cu(n,c,s):u?Cu(n,c,u):Iu(n,c),Cu(n,c,s),u=c||s||u,this.gradientManager.addWithoutUpdate(s,d),this.shadowManager.addWithoutUpdate(u,d),this.clipPathManager.markUsed(d)}else if(!h.removed)for(var f=0;f<h.count;f++){var d=o[h.indices[f]];u=s=Du(d)||Lu(d)||u,this.gradientManager.markUsed(d),this.gradientManager.addWithoutUpdate(s,d),this.shadowManager.markUsed(d),this.shadowManager.addWithoutUpdate(s,d),this.clipPathManager.markUsed(d)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=o},_getDefs:function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(hE("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),n):null:n[0]},resize:function(t,e){var n=this._viewport;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var i=n.style;i.width=t+"px",i.height=e+"px";var o=this._svgRoot;o.setAttribute("width",t),o.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||Tu(s[n])||Tu(a.style[n]))-(Tu(s[i])||0)-(Tu(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},fE(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){vE.prototype[t]=function(t){return function(){Fl('In SVG mode painter not support method "'+t+'"')}}(t)});var mE=vE;(0,Ah.registerPainter)("svg",mE),function(t){t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")&&t.default}(t(function(t,e){!function(){for(var t in D_){if(null==D_||!D_.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=D_[t]}}(),function(){for(var t in k_){if(null==k_||!k_.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=k_[t]}}()}));var yE=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},xE="object"==typeof Bu&&Bu&&Bu===Object&&Bu,_E="object"==typeof self&&self&&self.Object===Object&&self,bE=xE||_E||Function("return this")(),wE=function(){return bE.Date.now()},ME=bE.Symbol,SE=Object.prototype,AE=SE.hasOwnProperty,TE=SE.toString,OE=ME?ME.toStringTag:void 0,CE=Object.prototype.toString,IE=ME?ME.toStringTag:void 0,kE=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":IE&&IE in Object(t)?function(t){var e=AE.call(t,OE),n=t[OE];try{t[OE]=void 0;var r=!0}catch(t){}var i=TE.call(t);return r&&(e?t[OE]=n:delete t[OE]),i}(t):function(t){return CE.call(t)}(t)},DE=/^\s+|\s+$/g,LE=/^[-+]0x[0-9a-f]+$/i,EE=/^0b[01]+$/i,PE=/^0o[0-7]+$/i,NE=parseInt,jE=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==kE(t)}(t))return NaN;if(yE(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=yE(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(DE,"");var n=EE.test(t);return n||PE.test(t)?NE(t.slice(2),n?2:8):LE.test(t)?NaN:+t},RE=Math.max,zE=Math.min,BE=null,VE=null,FE=0,HE=null;!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style"),n=" .echarts { width: 600px; height: 400px; } ";e.type="text/css",e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),t.appendChild(e)}}();var WE=["legendselectchanged","legendselected","legendunselected","legendunscroll","datazoom","datarangeselected","timelinechanged","timelineplaychanged","restore","dataviewchanged","magictypechanged","geoselectchanged","geoselected","geounselected","pieselectchanged","pieselected","pieunselected","mapselectchanged","mapselected","mapunselected","axisareaselected","focusnodeadjacency","unfocusnodeadjacency","brush","brushselected","rendered","finished","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];return{render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"echarts"})},staticRenderFns:[],props:{options:Object,theme:[String,Object],initOptions:Object,group:String,autoResize:Boolean,watchShallow:Boolean,manualUpdate:Boolean},data:function(){return{lastArea:0}},watch:{group:function(t){this.chart.group=t}},methods:{mergeOptions:function(t,e,n){this.manualUpdate&&(this.manualOptions=t),this.chart?this.delegateMethod("setOption",t,e,n):this.init()},appendData:function(t){this.delegateMethod("appendData",t)},resize:function(t){this.delegateMethod("resize",t)},dispatchAction:function(t){this.delegateMethod("dispatchAction",t)},convertToPixel:function(t,e){return this.delegateMethod("convertToPixel",t,e)},convertFromPixel:function(t,e){return this.delegateMethod("convertFromPixel",t,e)},containPixel:function(t,e){return this.delegateMethod("containPixel",t,e)},showLoading:function(t,e){this.delegateMethod("showLoading",t,e)},hideLoading:function(){this.delegateMethod("hideLoading")},getDataURL:function(t){return this.delegateMethod("getDataURL",t)},getConnectedDataURL:function(t){return this.delegateMethod("getConnectedDataURL",t)},clear:function(){this.delegateMethod("clear")},dispose:function(){this.delegateMethod("dispose")},delegateMethod:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return this.chart||this.init(),(r=this.chart)[t].apply(r,e);var r},delegateGet:function(t,e){return this.chart||this.init(),this.chart[e]()},getArea:function(){return this.$el.offsetWidth*this.$el.offsetHeight},init:function(){var t=this;if(!this.chart){var e=D_.init(this.$el,this.theme,this.initOptions);this.group&&(e.group=this.group),e.setOption(this.manualOptions||this.options||{},!0),WE.forEach(function(n){e.on(n,function(e){t.$emit(n,e)})}),this.autoResize&&(this.lastArea=this.getArea(),this.__resizeHandler=function(t,e,n){function r(e){var n=u,r=l;return u=l=void 0,p=e,h=t.apply(r,n)}function i(t){var n=t-d;return void 0===d||n>=e||n<0||v&&t-p>=c}function o(){var t=wE();if(i(t))return a(t);f=setTimeout(o,function(t){var n=e-(t-d);return v?zE(n,c-(t-p)):n}(t))}function a(t){return f=void 0,m&&u?r(t):(u=l=void 0,h)}function s(){var t=wE(),n=i(t);if(u=arguments,l=this,d=t,n){if(void 0===f)return function(t){return p=t,f=setTimeout(o,e),g?r(t):h}(d);if(v)return f=setTimeout(o,e),r(d)}return void 0===f&&(f=setTimeout(o,e)),h}var u,l,c,h,f,d,p=0,g=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=jE(e)||0,yE(n)&&(g=!!n.leading,c=(v="maxWait"in n)?RE(jE(n.maxWait)||0,e):c,m="trailing"in n?!!n.trailing:m),s.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=d=l=f=void 0},s.flush=function(){return void 0===f?h:a(wE())},s}(function(){0===t.lastArea?(t.mergeOptions({},!0),t.resize(),t.mergeOptions(t.options||t.manualOptions||{},!0)):t.resize(),t.lastArea=t.getArea()},100,{leading:!0}),function(t,e){if(t.__resize_mutation_handler__||(t.__resize_mutation_handler__=function(){var t=Pu(this),e=t.rendered,n=t.detached;e!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(Ru(this),this.addEventListener("scroll",Nu,!0)),this.__resize_rendered__=e,ju(this))}.bind(t)),!t.__resize_listeners__)if(t.__resize_listeners__=[],window.ResizeObserver){var n=t.offsetWidth,r=t.offsetHeight,i=new ResizeObserver(function(){(t.__resize_observer_triggered__||(t.__resize_observer_triggered__=!0,t.offsetWidth!==n||t.offsetHeight!==r))&&ju(t)}),o=Pu(t),a=o.detached,s=o.rendered;t.__resize_observer_triggered__=!1===a&&!1===s,t.__resize_observer__=i,i.observe(t)}else if(t.attachEvent&&t.addEventListener)t.__resize_legacy_resize_handler__=function(){ju(t)},t.attachEvent("onresize",t.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);else if(FE||(HE=function(t){var e=document.createElement("style");return e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),(document.querySelector("head")||document.body).appendChild(e),e}('.resize-triggers{visibility:hidden;opacity:0}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}')),function(t){var e=getComputedStyle(t).position;"static"===e&&(t.style.position="relative"),t.__resize_old_position__=e,t.__resize_last__={};var n=Eu("div",{className:"resize-triggers"}),r=Eu("div",{className:"resize-expand-trigger"}),i=Eu("div"),o=Eu("div",{className:"resize-contract-trigger"});r.appendChild(i),n.appendChild(r),n.appendChild(o),t.appendChild(n),t.__resize_triggers__={triggers:n,expand:r,expandChild:i,contract:o},Ru(t),t.addEventListener("scroll",Nu,!0),t.__resize_last__={width:t.offsetWidth,height:t.offsetHeight}}(t),t.__resize_rendered__=Pu(t).rendered,window.MutationObserver){var u=new MutationObserver(t.__resize_mutation_handler__);u.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),t.__resize_mutation_observer__=u}t.__resize_listeners__.push(e),FE++}(this.$el,this.__resizeHandler)),Object.defineProperties(this,{width:{configurable:!0,get:function(){return t.delegateGet("width","getWidth")}},height:{configurable:!0,get:function(){return t.delegateGet("height","getHeight")}},isDisposed:{configurable:!0,get:function(){return!!t.delegateGet("isDisposed","isDisposed")}},computedOptions:{configurable:!0,get:function(){return t.delegateGet("computedOptions","getOption")}}}),this.chart=e}},destroy:function(){this.autoResize&&function(t,e){if(t.detachEvent&&t.removeEventListener)return t.detachEvent("onresize",t.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);var n=t.__resize_listeners__;n.splice(n.indexOf(e),1),n.length||(t.__resize_observer__?(t.__resize_observer__.unobserve(t),t.__resize_observer__.disconnect(),t.__resize_observer__=null):(t.__resize_mutation_observer__&&(t.__resize_mutation_observer__.disconnect(),t.__resize_mutation_observer__=null),t.removeEventListener("scroll",Nu),t.removeChild(t.__resize_triggers__.triggers),t.__resize_triggers__=null),t.__resize_listeners__=null),!--FE&&HE&&HE.parentNode.removeChild(HE)}(this.$el,this.__resizeHandler),this.dispose(),this.chart=null},refresh:function(){this.chart&&(this.destroy(),this.init())}},created:function(){var t=this;this.manualUpdate||this.$watch("options",function(e,n){!t.chart&&e?t.init():t.chart.setOption(e,e!==n)},{deep:!this.watchShallow}),["theme","initOptions","autoResize","manualUpdate","watchShallow"].forEach(function(e){t.$watch(e,function(){t.refresh()},{deep:!0})})},mounted:function(){this.options&&this.init()},activated:function(){this.autoResize&&this.chart&&this.chart.resize()},beforeDestroy:function(){this.chart&&this.destroy()},connect:function(t){"string"!=typeof t&&(t=t.map(function(t){return t.chart})),D_.connect(t)},disconnect:function(t){D_.disConnect(t)},registerMap:function(t,e,n){D_.registerMap(t,e,n)},registerTheme:function(t,e){D_.registerTheme(t,e)},graphic:D_.graphic}},t.exports=n()}).call(e,n(38))},function(t,e,n){var r=n(4),i=n(376),o=n(0),a=n(53).createSymbol,s=n(6),u=n(43);function l(t,e,n){r.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}var c=l.prototype;c.createLine=function(t,e,n){return new i(t,e,n)},c._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");o.isArray(r)||(r=[r,r]);var s=n.get("color")||t.getItemVisual(e,"color"),u=this.childAt(1);this._symbolType!==i&&(this.remove(u),(u=a(i,-.5,-.5,1,1,s)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",s),u.setStyle(n.getItemStyle(["color"])),u.attr("scale",r),u.setColor(s),u.attr("scale",r),this._symbolType=i,this._updateEffectAnimation(t,n,e))},c._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(r){var i=this,a=t.getItemLayout(n),s=1e3*e.get("period"),u=e.get("loop"),l=e.get("constantSpeed"),c=o.retrieve(e.get("delay"),function(e){return e/t.count()*s/3}),h="function"==typeof c;if(r.ignore=!0,this.updateAnimationPoints(r,a),l>0&&(s=this.getLineLength(r)/l*1e3),s!==this._period||u!==this._loop){r.stopAnimation();var f=c;h&&(f=c(n)),r.__t>0&&(f=-s*r.__t),r.__t=0;var d=r.animate("",u).when(s,{__t:1}).delay(f).during(function(){i.updateSymbolPosition(r)});u||d.done(function(){i.remove(r)}),d.start()}this._period=s,this._loop=u}},c.getLineLength=function(t){return s.dist(t.__p1,t.__cp1)+s.dist(t.__cp1,t.__p2)},c.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},c.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},c.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,r=t.__cp1,i=t.__t,o=t.position,a=u.quadraticAt,s=u.quadraticDerivativeAt;o[0]=a(e[0],r[0],n[0],i),o[1]=a(e[1],r[1],n[1],i);var l=s(e[0],r[0],n[0],i),c=s(e[1],r[1],n[1],i);t.rotation=-Math.atan2(c,l)-Math.PI/2,t.ignore=!1},c.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},o.inherits(l,r.Group);var h=l;t.exports=h},function(t,e,n){var r=n(4),i=n(0);function o(t,e,n){r.Group.call(this),this._createPolyline(t,e,n)}var a=o.prototype;a._createPolyline=function(t,e,n){var i=t.getItemLayout(e),o=new r.Polyline({shape:{points:i}});this.add(o),this._updateCommonStl(t,e,n)},a.updateData=function(t,e,n){var i=t.hostModel,o=this.childAt(0),a={shape:{points:t.getItemLayout(e)}};r.updateProps(o,a,i,e),this._updateCommonStl(t,e,n)},a._updateCommonStl=function(t,e,n){var o=this.childAt(0),a=t.getItemModel(e),s=t.getItemVisual(e,"color"),u=n&&n.lineStyle,l=n&&n.hoverLineStyle;n&&!t.hasItemOption||(u=a.getModel("lineStyle").getLineStyle(),l=a.getModel("emphasis.lineStyle").getLineStyle()),o.useStyle(i.defaults({strokeNoScale:!0,fill:"none",stroke:s},u)),o.hoverStyle=l,r.setHoverStyle(this)},a.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},i.inherits(o,r.Group);var s=o;t.exports=s},function(t,e,n){var r={seriesType:"lines",plan:n(106)(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s,u=i.end-i.start;if(n){for(var l=0,c=i.start;c<i.end;c++)l+=t.getLineCoordsCount(c);s=new Float32Array(u+2*l)}else s=new Float32Array(4*u);var h=0,f=[];for(c=i.start;c<i.end;c++){var d=t.getLineCoords(c,a);n&&(s[h++]=d);for(var p=0;p<d;p++)f=e.dataToPoint(a[p],!1,f),s[h++]=f[0],s[h++]=f[1]}o.setLayout("linesPoints",s)}else for(c=i.start;c<i.end;c++){var g=o.getItemModel(c),v=(d=t.getLineCoords(c,a),[]);if(n)for(var m=0;m<d;m++)v.push(e.dataToPoint(a[m]));else{v[0]=e.dataToPoint(a[0]),v[1]=e.dataToPoint(a[1]);var y=g.get("lineStyle.curveness");+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}o.setItemLayout(c,v)}}}}};t.exports=r},,,,,function(t,e,n){t.exports={default:n(1174),__esModule:!0}},function(t,e,n){var r=n(39);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},,function(t,e,n){var r;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,h=o.indexOf,f={},d=f.toString,p=f.hasOwnProperty,g=p.toString,v=g.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},x=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function b(t,e,n){var r,i=(e=e||a).createElement("script");if(i.text=t,n)for(r in _)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[d.call(t)]||"object":typeof t}var M=function(t,e){return new M.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function A(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!y(t)&&!x(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}M.fn=M.prototype={jquery:"3.3.1",constructor:M,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=M.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return M.each(this,t)},map:function(t){return this.pushStack(M.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},M.extend=M.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(r=t[e])&&(l&&r&&(M.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&M.isPlainObject(n)?n:{},a[e]=M.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},M.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&g.call(n)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){b(t)},each:function(t,e){var n,r=0;if(A(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(A(Object(t))?M.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(A(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return l.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(M.fn[Symbol.iterator]=o[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var T=function(t){var e,n,r,i,o,a,s,u,l,c,h,f,d,p,g,v,m,y,x,_="sizzle"+1*new Date,b=t.document,w=0,M=0,S=at(),A=at(),T=at(),O=function(t,e){return t===e&&(h=!0),0},C={}.hasOwnProperty,I=[],k=I.pop,D=I.push,L=I.push,E=I.slice,P=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+j+"*("+R+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+j+"*\\]",B=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",V=new RegExp(j+"+","g"),F=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),H=new RegExp("^"+j+"*,"+j+"*"),W=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),G=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),q=new RegExp(B),U=new RegExp("^"+R+"$"),Y={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),tt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){f()},it=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{L.apply(I=E.call(b.childNodes),b.childNodes),I[b.childNodes.length].nodeType}catch(t){L={apply:I.length?function(t,e){D.apply(t,E.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function ot(t,e,r,i){var o,s,l,c,h,p,m,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!i&&((e?e.ownerDocument||e:b)!==d&&f(e),e=e||d,g)){if(11!==w&&(h=K.exec(t)))if(o=h[1]){if(9===w){if(!(l=e.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(y&&(l=y.getElementById(o))&&x(e,l)&&l.id===o)return r.push(l),r}else{if(h[2])return L.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!T[t+" "]&&(!v||!v.test(t))){if(1!==w)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=_),s=(p=a(t)).length;s--;)p[s]="#"+c+" "+mt(p[s]);m=p.join(","),y=J.test(t)&&gt(e.parentNode)||e}if(m)try{return L.apply(r,y.querySelectorAll(m)),r}catch(t){}finally{c===_&&e.removeAttribute("id")}}}return u(t.replace(F,"$1"),e,r,i)}function at(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function st(t){return t[_]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ct(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st(function(e){return e=+e,st(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:b;return a!==d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,g=!o(d),b!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=$.test(d.getElementsByClassName),n.getById=ut(function(t){return p.appendChild(t).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(n.qsa=$.test(d.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+j+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+_+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=$.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",B)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=$.test(p.compareDocumentPosition),x=e||$.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===d||t.ownerDocument===b&&x(b,t)?-1:e===d||e.ownerDocument===b&&x(b,e)?1:c?P(c,t)-P(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===d?-1:e===d?1:i?-1:o?1:c?P(c,t)-P(c,e):0;if(i===o)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ct(a[r],s[r]):a[r]===b?-1:s[r]===b?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&f(t),e=e.replace(G,"='$1']"),n.matchesSelector&&g&&!T[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&f(t),x(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&f(t);var i=r.attrHandle[e.toLowerCase()],o=i&&C.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(O),h){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return c=null,t},i=ot.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=ot.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(V," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(x=(d=(l=(c=(h=(f=v)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&l[1])&&l[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(x=d=0)||p.pop();)if(1===f.nodeType&&++x&&f===e){c[t]=[w,d,x];break}}else if(y&&(x=d=(l=(c=(h=(f=e)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&l[1]),!1===x)for(;(f=++d&&f&&f[g]||(x=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++x||(y&&((c=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[w,x]),f!==e)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[_]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=P(t,o[a])]=!(n[r]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:st(function(t){var e=[],n=[],r=s(t.replace(F,"$1"));return r[_]?st(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:st(function(t){return U.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:pt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ft(e);function vt(){}function mt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function yt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=M++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var l,c,h,f=[w,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===w&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function xt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function _t(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function bt(t,e,n,r,i,o){return r&&!r[_]&&(r=bt(r)),i&&!i[_]&&(i=bt(i,o)),st(function(o,a,s,u){var l,c,h,f=[],d=[],p=a.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)ot(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),v=!t||!o&&e?g:_t(g,f,t,s,u),m=n?i||(o?t:p||r)?[]:a:v;if(n&&n(v,m,s,u),r)for(l=_t(m,d),r(l,[],s,u),c=l.length;c--;)(h=l[c])&&(m[d[c]]=!(v[d[c]]=h));if(o){if(i||t){if(i){for(l=[],c=m.length;c--;)(h=m[c])&&l.push(v[c]=h);i(null,m=[],l,u)}for(c=m.length;c--;)(h=m[c])&&(l=i?P(o,h):f[c])>-1&&(o[l]=!(a[l]=h))}}else m=_t(m===a?m.splice(p,m.length):m),i?i(null,a,m,u):L.apply(a,m)})}function wt(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,c=yt(function(t){return t===e},s,!0),h=yt(function(t){return P(e,t)>-1},s,!0),f=[function(t,n,r){var i=!a&&(r||n!==l)||((e=n).nodeType?c(t,n,r):h(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])f=[yt(xt(f),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[_]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return bt(u>1&&xt(f),u>1&&mt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(F,"$1"),n,u<i&&wt(t.slice(u,i)),i<o&&wt(t=t.slice(i)),i<o&&mt(t))}f.push(n)}return xt(f)}return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,a=ot.tokenize=function(t,e){var n,i,o,a,s,u,l,c=A[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=r.preFilter;s;){for(a in n&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(F," ")}),s=s.slice(n.length)),r.filter)!(i=Y[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):A(t,u).slice(0)},s=ot.compile=function(t,e){var n,i=[],o=[],s=T[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=wt(e[n]))[_]?i.push(s):o.push(s);(s=T(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,u,c){var h,p,v,m=0,y="0",x=o&&[],_=[],b=l,M=o||i&&r.find.TAG("*",c),S=w+=null==b?1:Math.random()||.1,A=M.length;for(c&&(l=a===d||a||c);y!==A&&null!=(h=M[y]);y++){if(i&&h){for(p=0,a||h.ownerDocument===d||(f(h),s=!g);v=t[p++];)if(v(h,a||d,s)){u.push(h);break}c&&(w=S)}n&&((h=!v&&h)&&m--,o&&x.push(h))}if(m+=y,n&&y!==m){for(p=0;v=e[p++];)v(x,_,a,s);if(o){if(m>0)for(;y--;)x[y]||_[y]||(_[y]=k.call(u));_=_t(_)}L.apply(u,_),c&&!o&&_.length>0&&m+e.length>1&&ot.uniqueSort(u)}return c&&(w=S,l=b),x};return n?st(o):o}(o,i))).selector=t}return s},u=ot.select=function(t,e,n,i){var o,u,l,c,h,f="function"==typeof t&&t,d=!i&&a(t=f.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&r.relative[u[1].type]){if(!(e=(r.find.ID(l.matches[0].replace(Q,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=Y.needsContext.test(t)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((h=r.find[c])&&(i=h(l.matches[0].replace(Q,tt),J.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&mt(u)))return L.apply(n,i),n;break}}return(f||s(t,d))(i,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=_.split("").sort(O).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(N,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),ot}(n);M.find=T,M.expr=T.selectors,M.expr[":"]=M.expr.pseudos,M.uniqueSort=M.unique=T.uniqueSort,M.text=T.getText,M.isXMLDoc=T.isXML,M.contains=T.contains,M.escapeSelector=T.escape;var O=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&M(t).is(n))break;r.push(t)}return r},C=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},I=M.expr.match.needsContext;function k(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,n){return y(e)?M.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?M.grep(t,function(t){return t===e!==n}):"string"!=typeof e?M.grep(t,function(t){return h.call(e,t)>-1!==n}):M.filter(e,t,n)}M.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?M.find.matchesSelector(r,t)?[r]:[]:M.find.matches(t,M.grep(e,function(t){return 1===t.nodeType}))},M.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(M(t).filter(function(){for(e=0;e<r;e++)if(M.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)M.find(t,i[e],n);return r>1?M.uniqueSort(n):n},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&I.test(t)?M(t):t||[],!1).length}});var E,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(M.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||E,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:P.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof M?e[0]:e,M.merge(this,M.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),D.test(r[1])&&M.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(M):M.makeArray(t,this)}).prototype=M.fn,E=M(a);var N=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}M.fn.extend({has:function(t){var e=M(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(M.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&M(t);if(!I.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&M.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?M.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(M(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),M.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return O(t,"parentNode")},parentsUntil:function(t,e,n){return O(t,"parentNode",n)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return O(t,"nextSibling")},prevAll:function(t){return O(t,"previousSibling")},nextUntil:function(t,e,n){return O(t,"nextSibling",n)},prevUntil:function(t,e,n){return O(t,"previousSibling",n)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return k(t,"iframe")?t.contentDocument:(k(t,"template")&&(t=t.content||t),M.merge([],t.childNodes))}},function(t,e){M.fn[t]=function(n,r){var i=M.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=M.filter(r,i)),this.length>1&&(j[t]||M.uniqueSort(i),N.test(t)&&i.reverse()),this.pushStack(i)}});var z=/[^\x20\t\r\n\f]+/g;function B(t){return t}function V(t){throw t}function F(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}M.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return M.each(t.match(z)||[],function(t,n){e[n]=!0}),e}(t):M.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){M.each(n,function(n,r){y(r)?t.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==w(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return M.each(arguments,function(t,e){for(var n;(n=M.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?M.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},M.extend({Deferred:function(t){var e=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return M.Deferred(function(n){M.each(e,function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function a(t,e,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(l)?i?l.call(n,a(o,e,B,i),a(o,e,V,i)):(o++,l.call(n,a(o,e,B,i),a(o,e,V,i),a(o,e,B,e.notifyWith))):(r!==B&&(s=void 0,u=[n]),(i||e.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(n){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(r!==V&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?c():(M.Deferred.getStackHook&&(c.stackTrace=M.Deferred.getStackHook()),n.setTimeout(c))}}return M.Deferred(function(n){e[0][3].add(a(0,n,y(i)?i:B,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:B)),e[2][3].add(a(0,n,y(r)?r:V))}).promise()},promise:function(t){return null!=t?M.extend(t,i):i}},o={};return M.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=u.call(arguments),o=M.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(F(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)F(i[n],a(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},M.readyException=function(t){n.setTimeout(function(){throw t})};var W=M.Deferred();function G(){a.removeEventListener("DOMContentLoaded",G),n.removeEventListener("load",G),M.ready()}M.fn.ready=function(t){return W.then(t).catch(function(t){M.readyException(t)}),this},M.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--M.readyWait:M.isReady)||(M.isReady=!0,!0!==t&&--M.readyWait>0||W.resolveWith(a,[M]))}}),M.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(M.ready):(a.addEventListener("DOMContentLoaded",G),n.addEventListener("load",G));var q=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===w(n))for(s in i=!0,n)q(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(M(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},U=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function Z(t){return t.replace(U,"ms-").replace(Y,X)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=M.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Z(e)]=n;else for(r in e)i[Z(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in r?[e]:e.match(z)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||M.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!M.isEmptyObject(e)}};var J=new K,Q=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}M.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),M.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Z(r.slice(5)),nt(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Q.set(this,t)}):q(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),M.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=J.get(t,e),n&&(!r||Array.isArray(n)?r=J.access(t,e,M.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=M.queue(t,e),r=n.length,i=n.shift(),o=M._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){M.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:M.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),M.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?M.queue(this[0],t):void 0===e?this:this.each(function(){var n=M.queue(this,t,e);M._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&M.dequeue(this,t)})},dequeue:function(t){return this.each(function(){M.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=M.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&M.contains(t.ownerDocument,t)&&"none"===M.css(t,"display")},st=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i};function ut(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return M.css(t,e,"")},u=s(),l=n&&n[3]||(M.cssNumber[e]?"":"px"),c=(M.cssNumber[e]||"px"!==l&&+u)&&it.exec(M.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)M.style(t,e,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,M.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var lt={};function ct(t){var e,n=t.ownerDocument,r=t.nodeName,i=lt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=M.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),lt[r]=i,i)}function ht(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&at(r)&&(i[o]=ct(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}M.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?M(this).show():M(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&k(t,e)?M.merge([t],n):n}function mt(t,e){for(var n=0,r=t.length;n<r;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,xt,_t=/<|&#?\w+;/;function bt(t,e,n,r,i){for(var o,a,s,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===w(o))M.merge(f,o.nodeType?[o]:o);else if(_t.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(dt.exec(o)||["",""])[1].toLowerCase(),u=gt[s]||gt._default,a.innerHTML=u[1]+M.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;M.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(r&&M.inArray(o,r)>-1)i&&i.push(o);else if(l=M.contains(o.ownerDocument,o),a=vt(h.appendChild(o),"script"),l&&mt(a),n)for(c=0;o=a[c++];)pt.test(o.type||"")&&n.push(o);return h}yt=a.createDocumentFragment().appendChild(a.createElement("div")),(xt=a.createElement("input")).setAttribute("type","radio"),xt.setAttribute("checked","checked"),xt.setAttribute("name","t"),yt.appendChild(xt),m.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var wt=a.documentElement,Mt=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,At=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Ot(){return!1}function Ct(){try{return a.activeElement}catch(t){}}function It(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)It(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ot;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return M().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=M.guid++)),t.each(function(){M.event.add(this,e,i,r,n)})}M.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,v=J.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&M.find.matchesSelector(wt,i),n.guid||(n.guid=M.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==M&&M.event.triggered!==e.type?M.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(z)||[""]).length;l--;)d=g=(s=At.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d&&(h=M.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=M.event.special[d]||{},c=M.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&M.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),M.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,v=J.hasData(t)&&J.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(z)||[""]).length;l--;)if(d=g=(s=At.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=M.event.special[d]||{},f=u[d=(r?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,v.handle)||M.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)M.event.remove(t,d+e[l],n,r,!0);M.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=M.event.fix(t),u=new Array(arguments.length),l=(J.get(this,"events")||{})[s.type]||[],c=M.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=M.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((M.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?M(i,this).index(l)>-1:M.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(M.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[M.expando]?t:new M.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k(this,"input"))return this.click(),!1},_default:function(t){return k(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},M.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},M.Event=function(t,e){if(!(this instanceof M.Event))return new M.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&M.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Mt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},M.event.addProp),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){M.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||M.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),M.fn.extend({on:function(t,e,n,r){return It(this,t,e,n,r)},one:function(t,e,n,r){return It(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,M(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ot),this.each(function(){M.event.remove(this,t,n,e)})}});var kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Dt=/<script|<style|<link/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return k(t,"table")&&k(11!==e.nodeType?e:e.firstChild,"tr")&&M(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),a=J.set(e,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)M.event.add(e,i,l[i][n]);Q.hasData(t)&&(s=Q.access(t),u=M.extend({},s),Q.set(e,u))}}function zt(t,e,n,r){e=l.apply([],e);var i,o,a,s,u,c,h=0,f=t.length,d=f-1,p=e[0],g=y(p);if(g||f>1&&"string"==typeof p&&!m.checkClone&&Lt.test(p))return t.each(function(i){var o=t.eq(i);g&&(e[0]=p.call(this,i,o.html())),zt(o,e,n,r)});if(f&&(o=(i=bt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=M.map(vt(i,"script"),Nt)).length;h<f;h++)u=i,h!==d&&(u=M.clone(u,!0,!0),s&&M.merge(a,vt(u,"script"))),n.call(t[h],u,h);if(s)for(c=a[a.length-1].ownerDocument,M.map(a,jt),h=0;h<s;h++)u=a[h],pt.test(u.type||"")&&!J.access(u,"globalEval")&&M.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?M._evalUrl&&M._evalUrl(u.src):b(u.textContent.replace(Et,""),c,u))}return t}function Bt(t,e,n){for(var r,i=e?M.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||M.cleanData(vt(r)),r.parentNode&&(n&&M.contains(r.ownerDocument,r)&&mt(vt(r,"script")),r.parentNode.removeChild(r));return t}M.extend({htmlPrefilter:function(t){return t.replace(kt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s,u,l,c=t.cloneNode(!0),h=M.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||M.isXMLDoc(t)))for(a=vt(c),r=0,i=(o=vt(t)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&ft.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(e)if(n)for(o=o||vt(t),a=a||vt(c),r=0,i=o.length;r<i;r++)Rt(o[r],a[r]);else Rt(t,c);return(a=vt(c,"script")).length>0&&mt(a,!h&&vt(t,"script")),c},cleanData:function(t){for(var e,n,r,i=M.event.special,o=0;void 0!==(n=t[o]);o++)if($(n)){if(e=n[J.expando]){if(e.events)for(r in e.events)i[r]?M.event.remove(n,r):M.removeEvent(n,r,e.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),M.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return q(this,function(t){return void 0===t?M.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return zt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return zt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(M.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return M.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!gt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=M.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(M.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return zt(this,arguments,function(e){var n=this.parentNode;M.inArray(this,t)<0&&(M.cleanData(vt(this)),n&&n.replaceChild(e,this))},t)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){M.fn[t]=function(t){for(var n,r=[],i=M(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),M(i[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}});var Vt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Ft=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=new RegExp(ot.join("|"),"i");function Wt(t,e,n){var r,i,o,a,s=t.style;return(n=n||Ft(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||M.contains(t.ownerDocument,t)||(a=M.style(t,e)),!m.pixelBoxStyles()&&Vt.test(a)&&Ht.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Gt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wt.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",wt.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,u,l=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,M.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var qt=/^(none|table(?!-c[ea]).+)/,Ut=/^--/,Yt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Zt=["Webkit","Moz","ms"],$t=a.createElement("div").style;function Kt(t){var e=M.cssProps[t];return e||(e=M.cssProps[t]=function(t){if(t in $t)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Zt.length;n--;)if((t=Zt[n]+e)in $t)return t}(t)||t),e}function Jt(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function Qt(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=M.css(t,n+ot[a],!0,i)),r?("content"===n&&(u-=M.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(u-=M.css(t,"border"+ot[a]+"Width",!0,i))):(u+=M.css(t,"padding"+ot[a],!0,i),"padding"!==n?u+=M.css(t,"border"+ot[a]+"Width",!0,i):s+=M.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))),u}function te(t,e,n){var r=Ft(t),i=Wt(t,e,r),o="border-box"===M.css(t,"boxSizing",!1,r),a=o;if(Vt.test(i)){if(!n)return i;i="auto"}return a=a&&(m.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===M.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(i=parseFloat(i)||0)+Qt(t,e,n||(o?"border":"content"),a,r,i)+"px"}function ee(t,e,n,r,i){return new ee.prototype.init(t,e,n,r,i)}M.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=Z(e),u=Ut.test(e),l=t.style;if(u||(e=Kt(s)),a=M.cssHooks[e]||M.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e];"string"===(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=ut(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(M.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,a,s=Z(e);return Ut.test(e)||(e=Kt(s)),(a=M.cssHooks[e]||M.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=Wt(t,e,r)),"normal"===i&&e in Xt&&(i=Xt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),M.each(["height","width"],function(t,e){M.cssHooks[e]={get:function(t,n,r){if(n)return!qt.test(M.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,r):st(t,Yt,function(){return te(t,e,r)})},set:function(t,n,r){var i,o=Ft(t),a="border-box"===M.css(t,"boxSizing",!1,o),s=r&&Qt(t,e,r,a,o);return a&&m.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Qt(t,e,"border",!1,o)-.5)),s&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=M.css(t,e)),Jt(0,n,s)}}}),M.cssHooks.marginLeft=Gt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(t,e){M.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(M.cssHooks[t+e].set=Jt)}),M.fn.extend({css:function(t,e){return q(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Ft(t),i=e.length;a<i;a++)o[e[a]]=M.css(t,e[a],!1,r);return o}return void 0!==n?M.style(t,e,n):M.css(t,e)},t,e,arguments.length>1)}}),M.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||M.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(M.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=M.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=M.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){M.fx.step[t.prop]?M.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[M.cssProps[t.prop]]&&!M.cssHooks[t.prop]?t.elem[t.prop]=t.now:M.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},M.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},M.fx=ee.prototype.init,M.fx.step={};var ne,re,ie=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ae(){re&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,M.fx.interval),M.fx.tick())}function se(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function le(t,e,n){for(var r,i=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function ce(t,e,n){var r,i,o=0,a=ce.prefilters.length,s=M.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ne||se(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(t,[l,r,n]),r<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:M.extend({},e),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||se(),duration:n.duration,tweens:[],createTween:function(e,n){var r=M.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=Z(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=M.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=ce.prefilters[o].call(l,t,c,l.opts))return y(r.stop)&&(M._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return M.map(c,le,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),M.fx.timer(M.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}M.Animation=M.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(z);for(var n,r=0,i=t.length;r<i;r++)n=t[r],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&at(t),v=J.get(t,"fxshow");for(r in n.queue||(null==(a=M._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,M.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[r],ie.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||M.style(t,r)}if((u=!M.isEmptyObject(e))||!M.isEmptyObject(d))for(r in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=v&&v.display)&&(l=J.get(t,"display")),"none"===(c=M.css(t,"display"))&&(l?c=l:(ht([t],!0),l=t.style.display||l,c=M.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===M.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=J.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&ht([t],!0),f.done(function(){for(r in g||ht([t]),J.remove(t,"fxshow"),d)M.style(t,r,d[r])})),u=le(g?v[r]:0,r,f),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),M.speed=function(t,e,n){var r=t&&"object"==typeof t?M.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return M.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in M.fx.speeds?r.duration=M.fx.speeds[r.duration]:r.duration=M.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&M.dequeue(this,r.queue)},r},M.fn.extend({fadeTo:function(t,e,n,r){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=M.isEmptyObject(t),o=M.speed(e,n,r),a=function(){var e=ce(this,M.extend({},t),o);(i||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=M.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&oe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||M.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=M.timers,a=r?r.length:0;for(n.finish=!0,M.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),M.each(["toggle","show","hide"],function(t,e){var n=M.fn[e];M.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,r,i)}}),M.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){M.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),M.timers=[],M.fx.tick=function(){var t,e=0,n=M.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||M.fx.stop(),ne=void 0},M.fx.timer=function(t){M.timers.push(t),M.fx.start()},M.fx.interval=13,M.fx.start=function(){re||(re=!0,ae())},M.fx.stop=function(){re=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(t,e){return t=M.fx&&M.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var he,fe=M.expr.attrHandle;M.fn.extend({attr:function(t,e){return q(this,M.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){M.removeAttr(this,t)})}}),M.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?M.prop(t,e,n):(1===o&&M.isXMLDoc(t)||(i=M.attrHooks[e.toLowerCase()]||(M.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void M.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=M.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&k(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(z);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?M.removeAttr(t,n):t.setAttribute(n,n),n}},M.each(M.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||M.find.attr;fe[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=fe[a],fe[a]=i,i=null!=n(t,e,r)?a:null,fe[a]=o),i}});var de=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function ge(t){return(t.match(z)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(z)||[]}M.fn.extend({prop:function(t,e){return q(this,M.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[M.propFix[t]||t]})}}),M.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&M.isXMLDoc(t)||(e=M.propFix[e]||e,i=M.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=M.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(M.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this}),M.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){M(this).addClass(t.call(this,e,ve(this)))});if((e=me(t)).length)for(;n=this[u++];)if(i=ve(n),r=1===n.nodeType&&" "+ge(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ge(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){M(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[u++];)if(i=ve(n),r=1===n.nodeType&&" "+ge(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=ge(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){M(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,i,o,a;if(r)for(i=0,o=M(this),a=me(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ge(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;M.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,M(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=M.map(i,function(t){return null==t?"":t+""})),(e=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=M.valHooks[i.type]||M.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ye,""):null==n?"":n:void 0}}),M.extend({valHooks:{option:{get:function(t){var e=M.find.attr(t,"value");return null!=e?e:ge(M.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(e=M(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=M.makeArray(e),a=i.length;a--;)((r=i[a]).selected=M.inArray(M.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=M.inArray(M(t).val(),e)>-1}},m.checkOn||(M.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};M.extend(M.event,{trigger:function(t,e,r,i){var o,s,u,l,c,h,f,d,g=[r||a],v=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(s=d=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!xe.test(v+M.event.triggered)&&(v.indexOf(".")>-1&&(v=(m=v.split(".")).shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[M.expando]?t:new M.Event(v,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:M.makeArray(e,[t]),f=M.event.special[v]||{},i||!f.trigger||!1!==f.trigger.apply(r,e))){if(!i&&!f.noBubble&&!x(r)){for(l=f.delegateType||v,xe.test(l+v)||(s=s.parentNode);s;s=s.parentNode)g.push(s),u=s;u===(r.ownerDocument||a)&&g.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=g[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?l:f.bindType||v,(h=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&h.apply(s,e),(h=c&&s[c])&&h.apply&&$(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=v,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!$(r)||c&&y(r[v])&&!x(r)&&((u=r[c])&&(r[c]=null),M.event.triggered=v,t.isPropagationStopped()&&d.addEventListener(v,_e),r[v](),t.isPropagationStopped()&&d.removeEventListener(v,_e),M.event.triggered=void 0,u&&(r[c]=u)),t.result}},simulate:function(t,e,n){var r=M.extend(new M.Event,n,{type:t,isSimulated:!0});M.event.trigger(r,null,e)}}),M.fn.extend({trigger:function(t,e){return this.each(function(){M.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return M.event.trigger(t,e,n,!0)}}),m.focusin||M.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){M.event.simulate(e,t.target,M.event.fix(t))};M.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,e);i||r.addEventListener(t,n,!0),J.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,e)-1;i?J.access(r,e,i):(r.removeEventListener(t,n,!0),J.remove(r,e))}}});var be=n.location,we=Date.now(),Me=/\?/;M.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||M.error("Invalid XML: "+t),e};var Se=/\[\]$/,Ae=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;function Ce(t,e,n,r){var i;if(Array.isArray(e))M.each(e,function(e,i){n||Se.test(t)?r(t,i):Ce(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==w(e))r(t,e);else for(i in e)Ce(t+"["+i+"]",e[i],n,r)}M.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!M.isPlainObject(t))M.each(t,function(){i(this.name,this.value)});else for(n in t)Ce(n,t[n],e,i);return r.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=M.prop(this,"elements");return t?M.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!M(this).is(":disabled")&&Oe.test(this.nodeName)&&!Te.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=M(this).val();return null==n?null:Array.isArray(n)?M.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Ie=/%20/g,ke=/#.*$/,De=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ee=/^(?:GET|HEAD)$/,Pe=/^\/\//,Ne={},je={},Re="*/".concat("*"),ze=a.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(z)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ve(t,e,n,r){var i={},o=t===je;function a(s){var u;return i[s]=!0,M.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),u}return a(e.dataTypes[0])||!i["*"]&&a("*")}function Fe(t,e){var n,r,i=M.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&M.extend(!0,t,r),t}ze.href=be.href,M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,M.ajaxSettings),e):Fe(M.ajaxSettings,t)},ajaxPrefilter:Be(Ne),ajaxTransport:Be(je),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,u,l,c,h,f,d,p=M.ajaxSetup({},e),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?M(g):M.event,m=M.Deferred(),y=M.Callbacks("once memory"),x=p.statusCode||{},_={},b={},w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Le.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),A(0,e),this}};if(m.promise(S),p.url=((t||p.url||be.href)+"").replace(Pe,be.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(z)||[""],null==p.crossDomain){l=a.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=ze.protocol+"//"+ze.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=M.param(p.data,p.traditional)),Ve(Ne,p,e,S),c)return S;for(f in(h=M.event&&p.global)&&0==M.active++&&M.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ee.test(p.type),i=p.url.replace(ke,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ie,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Me.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(De,"$1"),d=(Me.test(i)?"&":"?")+"_="+we+++d),p.url=i+d),p.ifModified&&(M.lastModified[i]&&S.setRequestHeader("If-Modified-Since",M.lastModified[i]),M.etag[i]&&S.setRequestHeader("If-None-Match",M.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Re+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||c))return S.abort();if(w="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=Ve(je,p,e,S)){if(S.readyState=1,h&&v.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(u=n.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,r.send(_,A)}catch(t){if(c)throw t;A(-1,t)}}else A(-1,"No Transport");function A(t,e,a,s){var l,f,d,_,b,w=e;c||(c=!0,u&&n.clearTimeout(u),r=void 0,o=s||"",S.readyState=t>0?4:0,l=t>=200&&t<300||304===t,a&&(_=function(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,S,a)),_=function(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,_,S,l),l?(p.ifModified&&((b=S.getResponseHeader("Last-Modified"))&&(M.lastModified[i]=b),(b=S.getResponseHeader("etag"))&&(M.etag[i]=b)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=_.state,f=_.data,l=!(d=_.error))):(d=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(e||w)+"",l?m.resolveWith(g,[f,w,S]):m.rejectWith(g,[S,w,d]),S.statusCode(x),x=void 0,h&&v.trigger(l?"ajaxSuccess":"ajaxError",[S,p,l?f:d]),y.fireWith(g,[S,w]),h&&(v.trigger("ajaxComplete",[S,p]),--M.active||M.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return M.get(t,e,n,"json")},getScript:function(t,e){return M.get(t,void 0,e,"script")}}),M.each(["get","post"],function(t,e){M[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),M.ajax(M.extend({url:t,type:e,dataType:i,data:n,success:r},M.isPlainObject(t)&&t))}}),M._evalUrl=function(t){return M.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},M.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=M(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){M(this).wrapInner(t.call(this,e))}):this.each(function(){var e=M(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){M(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(t){return!M.expr.pseudos.visible(t)},M.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},We=M.ajaxSettings.xhr();m.cors=!!We&&"withCredentials"in We,m.ajax=We=!!We,M.ajaxTransport(function(t){var e,r;if(m.cors||We&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(He[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),M.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return M.globalEval(t),t}}}),M.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),M.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=M("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ge,qe=[],Ue=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||M.expando+"_"+we++;return this[t]=!0,t}}),M.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Ue.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ue.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ue,"$1"+i):!1!==t.jsonp&&(t.url+=(Me.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||M.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?M(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,qe.push(i)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),m.createHTMLDocument=((Ge=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),M.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),i=D.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=bt([t],e,o),o&&o.length&&M(o).remove(),M.merge([],i.childNodes)));var r,i,o},M.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=ge(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&M.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?M("<div>").append(M.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){M.fn[e]=function(t){return this.on(e,t)}}),M.expr.pseudos.animated=function(t){return M.grep(M.timers,function(e){return t===e.elem}).length},M.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l=M.css(t,"position"),c=M(t),h={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=M.css(t,"top"),u=M.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,n,M.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):c.css(h)}},M.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){M.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===M.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===M.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=M(t).offset()).top+=M.css(t,"borderTopWidth",!0),i.left+=M.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-M.css(r,"marginTop",!0),left:e.left-i.left-M.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===M.css(t,"position");)t=t.offsetParent;return t||wt})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;M.fn[t]=function(r){return q(this,function(t,r,i){var o;if(x(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),M.each(["top","left"],function(t,e){M.cssHooks[e]=Gt(m.pixelPosition,function(t,n){if(n)return n=Wt(t,e),Vt.test(n)?M(t).position()[e]+"px":n})}),M.each({Height:"height",Width:"width"},function(t,e){M.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){M.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return q(this,function(e,n,i){var o;return x(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?M.css(e,n,s):M.style(e,n,i,s)},e,a?i:void 0,a)}})}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){M.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),M.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),M.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),M.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=u.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||M.guid++,i},M.holdReady=function(t){t?M.readyWait++:M.ready(!0)},M.isArray=Array.isArray,M.parseJSON=JSON.parse,M.nodeName=k,M.isFunction=y,M.isWindow=x,M.camelCase=Z,M.type=w,M.now=Date.now,M.isNumeric=function(t){var e=M.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(r=function(){return M}.apply(e,[]))||(t.exports=r);var Ye=n.jQuery,Xe=n.$;return M.noConflict=function(t){return n.$===M&&(n.$=Xe),t&&n.jQuery===M&&(n.jQuery=Ye),M},i||(n.jQuery=n.$=M),M})},function(t,e,n){(function(t,r){var i;(function(){"use strict";var o={function:!0,object:!0},a=o[typeof window]&&window||this,s=o[typeof e]&&e,u=o[typeof t]&&t&&!t.nodeType&&t,l=s&&u&&"object"==typeof r&&r;!l||l.global!==l&&l.window!==l&&l.self!==l||(a=l);var c=Math.pow(2,53)-1,h=/\bOpera/,f=Object.prototype,d=f.hasOwnProperty,p=f.toString;function g(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function v(t){return t=b(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:g(t)}function m(t,e){for(var n in t)d.call(t,n)&&e(t[n],n,t)}function y(t){return null==t?g(t):p.call(t).slice(8,-1)}function x(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function _(t,e){var n=null;return function(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r&&r>-1&&r<=c)for(;++n<r;)e(t[n],n,t);else m(t,e)}(t,function(r,i){n=e(n,r,i,t)}),n}function b(t){return String(t).replace(/^ +| +$/g,"")}var w=function t(e){var n=a,r=e&&"object"==typeof e&&"String"!=y(e);r&&(n=e,e=null);var i=n.navigator||{},o=i.userAgent||"";e||(e=o);var s,u,l,c,f,d=r?!!i.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(p.toString()),g=r?"Object":"ScriptBridgingProxyObject",w=r?"Object":"Environment",M=r&&n.java?"JavaPackage":y(n.java),S=r?"Object":"RuntimeObject",A=/\bJava/.test(M)&&n.java,T=A&&y(n.environment)==w,O=A?"a":"α",C=A?"b":"β",I=n.document||{},k=n.operamini||n.opera,D=h.test(D=r&&k?k["[[Class]]"]:y(k))?D:k=null,L=e,E=[],P=null,N=e==o,j=N&&k&&"function"==typeof k.version&&k.version(),R=_([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(t,n){return t||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(e)&&(n.label||n)}),z=function(t){return _(t,function(t,n){return t||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),B=H([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=function(t){return _(t,function(t,n,r){return t||(n[B]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+x(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),F=function(t){return _(t,function(t,n){var r=n.pattern||x(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(t,e,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&n&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(r=r[/[\d.]+$/.exec(t)])&&(t="Windows "+r),t=String(t),e&&n&&(t=t.replace(RegExp(e,"i"),n)),t=v(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,r,n.label||n)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function H(t){return _(t,function(t,n){var r=n.pattern||x(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=v(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}if(R&&(R=[R]),V&&!B&&(B=H([V])),(s=/\bGoogle TV\b/.exec(B))&&(B=s[0]),/\bSimulator\b/i.test(e)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==z&&/\bOPiOS\b/.test(e)&&E.push("running in Turbo/Uncompressed mode"),"IE"==z&&/\blike iPhone OS\b/.test(e)?(V=(s=t(e.replace(/like iPhone OS/,""))).manufacturer,B=s.product):/^iP/.test(B)?(z||(z="Safari"),F="iOS"+((s=/ OS ([\d_]+)/i.exec(e))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"!=z||/buntu/i.test(F)?V&&"Google"!=V&&(/Chrome/.test(z)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(B))||/\bAndroid\b/.test(F)&&/^Chrome/.test(z)&&/\bVersion\//i.test(e)?(z="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==z?(/\bMobi/i.test(e)||(F="Android",E.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&E.unshift("accelerated")):"PaleMoon"==z&&(s=/\bFirefox\/([\d.]+)\b/.exec(e))?E.push("identifying as Firefox "+s[1]):"Firefox"==z&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(F||(F="Firefox OS"),B||(B=s[1])):!z||(s=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(z))?(z&&!B&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(s+"/")+8))&&(z=null),(s=B||V||F)&&(B||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(z=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:s)+" Browser")):"Electron"==z&&(s=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&E.push("Chromium "+s):F="Kubuntu",j||(j=_(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",x(z),"(?:Firefox|Minefield|NetFront)"],function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})),(s=("iCab"==R&&parseFloat(j)>3?"WebKit":/\bOpera\b/.test(z)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(R)&&"WebKit"||!R&&/\bMSIE\b/i.test(e)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==R&&/\bPlayStation\b(?! Vita\b)/i.test(z)&&"NetFront")&&(R=[s]),"IE"==z&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(z+=" Mobile",F="Windows Phone "+(/\+$/.test(s)?s:s+".x"),E.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(z="IE Mobile",F="Windows Phone 8.x",E.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=z&&"Trident"==R&&(s=/\brv:([\d.]+)/.exec(e))&&(z&&E.push("identifying as "+z+(j?" "+j:"")),z="IE",j=s[1]),N){if(c="global",f=null!=(l=n)?typeof l[c]:"number",/^(?:boolean|number|string|undefined)$/.test(f)||"object"==f&&!l[c])y(s=n.runtime)==g?(z="Adobe AIR",F=s.flash.system.Capabilities.os):y(s=n.phantom)==S?(z="PhantomJS",j=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof I.documentMode&&(s=/\bTrident\/(\d+)/i.exec(e))?(j=[j,I.documentMode],(s=+s[1]+4)!=j[1]&&(E.push("IE "+j[1]+" mode"),R&&(R[1]=""),j[1]=s),j="IE"==z?String(j[1].toFixed(1)):j[0]):"number"==typeof I.documentMode&&/^(?:Chrome|Firefox)\b/.test(z)&&(E.push("masking as "+z+" "+j),z="IE",j="11.0",R=["Trident"],F="Windows");else if(A&&(L=(s=A.lang.System).getProperty("os.arch"),F=F||s.getProperty("os.name")+" "+s.getProperty("os.version")),T){try{j=n.require("ringo/engine").version.join("."),z="RingoJS"}catch(t){(s=n.system)&&s.global.system==n.system&&(z="Narwhal",F||(F=s[0].os||null))}z||(z="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(E.push("Node "+s.versions.node),z="Electron",j=s.versions.electron):"string"==typeof s.versions.nw&&(E.push("Chromium "+j,"Node "+s.versions.node),z="NW.js",j=s.versions.nw)),z||(z="Node.js",L=s.arch,F=s.platform,j=(j=/[\d.]+/.exec(s.version))?j[0]:null));F=F&&v(F)}if(j&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(N&&i.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(P=/b/i.test(s)?"beta":"alpha",j=j.replace(RegExp(s+"\\+?$"),"")+("beta"==P?C:O)+(/\d+\+?/.exec(s)||"")),"Fennec"==z||"Firefox"==z&&/\b(?:Android|Firefox OS)\b/.test(F))z="Firefox Mobile";else if("Maxthon"==z&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(F=null),"Xbox 360"==B&&/\bIEMobile\b/.test(e)&&E.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(z)&&(!z||B||/Browser|Mobi/.test(z))||"Windows CE"!=F&&!/Mobi/i.test(e))if("IE"==z&&N)try{null===n.external&&E.unshift("platform preview")}catch(t){E.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(e))&&(s=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||j)?(F=((s=[s,/BB10/.test(e)])[1]?(B=null,V="BlackBerry"):"Device Software")+" "+s[0],j=null):this!=m&&"Wii"!=B&&(N&&k||/Opera/.test(z)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==z&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==z&&(F&&!/^Win/.test(F)&&j>5.5||/\bWindows XP\b/.test(F)&&j>8||8==j&&!/\bTrident\b/.test(e)))&&!h.test(s=t.call(m,e.replace(h,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),h.test(z)?(/\bIE\b/.test(s)&&"Mac OS"==F&&(F=null),s="identify"+s):(s="mask"+s,z=D?v(D.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(F=null),N||(j=null)),R=["Presto"],E.push(s));else z+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==z&&"+"==s[1].slice(-1)?(z="WebKit Nightly",P="alpha",j=s[1].slice(0,-1)):j!=s[1]&&j!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(j=null),s[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==R&&(R=["Blink"]),N&&(d||s[1])?(R&&(R[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=R?"27":"28")):(R&&(R[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:"8"),R&&(R[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==z&&(!j||parseInt(j)>45)&&(j=s)),"Opera"==z&&(s=/\bzbov|zvav$/.exec(F))?(z+=" ",E.unshift("desktop mode"),"zvav"==s?(z+="Mini",j=null):z+="Mobile",F=F.replace(RegExp(" *"+s+"$"),"")):"Safari"==z&&/\bChrome\b/.exec(R&&R[1])&&(E.unshift("desktop mode"),z="Chrome Mobile",j=null,/\bOS X\b/.test(F)?(V="Apple",F="iOS 4.3+"):F=null),j&&0==j.indexOf(s=/[\d.]+$/.exec(F))&&e.indexOf("/"+s+"-")>-1&&(F=b(F.replace(s,""))),R&&!/\b(?:Avant|Nook)\b/.test(z)&&(/Browser|Lunascape|Maxthon/.test(z)||"Safari"!=z&&/^iOS/.test(F)&&/\bSafari\b/.test(R[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(z)&&R[1])&&(s=R[R.length-1])&&E.push(s),E.length&&(E=["("+E.join("; ")+")"]),V&&B&&B.indexOf(V)<0&&E.push("on "+V),B&&E.push((/^on /.test(E[E.length-1])?"":"on ")+B),F&&(s=/ ([\d.+]+)$/.exec(F),u=s&&"/"==F.charAt(F.length-s[0].length-1),F={architecture:32,family:s&&!u?F.replace(s[0],""):F,version:s?s[1]:null,toString:function(){var t=this.version;return this.family+(t&&!u?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(L))&&!/\bi686\b/i.test(L)?(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+s),"")),z&&(/\bWOW64\b/i.test(e)||N&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(e))&&E.unshift("32-bit")):F&&/^OS X/.test(F.family)&&"Chrome"==z&&parseFloat(j)>=39&&(F.architecture=64),e||(e=null);var W={};return W.description=e,W.layout=R&&R[0],W.manufacturer=V,W.name=z,W.prerelease=P,W.product=B,W.ua=e,W.version=z&&j,W.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},W.parse=t,W.toString=function(){return this.description||""},W.version&&E.unshift(j),W.name&&E.unshift(z),F&&z&&(F!=String(F).split(" ")[0]||F!=z.split(" ")[0]&&!B)&&E.push(B?"("+F+")":"on "+F),E.length&&(W.description=E.join(" ")),W}();a.platform=w,void 0===(i=function(){return w}.call(e,n,e,t))||(t.exports=i)}).call(this)}).call(e,n(373)(t),n(38))},function(t,e,n){t.exports={graphlib:n(1253),dagre:n(928),intersect:n(1291),render:n(1293),util:n(749),version:n(1684)}},function(t,e,n){var r=n(1254);t.exports={Graph:r.Graph,json:n(1256),alg:n(1257),version:r.version}},function(t,e,n){var r=n(748),i=n(924);t.exports=function(t,e,n,r){return function(t,e,n,r){var o,a,s={},u=new i,l=function(t){var e=t.v!==o?t.v:t.w,r=s[e],i=n(t),l=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);l<r.distance&&(r.distance=l,r.predecessor=o,u.decrease(e,l))};t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)});for(;u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(l);return s}(t,String(e),n||o,r||function(e){return t.outEdges(e)})};var o=r.constant(1)},function(t,e,n){var r=n(748);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(t){return t.key})},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,o=i.length;return n[t]=o,i.push({key:t,priority:e}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},function(t,e,n){var r=n(748);t.exports=function(t){var e=0,n=[],i={},o=[];return t.nodes().forEach(function(a){r.has(i,a)||function a(s){var u=i[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(t){r.has(i,t)?i[t].onStack&&(u.lowlink=Math.min(u.lowlink,i[t].index)):(a(t),u.lowlink=Math.min(u.lowlink,i[t].lowlink))}),u.lowlink===u.index){var l,c=[];do{l=n.pop(),i[l].onStack=!1,c.push(l)}while(s!==l);o.push(c)}}(a)}),o}},function(t,e,n){var r=n(748);function i(t){var e={},n={},i=[];if(r.each(t.sinks(),function a(s){if(r.has(n,s))throw new o;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],i.push(s))}),r.size(e)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o},function(t,e,n){var r=n(748);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],a={};return r.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,i,o,a,s){r.has(o,n)||(o[n]=!0,i||s.push(n),r.each(a(n),function(n){t(e,n,i,o,a,s)}),i&&s.push(n))}(t,e,"post"===n,a,i,o)}),o}},function(t,e,n){var r;try{r=n(1266)}catch(t){}r||(r=window.dagre),t.exports=r},function(t,e,n){"use strict";var r=n(734),i=n(755).Graph,o=n(815).slack;function a(t,e){return r.forEach(t.nodes(),function n(i){r.forEach(e.nodeEdges(i),function(r){var a=r.v,s=i===a?r.w:a;t.hasNode(s)||o(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))})}),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return o(e,n)})}function u(t,e,n){r.forEach(t.nodes(),function(t){e.node(t).rank+=n})}t.exports=function(t){var e,n,r=new i({directed:!1}),l=t.nodes()[0],c=t.nodeCount();r.setNode(l,{});for(;a(r,t)<c;)e=s(r,t),n=r.hasNode(e.v)?o(t,e):-o(t,e),u(r,t,n);return r}},function(t,e){t.exports=function(t,e){return t.intersect(e)}},function(t,e,n){var r=n(845);t.exports=function(t,e,n){return r(t,e,e,n)}},function(t,e,n){var r=n(1292);t.exports=function(t,e,n){var i=t.x,o=t.y,a=[],s=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;e.forEach(function(t){s=Math.min(s,t.x),u=Math.min(u,t.y)});for(var l=i-t.width/2-s,c=o-t.height/2-u,h=0;h<e.length;h++){var f=e[h],d=e[h<e.length-1?h+1:0],p=r(t,n,{x:l+f.x,y:c+f.y},{x:l+d.x,y:c+d.y});p&&a.push(p)}if(!a.length)return t;a.length>1&&a.sort(function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,u=Math.sqrt(a*a+s*s);return o<u?-1:o===u?0:1});return a[0]}},function(t,e){t.exports=function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,l=t.height/2;Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=0===s?0:l*a/s,r=l):(a<0&&(u=-u),n=u,r=0===a?0:u*s/a);return{x:i+n,y:o+r}}},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var r=n(791),i=n(935),o=Object(i.a)(r.a),a=o.right,s=o.left;e.c=a},function(t,e,n){"use strict";var r=n(791);e.a=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Object(r.a)(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}},function(t,e,n){"use strict";function r(t,e){return[t,e]}e.b=r,e.a=function(t,e){null==e&&(e=r);for(var n=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(o,o=t[++n]);return a}},function(t,e,n){"use strict";var r=n(938);e.a=function(t,e){var n=Object(r.a)(t,e);return n?Math.sqrt(n):n}},function(t,e,n){"use strict";var r=n(800);e.a=function(t,e){var n,i,o=t.length,a=0,s=-1,u=0,l=0;if(null==e)for(;++s<o;)isNaN(n=Object(r.a)(t[s]))||(l+=(i=n-u)*(n-(u+=i/++a)));else for(;++s<o;)isNaN(n=Object(r.a)(e(t[s],s,t)))||(l+=(i=n-u)*(n-(u+=i/++a)));if(a>1)return l/(a-1)}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(t,e,n){"use strict";e.a=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}},function(t,e,n){"use strict";e.b=a,e.c=function(t,e,n){var a=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/s;u>=r?s*=10:u>=i?s*=5:u>=o&&(s*=2);return e<t?-s:s};var r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2);function a(t,e,n){var a=(e-t)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,s);return s>=0?(u>=r?10:u>=i?5:u>=o?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=i?5:u>=o?2:1)}e.a=function(t,e,n){var r,i,o,s,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=a(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/s;return r&&o.reverse(),o}},function(t,e,n){"use strict";e.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}},function(t,e,n){"use strict";var r=n(944);function i(t){return t.length}e.a=function(t){if(!(a=t.length))return[];for(var e=-1,n=Object(r.a)(t,i),o=new Array(n);++e<n;)for(var a,s=-1,u=o[e]=new Array(a);++s<a;)u[s]=t[s][e];return o}},function(t,e,n){"use strict";n(1319);var r=n(953);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b})},function(t,e,n){"use strict";var r=n(756);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return o.call(this,t)}}}}e.a=r},function(t,e,n){"use strict";e.a=o;var r=n(951),i=n(756);function o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.b=function(){return new i.a(this._enter||this._groups.map(r.a),this._parents)},o.prototype={constructor:o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";e.b=i;var r=n(850);function i(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):i(this.node(),t)}},function(t,e,n){"use strict";e.b=function(t,e){var n=t.document.documentElement,o=Object(r.select)(t).on("dragstart.drag",null);e&&(o.on("click.drag",i.a,!0),setTimeout(function(){o.on("click.drag",null)},0));"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)};var r=n(735),i=n(954);e.a=function(t){var e=t.document.documentElement,n=Object(r.select)(t).on("dragstart.drag",i.a,!0);"onselectstart"in e?n.on("selectstart.drag",i.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,n){"use strict";e.b=function(){r.event.stopImmediatePropagation()};var r=n(735);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";var r=n(763),i=n(856),o=n(957),a=n(793);function s(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}e.a=function t(e){var n=Object(a.b)(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),s=n(t.b,e.b),u=Object(a.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=s(e),t.opacity=u(e),t+""}}return i.gamma=t,i}(1);s(i.b),s(o.a)},function(t,e,n){"use strict";var r=n(856);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(853);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),s=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(853);e.a=function(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Object(r.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}},function(t,e,n){"use strict";var r=n(818),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var n,a,s,u=i.lastIndex=o.lastIndex=0,l=-1,c=[],h=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,h.push({i:l,x:Object(r.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),c[l]?c[l]+=s:c[++l]=s),c.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,r=0;r<e;++r)c[(n=h[r]).i]=n.x(t);return c.join("")})}},function(t,e,n){"use strict";n(1371),n(767),n(1403);var r=n(964);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(757);e.a=function(t,e){var n,i,o,a=t.__transition,s=!0;if(a){for(o in e=null==e?null:e+"",a)(n=a[o]).name===e?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(763),i=n(761);e.a=function(t,e){var n;return("number"==typeof e?i.c:e instanceof r.a?i.d:(n=Object(r.a)(e))?(e=n,i.d):i.f)(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return u});var r=Math.cos,i=Math.sin,o=Math.PI,a=o/2,s=2*o,u=Math.max},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";var r=n(1421);n.d(e,"a",function(){return r.a});var i=n(975);n.d(e,"b",function(){return i.a}),n.d(e,"c",function(){return i.b})},function(t,e,n){"use strict";var r=n(758);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return o.call(this,t)}}}}e.a=r},function(t,e,n){"use strict";e.a=o;var r=n(973),i=n(758);function o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.b=function(){return new i.a(this._enter||this._groups.map(r.a),this._parents)},o.prototype={constructor:o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";e.b=i;var r=n(865);function i(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):i(this.node(),t)}},function(t,e,n){"use strict";e.b=function(t,e){var n=t.document.documentElement,o=Object(r.k)(t).on("dragstart.drag",null);e&&(o.on("click.drag",i.a,!0),setTimeout(function(){o.on("click.drag",null)},0));"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)};var r=n(742),i=n(976);e.a=function(t){var e=t.document.documentElement,n=Object(r.k)(t).on("dragstart.drag",i.a,!0);"onselectstart"in e?n.on("selectstart.drag",i.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,n){"use strict";e.b=function(){r.e.stopImmediatePropagation()};var r=n(742);e.a=function(){r.e.preventDefault(),r.e.stopImmediatePropagation()}},function(t,e,n){"use strict";var r=n(1460);n.d(e,"y",function(){return r.a});var i=n(1461);n.d(e,"D",function(){return i.b}),n.d(e,"E",function(){return i.a}),n.d(e,"G",function(){return i.c}),n.d(e,"F",function(){return i.b});var o=n(1462);n.d(e,"m",function(){return o.b}),n.d(e,"n",function(){return o.a}),n.d(e,"p",function(){return o.c}),n.d(e,"o",function(){return o.b});var a=n(1463);n.d(e,"z",function(){return a.b}),n.d(e,"A",function(){return a.a}),n.d(e,"C",function(){return a.c}),n.d(e,"B",function(){return a.b});var s=n(1464);n.d(e,"H",function(){return s.b}),n.d(e,"I",function(){return s.a}),n.d(e,"K",function(){return s.c}),n.d(e,"J",function(){return s.b});var u=n(1465);n.d(e,"u",function(){return u.b}),n.d(e,"v",function(){return u.a}),n.d(e,"x",function(){return u.c}),n.d(e,"w",function(){return u.b});var l=n(1466);n.d(e,"i",function(){return l.b}),n.d(e,"j",function(){return l.a}),n.d(e,"l",function(){return l.c}),n.d(e,"k",function(){return l.b});var c=n(1467);n.d(e,"e",function(){return c.c}),n.d(e,"f",function(){return c.a}),n.d(e,"h",function(){return c.c}),n.d(e,"g",function(){return c.b});var h=n(1468);n.d(e,"a",function(){return h.b}),n.d(e,"b",function(){return h.a}),n.d(e,"d",function(){return h.c}),n.d(e,"c",function(){return h.b});var f=n(1469);n.d(e,"q",function(){return f.c}),n.d(e,"r",function(){return f.a}),n.d(e,"t",function(){return f.c}),n.d(e,"s",function(){return f.b})},function(t,e,n){"use strict";e.b=function(t){return t.x},e.c=function(t){return t.y};var r=n(792),i=n(801),o=n(857);var a=10,s=Math.PI*(3-Math.sqrt(5));e.a=function(t){var e,n=1,u=.001,l=1-Math.pow(u,1/300),c=0,h=.6,f=Object(i.c)(),d=Object(o.c)(g),p=Object(r.a)("tick","end");function g(){v(),p.call("tick",e),n<u&&(d.stop(),p.call("end",e))}function v(){var e,r,i=t.length;for(n+=(c-n)*l,f.each(function(t){t(n)}),e=0;e<i;++e)null==(r=t[e]).fx?r.x+=r.vx*=h:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=h:(r.y=r.fy,r.vy=0)}function m(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var i=a*Math.sqrt(n),o=n*s;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function y(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),m(),e={tick:v,restart:function(){return d.restart(g),e},stop:function(){return d.stop(),e},nodes:function(n){return arguments.length?(t=n,m(),f.each(y),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(u=+t,e):u},alphaDecay:function(t){return arguments.length?(l=+t,e):+l},alphaTarget:function(t){return arguments.length?(c=+t,e):c},velocityDecay:function(t){return arguments.length?(h=1-t,e):1-h},force:function(t,n){return arguments.length>1?(null==n?f.remove(t):f.set(t,y(n)),e):f.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(p.on(t,n),e):p.on(t)}}}},function(t,e,n){"use strict";var r=n(823),i=n(1492),o=n(1493),a=n(980),s=n(981),u=n(982),l=n(1496),c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];e.a=function(t){var e=t.grouping&&t.thousands?Object(i.a)(t.grouping,t.thousands):l.a,n=t.currency,h=t.decimal,f=t.numerals?Object(o.a)(t.numerals):l.a,d=t.percent||"%";function p(t){var r=(t=Object(a.a)(t)).fill,i=t.align,o=t.sign,l=t.symbol,p=t.zero,g=t.width,v=t.comma,m=t.precision,y=t.type,x="$"===l?n[0]:"#"===l&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===l?n[1]:/[%p]/.test(y)?d:"",b=s.a[y],w=!y||/[defgprs%]/.test(y);function M(t){var n,a,s,l=x,d=_;if("c"===y)d=b(t)+d,t="";else{var M=(t=+t)<0;if(t=b(Math.abs(t),m),M&&0==+t&&(M=!1),l=(M?"("===o?o:"-":"-"===o||"("===o?"":o)+l,d=("s"===y?c[8+u.b/3]:"")+d+(M&&"("===o?")":""),w)for(n=-1,a=t.length;++n<a;)if(48>(s=t.charCodeAt(n))||s>57){d=(46===s?h+t.slice(n+1):t.slice(n))+d,t=t.slice(0,n);break}}v&&!p&&(t=e(t,1/0));var S=l.length+t.length+d.length,A=S<g?new Array(g-S+1).join(r):"";switch(v&&p&&(t=e(A+t,A.length?g-d.length:1/0),A=""),i){case"<":t=l+t+d+A;break;case"=":t=l+A+t+d;break;case"^":t=A.slice(0,S=A.length>>1)+l+t+d+A.slice(S);break;default:t=A+l+t+d}return f(t)}return m=null==m?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:p,formatPrefix:function(t,e){var n=p(((t=Object(a.a)(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(e)/3))),o=Math.pow(10,-i),s=c[8+i/3];return function(t){return n(o*t)+s}}}}},function(t,e,n){"use strict";e.a=o;var r=n(981),i=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function o(t){return new a(t)}function a(t){if(!(e=i.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",o=e[2]||">",a=e[3]||"-",s=e[4]||"",u=!!e[5],l=e[6]&&+e[6],c=!!e[7],h=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(c=!0,f="g"):r.a[f]||(f=""),(u||"0"===n&&"="===o)&&(u=!0,n="0",o="="),this.fill=n,this.align=o,this.sign=a,this.symbol=s,this.zero=u,this.width=l,this.comma=c,this.precision=h,this.type=f}o.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(t,e,n){"use strict";var r=n(1494),i=n(982),o=n(1495);e.a={"":r.a,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Object(o.a)(100*t,e)},r:o.a,s:i.a,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r,i=n(874);e.a=function(t,e){var n=Object(i.a)(t,e);if(!n)return t+"";var o=n[0],a=n[1],s=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=o.length;return s===u?o:s>u?o+new Array(s-u+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+Object(i.a)(t,Math.max(0,e+s-1))[0]}},function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return p});var r,i,o,a,s,u=n(795),l=n(730),c=n(769),h=n(776),f=Object(u.a)(),d=Object(u.a)(),p={point:c.a,lineStart:c.a,lineEnd:c.a,polygonStart:function(){f.reset(),p.lineStart=g,p.lineEnd=v},polygonEnd:function(){var t=+f;d.add(t<0?l.w+t:t),this.lineStart=this.lineEnd=this.point=c.a},sphere:function(){d.add(l.w)}};function g(){p.point=m}function v(){y(r,i)}function m(t,e){p.point=y,r=t,i=e,t*=l.r,e*=l.r,o=t,a=Object(l.g)(e=e/2+l.q),s=Object(l.t)(e)}function y(t,e){t*=l.r,e=(e*=l.r)/2+l.q;var n=t-o,r=n>=0?1:-1,i=r*n,u=Object(l.g)(e),c=Object(l.t)(e),h=s*c,d=a*u+h*Object(l.g)(i),p=h*r*Object(l.t)(i);f.add(Object(l.e)(p,d)),o=t,a=u,s=c}e.c=function(t){return d.reset(),Object(h.a)(t,p),2*d}},function(t,e,n){"use strict";e.a=s;var r=n(802),i=n(1503),o=n(730),a=n(824);function s(t,e,n,i,a,s){if(n){var l=Object(o.g)(e),c=Object(o.t)(e),h=i*n;null==a?(a=e+i*o.w,s=e-h/2):(a=u(l,a),s=u(l,s),(i>0?a<s:a>s)&&(a+=i*o.w));for(var f,d=a;i>0?d>s:d<s;d-=h)f=Object(r.g)([l,-c*Object(o.g)(d),-c*Object(o.t)(d)]),t.point(f[0],f[1])}}function u(t,e){(e=Object(r.a)(e))[0]-=t,Object(r.e)(e);var n=Object(o.b)(-e[1]);return((-e[2]<0?-n:n)+o.w-o.i)%o.w}e.b=function(){var t,e,n=Object(i.a)([0,0]),r=Object(i.a)(90),u=Object(i.a)(6),l={point:function(n,r){t.push(n=e(n,r)),n[0]*=o.h,n[1]*=o.h}};function c(){var i=n.apply(this,arguments),c=r.apply(this,arguments)*o.r,h=u.apply(this,arguments)*o.r;return t=[],e=Object(a.b)(-i[0]*o.r,-i[1]*o.r,0).invert,s(l,c,h,1),i={type:"Polygon",coordinates:[t]},t=e=null,i}return c.center=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)([+t[0],+t[1]]),c):n},c.radius=function(t){return arguments.length?(r="function"==typeof t?t:Object(i.a)(+t),c):r},c.precision=function(t){return arguments.length?(u="function"==typeof t?t:Object(i.a)(+t),c):u},c}},function(t,e,n){"use strict";e.a=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";var r=n(987),i=n(730);e.a=Object(r.a)(function(){return!0},function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,s){var u=a>0?i.o:-i.o,l=Object(i.a)(a-n);Object(i.a)(l-i.o)<i.i?(t.point(n,r=(r+s)/2>0?i.l:-i.l),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(a,r),e=0):o!==u&&l>=i.o&&(Object(i.a)(n-o)<i.i&&(n-=o*i.i),Object(i.a)(a-u)<i.i&&(a-=u*i.i),r=function(t,e,n,r){var o,a,s=Object(i.t)(t-n);return Object(i.a)(s)>i.i?Object(i.d)((Object(i.t)(e)*(a=Object(i.g)(r))*Object(i.t)(n)-Object(i.t)(r)*(o=Object(i.g)(e))*Object(i.t)(t))/(o*a*s)):(e+r)/2}(n,r,a,s),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=a,r=s),o=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*i.l,r.point(-i.o,o),r.point(0,o),r.point(i.o,o),r.point(i.o,0),r.point(i.o,-o),r.point(0,-o),r.point(-i.o,-o),r.point(-i.o,0),r.point(-i.o,o);else if(Object(i.a)(t[0]-e[0])>i.i){var a=t[0]<e[0]?i.o:-i.o;o=n*a/2,r.point(-a,o),r.point(0,o),r.point(a,o)}else r.point(e[0],e[1])},[-i.o,-i.l])},function(t,e,n){"use strict";var r=n(988),i=n(989),o=n(730),a=n(991),s=n(745);function u(t){return t.length>1}function l(t,e){return((t=t.x)[0]<0?t[1]-o.l-o.i:o.l-t[1])-((e=e.x)[0]<0?e[1]-o.l-o.i:o.l-e[1])}e.a=function(t,e,n,o){return function(c){var h,f,d,p=e(c),g=Object(r.a)(),v=e(g),m=!1,y={point:x,lineStart:b,lineEnd:w,polygonStart:function(){y.point=M,y.lineStart=S,y.lineEnd=A,f=[],h=[]},polygonEnd:function(){y.point=x,y.lineStart=b,y.lineEnd=w,f=Object(s.n)(f);var t=Object(a.a)(h,o);f.length?(m||(c.polygonStart(),m=!0),Object(i.a)(f,l,t,n,c)):t&&(m||(c.polygonStart(),m=!0),c.lineStart(),n(null,null,1,c),c.lineEnd()),m&&(c.polygonEnd(),m=!1),f=h=null},sphere:function(){c.polygonStart(),c.lineStart(),n(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function x(e,n){t(e,n)&&c.point(e,n)}function _(t,e){p.point(t,e)}function b(){y.point=_,p.lineStart()}function w(){y.point=x,p.lineEnd()}function M(t,e){d.push([t,e]),v.point(t,e)}function S(){v.lineStart(),d=[]}function A(){M(d[0][0],d[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),o=g.result(),a=o.length;if(d.pop(),h.push(d),d=null,a)if(1&i){if((e=(n=o[0]).length-1)>0){for(m||(c.polygonStart(),m=!0),c.lineStart(),t=0;t<e;++t)c.point((r=n[t])[0],r[1]);c.lineEnd()}}else a>1&&2&i&&o.push(o.pop().concat(o.shift())),f.push(o.filter(u))}return y}}},function(t,e,n){"use strict";var r=n(769);e.a=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.a,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}},function(t,e,n){"use strict";var r=n(990);function i(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function o(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}e.a=function(t,e,n,a,s){var u,l,c=[],h=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],a=t[e];if(Object(r.a)(o,a)){for(s.lineStart(),u=0;u<e;++u)s.point((o=t[u])[0],o[1]);s.lineEnd()}else c.push(n=new i(o,t,null,!0)),h.push(n.o=new i(o,null,n,!1)),c.push(n=new i(a,t,null,!1)),h.push(n.o=new i(a,null,n,!0))}}),c.length){for(h.sort(e),o(c),o(h),u=0,l=h.length;u<l;++u)h[u].e=n=!n;for(var f,d,p=c[0];;){for(var g=p,v=!0;g.v;)if((g=g.n)===p)return;f=g.z,s.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(u=0,l=f.length;u<l;++u)s.point((d=f[u])[0],d[1]);else a(g.x,g.n.x,1,s);g=g.n}else{if(v)for(f=g.p.z,u=f.length-1;u>=0;--u)s.point((d=f[u])[0],d[1]);else a(g.x,g.p.x,-1,s);g=g.p}f=(g=g.o).z,v=!v}while(!g.v);s.lineEnd()}}}},function(t,e,n){"use strict";var r=n(730);e.a=function(t,e){return Object(r.a)(t[0]-e[0])<r.i&&Object(r.a)(t[1]-e[1])<r.i}},function(t,e,n){"use strict";var r=n(795),i=n(802),o=n(730),a=Object(r.a)();e.a=function(t,e){var n=e[0],r=e[1],s=[Object(o.t)(n),-Object(o.g)(n),0],u=0,l=0;a.reset();for(var c=0,h=t.length;c<h;++c)if(d=(f=t[c]).length)for(var f,d,p=f[d-1],g=p[0],v=p[1]/2+o.q,m=Object(o.t)(v),y=Object(o.g)(v),x=0;x<d;++x,g=b,m=M,y=S,p=_){var _=f[x],b=_[0],w=_[1]/2+o.q,M=Object(o.t)(w),S=Object(o.g)(w),A=b-g,T=A>=0?1:-1,O=T*A,C=O>o.o,I=m*M;if(a.add(Object(o.e)(I*T*Object(o.t)(O),y*S+I*Object(o.g)(O))),u+=C?A+T*o.w:A,C^g>=n^b>=n){var k=Object(i.c)(Object(i.a)(p),Object(i.a)(_));Object(i.e)(k);var D=Object(i.c)(s,k);Object(i.e)(D);var L=(C^A>=0?-1:1)*Object(o.c)(D[2]);(r>L||r===L&&(k[0]||k[1]))&&(l+=C^A>=0?1:-1)}}return(u<-o.i||u<o.i&&a<-o.i)^1&l}},function(t,e,n){"use strict";var r=n(802),i=n(984),o=n(730),a=n(990),s=n(987);e.a=function(t){var e=Object(o.g)(t),n=6*o.r,u=e>0,l=Object(o.a)(e)>o.i;function c(t,n){return Object(o.g)(t)*Object(o.g)(n)>e}function h(t,n,i){var a=Object(r.a)(t),s=Object(r.a)(n),u=[1,0,0],l=Object(r.c)(a,s),c=Object(r.d)(l,l),h=l[0],f=c-h*h;if(!f)return!i&&t;var d=e*c/f,p=-e*h/f,g=Object(r.c)(u,l),v=Object(r.f)(u,d),m=Object(r.f)(l,p);Object(r.b)(v,m);var y=g,x=Object(r.d)(v,y),_=Object(r.d)(y,y),b=x*x-_*(Object(r.d)(v,v)-1);if(!(b<0)){var w=Object(o.u)(b),M=Object(r.f)(y,(-x-w)/_);if(Object(r.b)(M,v),M=Object(r.g)(M),!i)return M;var S,A=t[0],T=n[0],O=t[1],C=n[1];T<A&&(S=A,A=T,T=S);var I=T-A,k=Object(o.a)(I-o.o)<o.i,D=k||I<o.i;if(!k&&C<O&&(S=O,O=C,C=S),D?k?O+C>0^M[1]<(Object(o.a)(M[0]-A)<o.i?O:C):O<=M[1]&&M[1]<=C:I>o.o^(A<=M[0]&&M[0]<=T)){var L=Object(r.f)(y,(-x+w)/_);return Object(r.b)(L,v),[M,Object(r.g)(L)]}}}function f(e,n){var r=u?t:o.o-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}return Object(s.a)(c,function(t){var e,n,r,i,s;return{lineStart:function(){i=r=!1,s=1},point:function(d,p){var g,v=[d,p],m=c(d,p),y=u?m?0:f(d,p):m?f(d+(d<0?o.o:-o.o),p):0;if(!e&&(i=r=m)&&t.lineStart(),m!==r&&(!(g=h(e,v))||Object(a.a)(e,g)||Object(a.a)(v,g))&&(v[0]+=o.i,v[1]+=o.i,m=c(v[0],v[1])),m!==r)s=0,m?(t.lineStart(),g=h(v,e),t.point(g[0],g[1])):(g=h(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(l&&e&&u^m){var x;y&n||!(x=h(v,e,!0))||(s=0,u?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!m||e&&Object(a.a)(e,v)||t.point(v[0],v[1]),e=v,r=m,n=y},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return s|(i&&r)<<1}}},function(e,r,o,a){Object(i.a)(a,t,n,o,e,r)},u?[0,-t]:[-o.o,t-o.o])}},function(t,e,n){"use strict";var r=n(994),i=[null,null],o={type:"LineString",coordinates:i};e.a=function(t,e){return i[0]=t,i[1]=e,Object(r.a)(o)}},function(t,e,n){"use strict";var r,i,o,a=n(795),s=n(730),u=n(769),l=n(776),c=Object(a.a)(),h={sphere:u.a,point:u.a,lineStart:function(){h.point=d,h.lineEnd=f},lineEnd:u.a,polygonStart:u.a,polygonEnd:u.a};function f(){h.point=h.lineEnd=u.a}function d(t,e){t*=s.r,e*=s.r,r=t,i=Object(s.t)(e),o=Object(s.g)(e),h.point=p}function p(t,e){t*=s.r,e*=s.r;var n=Object(s.t)(e),a=Object(s.g)(e),u=Object(s.a)(t-r),l=Object(s.g)(u),h=a*Object(s.t)(u),f=o*n-i*a*l,d=i*n+o*a*l;c.add(Object(s.e)(Object(s.u)(h*h+f*f),d)),r=t,i=n,o=a}e.a=function(t){return c.reset(),Object(l.a)(t,h),+c}},function(t,e,n){"use strict";var r=n(769),i=1/0,o=i,a=-i,s=a,u={point:function(t,e){t<i&&(i=t);t>a&&(a=t);e<o&&(o=e);e>s&&(s=e)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,o],[a,s]];return a=s=-(o=i=1/0),t}};e.a=u},function(t,e,n){"use strict";var r=n(876);e.a=function(){return Object(r.b)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,e,n){"use strict";e.b=i;var r=n(762);function i(t,e){return[t,e]}i.invert=i,e.a=function(){return Object(r.a)(i).scale(152.63)}},function(t,e,n){"use strict";e.b=u;var r=n(999);function i(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,l=s*s+u*u;if(l){var c=.5+((a*=a)-(o*=o))/(2*l),h=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=r+c*s+h*u,n.y=i+c*u-h*s}else n.x=r+a,n.y=i}function o(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function a(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function s(t){this._=t,this.next=null,this.previous=null}function u(t){if(!(l=t.length))return 0;var e,n,u,l,c,h,f,d,p,g,v;if((e=t[0]).x=0,e.y=0,!(l>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(l>2))return e.r+n.r;i(n,e,u=t[2]),e=new s(e),n=new s(n),u=new s(u),e.next=u.previous=n,n.next=e.previous=u,u.next=n.previous=e;t:for(f=3;f<l;++f){i(e._,n._,u=t[f]),u=new s(u),d=n.next,p=e.previous,g=n._.r,v=e._.r;do{if(g<=v){if(o(d._,u._)){n=d,e.next=n,n.previous=e,--f;continue t}g+=d._.r,d=d.next}else{if(o(p._,u._)){(e=p).next=n,n.previous=e,--f;continue t}v+=p._.r,p=p.previous}}while(d!==p.next);for(u.previous=e,u.next=n,e.next=n.previous=n=u,c=a(e);(u=u.next)!==n;)(h=a(u))<c&&(e=u,c=h);n=e.next}for(e=[n._],u=n;(u=u.next)!==n;)e.push(u._);for(u=Object(r.a)(e),f=0;f<l;++f)(e=t[f]).x-=u.x,e.y-=u.y;return u.r}e.a=function(t){return u(t),t}},function(t,e,n){"use strict";var r=n(1542);function i(t,e){var n,r;if(s(e,t))return[e];for(n=0;n<t.length;++n)if(o(e,t[n])&&s(l(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(o(l(t[n],t[r]),e)&&o(l(t[n],e),t[r])&&o(l(t[r],e),t[n])&&s(c(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function o(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function a(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function s(t,e){for(var n=0;n<e.length;++n)if(!a(t,e[n]))return!1;return!0}function u(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return l(t[0],t[1]);case 3:return c(t[0],t[1],t[2])}var e}function l(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(r+a+l/h*c)/2,r:(h+i+s)/2}}function c(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=r-a,d=r-l,p=i-s,g=i-c,v=u-o,m=h-o,y=r*r+i*i-o*o,x=y-a*a-s*s+u*u,_=y-l*l-c*c+h*h,b=d*p-f*g,w=(p*_-g*x)/(2*b)-r,M=(g*v-p*m)/b,S=(d*x-f*_)/(2*b)-i,A=(f*m-d*v)/b,T=M*M+A*A-1,O=2*(o+w*M+S*A),C=w*w+S*S-o*o,I=-(T?(O+Math.sqrt(O*O-4*T*C))/(2*T):C/O);return{x:r+w+M*I,y:i+S+A*I,r:I}}e.a=function(t){for(var e,n,o=0,s=(t=Object(r.a)(r.b.call(t))).length,l=[];o<s;)e=t[o],n&&a(n,e)?++o:(n=u(l=i(l,e)),o=0);return n}},function(t,e,n){"use strict";e.a=function(){return 0},e.b=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l});var r=n(768),i=n(884),o=n(1003),a=n(806);function s(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}e.a=function t(e){var n=Object(a.b)(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),s=n(t.b,e.b),u=Object(a.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=s(e),t.opacity=u(e),t+""}}return i.gamma=t,i}(1);var u=s(i.b),l=s(o.a)},function(t,e,n){"use strict";var r=n(884);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(883);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),s=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(883);e.a=function(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Object(r.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}},function(t,e,n){"use strict";var r=n(828),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var n,a,s,u=i.lastIndex=o.lastIndex=0,l=-1,c=[],h=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,h.push({i:l,x:Object(r.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),c[l]?c[l]+=s:c[++l]=s),c.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,r=0;r<e;++r)c[(n=h[r]).i]=n.x(t);return c.join("")})}},function(t,e,n){"use strict";var r=n(796);e.a=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(796);e.a=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(885);e.a=function(t,e){return function(n,i,o){arguments.length<3&&(o=i,i=null);var a=Object(r.a)(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,i=t)):i},a.row(i),o?a.get(o):a}}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),e.a=function t(e){var n=Object(r.c)(),a=[],s=o;e=null==e?[]:i.b.call(e);function u(t){var r=t+"",i=n.get(r);if(!i){if(s!==o)return s;n.set(r,i=a.push(t))}return e[(i-1)%e.length]}u.domain=function(t){if(!arguments.length)return a.slice();a=[],n=Object(r.c)();for(var e,i,o=-1,s=t.length;++o<s;)n.has(i=(e=t[o])+"")||n.set(i,a.push(e));return u};u.range=function(t){return arguments.length?(e=i.b.call(t),u):e.slice()};u.unknown=function(t){return arguments.length?(s=t,u):s};u.copy=function(){return t().domain(a).range(e).unknown(s)};return u};var r=n(801),i=n(777),o={name:"implicit"}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}},function(t,e,n){"use strict";e.a=x;var r=n(745),i=n(761),o=n(831),a=n(887),s=n(777),u=n(830),l=n(1014),c=1e3,h=60*c,f=60*h,d=24*f,p=7*d,g=30*d,v=365*d;function m(t){return new Date(t)}function y(t){return t instanceof Date?+t:+new Date(+t)}function x(t,e,n,o,a,_,b,w,M){var S=Object(u.b)(u.c,i.c),A=S.invert,T=S.domain,O=M(".%L"),C=M(":%S"),I=M("%I:%M"),k=M("%I %p"),D=M("%a %d"),L=M("%b %d"),E=M("%B"),P=M("%Y"),N=[[b,1,c],[b,5,5*c],[b,15,15*c],[b,30,30*c],[_,1,h],[_,5,5*h],[_,15,15*h],[_,30,30*h],[a,1,f],[a,3,3*f],[a,6,6*f],[a,12,12*f],[o,1,d],[o,2,2*d],[n,1,p],[e,1,g],[e,3,3*g],[t,1,v]];function j(r){return(b(r)<r?O:_(r)<r?C:a(r)<r?I:o(r)<r?k:e(r)<r?n(r)<r?D:L:t(r)<r?E:P)(r)}function R(e,n,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=Object(r.e)(function(t){return t[2]}).right(N,a);s===N.length?(o=Object(r.A)(n/v,i/v,e),e=t):s?(o=(s=N[a/N[s-1][2]<N[s][2]/a?s-1:s])[1],e=s[0]):(o=Math.max(Object(r.A)(n,i,e),1),e=w)}return null==o?e:e.every(o)}return S.invert=function(t){return new Date(A(t))},S.domain=function(t){return arguments.length?T(s.a.call(t,y)):T().map(m)},S.ticks=function(t,e){var n,r=T(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=R(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},S.tickFormat=function(t,e){return null==e?j:M(e)},S.nice=function(t,e){var n=T();return(t=R(t,n[0],n[n.length-1],e))?T(Object(l.a)(n,t)):S},S.copy=function(){return Object(u.a)(S,x(t,e,n,o,a,_,b,w,M))},S}e.b=function(){return x(o.D,o.n,o.B,o.a,o.e,o.j,o.r,o.h,a.c).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(t,e,n){"use strict";e.a=function(t){var e=t.dateTime,n=t.date,u=t.time,l=t.periods,c=t.days,h=t.shortDays,f=t.months,mt=t.shortMonths,yt=d(l),xt=p(l),_t=d(c),bt=p(c),wt=d(h),Mt=p(h),St=d(f),At=p(f),Tt=d(mt),Ot=p(mt),Ct={a:function(t){return h[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return mt[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:P,e:P,f:B,H:N,I:j,j:R,L:z,m:V,M:F,p:function(t){return l[+(t.getHours()>=12)]},Q:gt,s:vt,S:H,u:W,U:G,V:q,w:U,W:Y,x:null,X:null,y:X,Y:Z,Z:$,"%":pt},It={a:function(t){return h[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return mt[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:K,e:K,f:nt,H:J,I:Q,j:tt,L:et,m:rt,M:it,p:function(t){return l[+(t.getUTCHours()>=12)]},Q:gt,s:vt,S:ot,u:at,U:st,V:ut,w:lt,W:ct,x:null,X:null,y:ht,Y:ft,Z:dt,"%":pt},kt={a:function(t,e,n){var r=wt.exec(e.slice(n));return r?(t.w=Mt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=_t.exec(e.slice(n));return r?(t.w=bt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.m=Ot[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=St.exec(e.slice(n));return r?(t.m=At[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return Et(t,e,n,r)},d:S,e:S,f:k,H:T,I:T,j:A,L:I,m:M,M:O,p:function(t,e,n){var r=yt.exec(e.slice(n));return r?(t.p=xt[r[0].toLowerCase()],n+r[0].length):-1},Q:L,s:E,S:C,u:v,U:m,V:y,w:g,W:x,x:function(t,e,r){return Et(t,n,e,r)},X:function(t,e,n){return Et(t,u,e,n)},y:b,Y:_,Z:w,"%":D};function Dt(t,e){return function(n){var r,i,o,a=[],u=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(i=s[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=u+1);return a.push(t.slice(l,u)),a.join("")}}function Lt(t,e){return function(n){var i,s,u=a(1900),l=Et(u,t,n+="",0);if(l!=n.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=o(a(u.y)),s=i.getUTCDay(),i=s>4||0===s?r.P.ceil(i):Object(r.P)(i),i=r.F.offset(i,7*(u.V-1)),u.y=i.getUTCFullYear(),u.m=i.getUTCMonth(),u.d=i.getUTCDate()+(u.w+6)%7):(i=e(a(u.y)),s=i.getDay(),i=s>4||0===s?r.l.ceil(i):Object(r.l)(i),i=r.a.offset(i,7*(u.V-1)),u.y=i.getFullYear(),u.m=i.getMonth(),u.d=i.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),s="Z"in u?o(a(u.y)).getUTCDay():e(a(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(s+5)%7:u.w+7*u.U-(s+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,o(u)):e(u)}}function Et(t,e,n,r){for(var i,o,a=0,u=e.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=kt[i in s?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return Ct.x=Dt(n,Ct),Ct.X=Dt(u,Ct),Ct.c=Dt(e,Ct),It.x=Dt(n,It),It.X=Dt(u,It),It.c=Dt(e,It),{format:function(t){var e=Dt(t+="",Ct);return e.toString=function(){return t},e},parse:function(t){var e=Lt(t+="",i);return e.toString=function(){return t},e},utcFormat:function(t){var e=Dt(t+="",It);return e.toString=function(){return t},e},utcParse:function(t){var e=Lt(t,o);return e.toString=function(){return t},e}}};var r=n(831);function i(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var s={"-":"",_:" ",0:"0"},u=/^\s*\d+/,l=/^%/,c=/[\\^$*+?|[\]().{}]/g;function h(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function f(t){return t.replace(c,"\\$&")}function d(t){return new RegExp("^(?:"+t.map(f).join("|")+")","i")}function p(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function g(t,e,n){var r=u.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v(t,e,n){var r=u.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function m(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function y(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function x(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _(t,e,n){var r=u.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function b(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function M(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function S(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function A(t,e,n){var r=u.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function T(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function O(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function C(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function I(t,e,n){var r=u.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function k(t,e,n){var r=u.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D(t,e,n){var r=l.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function L(t,e,n){var r=u.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function E(t,e,n){var r=u.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function P(t,e){return h(t.getDate(),e,2)}function N(t,e){return h(t.getHours(),e,2)}function j(t,e){return h(t.getHours()%12||12,e,2)}function R(t,e){return h(1+r.a.count(Object(r.D)(t),t),e,3)}function z(t,e){return h(t.getMilliseconds(),e,3)}function B(t,e){return z(t,e)+"000"}function V(t,e){return h(t.getMonth()+1,e,2)}function F(t,e){return h(t.getMinutes(),e,2)}function H(t,e){return h(t.getSeconds(),e,2)}function W(t){var e=t.getDay();return 0===e?7:e}function G(t,e){return h(r.t.count(Object(r.D)(t),t),e,2)}function q(t,e){var n=t.getDay();return t=n>=4||0===n?Object(r.v)(t):r.v.ceil(t),h(r.v.count(Object(r.D)(t),t)+(4===Object(r.D)(t).getDay()),e,2)}function U(t){return t.getDay()}function Y(t,e){return h(r.l.count(Object(r.D)(t),t),e,2)}function X(t,e){return h(t.getFullYear()%100,e,2)}function Z(t,e){return h(t.getFullYear()%1e4,e,4)}function $(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+h(e/60|0,"0",2)+h(e%60,"0",2)}function K(t,e){return h(t.getUTCDate(),e,2)}function J(t,e){return h(t.getUTCHours(),e,2)}function Q(t,e){return h(t.getUTCHours()%12||12,e,2)}function tt(t,e){return h(1+r.F.count(Object(r._7)(t),t),e,3)}function et(t,e){return h(t.getUTCMilliseconds(),e,3)}function nt(t,e){return et(t,e)+"000"}function rt(t,e){return h(t.getUTCMonth()+1,e,2)}function it(t,e){return h(t.getUTCMinutes(),e,2)}function ot(t,e){return h(t.getUTCSeconds(),e,2)}function at(t){var e=t.getUTCDay();return 0===e?7:e}function st(t,e){return h(r.X.count(Object(r._7)(t),t),e,2)}function ut(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Object(r.Z)(t):r.Z.ceil(t),h(r.Z.count(Object(r._7)(t),t)+(4===Object(r._7)(t).getUTCDay()),e,2)}function lt(t){return t.getUTCDay()}function ct(t,e){return h(r.P.count(Object(r._7)(t),t),e,2)}function ht(t,e){return h(t.getUTCFullYear()%100,e,2)}function ft(t,e){return h(t.getUTCFullYear()%1e4,e,4)}function dt(){return"+0000"}function pt(){return"%"}function gt(t){return+t}function vt(t){return Math.floor(+t/1e3)}},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=n(888),i="%Y-%m-%dT%H:%M:%S.%LZ";var o=Date.prototype.toISOString?function(t){return t.toISOString()}:Object(r.d)(i);e.a=o},function(t,e,n){"use strict";var r=n(775),i=n(778),o=n(832),a=n(889),s=n(890);e.a=function(){var t=s.a,e=null,n=Object(i.a)(0),u=s.b,l=Object(i.a)(!0),c=null,h=o.a,f=null;function d(i){var o,a,s,d,p,g=i.length,v=!1,m=new Array(g),y=new Array(g);for(null==c&&(f=h(p=Object(r.a)())),o=0;o<=g;++o){if(!(o<g&&l(d=i[o],o,i))===v)if(v=!v)a=o,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),s=o-1;s>=a;--s)f.point(m[s],y[s]);f.lineEnd(),f.areaEnd()}v&&(m[o]=+t(d,o,i),y[o]=+n(d,o,i),f.point(e?+e(d,o,i):m[o],u?+u(d,o,i):y[o]))}if(p)return f=null,p+""||null}function p(){return Object(a.a)().defined(l).curve(h).context(c)}return d.x=function(n){return arguments.length?(t="function"==typeof n?n:Object(i.a)(+n),e=null,d):t},d.x0=function(e){return arguments.length?(t="function"==typeof e?e:Object(i.a)(+e),d):t},d.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Object(i.a)(+t),d):e},d.y=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),u=null,d):n},d.y0=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),d):n},d.y1=function(t){return arguments.length?(u=null==t?null:"function"==typeof t?t:Object(i.a)(+t),d):u},d.lineX0=d.lineY0=function(){return p().x(t).y(n)},d.lineY1=function(){return p().x(t).y(u)},d.lineX1=function(){return p().x(e).y(n)},d.defined=function(t){return arguments.length?(l="function"==typeof t?t:Object(i.a)(!!t),d):l},d.curve=function(t){return arguments.length?(h=t,null!=c&&(f=h(c)),d):h},d.context=function(t){return arguments.length?(null==t?c=f=null:f=h(c=t),d):c},d}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),e.b=o;var r=o(n(832).a);function i(t){this._curve=t}function o(t){function e(e){return new i(t(e))}return e._curve=t,e}i.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}}},function(t,e,n){"use strict";e.b=o;var r=n(1019),i=n(889);function o(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Object(r.b)(t)):e()._curve},t}e.a=function(){return o(Object(i.a)().curve(r.a))}},function(t,e,n){"use strict";e.a=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(809);e.a={draw:function(t,e){var n=Math.sqrt(e/r.j);t.moveTo(n,0),t.arc(0,0,n,0,r.m)}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}}},function(t,e,n){"use strict";var r=Math.sqrt(1/3),i=2*r;e.a={draw:function(t,e){var n=Math.sqrt(e/i),o=n*r;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}}},function(t,e,n){"use strict";var r=n(809),i=Math.sin(r.j/10)/Math.sin(7*r.j/10),o=Math.sin(r.m/10)*i,a=-Math.cos(r.m/10)*i;e.a={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=o*n,s=a*n;t.moveTo(0,-n),t.lineTo(i,s);for(var u=1;u<5;++u){var l=r.m*u/5,c=Math.cos(l),h=Math.sin(l);t.lineTo(h*n,-c*n),t.lineTo(c*i-h*s,h*i+c*s)}t.closePath()}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}}},function(t,e,n){"use strict";var r=Math.sqrt(3);e.a={draw:function(t,e){var n=-Math.sqrt(e/(3*r));t.moveTo(0,2*n),t.lineTo(-r*n,-n),t.lineTo(r*n,-n),t.closePath()}}},function(t,e,n){"use strict";var r=-.5,i=Math.sqrt(3)/2,o=1/Math.sqrt(12),a=3*(o/2+1);e.a={draw:function(t,e){var n=Math.sqrt(e/a),s=n/2,u=n*o,l=s,c=n*o+n,h=-l,f=c;t.moveTo(s,u),t.lineTo(l,c),t.lineTo(h,f),t.lineTo(r*s-i*u,i*s+r*u),t.lineTo(r*l-i*c,i*l+r*c),t.lineTo(r*h-i*f,i*h+r*f),t.lineTo(r*s+i*u,r*u-i*s),t.lineTo(r*l+i*c,r*c-i*l),t.lineTo(r*h+i*f,r*f-i*h),t.closePath()}}},function(t,e,n){"use strict";e.a=o;var r=n(833),i=n(835);function o(t,e){this._context=t,this._k=(1-e)/6}o.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new o(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";e.a=i;var r=n(835);function i(t,e){this._context=t,this._k=(1-e)/6}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(r.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";n(1642);var r=n(770);n.d(e,"c",function(){return r.b});var i=n(1661);n.d(e,"a",function(){return i.a});var o=n(1033);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";var r=n(759);e.a=function(t,e){var n,i,o,a=t.__transition,s=!0;if(a){for(o in e=null==e?null:e+"",a)(n=a[o]).name===e?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(768),i=n(805);e.a=function(t,e){var n;return("number"==typeof e?i.m:e instanceof r.a?i.o:(n=Object(r.a)(e))?(e=n,i.o):i.s)(t,e)}},function(t,e,n){"use strict";e.c=function(t){return i.b[t.index]={site:t,halfedges:[]}},e.a=a,e.d=function(){for(var t,e,n,r,a=0,s=i.b.length;a<s;++a)if((t=i.b[a])&&(r=(e=t.halfedges).length)){var u=new Array(r),l=new Array(r);for(n=0;n<r;++n)u[n]=n,l[n]=o(t,i.e[e[n]]);for(u.sort(function(t,e){return l[e]-l[t]}),n=0;n<r;++n)l[n]=e[u[n]];for(n=0;n<r;++n)e[n]=l[n]}},e.b=function(t,e,n,o){var u,l,c,h,f,d,p,g,v,m,y,x,_=i.b.length,b=!0;for(u=0;u<_;++u)if(l=i.b[u]){for(c=l.site,f=l.halfedges,h=f.length;h--;)i.e[f[h]]||f.splice(h,1);for(h=0,d=f.length;h<d;)m=s(l,i.e[f[h]]),y=m[0],x=m[1],p=a(l,i.e[f[++h%d]]),g=p[0],v=p[1],(Math.abs(y-g)>i.f||Math.abs(x-v)>i.f)&&(f.splice(h,0,i.e.push(Object(r.b)(c,m,Math.abs(y-t)<i.f&&o-x>i.f?[t,Math.abs(g-t)<i.f?v:o]:Math.abs(x-o)<i.f&&n-y>i.f?[Math.abs(v-o)<i.f?g:n,o]:Math.abs(y-n)<i.f&&x-e>i.f?[n,Math.abs(g-n)<i.f?v:e]:Math.abs(x-e)<i.f&&y-t>i.f?[Math.abs(v-e)<i.f?g:t,e]:null))-1),++d);d&&(b=!1)}if(b){var w,M,S,A=1/0;for(u=0,b=null;u<_;++u)(l=i.b[u])&&(c=l.site,w=c[0]-t,M=c[1]-e,(S=w*w+M*M)<A&&(A=S,b=l));if(b){var T=[t,e],O=[t,o],C=[n,o],I=[n,e];b.halfedges.push(i.e.push(Object(r.b)(c=b.site,T,O))-1,i.e.push(Object(r.b)(c,O,C))-1,i.e.push(Object(r.b)(c,C,I))-1,i.e.push(Object(r.b)(c,I,T))-1)}}for(u=0;u<_;++u)(l=i.b[u])&&(l.halfedges.length||delete i.b[u])};var r=n(896),i=n(812);function o(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function a(t,e){return e[+(e.left!==t.site)]}function s(t,e){return e[+(e.left===t.site)]}},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),e.a=function(t){var e=t.P,n=t.N;if(!e||!n)return;var s=e.site,u=t.site,l=n.site;if(s===l)return;var c=u[0],h=u[1],f=s[0]-c,d=s[1]-h,p=l[0]-c,g=l[1]-h,v=2*(f*g-d*p);if(v>=-o.g)return;var m=f*f+d*d,y=p*p+g*g,x=(g*m-d*y)/v,_=(f*y-p*m)/v,b=a.pop()||new function(){Object(i.a)(this),this.x=this.y=this.arc=this.site=this.cy=null};b.arc=t,b.site=u,b.x=x+c,b.y=(b.cy=_+h)+Math.sqrt(x*x+_*_),t.circle=b;var w=null,M=o.c._;for(;M;)if(b.y<M.y||b.y===M.y&&b.x<=M.x){if(!M.L){w=M.P;break}M=M.L}else{if(!M.R){w=M;break}M=M.R}o.c.insert(w,b),w||(r=b)},e.b=function(t){var e=t.circle;e&&(e.P||(r=e.N),o.c.remove(e),a.push(e),Object(i.a)(e),t.circle=null)};var r,i=n(895),o=n(812),a=[]},function(t,e,n){"use strict";function r(t,e,n){this.k=t,this.x=e,this.y=n}e.a=r,n.d(e,"c",function(){return i}),e.b=o,r.prototype={constructor:r,scale:function(t){return 1===t?this:new r(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new r(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var i=new r(1,0,0);function o(t){return t.__zoom||i}o.prototype=r.prototype},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1685);n.d(e,"zoom",function(){return r.a});var i=n(1039);n.d(e,"zoomTransform",function(){return i.b}),n.d(e,"zoomIdentity",function(){return i.c})},function(t,e,n){"use strict";function r(t,e,n){this.k=t,this.x=e,this.y=n}e.a=r,n.d(e,"c",function(){return i}),e.b=o,r.prototype={constructor:r,scale:function(t){return 1===t?this:new r(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new r(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var i=new r(1,0,0);function o(t){return t.__zoom||i}o.prototype=r.prototype},function(t,e,n){var r,i,o,a;a=function(t){return function(){var e=function(){return"n"},n=function(){return[0,0]},r=function(){return" "},i=h(),o=null,a=null,s=null;function u(t){var e;o="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,a=o.createSVGPoint(),document.body.appendChild(i)}u.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(s=t.pop());var i,o=r.apply(this,t),a=n.apply(this,t),h=e.apply(this,t),d=f(),p=c.length,g=document.documentElement.scrollTop||document.body.scrollTop,v=document.documentElement.scrollLeft||document.body.scrollLeft;for(d.html(o).style({opacity:1,"pointer-events":"all"});p--;)d.classed(c[p],!1);return i=l.get(h).apply(this),d.classed(h,!0).style({top:i.top+a[0]+g+"px",left:i.left+a[1]+v+"px"}),u},u.hide=function(){return f().style({opacity:0,"pointer-events":"none"}),u},u.attr=function(e,n){if(arguments.length<2&&"string"==typeof e)return f().attr(e);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(f(),r),u},u.style=function(e,n){if(arguments.length<2&&"string"==typeof e)return f().style(e);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(f(),r),u},u.direction=function(n){return arguments.length?(e=null==n?n:t.functor(n),u):e},u.offset=function(e){return arguments.length?(n=null==e?e:t.functor(e),u):n},u.html=function(e){return arguments.length?(r=null==e?e:t.functor(e),u):r},u.destroy=function(){return i&&(f().remove(),i=null),u};var l=t.map({n:function(){var t=d();return{top:t.n.y-i.offsetHeight,left:t.n.x-i.offsetWidth/2}},s:function(){var t=d();return{top:t.s.y,left:t.s.x-i.offsetWidth/2}},e:function(){var t=d();return{top:t.e.y-i.offsetHeight/2,left:t.e.x}},w:function(){var t=d();return{top:t.w.y-i.offsetHeight/2,left:t.w.x-i.offsetWidth}},nw:function(){var t=d();return{top:t.nw.y-i.offsetHeight,left:t.nw.x-i.offsetWidth}},ne:function(){var t=d();return{top:t.ne.y-i.offsetHeight,left:t.ne.x}},sw:function(){var t=d();return{top:t.sw.y,left:t.sw.x-i.offsetWidth}},se:function(){var t=d();return{top:t.se.y,left:t.e.x}}}),c=l.keys();function h(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function f(){return null===i&&(i=h(),document.body.appendChild(i)),t.select(i)}function d(){for(var e=s||t.event.target;void 0===e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),i=e.getBBox(),o=i.width,u=i.height,l=i.x,c=i.y;return a.x=l,a.y=c,n.nw=a.matrixTransform(r),a.x+=o,n.ne=a.matrixTransform(r),a.y+=u,n.se=a.matrixTransform(r),a.x-=o,n.sw=a.matrixTransform(r),a.y-=u/2,n.w=a.matrixTransform(r),a.x+=o,n.e=a.matrixTransform(r),a.x-=o/2,a.y-=u/2,n.n=a.matrixTransform(r),a.y+=u,n.s=a.matrixTransform(r),n}return u}},i=[n(1689)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(2);n(1110),n(1111);var i=n(911),o=n(1114);r.registerLayout(i),r.registerVisual(o)},function(t,e,n){n(7).__DEV__;var r=n(66),i=n(67),o=n(0),a=o.concatArray,s=o.mergeAll,u=o.map,l=n(20).encodeHTML,c=(n(63),"undefined"==typeof Uint32Array?Array:Uint32Array),h="undefined"==typeof Float64Array?Array:Float64Array;function f(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=u(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),s([e,t[0],t[1]])}))}var d=r.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],f(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),d.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],f(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}d.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,e.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(t);for(i=0;i<o.length;i++)e[i]=e[i]||[],e[i][0]=o[i][0],e[i][1]=o[i][1];return o.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,r=new c(n),i=new h(n),o=0,a=0,s=0,u=0;u<n;){s++;var l=t[u++];r[a++]=o+e,r[a++]=l;for(var f=0;f<l;f++){var d=t[u++],p=t[u++];i[o++]=d,i[o++]=p}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new i(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0}),n},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;var r=e.get("fromName"),i=e.get("toName"),o=[];return null!=r&&o.push(r),null!=i&&o.push(i),l(o.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),p=d;t.exports=p},function(t,e,n){n(7).__DEV__;var r=n(2),i=n(390),o=n(909),a=n(376),s=n(910),u=n(1112),l=n(1113),c=n(911),h=r.extendChartView({type:"lines",init:function(){},render:function(t,e,n){var r=t.getData(),i=this._updateLineDraw(r,t),o=t.get("zlevel"),a=t.get("effect.trailLength"),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a&&(u||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),i.updateData(r),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(t,e,n){var r=t.getData();this._updateLineDraw(r,t).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var r=t.getData(),i=t.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=c.reset(t);o.progress&&o.progress({start:0,end:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,r=this._showEffect(e),c=!!e.get("polyline"),h=e.pipelineContext.large;return n&&r===this._hasEffet&&c===this._isPolyline&&h===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=h?new l:new i(c?r?u:s:r?o:a),this._hasEffet=r,this._isPolyline=c,this._isLargeDraw=h,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});t.exports=h},function(t,e,n){var r=n(910),i=n(0),o=n(909),a=n(6);function s(t,e,n){o.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}var u=s.prototype;u.createLine=function(t,e,n){return new r(t,e,n)},u.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],r=0,i=1;i<e.length;i++){var o=e[i-1],s=e[i];r+=a.dist(o,s),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}},u.getLineLength=function(t){return this._length},u.updateSymbolPosition=function(t){var e=t.__t,n=this._points,r=this._offsets,i=n.length;if(r){var o=this._lastFrame;if(e<this._lastFramePercent){for(s=Math.min(o+1,i-1);s>=0&&!(r[s]<=e);s--);s=Math.min(s,i-2)}else{for(var s=o;s<i&&!(r[s]>e);s++);s=Math.min(s-1,i-2)}a.lerp(t.position,n[s],n[s+1],(e-r[s])/(r[s+1]-r[s]));var u=n[s+1][0]-n[s][0],l=n[s+1][1]-n[s][1];t.rotation=-Math.atan2(l,u)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=e,t.ignore=!1}},i.inherits(s,o);var l=s;t.exports=l},function(t,e,n){var r=n(4),i=n(153),o=n(386),a=n(387),s=r.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,r=e.curveness;if(e.polyline)for(var i=0;i<n.length;){var o=n[i++];if(o>0){t.moveTo(n[i++],n[i++]);for(var a=1;a<o;a++)t.lineTo(n[i++],n[i++])}}else for(i=0;i<n.length;){var s=n[i++],u=n[i++],l=n[i++],c=n[i++];if(t.moveTo(s,u),r>0){var h=(s+l)/2-(u-c)*r,f=(u+c)/2-(l-s)*r;t.quadraticCurveTo(h,f,l,c)}else t.lineTo(l,c)}},findDataIndex:function(t,e){var n=this.shape,r=n.segs,i=n.curveness;if(n.polyline)for(var s=0,u=0;u<r.length;){var l=r[u++];if(l>0)for(var c=r[u++],h=r[u++],f=1;f<l;f++){var d=r[u++],p=r[u++];if(o.containStroke(c,h,d,p))return s}s++}else for(s=0,u=0;u<r.length;){c=r[u++],h=r[u++],d=r[u++],p=r[u++];if(i>0){var g=(c+d)/2-(h-p)*i,v=(h+p)/2-(d-c)*i;if(a.containStroke(c,h,g,v,d,p))return s}else if(o.containStroke(c,h,d,p))return s;s++}return-1}});function u(){this.group=new r.Group}var l=u.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(t){this.group.removeAll();var e=new s({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},l.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new i({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(t,e){var n=new s;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get("lineStyle.curveness")}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("color");i&&t.setStyle("stroke",i),t.setStyle("fill"),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n+t.__startIndex)}))},l._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var c=u;t.exports=c},function(t,e){function n(t){return t instanceof Array||(t=[t,t]),t}var r="lineStyle.opacity".split("."),i={seriesType:"lines",reset:function(t,e,i){var o=n(t.get("symbol")),a=n(t.get("symbolSize")),s=t.getData();return s.setVisual("fromSymbol",o&&o[0]),s.setVisual("toSymbol",o&&o[1]),s.setVisual("fromSymbolSize",a&&a[0]),s.setVisual("toSymbolSize",a&&a[1]),s.setVisual("opacity",t.get(r)),{dataEach:s.hasItemOption?function(t,e){var i=t.getItemModel(e),o=n(i.getShallow("symbol",!0)),a=n(i.getShallow("symbolSize",!0)),s=i.get(r);o[0]&&t.setItemVisual(e,"fromSymbol",o[0]),o[1]&&t.setItemVisual(e,"toSymbol",o[1]),a[0]&&t.setItemVisual(e,"fromSymbolSize",a[0]),a[1]&&t.setItemVisual(e,"toSymbolSize",a[1]),t.setItemVisual(e,"opacity",s)}:null}}};t.exports=i},function(t,e,n){var r=n(2),i=n(0),o=n(1116);n(843),n(1122),n(1124),n(155),n(1126),r.registerLayout(i.curry(o,"bar")),r.extendComponentView({type:"polar"})},function(t,e,n){var r=n(0),i=n(8).parsePercent,o=n(51).isDimensionStacked;function a(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function s(t){return t.dim}var u=function(t,e,n){var u=n.getWidth(),l=n.getHeight(),c={},h=function(t,e){var n={};r.each(t,function(t,e){var r=t.getData(),o=t.coordinateSystem,u=o.getBaseAxis(),l=u.getExtent(),c="category"===u.type?u.getBandWidth():Math.abs(l[1]-l[0])/r.count(),h=n[s(u)]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;n[s(u)]=h;var d=a(t);f[d]||h.autoWidthCount++,f[d]=f[d]||{width:0,maxWidth:0};var p=i(t.get("barWidth"),c),g=i(t.get("barMaxWidth"),c),v=t.get("barGap"),m=t.get("barCategoryGap");p&&!f[d].width&&(p=Math.min(h.remainedWidth,p),f[d].width=p,h.remainedWidth-=p),g&&(f[d].maxWidth=g),null!=v&&(h.gap=v),null!=m&&(h.categoryGap=m)});var o={};return r.each(n,function(t,e){o[e]={};var n=t.stacks,a=t.bandWidth,s=i(t.categoryGap,a),u=i(t.gap,1),l=t.remainedWidth,c=t.autoWidthCount,h=(l-s)/(c+(c-1)*u);h=Math.max(h,0),r.each(n,function(t,e){var n=t.maxWidth;n&&n<h&&(n=Math.min(n,l),t.width&&(n=Math.min(n,t.width)),l-=n,t.width=n,c--)}),h=(l-s)/(c+(c-1)*u),h=Math.max(h,0);var f,d=0;r.each(n,function(t,e){t.width||(t.width=h),f=t,d+=t.width*(1+u)}),f&&(d-=f.width*u);var p=-d/2;r.each(n,function(t,n){o[e][n]=o[e][n]||{offset:p,width:t.width},p+=t.width*(1+u)})}),o}(r.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),f=a(t),d=h[s(r)][f],p=d.offset,g=d.width,v=n.getOtherAxis(r),m=t.get("center")||["50%","50%"],y=i(m[0],u),x=i(m[1],l),_=t.get("barMinHeight")||0,b=t.get("barMinAngle")||0;c[f]=c[f]||[];for(var w=e.mapDimension(v.dim),M=e.mapDimension(r.dim),S=o(e,w),A=v.getExtent()[0],T=0,O=e.count();T<O;T++){var C=e.get(w,T),I=e.get(M,T);if(!isNaN(C)){var k,D,L,E,P=C>=0?"p":"n",N=A;if(S&&(c[f][I]||(c[f][I]={p:A,n:A}),N=c[f][I][P]),"radius"===v.dim){var j=v.dataToRadius(C)-A,R=r.dataToAngle(I);Math.abs(j)<_&&(j=(j<0?-1:1)*_),k=N,D=N+j,E=(L=R-p)-g,S&&(c[f][I][P]=D)}else{var z=v.dataToAngle(C,!0)-A,B=r.dataToRadius(I);Math.abs(z)<b&&(z=(z<0?-1:1)*b),D=(k=B+p)+g,L=N,E=N+z,S&&(c[f][I][P]=E)}e.setItemLayout(T,{cx:y,cy:x,r0:k,r:D,startAngle:-L*Math.PI/180,endAngle:-E*Math.PI/180})}}}},this)};t.exports=u},function(t,e,n){var r=n(1118),i=n(1119),o=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new r,this._angleAxis=new i,this._radiusAxis.polar=this._angleAxis.polar=this};o.prototype={type:"polar",axisPointerEnabled:!0,constructor:o,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);r.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var u=Math.atan2(-n,e)/Math.PI*180,l=u<o?1:-1;u<o||u>a;)u+=360*l;return[s,u]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]}};var a=o;t.exports=a},function(t,e,n){var r=n(0),i=n(102);function o(t,e){i.call(this,"radius",t,e),this.type="category"}o.prototype={constructor:o,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:i.prototype.dataToCoord,radiusToData:i.prototype.coordToData},r.inherits(o,i);var a=o;t.exports=a},function(t,e,n){var r=n(0),i=n(102);function o(t,e){e=e||[0,360],i.call(this,"angle",t,e),this.type="category"}o.prototype={constructor:o,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:i.prototype.dataToCoord,angleToData:i.prototype.coordToData},r.inherits(o,i);var a=o;t.exports=a},function(t,e,n){var r=n(2);n(1121);var i=r.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});t.exports=i},function(t,e,n){var r=n(0),i=n(27),o=n(154),a=n(107),s=i.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});r.merge(s.prototype,a);var u={splitNumber:5};function l(t,e){return e.type||(e.data?"category":"value")}o("angle",s,l,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),o("radius",s,l,u)},function(t,e,n){n(843),n(1123)},function(t,e,n){var r=n(0),i=n(4),o=n(21),a=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function s(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function u(t){return t.getRadiusAxis().inverse?0:1}function l(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var c=n(82).extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),s=n.getTicksCoords(),u=r.map(n.getViewLabels(),function(t){return(t=r.clone(t)).coord=n.dataToCoord(t.tickValue),t});l(u),l(s),r.each(a,function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,i,s,o,u)},this)}},_axisLine:function(t,e,n,r){var o=t.getModel("axisLine.lineStyle"),a=new i.Circle({shape:{cx:e.cx,cy:e.cy,r:r[u(e)]},style:o.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,n,o){var a=t.getModel("axisTick"),l=(a.get("inside")?-1:1)*a.get("length"),c=o[u(e)],h=r.map(n,function(t){return new i.Line({shape:s(e,[c,c+l],t.coord)})});this.group.add(i.mergePath(h,{style:r.defaults(a.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,n,a,s){var l=t.getCategories(!0),c=t.getModel("axisLabel"),h=c.get("margin");r.each(s,function(n,r){var s=c,f=n.tickValue,d=a[u(e)],p=e.coordToPoint([d+h,n.coord]),g=e.cx,v=e.cy,m=Math.abs(p[0]-g)/d<.3?"center":p[0]>g?"left":"right",y=Math.abs(p[1]-v)/d<.3?"middle":p[1]>v?"top":"bottom";l&&l[f]&&l[f].textStyle&&(s=new o(l[f].textStyle,c,c.ecModel));var x=new i.Text({silent:!0});this.group.add(x),i.setTextStyle(x.style,s,{x:p[0],y:p[1],textFill:s.getTextColor()||t.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:m,textVerticalAlign:y})},this)},_splitLine:function(t,e,n,o){var a=t.getModel("splitLine").getModel("lineStyle"),u=a.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=0;h<n.length;h++){var f=l++%u.length;c[f]=c[f]||[],c[f].push(new i.Line({shape:s(e,o,n[h].coord)}))}for(h=0;h<c.length;h++)this.group.add(i.mergePath(c[h],{style:r.defaults({stroke:u[h%u.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,o){if(n.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=Math.PI/180,h=-n[0].coord*c,f=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]),p=t.get("clockwise"),g=1;g<n.length;g++){var v=u++%s.length;l[v]=l[v]||[],l[v].push(new i.Sector({shape:{cx:e.cx,cy:e.cy,r0:f,r:d,startAngle:h,endAngle:-n[g].coord*c,clockwise:p},silent:!0})),h=-n[g].coord*c}for(g=0;g<l.length;g++)this.group.add(i.mergePath(l[g],{style:r.defaults({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}});t.exports=c},function(t,e,n){n(843),n(1125)},function(t,e,n){var r=n(0),i=n(4),o=n(103),a=["axisLine","axisTickLabel","axisName"],s=["splitLine","splitArea"],u=n(82).extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,u=i.getAngleAxis(),l=n.getTicksCoords(),c=u.getExtent()[0],h=n.getExtent(),f=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(i,t,c),d=new o(t,f);r.each(a,d.add,d),this.group.add(d.getGroup()),r.each(s,function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,i,c,h,l)},this)}},_splitLine:function(t,e,n,o,a){var s=t.getModel("splitLine").getModel("lineStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=0;h<a.length;h++){var f=l++%u.length;c[f]=c[f]||[],c[f].push(new i.Circle({shape:{cx:e.cx,cy:e.cy,r:a[h].coord},silent:!0}))}for(h=0;h<c.length;h++)this.group.add(i.mergePath(c[h],{style:r.defaults({stroke:u[h%u.length],fill:null},s.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,o,a){if(a.length){var s=t.getModel("splitArea").getModel("areaStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=a[0].coord,f=1;f<a.length;f++){var d=l++%u.length;c[d]=c[d]||[],c[d].push(new i.Sector({shape:{cx:e.cx,cy:e.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=a[f].coord}for(f=0;f<c.length;f++)this.group.add(i.mergePath(c[f],{style:r.defaults({fill:u[f%u.length]},s.getAreaStyle()),silent:!0}))}}});t.exports=u},function(t,e,n){var r=n(20),i=n(156),o=n(4),a=n(108),s=n(42),u=n(103),l=n(82),c=i.extend({makeElOption:function(t,e,n,i,l){var c=n.axis;"angle"===c.dim&&(this.animationThreshold=Math.PI/18);var f,d=c.polar,p=d.getOtherAxis(c).getExtent();f=c["dataTo"+r.capitalFirst(c.dim)](e);var g=i.get("type");if(g&&"none"!==g){var v=a.buildElStyle(i),m=h[g](c,d,f,p,v);m.style=v,t.graphicKey=m.type,t.pointer=m}var y=function(t,e,n,r,i){var a=e.axis,l=a.dataToCoord(t),c=r.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var h,f,d,p=r.getRadiusAxis().getExtent();if("radius"===a.dim){var g=s.create();s.rotate(g,g,c),s.translate(g,g,[r.cx,r.cy]),h=o.applyTransform([l,-i],g);var v=e.getModel("axisLabel").get("rotate")||0,m=u.innerTextLayout(c,v*Math.PI/180,-1);f=m.textAlign,d=m.textVerticalAlign}else{var y=p[1];h=r.coordToPoint([y+i,l]);var x=r.cx,_=r.cy;f=Math.abs(h[0]-x)/y<.3?"center":h[0]>x?"left":"right",d=Math.abs(h[1]-_)/y<.3?"middle":h[1]>_?"top":"bottom"}return{position:h,align:f,verticalAlign:d}}(e,n,0,d,i.get("label.margin"));a.buildLabelElOption(t,n,i,l,y)}});var h={line:function(t,e,n,r,i){return"angle"===t.dim?{type:"Line",shape:a.makeLineShape(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r,i){var o=Math.max(1,t.getBandWidth()),s=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:a.makeSectorShape(e.cx,e.cy,r[0],r[1],(-n-o/2)*s,(o/2-n)*s)}:{type:"Sector",shape:a.makeSectorShape(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}};l.registerAxisPointerClass("PolarAxisPointer",c);var f=c;t.exports=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={default:n(1172),__esModule:!0}},function(t,e,n){n(1173),t.exports=n(10).Number.isNaN},function(t,e,n){var r=n(26);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){n(149),n(64),n(86),n(1175),n(1181),n(1184),n(1186),t.exports=n(10).Set},function(t,e,n){"use strict";var r=n(1176),i=n(917);t.exports=n(1177)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(29).f,i=n(151),o=n(370),a=n(62),s=n(369),u=n(368),l=n(150),c=n(377),h=n(378),f=n(30),d=n(371).fastKey,p=n(917),g=f?"_s":"size",v=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),r=v(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(p(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return p(this,e)[g]}}),c},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(16),i=n(26),o=n(371),a=n(52),s=n(41),u=n(370),l=n(368),c=n(369),h=n(39),f=n(85),d=n(29).f,p=n(1178)(0),g=n(30);t.exports=function(t,e,n,v,m,y){var x=r[t],_=x,b=m?"set":"add",w=_&&_.prototype,M={};return g&&"function"==typeof _&&(y||w.forEach&&!a(function(){(new _).entries().next()}))?(_=e(function(e,n){c(e,_,t,"_c"),e._c=new x,void 0!=n&&l(n,m,e[b],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!y||"clear"!=t)&&s(_.prototype,t,function(n,r){if(c(this,_,t),!e&&y&&!h(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),y||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(e,t,m,b),u(_.prototype,n),o.NEED=!0),f(_,t),M[t]=_,i(i.G+i.W+i.F,M),y||v.setStrong(_,t,m),_}},function(t,e,n){var r=n(62),i=n(148),o=n(83),a=n(104),s=n(1179);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var g,v,m=o(e),y=i(m),x=r(s,p,3),_=a(y.length),b=0,w=n?d(e,_):u?d(e,0):void 0;_>b;b++)if((f||b in y)&&(v=x(g=y[b],b,m),t))if(n)w[b]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return b;case 2:w.push(g)}else if(c)return!1;return h?-1:l||c?c:w}}},function(t,e,n){var r=n(1180);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(39),i=n(379),o=n(17)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(26);r(r.P+r.R,"Set",{toJSON:n(1182)("Set")})},function(t,e,n){var r=n(105),i=n(1183);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(368);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(1185)("Set")},function(t,e,n){"use strict";var r=n(26);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(1187)("Set")},function(t,e,n){"use strict";var r=n(26),i=n(84),o=n(62),a=n(368);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r;try{r=n(922)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){t.exports={Graph:n(844),version:n(1255)}},function(t,e){t.exports="2.1.5"},function(t,e,n){var r=n(748),i=n(844);t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return r.map(t.nodes(),function(e){var n=t.node(e),i=t.parent(e),o={v:e};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o})}(t),edges:function(t){return r.map(t.edges(),function(e){var n=t.edge(e),i={v:e.v,w:e.w};return r.isUndefined(e.name)||(i.name=e.name),r.isUndefined(n)||(i.value=n),i})}(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),r.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},function(t,e,n){t.exports={components:n(1258),dijkstra:n(923),dijkstraAll:n(1259),findCycles:n(1260),floydWarshall:n(1261),isAcyclic:n(1262),postorder:n(1263),preorder:n(1264),prim:n(1265),tarjan:n(925),topsort:n(926)}},function(t,e,n){var r=n(748);t.exports=function(t){var e,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,e.push(i),r.each(t.successors(i),o),r.each(t.predecessors(i),o))}return r.each(t.nodes(),function(t){e=[],o(t),e.length&&i.push(e)}),i}},function(t,e,n){var r=n(923),i=n(748);t.exports=function(t,e,n){return i.transform(t.nodes(),function(i,o){i[o]=r(t,o,e,n)},{})}},function(t,e,n){var r=n(748),i=n(925);t.exports=function(t){return r.filter(i(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}},function(t,e,n){var r=n(748);t.exports=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}(t,e||i,n||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(926);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(927);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(927);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(748),i=n(844),o=n(924);t.exports=function(t,e){var n,a=new i,s={},u=new o;function l(t){var r=t.v===n?t.w:t.v,i=u.priority(r);if(void 0!==i){var o=e(t);o<i&&(s[r]=n,u.decrease(r,o))}}if(0===t.nodeCount())return a;r.each(t.nodes(),function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)}),u.decrease(t.nodes()[0],0);var c=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+t);c=!0}t.nodeEdges(n).forEach(l)}return a}},function(t,e,n){t.exports={graphlib:n(755),layout:n(1267),debug:n(1289),util:{time:n(744).time,notime:n(744).notime},version:n(1290)}},function(t,e,n){"use strict";var r=n(734),i=n(1268),o=n(1271),a=n(1272),s=n(744).normalizeRanks,u=n(1274),l=n(744).removeEmptyRanks,c=n(1275),h=n(1276),f=n(1277),d=n(1278),p=n(1287),g=n(744),v=n(755).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(t){var e=new v({multigraph:!0,compound:!0}),n=T(t.graph());return e.setGraph(r.merge({},y,A(n,m),r.pick(n,x))),r.forEach(t.nodes(),function(n){var i=T(t.node(n));e.setNode(n,r.defaults(A(i,_),b)),e.setParent(n,t.parent(n))}),r.forEach(t.edges(),function(n){var i=T(t.edge(n));e.setEdge(n,r.merge({},M,A(i,w),r.pick(i,S)))}),e}(t)});n("  runLayout",function(){!function(t,e){e("    makeSpaceForEdgeLabels",function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function(t){r.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){i.run(t)}),e("    nestingGraph.run",function(){c.run(t)}),e("    rank",function(){a(g.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),o={rank:(i.rank-r.rank)/2+r.rank,e:e};g.addDummyNode(t,"edge-proxy",o,"_ep")}})}(t)}),e("    removeEmptyRanks",function(){l(t)}),e("    nestingGraph.cleanup",function(){c.cleanup(t)}),e("    normalizeRanks",function(){s(t)}),e("    assignRankMinMax",function(){!function(t){var e=0;r.forEach(t.nodes(),function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=r.max(e,i.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function(t){r.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){o.run(t)}),e("    parentDummyChains",function(){u(t)}),e("    addBorderSegments",function(){h(t)}),e("    order",function(){d(t)}),e("    insertSelfEdges",function(){!function(t){var e=g.buildLayerMatrix(t);r.forEach(e,function(e){var n=0;r.forEach(e,function(e,i){var o=t.node(e);o.order=i+n,r.forEach(o.selfEdges,function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++n,e:e.e,label:e.label},"_se")}),delete o.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){f.adjust(t)}),e("    position",function(){p(t)}),e("    positionSelfEdges",function(){!function(t){r.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function(t){r.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),o=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}}),r.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){o.undo(t)}),e("    fixupEdgeLabelCoords",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){f.undo(t)}),e("    translateGraph",function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,u=a.marginy||0;function l(t){var r=t.x,a=t.y,s=t.width,u=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-u/2),o=Math.max(o,a+u/2)}r.forEach(t.nodes(),function(e){l(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.has(n,"x")&&l(n)}),e-=s,i-=u,r.forEach(t.nodes(),function(n){var r=t.node(n);r.x-=e,r.y-=i}),r.forEach(t.edges(),function(n){var o=t.edge(n);r.forEach(o.points,function(t){t.x-=e,t.y-=i}),r.has(o,"x")&&(o.x-=e),r.has(o,"y")&&(o.y-=i)}),a.width=n-e+s,a.height=o-i+u}(t)}),e("    assignNodeIntersects",function(){!function(t){r.forEach(t.edges(),function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(g.intersectRect(o,n)),i.points.push(g.intersectRect(a,r))})}(t)}),e("    reversePoints",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){i.undo(t)})}(e,n)}),n("  updateInputGraph",function(){!function(t,e){r.forEach(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),r.forEach(t.edges(),function(n){var i=t.edge(n),o=e.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)})})};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],_=["width","height"],b={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function A(t,e){return r.mapValues(r.pick(t,e),Number)}function T(t){var e={};return r.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}},function(t,e,n){"use strict";var r=n(734),i=n(1269);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},i={};return r.forEach(t.nodes(),function o(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),function(t){r.has(n,t.w)?e.push(t):o(t.w)}),delete n[a])}),e}(t);r.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))})},undo:function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}}},function(t,e,n){var r=n(734),i=n(755).Graph,o=n(1270);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new i,a=0,s=0;r.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),r.forEach(t.edges(),function(t){var r=n.edge(t.v,t.w)||0,i=e(t),o=r+i;n.setEdge(t.v,t.w,o),s=Math.max(s,n.node(t.v).out+=i),a=Math.max(a,n.node(t.w).in+=i)});var l=r.range(s+a+3).map(function(){return new o}),c=a+1;return r.forEach(n.nodes(),function(t){u(l,c,n.node(t))}),{graph:n,buckets:l,zeroIdx:c}}(t,e||a),l=function(t,e,n){var r,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)s(t,e,n,r);for(;r=o.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(r=e[u].dequeue()){i=i.concat(s(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(l,function(e){return t.outEdges(e.v,e.w)}),!0)};var a=r.constant(1);function s(t,e,n,i,o){var a=o?[]:void 0;return r.forEach(t.inEdges(i.v),function(r){var i=t.edge(r),s=t.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,u(e,n,s)}),r.forEach(t.outEdges(i.v),function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,u(e,n,a)}),t.removeNode(i.v),a}function u(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,i)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(734),i=n(744);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),function(e){!function(t,e){var n,r,o,a=e.v,s=t.node(a).rank,u=e.w,l=t.node(u).rank,c=e.name,h=t.edge(e),f=h.labelRank;if(l===s+1)return;for(t.removeEdge(e),o=0,++s;s<l;++o,++s)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:s},n=i.addDummyNode(t,"edge",r,"_d"),s===f&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),t.setEdge(a,n,{weight:h.weight},c),0===o&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,u,{weight:h.weight},c)}(t,e)})},undo:function(t){r.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}}},function(t,e,n){"use strict";var r=n(815).longestPath,i=n(929),o=n(1273);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":s(t);break;case"tight-tree":!function(t){r(t),i(t)}(t);break;case"longest-path":a(t);break;default:s(t)}};var a=r;function s(t){o(t)}},function(t,e,n){"use strict";var r=n(734),i=n(929),o=n(815).slack,a=n(815).longestPath,s=n(755).alg.preorder,u=n(755).alg.postorder,l=n(744).simplify;function c(t){t=l(t),a(t);var e,n=i(t);for(d(n),h(n,t);e=p(n);)v(n,t,e,g(n,t,e))}function h(t,e){var n=u(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=f(t,e,n)}(t,e,n)})}function f(t,e,n){var i=t.node(n).parent,o=!0,a=e.edge(n,i),s=0;return a||(o=!1,a=e.edge(i,n)),s=a.weight,r.forEach(e.nodeEdges(n),function(r){var a,u,l=r.v===n,c=l?r.w:r.v;if(c!==i){var h=l===o,f=e.edge(r).weight;if(s+=h?f:-f,a=n,u=c,t.hasEdge(a,u)){var d=t.edge(n,c).cutvalue;s+=h?-d:d}}}),s}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,i,o,a){var s=i,u=e.node(o);n[o]=!0;r.forEach(e.neighbors(o),function(a){r.has(n,a)||(i=t(e,n,i,a,o))});u.low=s;u.lim=i++;a?u.parent=a:delete u.parent;return i}(t,{},1,e)}function p(t){return r.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function g(t,e,n){var i=n.v,a=n.w;e.hasEdge(i,a)||(i=n.w,a=n.v);var s=t.node(i),u=t.node(a),l=s,c=!1;s.lim>u.lim&&(l=u,c=!0);var h=r.filter(e.edges(),function(e){return c===m(t,t.node(e.v),l)&&c!==m(t,t.node(e.w),l)});return r.minBy(h,function(t){return o(e,t)})}function v(t,e,n,i){var o=n.v,a=n.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),d(t),h(t,e),function(t,e){var n=r.find(t.nodes(),function(t){return!e.node(t).parent}),i=s(t,n);i=i.slice(1),r.forEach(i,function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})}(t,e)}function m(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=c,c.initLowLimValues=d,c.initCutValues=h,c.calcCutValue=f,c.leaveEdge=p,c.enterEdge=g,c.exchangeEdges=v},function(t,e,n){var r=n(734);t.exports=function(t){var e=function(t){var e={},n=0;return r.forEach(t.children(),function i(o){var a=n;r.forEach(t.children(o),i),e[o]={low:a,lim:n++}}),e}(t);r.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],u=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>u||l>e[i].lim));o=i,i=r;for(;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,u=0,l=a[u],c=!0;n!==i.w;){if(r=t.node(n),c){for(;(l=a[u])!==s&&t.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&t.node(l=a[u+1]).minRank<=r.rank;)u++;l=a[u]}t.setParent(n,l),n=t.successors(n)[0]}})}},function(t,e,n){var r=n(734),i=n(744);t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),function(n){!function n(i,o){var a=t.children(i);a&&a.length&&r.forEach(a,function(t){n(t,o+1)}),e[i]=o}(n,1)}),e}(t),o=r.max(r.values(n))-1,a=2*o+1;t.graph().nestingRoot=e,r.forEach(t.edges(),function(e){t.edge(e).minlen*=a});var s=function(t){return r.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;r.forEach(t.children(),function(u){!function t(e,n,o,a,s,u,l){var c=e.children(l);if(!c.length)return void(l!==n&&e.setEdge(n,l,{weight:0,minlen:o}));var h=i.addBorderNode(e,"_bt"),f=i.addBorderNode(e,"_bb"),d=e.node(l);e.setParent(h,l);d.borderTop=h;e.setParent(f,l);d.borderBottom=f;r.forEach(c,function(r){t(e,n,o,a,s,u,r);var i=e.node(r),c=i.borderTop?i.borderTop:r,d=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,g=c!==d?1:s-u[l]+1;e.setEdge(h,c,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(d,f,{weight:p,minlen:g,nestingEdge:!0})});e.parent(l)||e.setEdge(n,h,{weight:0,minlen:s+u[l]})}(t,e,a,s,o,n,u)}),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)})}}},function(t,e,n){var r=n(734),i=n(744);function o(t,e,n,r,o,a){var s={width:0,height:0,rank:a,borderType:e},u=o[e][a-1],l=i.addDummyNode(t,"border",s,n);o[e][a]=l,t.setParent(l,r),u&&t.setEdge(u,l,{weight:1})}t.exports=function(t){r.forEach(t.children(),function e(n){var i=t.children(n),a=t.node(n);i.length&&r.forEach(i,e);if(r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)o(t,"borderLeft","_bl",n,a,s),o(t,"borderRight","_br",n,a,s)}})}},function(t,e,n){"use strict";var r=n(734);function i(t){r.forEach(t.nodes(),function(e){o(t.node(e))}),r.forEach(t.edges(),function(e){o(t.edge(e))})}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),function(e){a(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)})}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),function(e){s(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"x")&&s(n)})}(t),i(t))}}},function(t,e,n){"use strict";var r=n(734),i=n(1279),o=n(1280),a=n(1281),s=n(1285),u=n(1286),l=n(755).Graph,c=n(744);function h(t,e,n){return r.map(e,function(e){return s(t,e,n)})}function f(t,e){var n=new l;r.forEach(t,function(t){var i=t.graph().root,o=a(t,i,n,e);r.forEach(o.vs,function(e,n){t.node(e).order=n}),u(t,n,o.vs)})}function d(t,e){r.forEach(e,function(e){r.forEach(e,function(e,n){t.node(e).order=n})})}t.exports=function(t){var e=c.maxRank(t),n=h(t,r.range(1,e+1),"inEdges"),a=h(t,r.range(e-1,-1,-1),"outEdges"),s=i(t);d(t,s);for(var u,l=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){f(p%2?n:a,p%4>=2),s=c.buildLayerMatrix(t);var v=o(t,s);v<l&&(g=0,u=r.cloneDeep(s),l=v)}d(t,u)}},function(t,e,n){"use strict";var r=n(734);t.exports=function(t){var e={},n=r.filter(t.nodes(),function(e){return!t.children(e).length}),i=r.max(r.map(n,function(e){return t.node(e).rank})),o=r.map(r.range(i+1),function(){return[]});var a=r.sortBy(n,function(e){return t.node(e).rank});return r.forEach(a,function n(i){if(!r.has(e,i)){e[i]=!0;var a=t.node(i);o[a.rank].push(i),r.forEach(t.successors(i),n)}}),o}},function(t,e,n){"use strict";var r=n(734);function i(t,e,n){for(var i=r.zipObject(n,r.map(n,function(t,e){return e})),o=r.flatten(r.map(e,function(e){return r.chain(t.outEdges(e)).map(function(e){return{pos:i[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=r.map(new Array(s),function(){return 0}),l=0;return r.forEach(o.forEach(function(t){var e=t.pos+a;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;l+=t.weight*n})),l}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=i(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(734),i=n(1282),o=n(1283),a=n(1284);t.exports=function t(e,n,s,u){var l=e.children(n),c=e.node(n),h=c?c.borderLeft:void 0,f=c?c.borderRight:void 0,d={};h&&(l=r.filter(l,function(t){return t!==h&&t!==f}));var p=i(e,l);r.forEach(p,function(n){if(e.children(n.v).length){var i=t(e,n.v,s,u);d[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a});var g=o(p,s);!function(t,e){r.forEach(t,function(t){t.vs=r.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}(g,d);var v=a(g,u);if(h&&(v.vs=r.flatten([h,v.vs,f],!0),e.predecessors(h).length)){var m=e.node(e.predecessors(h)[0]),y=e.node(e.predecessors(f)[0]);r.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+m.order+y.order)/(v.weight+2),v.weight+=2}return v}},function(t,e,n){var r=n(734);t.exports=function(t,e){return r.map(e,function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}})}},function(t,e,n){"use strict";var r=n(734);t.exports=function(t,e){var n={};return r.forEach(t,function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)}),r.forEach(e.edges(),function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))}),function(t){var e=[];function n(t){return function(e){var n,i,o,a;e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(i=e,o=0,a=0,(n=t).weight&&(o+=n.barycenter*n.weight,a+=n.weight),i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),n.vs=i.vs.concat(n.vs),n.barycenter=o/a,n.weight=a,n.i=Math.min(i.i,n.i),i.merged=!0)}}function i(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var o=t.pop();e.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.chain(e).filter(function(t){return!t.merged}).map(function(t){return r.pick(t,["vs","i","barycenter","weight"])}).value()}(r.filter(n,function(t){return!t.indegree}))}},function(t,e,n){var r=n(734),i=n(744);function o(t,e,n){for(var i;e.length&&(i=r.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}t.exports=function(t,e){var n=i.partition(t,function(t){return r.has(t,"barycenter")}),a=n.lhs,s=r.sortBy(n.rhs,function(t){return-t.i}),u=[],l=0,c=0,h=0;a.sort((f=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:f?e.i-t.i:t.i-e.i})),h=o(u,s,h),r.forEach(a,function(t){h+=t.vs.length,u.push(t.vs),l+=t.barycenter*t.weight,c+=t.weight,h=o(u,s,h)});var f;var d={vs:r.flatten(u,!0)};c&&(d.barycenter=l/c,d.weight=c);return d}},function(t,e,n){var r=n(734),i=n(755).Graph;t.exports=function(t,e,n){var o=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(e){return t.node(e)});return r.forEach(t.nodes(),function(i){var s=t.node(i),u=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(i),a.setParent(i,u||o),r.forEach(t[n](i),function(e){var n=e.v===i?e.w:e.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:t.edge(e).weight+s})}),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),a}},function(t,e,n){var r=n(734);t.exports=function(t,e,n){var i,o={};r.forEach(n,function(n){for(var r,a,s=t.parent(n);s;){if((r=t.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void e.setEdge(a,s);s=r}})}},function(t,e,n){"use strict";var r=n(734),i=n(744),o=n(1288).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),n=t.graph().ranksep,o=0;r.forEach(e,function(e){var i=r.max(r.map(e,function(e){return t.node(e).height}));r.forEach(e,function(e){t.node(e).y=o+i/2}),o+=i+n})})(t=i.asNonCompoundGraph(t)),r.forEach(o(t),function(e,n){t.node(n).x=e})}},function(t,e,n){"use strict";var r=n(734),i=n(755).Graph,o=n(744);function a(t,e){var n={};return r.reduce(e,function(e,i){var o=0,a=0,s=e.length,l=r.last(i);return r.forEach(i,function(e,c){var h=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),f=h?t.node(h).order:s;(h||e===l)&&(r.forEach(i.slice(a,c+1),function(e){r.forEach(t.predecessors(e),function(r){var i=t.node(r),a=i.order;!(a<o||f<a)||i.dummy&&t.node(e).dummy||u(n,r,e)})}),a=c+1,o=f)}),i}),n}function s(t,e){var n={};function i(e,i,o,a,s){var l;r.forEach(r.range(i,o),function(i){l=e[i],t.node(l).dummy&&r.forEach(t.predecessors(l),function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&u(n,e,l)})})}return r.reduce(e,function(e,n){var o,a=-1,s=0;return r.forEach(n,function(r,u){if("border"===t.node(r).dummy){var l=t.predecessors(r);l.length&&(o=t.node(l[0]).order,i(n,s,u,a,o),s=u,a=o)}i(n,s,n.length,o,e.length)}),n}),n}function u(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function l(t,e,n){if(e>n){var i=e;e=n,n=i}return r.has(t[e],n)}function c(t,e,n,i){var o={},a={},s={};return r.forEach(e,function(t){r.forEach(t,function(t,e){o[t]=t,a[t]=t,s[t]=e})}),r.forEach(e,function(t){var e=-1;r.forEach(t,function(t){var u=i(t);if(u.length)for(var c=((u=r.sortBy(u,function(t){return s[t]})).length-1)/2,h=Math.floor(c),f=Math.ceil(c);h<=f;++h){var d=u[h];a[t]===t&&e<s[d]&&!l(n,t,d)&&(a[d]=t,a[t]=o[t]=o[d],e=s[d])}})}),{root:o,align:a}}function h(t,e,n,o,a){var s={},u=function(t,e,n,o){var a=new i,s=t.graph(),u=function(t,e,n){return function(i,o,a){var s,u=i.node(o),l=i.node(a),c=0;if(c+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(c+=n?s:-s),s=0,c+=(u.dummy?e:t)/2,c+=(l.dummy?e:t)/2,c+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2}return s&&(c+=n?s:-s),s=0,c}}(s.nodesep,s.edgesep,o);return r.forEach(e,function(e){var i;r.forEach(e,function(e){var r=n[e];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(u(t,e,i),s||0))}i=e})}),a}(t,e,n,a),l=a?"borderLeft":"borderRight";function c(t,e){for(var n=u.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return c(function(t){s[t]=u.inEdges(t).reduce(function(t,e){return Math.max(t,s[e.v]+u.edge(e))},0)},r.bind(u.predecessors,u)),c(function(e){var n=u.outEdges(e).reduce(function(t,e){return Math.min(t,s[e.w]-u.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(s[e]=Math.max(s[e],n))},r.bind(u.successors,u)),r.forEach(o,function(t){s[t]=s[n[t]]}),s}function f(t,e){return r.minBy(r.values(e),function(e){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(e,function(e,r){var o=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+o,n),i=Math.min(e-o,i)}),n-i})}function d(t,e){var n=r.values(e),i=r.min(n),o=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(a){var s,u=n+a,l=t[u];if(l!==e){var c=r.values(l);(s="l"===a?i-r.min(c):o-r.max(c))&&(t[u]=r.mapValues(l,function(t){return t+s}))}})})}function p(t,e){return r.mapValues(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var o=r.sortBy(r.map(t,i));return(o[1]+o[2])/2})}t.exports={positionX:function(t){var e,n=o.buildLayerMatrix(t),i=r.merge(a(t,n),s(t,n)),u={};r.forEach(["u","d"],function(o){e="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(e=r.map(e,function(t){return r.values(t).reverse()}));var a=r.bind("u"===o?t.predecessors:t.successors,t),s=c(t,e,i,a),l=h(t,e,s.root,s.align,"r"===n);"r"===n&&(l=r.mapValues(l,function(t){return-t})),u[o+n]=l})});var l=f(t,u);return d(u,l),p(u,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:l,verticalAlignment:c,horizontalCompaction:h,alignCoordinates:d,findSmallestWidthAlignment:f,balance:p}},function(t,e,n){var r=n(734),i=n(744),o=n(755).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),r.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),r.forEach(e,function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}}},function(t,e){t.exports="0.8.2"},function(t,e,n){t.exports={node:n(930),circle:n(931),ellipse:n(845),polygon:n(932),rect:n(933)}},function(t,e){function n(t,e){return t*e>0}t.exports=function(t,e,r,i){var o,a,s,u,l,c,h,f,d,p,g,v,m;if(o=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,d=o*r.x+s*r.y+l,p=o*i.x+s*i.y+l,0!==d&&0!==p&&n(d,p))return;if(a=i.y-r.y,u=r.x-i.x,c=i.x*r.y-r.x*i.y,h=a*t.x+u*t.y+c,f=a*e.x+u*e.y+c,0!==h&&0!==f&&n(h,f))return;if(0==(g=o*u-a*s))return;return v=Math.abs(g/2),{x:(m=s*c-u*l)<0?(m-v)/g:(m+v)/g,y:(m=a*l-o*c)<0?(m-v)/g:(m+v)/g}}},function(t,e,n){var r=n(790),i=n(766),o=n(928).layout;t.exports=function(){var t=n(1672),e=n(1676),i=n(1677),l=n(1678),c=n(1679),h=n(1680),f=n(1681),d=n(1682),p=n(1683),g=function(n,g){!function(t){t.nodes().forEach(function(e){var n=t.node(e);r.has(n,"label")||t.children(e).length||(n.label=e),r.has(n,"paddingX")&&r.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),r.has(n,"paddingY")&&r.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),r.has(n,"padding")&&r.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),r.defaults(n,a),r.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(t){n[t]=Number(n[t])}),r.has(n,"width")&&(n._prevWidth=n.width),r.has(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);r.has(n,"label")||(n.label=""),r.defaults(n,s)})}(g),n.selectAll("*").remove();var v=u(n,"output"),m=u(v,"clusters"),y=u(v,"edgePaths"),x=i(u(v,"edgeLabels"),g),_=t(u(v,"nodes"),g,d);o(g),c(_,g),h(x,g),l(y,g,p);var b=e(m,g);f(b,g),function(t){r.each(t.nodes(),function(e){var n=t.node(e);r.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,r.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}(g)};return g.createNodes=function(e){return arguments.length?(t=e,g):t},g.createClusters=function(t){return arguments.length?(e=t,g):e},g.createEdgeLabels=function(t){return arguments.length?(i=t,g):i},g.createEdgePaths=function(t){return arguments.length?(l=t,g):l},g.shapes=function(t){return arguments.length?(d=t,g):d},g.arrows=function(t){return arguments.length?(p=t,g):p},g};var a={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},s={arrowhead:"normal",curve:i.curveLinear};function u(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1295);n.d(e,"version",function(){return r.a});var i=n(745);n.d(e,"bisect",function(){return i.b}),n.d(e,"bisectRight",function(){return i.d}),n.d(e,"bisectLeft",function(){return i.c}),n.d(e,"ascending",function(){return i.a}),n.d(e,"bisector",function(){return i.e}),n.d(e,"cross",function(){return i.f}),n.d(e,"descending",function(){return i.g}),n.d(e,"deviation",function(){return i.h}),n.d(e,"extent",function(){return i.i}),n.d(e,"histogram",function(){return i.j}),n.d(e,"thresholdFreedmanDiaconis",function(){return i.w}),n.d(e,"thresholdScott",function(){return i.x}),n.d(e,"thresholdSturges",function(){return i.y}),n.d(e,"max",function(){return i.k}),n.d(e,"mean",function(){return i.l}),n.d(e,"median",function(){return i.m}),n.d(e,"merge",function(){return i.n}),n.d(e,"min",function(){return i.o}),n.d(e,"pairs",function(){return i.p}),n.d(e,"permute",function(){return i.q}),n.d(e,"quantile",function(){return i.r}),n.d(e,"range",function(){return i.s}),n.d(e,"scan",function(){return i.t}),n.d(e,"shuffle",function(){return i.u}),n.d(e,"sum",function(){return i.v}),n.d(e,"ticks",function(){return i.B}),n.d(e,"tickIncrement",function(){return i.z}),n.d(e,"tickStep",function(){return i.A}),n.d(e,"transpose",function(){return i.C}),n.d(e,"variance",function(){return i.D}),n.d(e,"zip",function(){return i.E});var o=n(1312);n.d(e,"axisTop",function(){return o.d}),n.d(e,"axisRight",function(){return o.c}),n.d(e,"axisBottom",function(){return o.a}),n.d(e,"axisLeft",function(){return o.b});var a=n(1316);n.d(e,"brush",function(){return a.a}),n.d(e,"brushX",function(){return a.c}),n.d(e,"brushY",function(){return a.d}),n.d(e,"brushSelection",function(){return a.b});var s=n(1407);n.d(e,"chord",function(){return s.a}),n.d(e,"ribbon",function(){return s.b});var u=n(801);n.d(e,"nest",function(){return u.d}),n.d(e,"set",function(){return u.e}),n.d(e,"map",function(){return u.c}),n.d(e,"keys",function(){return u.b}),n.d(e,"values",function(){return u.f}),n.d(e,"entries",function(){return u.a});var l=n(768);n.d(e,"color",function(){return l.a}),n.d(e,"rgb",function(){return l.f}),n.d(e,"hsl",function(){return l.d}),n.d(e,"lab",function(){return l.e}),n.d(e,"hcl",function(){return l.c}),n.d(e,"cubehelix",function(){return l.b});var c=n(820);n.d(e,"dispatch",function(){return c.a});var h=n(968);n.d(e,"drag",function(){return h.a}),n.d(e,"dragDisable",function(){return h.b}),n.d(e,"dragEnable",function(){return h.c});var f=n(868);n.d(e,"dsvFormat",function(){return f.e}),n.d(e,"csvParse",function(){return f.c}),n.d(e,"csvParseRows",function(){return f.d}),n.d(e,"csvFormat",function(){return f.a}),n.d(e,"csvFormatRows",function(){return f.b}),n.d(e,"tsvParse",function(){return f.h}),n.d(e,"tsvParseRows",function(){return f.i}),n.d(e,"tsvFormat",function(){return f.f}),n.d(e,"tsvFormatRows",function(){return f.g});var d=n(977);n.d(e,"easeLinear",function(){return d.y}),n.d(e,"easeQuad",function(){return d.D}),n.d(e,"easeQuadIn",function(){return d.E}),n.d(e,"easeQuadOut",function(){return d.G}),n.d(e,"easeQuadInOut",function(){return d.F}),n.d(e,"easeCubic",function(){return d.m}),n.d(e,"easeCubicIn",function(){return d.n}),n.d(e,"easeCubicOut",function(){return d.p}),n.d(e,"easeCubicInOut",function(){return d.o}),n.d(e,"easePoly",function(){return d.z}),n.d(e,"easePolyIn",function(){return d.A}),n.d(e,"easePolyOut",function(){return d.C}),n.d(e,"easePolyInOut",function(){return d.B}),n.d(e,"easeSin",function(){return d.H}),n.d(e,"easeSinIn",function(){return d.I}),n.d(e,"easeSinOut",function(){return d.K}),n.d(e,"easeSinInOut",function(){return d.J}),n.d(e,"easeExp",function(){return d.u}),n.d(e,"easeExpIn",function(){return d.v}),n.d(e,"easeExpOut",function(){return d.x}),n.d(e,"easeExpInOut",function(){return d.w}),n.d(e,"easeCircle",function(){return d.i}),n.d(e,"easeCircleIn",function(){return d.j}),n.d(e,"easeCircleOut",function(){return d.l}),n.d(e,"easeCircleInOut",function(){return d.k}),n.d(e,"easeBounce",function(){return d.e}),n.d(e,"easeBounceIn",function(){return d.f}),n.d(e,"easeBounceOut",function(){return d.h}),n.d(e,"easeBounceInOut",function(){return d.g}),n.d(e,"easeBack",function(){return d.a}),n.d(e,"easeBackIn",function(){return d.b}),n.d(e,"easeBackOut",function(){return d.d}),n.d(e,"easeBackInOut",function(){return d.c}),n.d(e,"easeElastic",function(){return d.q}),n.d(e,"easeElasticIn",function(){return d.r}),n.d(e,"easeElasticOut",function(){return d.t}),n.d(e,"easeElasticInOut",function(){return d.s});var p=n(1470);n.d(e,"forceCenter",function(){return p.a}),n.d(e,"forceCollide",function(){return p.b}),n.d(e,"forceLink",function(){return p.c}),n.d(e,"forceManyBody",function(){return p.d}),n.d(e,"forceRadial",function(){return p.e}),n.d(e,"forceSimulation",function(){return p.f}),n.d(e,"forceX",function(){return p.g}),n.d(e,"forceY",function(){return p.h});var g=n(873);n.d(e,"formatDefaultLocale",function(){return g.b}),n.d(e,"format",function(){return g.a}),n.d(e,"formatPrefix",function(){return g.d}),n.d(e,"formatLocale",function(){return g.c}),n.d(e,"formatSpecifier",function(){return g.e}),n.d(e,"precisionFixed",function(){return g.f}),n.d(e,"precisionPrefix",function(){return g.g}),n.d(e,"precisionRound",function(){return g.h});var v=n(1500);n.d(e,"geoArea",function(){return v.c}),n.d(e,"geoBounds",function(){return v.h}),n.d(e,"geoCentroid",function(){return v.i}),n.d(e,"geoCircle",function(){return v.j}),n.d(e,"geoClipAntimeridian",function(){return v.k}),n.d(e,"geoClipCircle",function(){return v.l}),n.d(e,"geoClipExtent",function(){return v.m}),n.d(e,"geoClipRectangle",function(){return v.n}),n.d(e,"geoContains",function(){return v.u}),n.d(e,"geoDistance",function(){return v.v}),n.d(e,"geoGraticule",function(){return v.A}),n.d(e,"geoGraticule10",function(){return v.B}),n.d(e,"geoInterpolate",function(){return v.D}),n.d(e,"geoLength",function(){return v.E}),n.d(e,"geoPath",function(){return v.L}),n.d(e,"geoAlbers",function(){return v.a}),n.d(e,"geoAlbersUsa",function(){return v.b}),n.d(e,"geoAzimuthalEqualArea",function(){return v.d}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return v.e}),n.d(e,"geoAzimuthalEquidistant",function(){return v.f}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return v.g}),n.d(e,"geoConicConformal",function(){return v.o}),n.d(e,"geoConicConformalRaw",function(){return v.p}),n.d(e,"geoConicEqualArea",function(){return v.q}),n.d(e,"geoConicEqualAreaRaw",function(){return v.r}),n.d(e,"geoConicEquidistant",function(){return v.s}),n.d(e,"geoConicEquidistantRaw",function(){return v.t}),n.d(e,"geoEquirectangular",function(){return v.w}),n.d(e,"geoEquirectangularRaw",function(){return v.x}),n.d(e,"geoGnomonic",function(){return v.y}),n.d(e,"geoGnomonicRaw",function(){return v.z}),n.d(e,"geoIdentity",function(){return v.C}),n.d(e,"geoProjection",function(){return v.M}),n.d(e,"geoProjectionMutator",function(){return v.N}),n.d(e,"geoMercator",function(){return v.F}),n.d(e,"geoMercatorRaw",function(){return v.G}),n.d(e,"geoNaturalEarth1",function(){return v.H}),n.d(e,"geoNaturalEarth1Raw",function(){return v.I}),n.d(e,"geoOrthographic",function(){return v.J}),n.d(e,"geoOrthographicRaw",function(){return v.K}),n.d(e,"geoStereographic",function(){return v.P}),n.d(e,"geoStereographicRaw",function(){return v.Q}),n.d(e,"geoTransverseMercator",function(){return v.T}),n.d(e,"geoTransverseMercatorRaw",function(){return v.U}),n.d(e,"geoRotation",function(){return v.O}),n.d(e,"geoStream",function(){return v.R}),n.d(e,"geoTransform",function(){return v.S});var m=n(1528);n.d(e,"cluster",function(){return m.a}),n.d(e,"hierarchy",function(){return m.b}),n.d(e,"pack",function(){return m.c}),n.d(e,"packSiblings",function(){return m.e}),n.d(e,"packEnclose",function(){return m.d}),n.d(e,"partition",function(){return m.f}),n.d(e,"stratify",function(){return m.g}),n.d(e,"tree",function(){return m.h}),n.d(e,"treemap",function(){return m.i}),n.d(e,"treemapBinary",function(){return m.j}),n.d(e,"treemapDice",function(){return m.k}),n.d(e,"treemapSlice",function(){return m.m}),n.d(e,"treemapSliceDice",function(){return m.n}),n.d(e,"treemapSquarify",function(){return m.o}),n.d(e,"treemapResquarify",function(){return m.l});var y=n(805);n.d(e,"interpolate",function(){return y.a}),n.d(e,"interpolateArray",function(){return y.b}),n.d(e,"interpolateBasis",function(){return y.c}),n.d(e,"interpolateBasisClosed",function(){return y.d}),n.d(e,"interpolateDate",function(){return y.g}),n.d(e,"interpolateNumber",function(){return y.m}),n.d(e,"interpolateObject",function(){return y.n}),n.d(e,"interpolateRound",function(){return y.r}),n.d(e,"interpolateString",function(){return y.s}),n.d(e,"interpolateTransformCss",function(){return y.t}),n.d(e,"interpolateTransformSvg",function(){return y.u}),n.d(e,"interpolateZoom",function(){return y.v}),n.d(e,"interpolateRgb",function(){return y.o}),n.d(e,"interpolateRgbBasis",function(){return y.p}),n.d(e,"interpolateRgbBasisClosed",function(){return y.q}),n.d(e,"interpolateHsl",function(){return y.j}),n.d(e,"interpolateHslLong",function(){return y.k}),n.d(e,"interpolateLab",function(){return y.l}),n.d(e,"interpolateHcl",function(){return y.h}),n.d(e,"interpolateHclLong",function(){return y.i}),n.d(e,"interpolateCubehelix",function(){return y.e}),n.d(e,"interpolateCubehelixLong",function(){return y.f}),n.d(e,"quantize",function(){return y.w});var x=n(775);n.d(e,"path",function(){return x.a});var _=n(1560);n.d(e,"polygonArea",function(){return _.a}),n.d(e,"polygonCentroid",function(){return _.b}),n.d(e,"polygonHull",function(){return _.d}),n.d(e,"polygonContains",function(){return _.c}),n.d(e,"polygonLength",function(){return _.e});var b=n(871);n.d(e,"quadtree",function(){return b.a});var w=n(1567);n.d(e,"queue",function(){return w.a});var M=n(1570);n.d(e,"randomUniform",function(){return M.f}),n.d(e,"randomNormal",function(){return M.e}),n.d(e,"randomLogNormal",function(){return M.d}),n.d(e,"randomBates",function(){return M.a}),n.d(e,"randomIrwinHall",function(){return M.c}),n.d(e,"randomExponential",function(){return M.b});var S=n(1575);n.d(e,"request",function(){return S.d}),n.d(e,"html",function(){return S.b}),n.d(e,"json",function(){return S.c}),n.d(e,"text",function(){return S.e}),n.d(e,"xml",function(){return S.g}),n.d(e,"csv",function(){return S.a}),n.d(e,"tsv",function(){return S.f});var A=n(1582);n.d(e,"scaleBand",function(){return A.i}),n.d(e,"scalePoint",function(){return A.o}),n.d(e,"scaleIdentity",function(){return A.j}),n.d(e,"scaleLinear",function(){return A.l}),n.d(e,"scaleLog",function(){return A.m}),n.d(e,"scaleOrdinal",function(){return A.n}),n.d(e,"scaleImplicit",function(){return A.k}),n.d(e,"scalePow",function(){return A.p}),n.d(e,"scaleSqrt",function(){return A.t}),n.d(e,"scaleQuantile",function(){return A.q}),n.d(e,"scaleQuantize",function(){return A.r}),n.d(e,"scaleThreshold",function(){return A.u}),n.d(e,"scaleTime",function(){return A.v}),n.d(e,"scaleUtc",function(){return A.w}),n.d(e,"schemeCategory10",function(){return A.x}),n.d(e,"schemeCategory20b",function(){return A.z}),n.d(e,"schemeCategory20c",function(){return A.A}),n.d(e,"schemeCategory20",function(){return A.y}),n.d(e,"interpolateCubehelixDefault",function(){return A.b}),n.d(e,"interpolateRainbow",function(){return A.f}),n.d(e,"interpolateWarm",function(){return A.h}),n.d(e,"interpolateCool",function(){return A.a}),n.d(e,"interpolateViridis",function(){return A.g}),n.d(e,"interpolateMagma",function(){return A.d}),n.d(e,"interpolateInferno",function(){return A.c}),n.d(e,"interpolatePlasma",function(){return A.e}),n.d(e,"scaleSequential",function(){return A.s});var T=n(742);n.d(e,"create",function(){return T.b}),n.d(e,"creator",function(){return T.c}),n.d(e,"local",function(){return T.f}),n.d(e,"matcher",function(){return T.g}),n.d(e,"mouse",function(){return T.h}),n.d(e,"namespace",function(){return T.i}),n.d(e,"namespaces",function(){return T.j}),n.d(e,"clientPoint",function(){return T.a}),n.d(e,"select",function(){return T.k}),n.d(e,"selectAll",function(){return T.l}),n.d(e,"selection",function(){return T.m}),n.d(e,"selector",function(){return T.n}),n.d(e,"selectorAll",function(){return T.o}),n.d(e,"style",function(){return T.p}),n.d(e,"touch",function(){return T.q}),n.d(e,"touches",function(){return T.r}),n.d(e,"window",function(){return T.s}),n.d(e,"event",function(){return T.e}),n.d(e,"customEvent",function(){return T.d});var O=n(1615);n.d(e,"arc",function(){return O.a}),n.d(e,"area",function(){return O.b}),n.d(e,"line",function(){return O.v}),n.d(e,"pie",function(){return O.A}),n.d(e,"areaRadial",function(){return O.c}),n.d(e,"radialArea",function(){return O.C}),n.d(e,"lineRadial",function(){return O.w}),n.d(e,"radialLine",function(){return O.D}),n.d(e,"pointRadial",function(){return O.B}),n.d(e,"linkHorizontal",function(){return O.x}),n.d(e,"linkVertical",function(){return O.z}),n.d(e,"linkRadial",function(){return O.y}),n.d(e,"symbol",function(){return O.P}),n.d(e,"symbols",function(){return O.X}),n.d(e,"symbolCircle",function(){return O.Q}),n.d(e,"symbolCross",function(){return O.R}),n.d(e,"symbolDiamond",function(){return O.S}),n.d(e,"symbolSquare",function(){return O.T}),n.d(e,"symbolStar",function(){return O.U}),n.d(e,"symbolTriangle",function(){return O.V}),n.d(e,"symbolWye",function(){return O.W}),n.d(e,"curveBasisClosed",function(){return O.e}),n.d(e,"curveBasisOpen",function(){return O.f}),n.d(e,"curveBasis",function(){return O.d}),n.d(e,"curveBundle",function(){return O.g}),n.d(e,"curveCardinalClosed",function(){return O.i}),n.d(e,"curveCardinalOpen",function(){return O.j}),n.d(e,"curveCardinal",function(){return O.h}),n.d(e,"curveCatmullRomClosed",function(){return O.l}),n.d(e,"curveCatmullRomOpen",function(){return O.m}),n.d(e,"curveCatmullRom",function(){return O.k}),n.d(e,"curveLinearClosed",function(){return O.o}),n.d(e,"curveLinear",function(){return O.n}),n.d(e,"curveMonotoneX",function(){return O.p}),n.d(e,"curveMonotoneY",function(){return O.q}),n.d(e,"curveNatural",function(){return O.r}),n.d(e,"curveStep",function(){return O.s}),n.d(e,"curveStepAfter",function(){return O.t}),n.d(e,"curveStepBefore",function(){return O.u}),n.d(e,"stack",function(){return O.E}),n.d(e,"stackOffsetExpand",function(){return O.G}),n.d(e,"stackOffsetDiverging",function(){return O.F}),n.d(e,"stackOffsetNone",function(){return O.H}),n.d(e,"stackOffsetSilhouette",function(){return O.I}),n.d(e,"stackOffsetWiggle",function(){return O.J}),n.d(e,"stackOrderAscending",function(){return O.K}),n.d(e,"stackOrderDescending",function(){return O.L}),n.d(e,"stackOrderInsideOut",function(){return O.M}),n.d(e,"stackOrderNone",function(){return O.N}),n.d(e,"stackOrderReverse",function(){return O.O});var C=n(831);n.d(e,"timeInterval",function(){return C.g}),n.d(e,"timeMillisecond",function(){return C.h}),n.d(e,"timeMilliseconds",function(){return C.i}),n.d(e,"utcMillisecond",function(){return C.L}),n.d(e,"utcMilliseconds",function(){return C.M}),n.d(e,"timeSecond",function(){return C.r}),n.d(e,"timeSeconds",function(){return C.s}),n.d(e,"utcSecond",function(){return C.V}),n.d(e,"utcSeconds",function(){return C.W}),n.d(e,"timeMinute",function(){return C.j}),n.d(e,"timeMinutes",function(){return C.k}),n.d(e,"timeHour",function(){return C.e}),n.d(e,"timeHours",function(){return C.f}),n.d(e,"timeDay",function(){return C.a}),n.d(e,"timeDays",function(){return C.b}),n.d(e,"timeWeek",function(){return C.B}),n.d(e,"timeWeeks",function(){return C.C}),n.d(e,"timeSunday",function(){return C.t}),n.d(e,"timeSundays",function(){return C.u}),n.d(e,"timeMonday",function(){return C.l}),n.d(e,"timeMondays",function(){return C.m}),n.d(e,"timeTuesday",function(){return C.x}),n.d(e,"timeTuesdays",function(){return C.y}),n.d(e,"timeWednesday",function(){return C.z}),n.d(e,"timeWednesdays",function(){return C.A}),n.d(e,"timeThursday",function(){return C.v}),n.d(e,"timeThursdays",function(){return C.w}),n.d(e,"timeFriday",function(){return C.c}),n.d(e,"timeFridays",function(){return C.d}),n.d(e,"timeSaturday",function(){return C.p}),n.d(e,"timeSaturdays",function(){return C.q}),n.d(e,"timeMonth",function(){return C.n}),n.d(e,"timeMonths",function(){return C.o}),n.d(e,"timeYear",function(){return C.D}),n.d(e,"timeYears",function(){return C.E}),n.d(e,"utcMinute",function(){return C.N}),n.d(e,"utcMinutes",function(){return C.O}),n.d(e,"utcHour",function(){return C.J}),n.d(e,"utcHours",function(){return C.K}),n.d(e,"utcDay",function(){return C.F}),n.d(e,"utcDays",function(){return C.G}),n.d(e,"utcWeek",function(){return C._5}),n.d(e,"utcWeeks",function(){return C._6}),n.d(e,"utcSunday",function(){return C.X}),n.d(e,"utcSundays",function(){return C.Y}),n.d(e,"utcMonday",function(){return C.P}),n.d(e,"utcMondays",function(){return C.Q}),n.d(e,"utcTuesday",function(){return C._1}),n.d(e,"utcTuesdays",function(){return C._2}),n.d(e,"utcWednesday",function(){return C._3}),n.d(e,"utcWednesdays",function(){return C._4}),n.d(e,"utcThursday",function(){return C.Z}),n.d(e,"utcThursdays",function(){return C._0}),n.d(e,"utcFriday",function(){return C.H}),n.d(e,"utcFridays",function(){return C.I}),n.d(e,"utcSaturday",function(){return C.T}),n.d(e,"utcSaturdays",function(){return C.U}),n.d(e,"utcMonth",function(){return C.R}),n.d(e,"utcMonths",function(){return C.S}),n.d(e,"utcYear",function(){return C._7}),n.d(e,"utcYears",function(){return C._8});var I=n(887);n.d(e,"timeFormatDefaultLocale",function(){return I.d}),n.d(e,"timeFormat",function(){return I.c}),n.d(e,"timeParse",function(){return I.f}),n.d(e,"utcFormat",function(){return I.g}),n.d(e,"utcParse",function(){return I.h}),n.d(e,"timeFormatLocale",function(){return I.e}),n.d(e,"isoFormat",function(){return I.a}),n.d(e,"isoParse",function(){return I.b});var k=n(893);n.d(e,"now",function(){return k.b}),n.d(e,"timer",function(){return k.d}),n.d(e,"timerFlush",function(){return k.e}),n.d(e,"timeout",function(){return k.c}),n.d(e,"interval",function(){return k.a});var D=n(1032);n.d(e,"transition",function(){return D.c}),n.d(e,"active",function(){return D.a}),n.d(e,"interrupt",function(){return D.b});var L=n(1662);n.d(e,"voronoi",function(){return L.a});var E=n(1667);n.d(e,"zoom",function(){return E.a}),n.d(e,"zoomTransform",function(){return E.c}),n.d(e,"zoomIdentity",function(){return E.b})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="4.13.0"},function(t,e,n){"use strict";var r=n(936);e.a=function(t,e,n){var i,o,a,s,u=t.length,l=e.length,c=new Array(u*l);for(null==n&&(n=r.b),i=a=0;i<u;++i)for(s=t[i],o=0;o<l;++o,++a)c[a]=n(s,e[o]);return c}},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";var r=n(940),i=n(934),o=n(1299),a=n(939),s=n(1300),u=n(941),l=n(942),c=n(943);e.a=function(){var t=s.a,e=a.a,n=c.a;function h(r){var o,a,s=r.length,c=new Array(s);for(o=0;o<s;++o)c[o]=t(r[o],o,r);var h=e(c),f=h[0],d=h[1],p=n(c,f,d);Array.isArray(p)||(p=Object(l.c)(f,d,p),p=Object(u.a)(Math.ceil(f/p)*p,Math.floor(d/p)*p,p));for(var g=p.length;p[0]<=f;)p.shift(),--g;for(;p[g-1]>d;)p.pop(),--g;var v,m=new Array(g+1);for(o=0;o<=g;++o)(v=m[o]=[]).x0=o>0?p[o-1]:f,v.x1=o<g?p[o]:d;for(o=0;o<s;++o)f<=(a=c[o])&&a<=d&&m[Object(i.c)(p,a,0,g)].push(r[o]);return m}return h.value=function(e){return arguments.length?(t="function"==typeof e?e:Object(o.a)(e),h):t},h.domain=function(t){return arguments.length?(e="function"==typeof t?t:Object(o.a)([t[0],t[1]]),h):e},h.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Object(o.a)(r.b.call(t)):Object(o.a)(t),h):n},h}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(940),i=n(791),o=n(800),a=n(846);e.a=function(t,e,n){return t=r.a.call(t,o.a).sort(i.a),Math.ceil((n-e)/(2*(Object(a.a)(t,.75)-Object(a.a)(t,.25))*Math.pow(t.length,-1/3)))}},function(t,e,n){"use strict";var r=n(937);e.a=function(t,e,n){return Math.ceil((n-e)/(3.5*Object(r.a)(t)*Math.pow(t.length,-1/3)))}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}},function(t,e,n){"use strict";var r=n(800);e.a=function(t,e){var n,i=t.length,o=i,a=-1,s=0;if(null==e)for(;++a<i;)isNaN(n=Object(r.a)(t[a]))?--o:s+=n;else for(;++a<i;)isNaN(n=Object(r.a)(e(t[a],a,t)))?--o:s+=n;if(o)return s/o}},function(t,e,n){"use strict";var r=n(791),i=n(800),o=n(846);e.a=function(t,e){var n,a=t.length,s=-1,u=[];if(null==e)for(;++s<a;)isNaN(n=Object(i.a)(t[s]))||u.push(n);else for(;++s<a;)isNaN(n=Object(i.a)(e(t[s],s,t)))||u.push(n);return Object(o.a)(u.sort(r.a),.5)}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}},function(t,e,n){"use strict";var r=n(791);e.a=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];for(null==e&&(e=r.a);++o<n;)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);return 0===e(s,s)?a:void 0}}},function(t,e,n){"use strict";e.a=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t}},function(t,e,n){"use strict";e.a=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}},function(t,e,n){"use strict";var r=n(945);e.a=function(){return Object(r.a)(arguments)}},function(t,e,n){"use strict";var r=n(1313);n.d(e,"d",function(){return r.d}),n.d(e,"c",function(){return r.c}),n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b})},function(t,e,n){"use strict";e.d=function(t){return d(o,t)},e.c=function(t){return d(a,t)},e.a=function(t){return d(s,t)},e.b=function(t){return d(u,t)};var r=n(1314),i=n(1315),o=1,a=2,s=3,u=4,l=1e-6;function c(t){return"translate("+(t+.5)+",0)"}function h(t){return"translate(0,"+(t+.5)+")"}function f(){return!this.__axis}function d(t,e){var n=[],d=null,p=null,g=6,v=6,m=3,y=t===o||t===u?-1:1,x=t===u||t===a?"x":"y",_=t===o||t===s?c:h;function b(r){var c=null==d?e.ticks?e.ticks.apply(e,n):e.domain():d,h=null==p?e.tickFormat?e.tickFormat.apply(e,n):i.a:p,b=Math.max(g,0)+m,w=e.range(),M=+w[0]+.5,S=+w[w.length-1]+.5,A=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),T=r.selection?r.selection():r,O=T.selectAll(".domain").data([null]),C=T.selectAll(".tick").data(c,e).order(),I=C.exit(),k=C.enter().append("g").attr("class","tick"),D=C.select("line"),L=C.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),C=C.merge(k),D=D.merge(k.append("line").attr("stroke","#000").attr(x+"2",y*g)),L=L.merge(k.append("text").attr("fill","#000").attr(x,y*b).attr("dy",t===o?"0em":t===s?"0.71em":"0.32em")),r!==T&&(O=O.transition(r),C=C.transition(r),D=D.transition(r),L=L.transition(r),I=I.transition(r).attr("opacity",l).attr("transform",function(t){return isFinite(t=A(t))?_(t):this.getAttribute("transform")}),k.attr("opacity",l).attr("transform",function(t){var e=this.parentNode.__axis;return _(e&&isFinite(e=e(t))?e:A(t))})),I.remove(),O.attr("d",t===u||t==a?"M"+y*v+","+M+"H0.5V"+S+"H"+y*v:"M"+M+","+y*v+"V0.5H"+S+"V"+y*v),C.attr("opacity",1).attr("transform",function(t){return _(A(t))}),D.attr(x+"2",y*g),L.attr(x,y*b).text(h),T.filter(f).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===a?"start":t===u?"end":"middle"),T.each(function(){this.__axis=A})}return b.scale=function(t){return arguments.length?(e=t,b):e},b.ticks=function(){return n=r.a.call(arguments),b},b.tickArguments=function(t){return arguments.length?(n=null==t?[]:r.a.call(t),b):n.slice()},b.tickValues=function(t){return arguments.length?(d=null==t?null:r.a.call(t),b):d&&d.slice()},b.tickFormat=function(t){return arguments.length?(p=t,b):p},b.tickSize=function(t){return arguments.length?(g=v=+t,b):g},b.tickSizeInner=function(t){return arguments.length?(g=+t,b):g},b.tickSizeOuter=function(t){return arguments.length?(v=+t,b):v},b.tickPadding=function(t){return arguments.length?(m=+t,b):m},b}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(1317);n.d(e,"a",function(){return r.d}),n.d(e,"c",function(){return r.b}),n.d(e,"d",function(){return r.c}),n.d(e,"b",function(){return r.a})},function(t,e,n){"use strict";e.a=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},e.b=function(){return C(g)},e.c=function(){return C(v)};var r=n(792),i=n(946),o=n(761),a=n(735),s=n(963),u=n(1404),l=n(1405),c=n(1406),h={name:"drag"},f={name:"space"},d={name:"handle"},p={name:"center"},g={name:"x",handles:["e","w"].map(M),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},v={name:"y",handles:["n","s"].map(M),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},m={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(M),input:function(t){return t},output:function(t){return t}},y={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},x={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},b={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},w={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function M(t){return{type:t}}function S(){return!a.event.button}function A(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function T(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function O(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function C(t){var e,n=A,m=S,C=Object(r.a)(k,"start","brush","end"),I=6;function k(e){var n=e.property("__brush",N).selectAll(".overlay").data([M("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",y.overlay).merge(n).each(function(){var t=T(this).extent;Object(a.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([M("selection")]).enter().append("rect").attr("class","selection").attr("cursor",y.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return y[t.type]}),e.each(D).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",P)}function D(){var t=Object(a.select)(this),e=T(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-I/2:e[0][0]-I/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-I/2:e[0][1]-I/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+I:I}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+I:I})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function L(t,e){return t.__brush.emitter||new E(t,e)}function E(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function P(){if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return Object(c.a)()}else if(e)return;if(m.apply(this,arguments)){var n,r,o,u,l,M,S,A,C,I,k,E,P,N=this,j=a.event.target.__data__.type,R="selection"===(a.event.metaKey?j="overlay":j)?h:a.event.altKey?p:d,z=t===v?null:b[j],B=t===g?null:w[j],V=T(N),F=V.extent,H=V.selection,W=F[0][0],G=F[0][1],q=F[1][0],U=F[1][1],Y=z&&B&&a.event.shiftKey,X=Object(a.mouse)(N),Z=X,$=L(N,arguments).beforestart();"overlay"===j?V.selection=H=[[n=t===v?W:X[0],o=t===g?G:X[1]],[l=t===v?q:n,S=t===g?U:o]]:(n=H[0][0],o=H[0][1],l=H[1][0],S=H[1][1]),r=n,u=o,M=l,A=S;var K=Object(a.select)(N).attr("pointer-events","none"),J=K.selectAll(".overlay").attr("cursor",y[j]);if(a.event.touches)K.on("touchmove.brush",tt,!0).on("touchend.brush touchcancel.brush",nt,!0);else{var Q=Object(a.select)(a.event.view).on("keydown.brush",function(){switch(a.event.keyCode){case 16:Y=z&&B;break;case 18:R===d&&(z&&(l=M-C*z,n=r+C*z),B&&(S=A-I*B,o=u+I*B),R=p,et());break;case 32:R!==d&&R!==p||(z<0?l=M-C:z>0&&(n=r-C),B<0?S=A-I:B>0&&(o=u-I),R=f,J.attr("cursor",y.selection),et());break;default:return}Object(c.a)()},!0).on("keyup.brush",function(){switch(a.event.keyCode){case 16:Y&&(E=P=Y=!1,et());break;case 18:R===p&&(z<0?l=M:z>0&&(n=r),B<0?S=A:B>0&&(o=u),R=d,et());break;case 32:R===f&&(a.event.altKey?(z&&(l=M-C*z,n=r+C*z),B&&(S=A-I*B,o=u+I*B),R=p):(z<0?l=M:z>0&&(n=r),B<0?S=A:B>0&&(o=u),R=d),J.attr("cursor",y[j]),et());break;default:return}Object(c.a)()},!0).on("mousemove.brush",tt,!0).on("mouseup.brush",nt,!0);Object(i.a)(a.event.view)}Object(c.b)(),Object(s.a)(N),D.call(N),$.start()}function tt(){var t=Object(a.mouse)(N);!Y||E||P||(Math.abs(t[0]-Z[0])>Math.abs(t[1]-Z[1])?P=!0:E=!0),Z=t,k=!0,Object(c.a)(),et()}function et(){var t;switch(C=Z[0]-X[0],I=Z[1]-X[1],R){case f:case h:z&&(C=Math.max(W-n,Math.min(q-l,C)),r=n+C,M=l+C),B&&(I=Math.max(G-o,Math.min(U-S,I)),u=o+I,A=S+I);break;case d:z<0?(C=Math.max(W-n,Math.min(q-n,C)),r=n+C,M=l):z>0&&(C=Math.max(W-l,Math.min(q-l,C)),r=n,M=l+C),B<0?(I=Math.max(G-o,Math.min(U-o,I)),u=o+I,A=S):B>0&&(I=Math.max(G-S,Math.min(U-S,I)),u=o,A=S+I);break;case p:z&&(r=Math.max(W,Math.min(q,n-C*z)),M=Math.max(W,Math.min(q,l+C*z))),B&&(u=Math.max(G,Math.min(U,o-I*B)),A=Math.max(G,Math.min(U,S+I*B)))}M<r&&(z*=-1,t=n,n=l,l=t,t=r,r=M,M=t,j in x&&J.attr("cursor",y[j=x[j]])),A<u&&(B*=-1,t=o,o=S,S=t,t=u,u=A,A=t,j in _&&J.attr("cursor",y[j=_[j]])),V.selection&&(H=V.selection),E&&(r=H[0][0],M=H[1][0]),P&&(u=H[0][1],A=H[1][1]),H[0][0]===r&&H[0][1]===u&&H[1][0]===M&&H[1][1]===A||(V.selection=[[r,u],[M,A]],D.call(N),$.brush())}function nt(){if(Object(c.b)(),a.event.touches){if(a.event.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),K.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(i.b)(a.event.view,k),Q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);K.attr("pointer-events","all"),J.attr("cursor",y.overlay),V.selection&&(H=V.selection),O(H)&&(V.selection=null,D.call(N)),$.end()}}function N(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return k.move=function(e,n){e.selection?e.on("start.brush",function(){L(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){L(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,i=L(e,arguments),a=r.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),u=Object(o.a)(a,s);function l(t){r.selection=1===t&&O(s)?null:u(t),D.call(e),i.brush()}return a&&s?l:l(1)}):e.each(function(){var e=arguments,r=this.__brush,i=t.input("function"==typeof n?n.apply(this,e):n,r.extent),o=L(this,e).beforestart();Object(s.a)(this),r.selection=null==i||O(i)?null:i,D.call(this),o.start().brush().end()})},E.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Object(a.customEvent)(new l.a(k,e,t.output(this.state.selection)),C.apply,C,[e,this.that,this.args])}},k.extent=function(t){return arguments.length?(n="function"==typeof t?t:Object(u.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),k):n},k.filter=function(t){return arguments.length?(m="function"==typeof t?t:Object(u.a)(!!t),k):m},k.handleSize=function(t){return arguments.length?(I=+t,k):I},k.on=function(){var t=C.on.apply(C,arguments);return t===C?k:t},k}e.d=function(){return C(m)}},function(t,e,n){"use strict";var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,l=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<l;)if(n=(t=o[u]).type)i[n]=s(i[n],t.name,e);else if(null==e)for(n in i)i[n]=s(i[n],t.name,null);return this}for(;++u<l;)if((n=(t=o[u]).type)&&(n=a(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=i},function(t,e,n){"use strict";n(792),n(735),n(953),n(954),n(1354),n(1355)},function(t,e,n){"use strict";var r=n(816),i=n(947);e.a=function(t){return Object(i.a)(Object(r.a)(t).call(document.documentElement))}},function(t,e,n){"use strict";var r=n(756),i=n(849);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u,l=e[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(756),i=n(948);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],s=0;s<n;++s)for(var u,l=e[s],c=l.length,h=0;h<c;++h)(u=l[h])&&(o.push(t.call(u,u.__data__,h,l)),a.push(u));return new r.a(o,a)}},function(t,e,n){"use strict";var r=n(756),i=n(949);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],l=u.length,c=o[a]=[],h=0;h<l;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&c.push(s);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(756),i=n(950),o=n(1325),a="$";function s(t,e,n,r,o,a){for(var s,u=0,l=e.length,c=a.length;u<c;++u)(s=e[u])?(s.__data__=a[u],r[u]=s):n[u]=new i.a(t,a[u]);for(;u<l;++u)(s=e[u])&&(o[u]=s)}function u(t,e,n,r,o,s,u){var l,c,h,f={},d=e.length,p=s.length,g=new Array(d);for(l=0;l<d;++l)(c=e[l])&&(g[l]=h=a+u.call(c,c.__data__,l,e),h in f?o[l]=c:f[h]=c);for(l=0;l<p;++l)(c=f[h=a+u.call(t,s[l],l,s)])?(r[l]=c,c.__data__=s[l],f[h]=null):n[l]=new i.a(t,s[l]);for(l=0;l<d;++l)(c=e[l])&&f[g[l]]===c&&(o[l]=c)}e.a=function(t,e){if(!t)return m=new Array(this.size()),d=-1,this.each(function(t){m[++d]=t}),m;var n=e?u:s,i=this._parents,a=this._groups;"function"!=typeof t&&(t=Object(o.a)(t));for(var l=a.length,c=new Array(l),h=new Array(l),f=new Array(l),d=0;d<l;++d){var p=i[d],g=a[d],v=g.length,m=t.call(p,p&&p.__data__,d,i),y=m.length,x=h[d]=new Array(y),_=c[d]=new Array(y);n(p,g,x,_,f[d]=new Array(v),m,e);for(var b,w,M=0,S=0;M<y;++M)if(b=x[M]){for(M>=S&&(S=M+1);!(w=_[S])&&++S<y;);b._next=w||null}}return(c=new r.a(c,i))._enter=h,c._exit=f,c}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(951),i=n(756);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(756);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=e[u],h=n[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";var r=n(756);function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=i);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,l=n[s],c=l.length,h=a[s]=new Array(c),f=0;f<c;++f)(u=l[f])&&(h[f]=u);h.sort(e)}return new r.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";var r=n(847);e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},function(t,e,n){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),u=-1,l=n.length;++u<l;)if(!o.contains(n[u]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}:e?function(t){return function(){a(this,t)}}:function(t){return function(){s(this,t)}})(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(816);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";var r=n(816),i=n(849);function o(){return null}e.a=function(t,e){var n="function"==typeof t?t:Object(r.a)(t),a=null==e?o:"function"==typeof e?e:Object(i.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function i(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}e.a=function(t){return this.select(t?i:r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";var r=n(850);function i(t,e,n){var i=Object(r.a)(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return i(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return i(this,t,e)}})(t,e))}},function(t,e,n){"use strict";e.a=i;var r=0;function i(){return new o}function o(){this._="@"+(++r).toString(36)}o.prototype=i.prototype={constructor:o,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(852),i=n(817);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(756);e.a=function(t){return"string"==typeof t?new r.a([document.querySelectorAll(t)],[document.documentElement]):new r.a([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(852),i=n(817);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var o,a=0,s=e?e.length:0;a<s;++a)if((o=e[a]).identifier===n)return Object(i.a)(t,o);return null}},function(t,e,n){"use strict";var r=n(852),i=n(817);e.a=function(t,e){null==e&&(e=Object(r.a)().touches);for(var n=0,o=e?e.length:0,a=new Array(o);n<o;++n)a[n]=Object(i.a)(t,e[n]);return a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}e.a=r,r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,n){"use strict";e.a=p,e.b=b;var r=n(855),i=n(854),o=n(955),a=.96422,s=1,u=.82521,l=4/29,c=6/29,h=3*c*c,f=c*c*c;function d(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof w){if(isNaN(t.h))return new g(t.l,0,0,t.opacity);var e=t.h*o.a;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof i.b||(t=Object(i.h)(t));var n,r,l=x(t.r),c=x(t.g),h=x(t.b),f=v((.2225045*l+.7168786*c+.0606169*h)/s);return l===c&&c===h?n=r=f:(n=v((.4360747*l+.3850649*c+.1430804*h)/a),r=v((.0139322*l+.0971045*c+.7141733*h)/u)),new g(116*f-16,500*(n-f),200*(f-r),t.opacity)}function p(t,e,n,r){return 1===arguments.length?d(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function v(t){return t>f?Math.pow(t,1/3):t/h+l}function m(t){return t>c?t*t*t:h*(t-l)}function y(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _(t){if(t instanceof w)return new w(t.h,t.c,t.l,t.opacity);if(t instanceof g||(t=d(t)),0===t.a&&0===t.b)return new w(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*o.b;return new w(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function b(t,e,n,r){return 1===arguments.length?_(t):new w(t,e,n,null==r?1:r)}function w(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return new g(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=a*m(e),t=s*m(t),n=u*m(n),new i.b(y(3.1338561*e-1.6168667*t-.4906146*n),y(-.9787684*e+1.9161415*t+.033454*n),y(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(r.a)(w,b,Object(r.b)(i.a,{brighter:function(t){return new w(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new w(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}))},function(t,e,n){"use strict";e.a=p;var r=n(855),i=n(854),o=n(955),a=-.14861,s=1.78277,u=-.29227,l=-.90649,c=1.97294,h=c*l,f=c*s,d=s*u-l*a;function p(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof g)return new g(t.h,t.s,t.l,t.opacity);t instanceof i.b||(t=Object(i.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(d*r+h*e-f*n)/(d+h-f),s=r-a,p=(c*(n-a)-u*s)/l,v=Math.sqrt(p*p+s*s)/(c*a*(1-a)),m=v?Math.atan2(p,s)*o.b-120:NaN;return new g(m<0?m+360:m,v,a,t.opacity)}(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return t=null==t?i.c:Math.pow(i.c,t),new g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.d:Math.pow(i.d,t),new g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*o.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),h=Math.sin(t);return new i.b(255*(e+n*(a*r+s*h)),255*(e+n*(u*r+l*h)),255*(e+n*(c*r)),this.opacity)}}))},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(793)},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n(818),i=n(1362);function o(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}return function(a,s){var u=[],l=[];return a=t(a),s=t(s),function(t,i,o,a,s,u){if(t!==o||i!==a){var l=s.push("translate(",null,e,null,n);u.push({i:l-4,x:Object(r.a)(t,o)},{i:l-2,x:Object(r.a)(i,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,u,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,i)-2,x:Object(r.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}(a.rotate,s.rotate,u,l),function(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,i)-2,x:Object(r.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}(a.skewX,s.skewX,u,l),function(t,e,n,i,a,s){if(t!==n||e!==i){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(r.a)(t,n)},{i:u-2,x:Object(r.a)(e,i)})}else 1===n&&1===i||a.push(o(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,u,l),a=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)u[(e=l[n]).i]=e.x(t);return u.join("")}}}var a=o(i.a,"px, ","px)","deg)"),s=o(i.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){if("none"===t)return s.b;r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView);return r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])},e.b=function(t){if(null==t)return s.b;a||(a=document.createElementNS("http://www.w3.org/2000/svg","g"));return a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b};var r,i,o,a,s=n(1363)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var s,u,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(l)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";var r=Math.SQRT2;function i(t){return((t=Math.exp(t))+1/t)/2}e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],l=e[0],c=e[1],h=e[2],f=l-a,d=c-s,p=f*f+d*d;if(p<1e-12)o=Math.log(h/u)/r,n=function(t){return[a+t*f,s+t*d,u*Math.exp(r*t*o)]};else{var g=Math.sqrt(p),v=(h*h-u*u+4*p)/(2*u*2*g),m=(h*h-u*u-4*p)/(2*h*2*g),y=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(m*m+1)-m);o=(x-y)/r,n=function(t){var e,n=t*o,l=i(y),c=u/(2*g)*(l*(e=r*n+y,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[a+c*f,s+c*d,u*l/i(r*n+y)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";var r=n(763),i=n(793);function o(t){return function(e,n){var o=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),a=Object(i.a)(e.s,n.s),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}o(i.c),o(i.a)},function(t,e,n){"use strict";n(763),n(793)},function(t,e,n){"use strict";var r=n(763),i=n(793);function o(t){return function(e,n){var o=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),a=Object(i.a)(e.c,n.c),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}o(i.c),o(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(763),i=n(793);function o(t){return function e(n){function o(e,o){var a=t((e=Object(r.b)(e)).h,(o=Object(r.b)(o)).h),s=Object(i.a)(e.s,o.s),u=Object(i.a)(e.l,o.l),l=Object(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,o.gamma=e,o}(1)}o(i.c);var a=o(i.a)},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";var r=n(735),i=n(1372),o=n(1375);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(t,e,n){"use strict";var r=n(964);e.a=function(t){return this.each(function(){Object(r.a)(this,t)})}},function(t,e,n){"use strict";var r=n(858);e.a=function(t,e,n){var i=new r.a;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}},function(t,e,n){"use strict";n(858)},function(t,e,n){"use strict";var r=n(767),i=n(757),o=n(1392),a=n(857),s={time:null,delay:0,duration:250,ease:o.a};function u(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return s.time=Object(a.a)(),s;return n}e.a=function(t){var e,n;t instanceof r.a?(e=t._id,t=t._name):(e=Object(r.b)(),(n=s).time=Object(a.a)(),t=null==t?null:t+"");for(var o=this._groups,l=o.length,c=0;c<l;++c)for(var h,f=o[c],d=f.length,p=0;p<d;++p)(h=f[p])&&Object(i.e)(h,t,e,p,f,n||u(h,e));return new r.a(o,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(761),i=n(735),o=n(819),a=n(965);e.a=function(t,e){var n=Object(i.namespace)(t),s="transform"===n?r.h:a.a;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,s,Object(o.b)(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,s,e+""))}},function(t,e,n){"use strict";var r=n(735);e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(r.namespace)(t);return this.tween(n,(i.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(i,e))}},function(t,e,n){"use strict";var r=n(757);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.g)(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.g)(this,t).delay=e}})(e,t)):Object(r.f)(this.node(),e).delay}},function(t,e,n){"use strict";var r=n(757);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.h)(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.h)(this,t).duration=e}})(e,t)):Object(r.f)(this.node(),e).duration}},function(t,e,n){"use strict";var r=n(757);e.a=function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Object(r.h)(this,t).ease=e}}(e,t)):Object(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(735),i=n(767);e.a=function(t){"function"!=typeof t&&(t=Object(r.matcher)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],l=u.length,c=o[a]=[],h=0;h<l;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&c.push(s);return new i.a(o,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(767);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=e[u],h=n[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(757);e.a=function(t,e){var n=this._id;return arguments.length<2?Object(r.f)(this.node(),n).on.on(t):this.each(function(t,e,n){var i,o,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?r.g:r.h;return function(){var r=a(this,t),s=r.on;s!==i&&(o=(i=s).copy()).on(e,n),r.on=o}}(n,t,e))}},function(t,e,n){"use strict";e.a=function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}},function(t,e,n){"use strict";var r=n(735),i=n(767),o=n(757);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selector)(t));for(var a=this._groups,s=a.length,u=new Array(s),l=0;l<s;++l)for(var c,h,f=a[l],d=f.length,p=u[l]=new Array(d),g=0;g<d;++g)(c=f[g])&&(h=t.call(c,c.__data__,g,f))&&("__data__"in c&&(h.__data__=c.__data__),p[g]=h,Object(o.e)(p[g],e,n,g,p,Object(o.f)(c,n)));return new i.a(u,this._parents,e,n)}},function(t,e,n){"use strict";var r=n(735),i=n(767),o=n(757);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selectorAll)(t));for(var a=this._groups,s=a.length,u=[],l=[],c=0;c<s;++c)for(var h,f=a[c],d=f.length,p=0;p<d;++p)if(h=f[p]){for(var g,v=t.call(h,h.__data__,p,f),m=Object(o.f)(h,n),y=0,x=v.length;y<x;++y)(g=v[y])&&Object(o.e)(g,e,n,y,v,m);u.push(v),l.push(h)}return new i.a(u,l,e,n)}},function(t,e,n){"use strict";var r=n(735).selection.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";var r=n(761),i=n(735),o=n(819),a=n(965);e.a=function(t,e,n){var s="transform"==(t+="")?r.g:a.a;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var a=Object(i.style)(this,t),s=(this.style.removeProperty(t),Object(i.style)(this,t));return a===s?null:a===n&&s===r?o:o=e(n=a,r=s)}}(t,s)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,o,a;return function(){var s=Object(i.style)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(i.style)(this,t)),s===u?null:s===r&&u===o?a:a=e(r=s,o=u)}}(t,s,Object(o.b)(this,"style."+t,e)):function(t,e,n){var r,o;return function(){var a=Object(i.style)(this,t);return a===n?null:a===r?o:o=e(r=a,n)}}(t,s,e+""),n)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))}},function(t,e,n){"use strict";var r=n(819);e.a=function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Object(r.b)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},function(t,e,n){"use strict";var r=n(767),i=n(757);e.a=function(){for(var t=this._name,e=this._id,n=Object(r.b)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var u,l=o[s],c=l.length,h=0;h<c;++h)if(u=l[h]){var f=Object(i.f)(u,e);Object(i.e)(u,t,n,h,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.a(o,this._parents,t,n)}},function(t,e,n){"use strict";n(1393),n(1394);var r=n(1395);n.d(e,"a",function(){return r.a});n(1396),n(1397),n(1398),n(1399),n(1400),n(1401),n(1402)},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";e.a=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";Math.PI},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";var r=2*Math.PI;(function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o})(1,.3),function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3)},function(t,e,n){"use strict";n(767),n(757)},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.selection=n}},function(t,e,n){"use strict";e.b=function(){r.event.stopImmediatePropagation()};var r=n(735);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){"use strict";var r=n(1408);n.d(e,"a",function(){return r.a});var i=n(1409);n.d(e,"b",function(){return i.a})},function(t,e,n){"use strict";var r=n(745),i=n(966);e.a=function(){var t=0,e=null,n=null,o=null;function a(a){var s,u,l,c,h,f,d=a.length,p=[],g=Object(r.s)(d),v=[],m=[],y=m.groups=new Array(d),x=new Array(d*d);for(s=0,h=-1;++h<d;){for(u=0,f=-1;++f<d;)u+=a[h][f];p.push(u),v.push(Object(r.s)(d)),s+=u}for(e&&g.sort(function(t,n){return e(p[t],p[n])}),n&&v.forEach(function(t,e){t.sort(function(t,r){return n(a[e][t],a[e][r])})}),c=(s=Object(i.c)(0,i.e-t*d)/s)?t:i.e/d,u=0,h=-1;++h<d;){for(l=u,f=-1;++f<d;){var _=g[h],b=v[_][f],w=a[_][b],M=u,S=u+=w*s;x[b*d+_]={index:_,subindex:b,startAngle:M,endAngle:S,value:w}}y[_]={index:_,startAngle:l,endAngle:u,value:p[_]},u+=c}for(h=-1;++h<d;)for(f=h-1;++f<d;){var A=x[f*d+h],T=x[h*d+f];(A.value||T.value)&&m.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}return o?m.sort(o):m}return a.padAngle=function(e){return arguments.length?(t=Object(i.c)(0,e),a):t},a.sortGroups=function(t){return arguments.length?(e=t,a):e},a.sortSubgroups=function(t){return arguments.length?(n=t,a):n},a.sortChords=function(t){return arguments.length?(null==t?o=null:(e=t,o=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,a):o&&o._;var e},a}},function(t,e,n){"use strict";var r=n(1410),i=n(1411),o=n(966),a=n(775);function s(t){return t.source}function u(t){return t.target}function l(t){return t.radius}function c(t){return t.startAngle}function h(t){return t.endAngle}e.a=function(){var t=s,e=u,n=l,f=c,d=h,p=null;function g(){var i,s=r.a.call(arguments),u=t.apply(this,s),l=e.apply(this,s),c=+n.apply(this,(s[0]=u,s)),h=f.apply(this,s)-o.b,g=d.apply(this,s)-o.b,v=c*Object(o.a)(h),m=c*Object(o.d)(h),y=+n.apply(this,(s[0]=l,s)),x=f.apply(this,s)-o.b,_=d.apply(this,s)-o.b;if(p||(p=i=Object(a.a)()),p.moveTo(v,m),p.arc(0,0,c,h,g),h===x&&g===_||(p.quadraticCurveTo(0,0,y*Object(o.a)(x),y*Object(o.d)(x)),p.arc(0,0,y,x,_)),p.quadraticCurveTo(0,0,v,m),p.closePath(),i)return p=null,i+""||null}return g.radius=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),g):n},g.startAngle=function(t){return arguments.length?(f="function"==typeof t?t:Object(i.a)(+t),g):f},g.endAngle=function(t){return arguments.length?(d="function"==typeof t?t:Object(i.a)(+t),g):d},g.source=function(e){return arguments.length?(t=e,g):t},g.target=function(t){return arguments.length?(e=t,g):e},g.context=function(t){return arguments.length?(p=null==t?null:t,g):p},g}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=Math.PI,i=2*r,o=i-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new a}a.prototype=s.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var a=this._x1,s=this._y1,u=n-t,l=i-e,c=a-t,h=s-e,f=c*c+h*h;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*u-l*c)>1e-6&&o){var d=n-a,p=i-s,g=u*u+l*l,v=d*d+p*p,m=Math.sqrt(g),y=Math.sqrt(f),x=o*Math.tan((r-Math.acos((g+f-v)/(2*m*y)))/2),_=x/y,b=x/m;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*c)+","+(e+_*h)),this._+="A"+o+","+o+",0,0,"+ +(h*d>c*p)+","+(this._x1=t+b*u)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,a,s,u){t=+t,e=+e;var l=(n=+n)*Math.cos(a),c=n*Math.sin(a),h=t+l,f=e+c,d=1^u,p=u?a-s:s-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(p<0&&(p=p%i+i),p>o?this._+="A"+n+","+n+",0,1,"+d+","+(t-l)+","+(e-c)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=f):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+d+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.a=s},function(t,e,n){"use strict";var r=n(859);function i(){return{}}function o(t,e,n){t[e]=n}function a(){return Object(r.a)()}function s(t,e,n){t.set(e,n)}e.a=function(){var t,e,n,u=[],l=[];function c(n,i,o,a){if(i>=u.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var s,l,h,f=-1,d=n.length,p=u[i++],g=Object(r.a)(),v=o();++f<d;)(h=g.get(s=p(l=n[f])+""))?h.push(l):g.set(s,[l]);return g.each(function(t,e){a(v,e,c(t,i,o,a))}),v}return n={object:function(t){return c(t,0,i,o)},map:function(t){return c(t,0,a,s)},entries:function(t){return function t(n,r){if(++r>u.length)return n;var i,o=l[r-1];return null!=e&&r>=u.length?i=n.entries():(i=[],n.each(function(e,n){i.push({key:n,values:t(e,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(c(t,0,a,s),0)},key:function(t){return u.push(t),n},sortKeys:function(t){return l[u.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}},function(t,e,n){"use strict";var r=n(859);function i(){}var o=r.a.prototype;function a(t,e){var n=new i;if(t instanceof i)t.each(function(t){n.add(t)});else if(t){var r=-1,o=t.length;if(null==e)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}i.prototype=a.prototype={constructor:i,has:o.has,add:function(t){return t+="",this[r.b+t]=t,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each},e.a=a},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push(n);return e}},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push(t[n]);return e}},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}},function(t,e,n){"use strict";e.a=p,e.b=_;var r=n(861),i=n(860),o=n(967),a=.95047,s=1,u=1.08883,l=4/29,c=6/29,h=3*c*c,f=c*c*c;function d(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof b){var e=t.h*o.a;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof i.b||(t=Object(i.h)(t));var n=x(t.r),r=x(t.g),l=x(t.b),c=v((.4124564*n+.3575761*r+.1804375*l)/a),h=v((.2126729*n+.7151522*r+.072175*l)/s);return new g(116*h-16,500*(c-h),200*(h-v((.0193339*n+.119192*r+.9503041*l)/u)),t.opacity)}function p(t,e,n,r){return 1===arguments.length?d(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function v(t){return t>f?Math.pow(t,1/3):t/h+l}function m(t){return t>c?t*t*t:h*(t-l)}function y(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof b)return new b(t.h,t.c,t.l,t.opacity);t instanceof g||(t=d(t));var e=Math.atan2(t.b,t.a)*o.b;return new b(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new b(t,e,n,null==r?1:r)}function b(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return new g(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=s*m(t),e=a*m(e),n=u*m(n),new i.b(y(3.2404542*e-1.5371385*t-.4985314*n),y(-.969266*e+1.8760108*t+.041556*n),y(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Object(r.a)(b,_,Object(r.b)(i.a,{brighter:function(t){return new b(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new b(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}))},function(t,e,n){"use strict";e.a=p;var r=n(861),i=n(860),o=n(967),a=-.14861,s=1.78277,u=-.29227,l=-.90649,c=1.97294,h=c*l,f=c*s,d=s*u-l*a;function p(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof g)return new g(t.h,t.s,t.l,t.opacity);t instanceof i.b||(t=Object(i.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(d*r+h*e-f*n)/(d+h-f),s=r-a,p=(c*(n-a)-u*s)/l,v=Math.sqrt(p*p+s*s)/(c*a*(1-a)),m=v?Math.atan2(p,s)*o.b-120:NaN;return new g(m<0?m+360:m,v,a,t.opacity)}(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return t=null==t?i.c:Math.pow(i.c,t),new g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.d:Math.pow(i.d,t),new g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*o.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),h=Math.sin(t);return new i.b(255*(e+n*(a*r+s*h)),255*(e+n*(u*r+l*h)),255*(e+n*(c*r)),this.opacity)}}))},function(t,e,n){"use strict";var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,l=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<l;)if(n=(t=o[u]).type)i[n]=s(i[n],t.name,e);else if(null==e)for(n in i)i[n]=s(i[n],t.name,null);return this}for(;++u<l;)if((n=(t=o[u]).type)&&(n=a(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=i},function(t,e,n){"use strict";var r=n(820),i=n(742),o=n(975),a=n(976),s=n(1456),u=n(1457);function l(){return!i.e.button}function c(){return this.parentNode}function h(t){return null==t?{x:i.e.x,y:i.e.y}:t}function f(){return"ontouchstart"in this}e.a=function(){var t,e,n,d,p=l,g=c,v=h,m=f,y={},x=Object(r.a)("start","drag","end"),_=0,b=0;function w(t){t.on("mousedown.drag",M).filter(m).on("touchstart.drag",T).on("touchmove.drag",O).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(){if(!d&&p.apply(this,arguments)){var r=I("mouse",g.apply(this,arguments),i.h,this,arguments);r&&(Object(i.k)(i.e.view).on("mousemove.drag",S,!0).on("mouseup.drag",A,!0),Object(o.a)(i.e.view),Object(a.b)(),n=!1,t=i.e.clientX,e=i.e.clientY,r("start"))}}function S(){if(Object(a.a)(),!n){var r=i.e.clientX-t,o=i.e.clientY-e;n=r*r+o*o>b}y.mouse("drag")}function A(){Object(i.k)(i.e.view).on("mousemove.drag mouseup.drag",null),Object(o.b)(i.e.view,n),Object(a.a)(),y.mouse("end")}function T(){if(p.apply(this,arguments)){var t,e,n=i.e.changedTouches,r=g.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=I(n[t].identifier,r,i.q,this,arguments))&&(Object(a.b)(),e("start"))}}function O(){var t,e,n=i.e.changedTouches,r=n.length;for(t=0;t<r;++t)(e=y[n[t].identifier])&&(Object(a.a)(),e("drag"))}function C(){var t,e,n=i.e.changedTouches,r=n.length;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),t=0;t<r;++t)(e=y[n[t].identifier])&&(Object(a.b)(),e("end"))}function I(t,e,n,r,o){var a,s,l,c=n(e,t),h=x.copy();if(Object(i.d)(new u.a(w,"beforestart",a,t,_,c[0],c[1],0,0,h),function(){return null!=(i.e.subject=a=v.apply(r,o))&&(s=a.x-c[0]||0,l=a.y-c[1]||0,!0)}))return function f(d){var p,g=c;switch(d){case"start":y[t]=f,p=_++;break;case"end":delete y[t],--_;case"drag":c=n(e,t),p=_}Object(i.d)(new u.a(w,d,a,t,p,c[0]+s,c[1]+l,c[0]-g[0],c[1]-g[1],h),h.apply,h,[d,r,o])}}return w.filter=function(t){return arguments.length?(p="function"==typeof t?t:Object(s.a)(!!t),w):p},w.container=function(t){return arguments.length?(g="function"==typeof t?t:Object(s.a)(t),w):g},w.subject=function(t){return arguments.length?(v="function"==typeof t?t:Object(s.a)(t),w):v},w.touchable=function(t){return arguments.length?(m="function"==typeof t?t:Object(s.a)(!!t),w):m},w.on=function(){var t=x.on.apply(x,arguments);return t===x?w:t},w.clickDistance=function(t){return arguments.length?(b=(t=+t)*t,w):Math.sqrt(b)},w}},function(t,e,n){"use strict";var r=n(821),i=n(969);e.a=function(t){return Object(i.a)(Object(r.a)(t).call(document.documentElement))}},function(t,e,n){"use strict";var r=n(758),i=n(864);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u,l=e[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(758),i=n(970);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],s=0;s<n;++s)for(var u,l=e[s],c=l.length,h=0;h<c;++h)(u=l[h])&&(o.push(t.call(u,u.__data__,h,l)),a.push(u));return new r.a(o,a)}},function(t,e,n){"use strict";var r=n(758),i=n(971);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],l=u.length,c=o[a]=[],h=0;h<l;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&c.push(s);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(758),i=n(972),o=n(1427),a="$";function s(t,e,n,r,o,a){for(var s,u=0,l=e.length,c=a.length;u<c;++u)(s=e[u])?(s.__data__=a[u],r[u]=s):n[u]=new i.a(t,a[u]);for(;u<l;++u)(s=e[u])&&(o[u]=s)}function u(t,e,n,r,o,s,u){var l,c,h,f={},d=e.length,p=s.length,g=new Array(d);for(l=0;l<d;++l)(c=e[l])&&(g[l]=h=a+u.call(c,c.__data__,l,e),h in f?o[l]=c:f[h]=c);for(l=0;l<p;++l)(c=f[h=a+u.call(t,s[l],l,s)])?(r[l]=c,c.__data__=s[l],f[h]=null):n[l]=new i.a(t,s[l]);for(l=0;l<d;++l)(c=e[l])&&f[g[l]]===c&&(o[l]=c)}e.a=function(t,e){if(!t)return m=new Array(this.size()),d=-1,this.each(function(t){m[++d]=t}),m;var n=e?u:s,i=this._parents,a=this._groups;"function"!=typeof t&&(t=Object(o.a)(t));for(var l=a.length,c=new Array(l),h=new Array(l),f=new Array(l),d=0;d<l;++d){var p=i[d],g=a[d],v=g.length,m=t.call(p,p&&p.__data__,d,i),y=m.length,x=h[d]=new Array(y),_=c[d]=new Array(y);n(p,g,x,_,f[d]=new Array(v),m,e);for(var b,w,M=0,S=0;M<y;++M)if(b=x[M]){for(M>=S&&(S=M+1);!(w=_[S])&&++S<y;);b._next=w||null}}return(c=new r.a(c,i))._enter=h,c._exit=f,c}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(973),i=n(758);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(758);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=e[u],h=n[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";var r=n(758);function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=i);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,l=n[s],c=l.length,h=a[s]=new Array(c),f=0;f<c;++f)(u=l[f])&&(h[f]=u);h.sort(e)}return new r.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";var r=n(862);e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},function(t,e,n){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),u=-1,l=n.length;++u<l;)if(!o.contains(n[u]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}:e?function(t){return function(){a(this,t)}}:function(t){return function(){s(this,t)}})(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(821);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";var r=n(821),i=n(864);function o(){return null}e.a=function(t,e){var n="function"==typeof t?t:Object(r.a)(t),a=null==e?o:"function"==typeof e?e:Object(i.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function i(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}e.a=function(t){return this.select(t?i:r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";var r=n(865);function i(t,e,n){var i=Object(r.a)(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return i(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return i(this,t,e)}})(t,e))}},function(t,e,n){"use strict";e.a=i;var r=0;function i(){return new o}function o(){this._="@"+(++r).toString(36)}o.prototype=i.prototype={constructor:o,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(867),i=n(822);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(758);e.a=function(t){return"string"==typeof t?new r.a([document.querySelectorAll(t)],[document.documentElement]):new r.a([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(867),i=n(822);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var o,a=0,s=e?e.length:0;a<s;++a)if((o=e[a]).identifier===n)return Object(i.a)(t,o);return null}},function(t,e,n){"use strict";var r=n(867),i=n(822);e.a=function(t,e){null==e&&(e=Object(r.a)().touches);for(var n=0,o=e?e.length:0,a=new Array(o);n<o;++n)a[n]=Object(i.a)(t,e[n]);return a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}e.a=r,r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(869),i=Object(r.a)(","),o=i.parse,a=i.parseRows,s=i.format,u=i.formatRows},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(869),i=Object(r.a)("\t"),o=i.parse,a=i.parseRows,s=i.format,u=i.formatRows},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t){return t*t},e.c=function(t){return t*(2-t)},e.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.a=function(t){return 1-Math.cos(t*i)},e.c=function(t){return Math.sin(t*i)},e.b=function(t){return(1-Math.cos(r*t))/2};var r=Math.PI,i=r/2},function(t,e,n){"use strict";e.a=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return 1-d(1-t)},e.c=d,e.b=function(t){return((t*=2)<=1?1-d(1-t):d(t-1)+1)/2};var r=4/11,i=6/11,o=8/11,a=.75,s=9/11,u=10/11,l=.9375,c=21/22,h=63/64,f=1/r/r;function d(t){return(t=+t)<r?f*t*t:t<o?f*(t-=i)*t+a:t<u?f*(t-=s)*t+l:f*(t-=c)*t+h}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),i=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=2*Math.PI,i=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),o=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),a=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3)},function(t,e,n){"use strict";var r=n(1471);n.d(e,"a",function(){return r.a});var i=n(1472);n.d(e,"b",function(){return i.a});var o=n(1486);n.d(e,"c",function(){return o.a});var a=n(1487);n.d(e,"d",function(){return a.a});var s=n(1488);n.d(e,"e",function(){return s.a});var u=n(978);n.d(e,"f",function(){return u.a});var l=n(1489);n.d(e,"g",function(){return l.a});var c=n(1490);n.d(e,"h",function(){return c.a})},function(t,e,n){"use strict";e.a=function(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}},function(t,e,n){"use strict";var r=n(794),i=n(870),o=n(871);function a(t){return t.x+t.vx}function s(t){return t.y+t.vy}e.a=function(t){var e,n,u=1,l=1;function c(){for(var t,r,c,f,d,p,g,v=e.length,m=0;m<l;++m)for(r=Object(o.a)(e,a,s).visitAfter(h),t=0;t<v;++t)c=e[t],p=n[c.index],g=p*p,f=c.x+c.vx,d=c.y+c.vy,r.visit(y);function y(t,e,n,r,o){var a=t.data,s=t.r,l=p+s;if(!a)return e>f+l||r<f-l||n>d+l||o<d-l;if(a.index>c.index){var h=f-a.x-a.vx,v=d-a.y-a.vy,m=h*h+v*v;m<l*l&&(0===h&&(m+=(h=Object(i.a)())*h),0===v&&(m+=(v=Object(i.a)())*v),m=(l-(m=Math.sqrt(m)))/m*u,c.vx+=(h*=m)*(l=(s*=s)/(g+s)),c.vy+=(v*=m)*l,a.vx-=h*(l=1-l),a.vy-=v*l)}}}function h(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function f(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Object(r.a)(null==t?1:+t)),c.initialize=function(t){e=t,f()},c.iterations=function(t){return arguments.length?(l=+t,c):l},c.strength=function(t){return arguments.length?(u=+t,c):u},c.radius=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),f(),c):t},c}},function(t,e,n){"use strict";e.a=g;var r=n(1474),i=n(1475),o=n(1476),a=n(1477),s=n(1478),u=n(1479),l=n(1480),c=n(1481),h=n(1482),f=n(1483),d=n(1484),p=n(1485);function g(t,e,n){var r=new v(null==e?d.b:e,null==n?p.b:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function v(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function m(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var y=g.prototype=v.prototype;y.copy=function(){var t,e,n=new v(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=m(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=m(e));return n},y.add=r.b,y.addAll=r.a,y.cover=i.a,y.data=o.a,y.extent=a.a,y.find=s.a,y.remove=u.a,y.removeAll=u.b,y.root=l.a,y.size=c.a,y.visit=h.a,y.visitAfter=f.a,y.x=d.a,y.y=p.a},function(t,e,n){"use strict";function r(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,f,d=t._root,p={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}e.a=function(t){var e,n,i,o,a=t.length,s=new Array(a),u=new Array(a),l=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,u[n]=o,i<l&&(l=i),i>h&&(h=i),o<c&&(c=o),o>f&&(f=o));h<l&&(l=this._x0,h=this._x1);f<c&&(c=this._y0,f=this._y1);for(this.cover(l,c).cover(h,f),n=0;n<a;++n)r(this,s[n],u[n],t[n]);return this},e.b=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return r(this.cover(e,n),e,n,t)}},function(t,e,n){"use strict";e.a=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,l=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{(a=new Array(4))[s]=l,l=a}while(o=r+(u*=2),t>(i=n+u)||e>o);break;case 1:do{(a=new Array(4))[s]=l,l=a}while(o=r+(u*=2),(n=i-u)>t||e>o);break;case 2:do{(a=new Array(4))[s]=l,l=a}while(r=o-(u*=2),t>(i=n+u)||r>e);break;case 3:do{(a=new Array(4))[s]=l,l=a}while(r=o-(u*=2),(n=i-u)>t||r>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},function(t,e,n){"use strict";var r=n(872);e.a=function(t,e,n){var i,o,a,s,u,l,c,h=this._x0,f=this._y0,d=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new r.a(v,h,f,d,p)),null==n?n=1/0:(h=t-n,f=e-n,d=t+n,p=e+n,n*=n);l=g.pop();)if(!(!(v=l.node)||(o=l.x0)>d||(a=l.y0)>p||(s=l.x1)<h||(u=l.y1)<f))if(v.length){var m=(o+s)/2,y=(a+u)/2;g.push(new r.a(v[3],m,y,s,u),new r.a(v[2],o,y,m,u),new r.a(v[1],m,a,s,y),new r.a(v[0],o,a,m,y)),(c=(e>=y)<<1|t>=m)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var x=t-+this._x.call(null,v.data),_=e-+this._y.call(null,v.data),b=x*x+_*_;if(b<n){var w=Math.sqrt(n=b);h=t-w,f=e-w,d=t+w,p=e+w,i=v.data}}return i}},function(t,e,n){"use strict";e.b=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},e.a=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+m)/2))?g=u:m=u,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)}},function(t,e,n){"use strict";e.a=function(){return this._root}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t}},function(t,e,n){"use strict";var r=n(872);e.a=function(t){var e,n,i,o,a,s,u=[],l=this._root;for(l&&u.push(new r.a(l,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(l=e.node,i=e.x0,o=e.y0,a=e.x1,s=e.y1)&&l.length){var c=(i+a)/2,h=(o+s)/2;(n=l[3])&&u.push(new r.a(n,c,h,a,s)),(n=l[2])&&u.push(new r.a(n,i,h,c,s)),(n=l[1])&&u.push(new r.a(n,c,o,a,h)),(n=l[0])&&u.push(new r.a(n,i,o,c,h))}return this}},function(t,e,n){"use strict";var r=n(872);e.a=function(t){var e,n=[],i=[];for(this._root&&n.push(new r.a(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var a,s=e.x0,u=e.y0,l=e.x1,c=e.y1,h=(s+l)/2,f=(u+c)/2;(a=o[0])&&n.push(new r.a(a,s,u,h,f)),(a=o[1])&&n.push(new r.a(a,h,u,l,f)),(a=o[2])&&n.push(new r.a(a,s,f,h,c)),(a=o[3])&&n.push(new r.a(a,h,f,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this}},function(t,e,n){"use strict";e.b=function(t){return t[0]},e.a=function(t){return arguments.length?(this._x=t,this):this._x}},function(t,e,n){"use strict";e.b=function(t){return t[1]},e.a=function(t){return arguments.length?(this._y=t,this):this._y}},function(t,e,n){"use strict";var r=n(794),i=n(870),o=n(801);function a(t){return t.index}function s(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}e.a=function(t){var e,n,u,l,c,h=a,f=function(t){return 1/Math.min(l[t.source.index],l[t.target.index])},d=Object(r.a)(30),p=1;function g(r){for(var o=0,a=t.length;o<p;++o)for(var s,u,l,h,f,d,g,v=0;v<a;++v)u=(s=t[v]).source,h=(l=s.target).x+l.vx-u.x-u.vx||Object(i.a)(),f=l.y+l.vy-u.y-u.vy||Object(i.a)(),h*=d=((d=Math.sqrt(h*h+f*f))-n[v])/d*r*e[v],f*=d,l.vx-=h*(g=c[v]),l.vy-=f*g,u.vx+=h*(g=1-g),u.vy+=f*g}function v(){if(u){var r,i,a=u.length,f=t.length,d=Object(o.c)(u,h);for(r=0,l=new Array(a);r<f;++r)(i=t[r]).index=r,"object"!=typeof i.source&&(i.source=s(d,i.source)),"object"!=typeof i.target&&(i.target=s(d,i.target)),l[i.source.index]=(l[i.source.index]||0)+1,l[i.target.index]=(l[i.target.index]||0)+1;for(r=0,c=new Array(f);r<f;++r)i=t[r],c[r]=l[i.source.index]/(l[i.source.index]+l[i.target.index]);e=new Array(f),m(),n=new Array(f),y()}}function m(){if(u)for(var n=0,r=t.length;n<r;++n)e[n]=+f(t[n],n,t)}function y(){if(u)for(var e=0,r=t.length;e<r;++e)n[e]=+d(t[e],e,t)}return null==t&&(t=[]),g.initialize=function(t){u=t,v()},g.links=function(e){return arguments.length?(t=e,v(),g):t},g.id=function(t){return arguments.length?(h=t,g):h},g.iterations=function(t){return arguments.length?(p=+t,g):p},g.strength=function(t){return arguments.length?(f="function"==typeof t?t:Object(r.a)(+t),m(),g):f},g.distance=function(t){return arguments.length?(d="function"==typeof t?t:Object(r.a)(+t),y(),g):d},g}},function(t,e,n){"use strict";var r=n(794),i=n(870),o=n(871),a=n(978);e.a=function(){var t,e,n,s,u=Object(r.a)(-30),l=1,c=1/0,h=.81;function f(r){var i,s=t.length,u=Object(o.a)(t,a.b,a.c).visitAfter(p);for(n=r,i=0;i<s;++i)e=t[i],u.visit(g)}function d(){if(t){var e,n,r=t.length;for(s=new Array(r),e=0;e<r;++e)n=t[e],s[n.index]=+u(n,e,t)}}function p(t){var e,n,r,i,o,a=0,u=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,r+=n*e.x,i+=n*e.y);t.x=r/u,t.y=i/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=s[e.data.index]}while(e=e.next)}t.value=a}function g(t,r,o,a){if(!t.value)return!0;var u=t.x-e.x,f=t.y-e.y,d=a-r,p=u*u+f*f;if(d*d/h<p)return p<c&&(0===u&&(p+=(u=Object(i.a)())*u),0===f&&(p+=(f=Object(i.a)())*f),p<l&&(p=Math.sqrt(l*p)),e.vx+=u*t.value*n/p,e.vy+=f*t.value*n/p),!0;if(!(t.length||p>=c)){(t.data!==e||t.next)&&(0===u&&(p+=(u=Object(i.a)())*u),0===f&&(p+=(f=Object(i.a)())*f),p<l&&(p=Math.sqrt(l*p)));do{t.data!==e&&(d=s[t.data.index]*n/p,e.vx+=u*d,e.vy+=f*d)}while(t=t.next)}}return f.initialize=function(e){t=e,d()},f.strength=function(t){return arguments.length?(u="function"==typeof t?t:Object(r.a)(+t),d(),f):u},f.distanceMin=function(t){return arguments.length?(l=t*t,f):Math.sqrt(l)},f.distanceMax=function(t){return arguments.length?(c=t*t,f):Math.sqrt(c)},f.theta=function(t){return arguments.length?(h=t*t,f):Math.sqrt(h)},f}},function(t,e,n){"use strict";var r=n(794);e.a=function(t,e,n){var i,o,a,s=Object(r.a)(.1);function u(t){for(var r=0,s=i.length;r<s;++r){var u=i[r],l=u.x-e||1e-6,c=u.y-n||1e-6,h=Math.sqrt(l*l+c*c),f=(a[r]-h)*o[r]*t/h;u.vx+=l*f,u.vy+=c*f}}function l(){if(i){var e,n=i.length;for(o=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(i[e],e,i),o[e]=isNaN(a[e])?0:+s(i[e],e,i)}}return"function"!=typeof t&&(t=Object(r.a)(+t)),null==e&&(e=0),null==n&&(n=0),u.initialize=function(t){i=t,l()},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:Object(r.a)(+t),l(),u):s},u.radius=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),l(),u):t},u.x=function(t){return arguments.length?(e=+t,u):e},u.y=function(t){return arguments.length?(n=+t,u):n},u}},function(t,e,n){"use strict";var r=n(794);e.a=function(t){var e,n,i,o=Object(r.a)(.1);function a(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function s(){if(e){var r,a=e.length;for(n=new Array(a),i=new Array(a),r=0;r<a;++r)n[r]=isNaN(i[r]=+t(e[r],r,e))?0:+o(e[r],r,e)}}return"function"!=typeof t&&(t=Object(r.a)(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:Object(r.a)(+t),s(),a):o},a.x=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),s(),a):t},a}},function(t,e,n){"use strict";var r=n(794);e.a=function(t){var e,n,i,o=Object(r.a)(.1);function a(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function s(){if(e){var r,a=e.length;for(n=new Array(a),i=new Array(a),r=0;r<a;++r)n[r]=isNaN(i[r]=+t(e[r],r,e))?0:+o(e[r],r,e)}}return"function"!=typeof t&&(t=Object(r.a)(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:Object(r.a)(+t),s(),a):o},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),s(),a):t},a}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),e.a=s;var r,i,o,a=n(979);function s(t){return r=Object(a.a)(t),i=r.format,o=r.formatPrefix,r}s({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(t,e,n){"use strict";e.a=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}},function(t,e,n){"use strict";e.a=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}},function(t,e,n){"use strict";e.a=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}},function(t,e,n){"use strict";var r=n(874);e.a=function(t,e){var n=Object(r.a)(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(823);e.a=function(t){return Math.max(0,-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(823);e.a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(e)/3)))-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(823);e.a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Object(r.a)(e)-Object(r.a)(t))+1}},function(t,e,n){"use strict";var r=n(983);n.d(e,"c",function(){return r.c});var i=n(1501);n.d(e,"h",function(){return i.a});var o=n(1502);n.d(e,"i",function(){return o.a});var a=n(984);n.d(e,"j",function(){return a.b});var s=n(986);n.d(e,"k",function(){return s.a});var u=n(992);n.d(e,"l",function(){return u.a});var l=n(1504);n.d(e,"m",function(){return l.a});var c=n(825);n.d(e,"n",function(){return c.a});var h=n(1506);n.d(e,"u",function(){return h.a});var f=n(993);n.d(e,"v",function(){return f.a});var d=n(1507);n.d(e,"A",function(){return d.a}),n.d(e,"B",function(){return d.b});var p=n(1508);n.d(e,"D",function(){return p.a});var g=n(994);n.d(e,"E",function(){return g.a});var v=n(1509);n.d(e,"L",function(){return v.a});var m=n(996);n.d(e,"a",function(){return m.a});var y=n(1517);n.d(e,"b",function(){return y.a});var x=n(1518);n.d(e,"d",function(){return x.b}),n.d(e,"e",function(){return x.a});var _=n(1519);n.d(e,"f",function(){return _.b}),n.d(e,"g",function(){return _.a});var b=n(1520);n.d(e,"o",function(){return b.b}),n.d(e,"p",function(){return b.a});var w=n(876);n.d(e,"q",function(){return w.b}),n.d(e,"r",function(){return w.a});var M=n(1521);n.d(e,"s",function(){return M.b}),n.d(e,"t",function(){return M.a});var S=n(997);n.d(e,"w",function(){return S.a}),n.d(e,"x",function(){return S.b});var A=n(1522);n.d(e,"y",function(){return A.a}),n.d(e,"z",function(){return A.b});var T=n(1523);n.d(e,"C",function(){return T.a});var O=n(762);n.d(e,"M",function(){return O.a}),n.d(e,"N",function(){return O.b});var C=n(879);n.d(e,"F",function(){return C.a}),n.d(e,"G",function(){return C.c});var I=n(1524);n.d(e,"H",function(){return I.a}),n.d(e,"I",function(){return I.b});var k=n(1525);n.d(e,"J",function(){return k.a}),n.d(e,"K",function(){return k.b});var D=n(1526);n.d(e,"P",function(){return D.a}),n.d(e,"Q",function(){return D.b});var L=n(1527);n.d(e,"T",function(){return L.a}),n.d(e,"U",function(){return L.b});var E=n(824);n.d(e,"O",function(){return E.a});var P=n(776);n.d(e,"R",function(){return P.a});var N=n(826);n.d(e,"S",function(){return N.a})},function(t,e,n){"use strict";var r,i,o,a,s,u,l,c,h,f,d=n(795),p=n(983),g=n(802),v=n(730),m=n(776),y=Object(d.a)(),x={point:_,lineStart:w,lineEnd:M,polygonStart:function(){x.point=S,x.lineStart=A,x.lineEnd=T,y.reset(),p.b.polygonStart()},polygonEnd:function(){p.b.polygonEnd(),x.point=_,x.lineStart=w,x.lineEnd=M,p.a<0?(r=-(o=180),i=-(a=90)):y>v.i?a=90:y<-v.i&&(i=-90),f[0]=r,f[1]=o}};function _(t,e){h.push(f=[r=t,o=t]),e<i&&(i=e),e>a&&(a=e)}function b(t,e){var n=Object(g.a)([t*v.r,e*v.r]);if(c){var u=Object(g.c)(c,n),l=[u[1],-u[0],0],d=Object(g.c)(l,u);Object(g.e)(d),d=Object(g.g)(d);var p,m=t-s,y=m>0?1:-1,x=d[0]*v.h*y,_=Object(v.a)(m)>180;_^(y*s<x&&x<y*t)?(p=d[1]*v.h)>a&&(a=p):_^(y*s<(x=(x+360)%360-180)&&x<y*t)?(p=-d[1]*v.h)<i&&(i=p):(e<i&&(i=e),e>a&&(a=e)),_?t<s?O(r,t)>O(r,o)&&(o=t):O(t,o)>O(r,o)&&(r=t):o>=r?(t<r&&(r=t),t>o&&(o=t)):t>s?O(r,t)>O(r,o)&&(o=t):O(t,o)>O(r,o)&&(r=t)}else h.push(f=[r=t,o=t]);e<i&&(i=e),e>a&&(a=e),c=n,s=t}function w(){x.point=b}function M(){f[0]=r,f[1]=o,x.point=_,c=null}function S(t,e){if(c){var n=t-s;y.add(Object(v.a)(n)>180?n+(n>0?360:-360):n)}else u=t,l=e;p.b.point(t,e),b(t,e)}function A(){p.b.lineStart()}function T(){S(u,l),p.b.lineEnd(),Object(v.a)(y)>v.i&&(r=-(o=180)),f[0]=r,f[1]=o,c=null}function O(t,e){return(e-=t)<0?e+360:e}function C(t,e){return t[0]-e[0]}function I(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}e.a=function(t){var e,n,s,u,l,c,d;if(a=o=-(r=i=1/0),h=[],Object(m.a)(t,x),n=h.length){for(h.sort(C),e=1,l=[s=h[0]];e<n;++e)I(s,(u=h[e])[0])||I(s,u[1])?(O(s[0],u[1])>O(s[0],s[1])&&(s[1]=u[1]),O(u[0],s[1])>O(s[0],s[1])&&(s[0]=u[0])):l.push(s=u);for(c=-1/0,e=0,s=l[n=l.length-1];e<=n;s=u,++e)u=l[e],(d=O(s[1],u[0]))>c&&(c=d,r=u[0],o=s[1])}return h=f=null,r===1/0||i===1/0?[[NaN,NaN],[NaN,NaN]]:[[r,i],[o,a]]}},function(t,e,n){"use strict";var r,i,o,a,s,u,l,c,h,f,d,p,g,v,m,y,x=n(730),_=n(769),b=n(776),w={sphere:_.a,point:M,lineStart:A,lineEnd:C,polygonStart:function(){w.lineStart=I,w.lineEnd=k},polygonEnd:function(){w.lineStart=A,w.lineEnd=C}};function M(t,e){t*=x.r,e*=x.r;var n=Object(x.g)(e);S(n*Object(x.g)(t),n*Object(x.t)(t),Object(x.t)(e))}function S(t,e,n){o+=(t-o)/++r,a+=(e-a)/r,s+=(n-s)/r}function A(){w.point=T}function T(t,e){t*=x.r,e*=x.r;var n=Object(x.g)(e);v=n*Object(x.g)(t),m=n*Object(x.t)(t),y=Object(x.t)(e),w.point=O,S(v,m,y)}function O(t,e){t*=x.r,e*=x.r;var n=Object(x.g)(e),r=n*Object(x.g)(t),o=n*Object(x.t)(t),a=Object(x.t)(e),s=Object(x.e)(Object(x.u)((s=m*a-y*o)*s+(s=y*r-v*a)*s+(s=v*o-m*r)*s),v*r+m*o+y*a);i+=s,u+=s*(v+(v=r)),l+=s*(m+(m=o)),c+=s*(y+(y=a)),S(v,m,y)}function C(){w.point=M}function I(){w.point=D}function k(){L(p,g),w.point=M}function D(t,e){p=t,g=e,t*=x.r,e*=x.r,w.point=L;var n=Object(x.g)(e);v=n*Object(x.g)(t),m=n*Object(x.t)(t),y=Object(x.t)(e),S(v,m,y)}function L(t,e){t*=x.r,e*=x.r;var n=Object(x.g)(e),r=n*Object(x.g)(t),o=n*Object(x.t)(t),a=Object(x.t)(e),s=m*a-y*o,p=y*r-v*a,g=v*o-m*r,_=Object(x.u)(s*s+p*p+g*g),b=Object(x.c)(_),w=_&&-b/_;h+=w*s,f+=w*p,d+=w*g,i+=b,u+=b*(v+(v=r)),l+=b*(m+(m=o)),c+=b*(y+(y=a)),S(v,m,y)}e.a=function(t){r=i=o=a=s=u=l=c=h=f=d=0,Object(b.a)(t,w);var e=h,n=f,p=d,g=e*e+n*n+p*p;return g<x.j&&(e=u,n=l,p=c,i<x.i&&(e=o,n=a,p=s),(g=e*e+n*n+p*p)<x.j)?[NaN,NaN]:[Object(x.e)(n,e)*x.h,Object(x.c)(p/Object(x.u)(g))*x.h]}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(825);e.a=function(){var t,e,n,i=0,o=0,a=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Object(r.a)(i,o,a,s)(e=n)},extent:function(r){return arguments.length?(i=+r[0][0],o=+r[0][1],a=+r[1][0],s=+r[1][1],t=e=null,n):[[i,o],[a,s]]}}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*h,t[1]=u+l*f),c<1&&(e[0]=s+c*h,e[1]=u+c*f),!0}}}}}},function(t,e,n){"use strict";var r=n(991),i=n(993),o=n(730),a={Feature:function(t,e){return u(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(u(n[r].geometry,e))return!0;return!1}},s={Sphere:function(){return!0},Point:function(t,e){return l(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(l(n[r],e))return!0;return!1},LineString:function(t,e){return c(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(c(n[r],e))return!0;return!1},Polygon:function(t,e){return h(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(h(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(u(n[r],e))return!0;return!1}};function u(t,e){return!(!t||!s.hasOwnProperty(t.type))&&s[t.type](t,e)}function l(t,e){return 0===Object(i.a)(t,e)}function c(t,e){var n=Object(i.a)(t[0],t[1]);return Object(i.a)(t[0],e)+Object(i.a)(e,t[1])<=n+o.i}function h(t,e){return!!Object(r.a)(t.map(f),d(e))}function f(t){return(t=t.map(d)).pop(),t}function d(t){return[t[0]*o.r,t[1]*o.r]}e.a=function(t,e){return(t&&a.hasOwnProperty(t.type)?a[t.type]:u)(t,e)}},function(t,e,n){"use strict";e.a=s,e.b=function(){return s()()};var r=n(745),i=n(730);function o(t,e,n){var o=Object(r.s)(t,e-i.i,n).concat(e);return function(t){return o.map(function(e){return[t,e]})}}function a(t,e,n){var o=Object(r.s)(t,e-i.i,n).concat(e);return function(t){return o.map(function(e){return[e,t]})}}function s(){var t,e,n,s,u,l,c,h,f,d,p,g,v=10,m=v,y=90,x=360,_=2.5;function b(){return{type:"MultiLineString",coordinates:w()}}function w(){return Object(r.s)(Object(i.f)(s/y)*y,n,y).map(p).concat(Object(r.s)(Object(i.f)(h/x)*x,c,x).map(g)).concat(Object(r.s)(Object(i.f)(e/v)*v,t,v).filter(function(t){return Object(i.a)(t%y)>i.i}).map(f)).concat(Object(r.s)(Object(i.f)(l/m)*m,u,m).filter(function(t){return Object(i.a)(t%x)>i.i}).map(d))}return b.lines=function(){return w().map(function(t){return{type:"LineString",coordinates:t}})},b.outline=function(){return{type:"Polygon",coordinates:[p(s).concat(g(c).slice(1),p(n).reverse().slice(1),g(h).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(s=+t[0][0],n=+t[1][0],h=+t[0][1],c=+t[1][1],s>n&&(t=s,s=n,n=t),h>c&&(t=h,h=c,c=t),b.precision(_)):[[s,h],[n,c]]},b.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],l=+n[0][1],u=+n[1][1],e>t&&(n=e,e=t,t=n),l>u&&(n=l,l=u,u=n),b.precision(_)):[[e,l],[t,u]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(y=+t[0],x=+t[1],b):[y,x]},b.stepMinor=function(t){return arguments.length?(v=+t[0],m=+t[1],b):[v,m]},b.precision=function(r){return arguments.length?(_=+r,f=o(l,u,90),d=a(e,t,_),p=o(h,c,90),g=a(s,n,_),b):_},b.extentMajor([[-180,-90+i.i],[180,90-i.i]]).extentMinor([[-180,-80-i.i],[180,80+i.i]])}},function(t,e,n){"use strict";var r=n(730);e.a=function(t,e){var n=t[0]*r.r,i=t[1]*r.r,o=e[0]*r.r,a=e[1]*r.r,s=Object(r.g)(i),u=Object(r.t)(i),l=Object(r.g)(a),c=Object(r.t)(a),h=s*Object(r.g)(n),f=s*Object(r.t)(n),d=l*Object(r.g)(o),p=l*Object(r.t)(o),g=2*Object(r.c)(Object(r.u)(Object(r.m)(a-i)+s*l*Object(r.m)(o-n))),v=Object(r.t)(g),m=g?function(t){var e=Object(r.t)(t*=g)/v,n=Object(r.t)(g-t)/v,i=n*h+e*d,o=n*f+e*p,a=n*u+e*c;return[Object(r.e)(o,i)*r.h,Object(r.e)(a,Object(r.u)(i*i+o*o))*r.h]}:function(){return[n*r.h,i*r.h]};return m.distance=g,m}},function(t,e,n){"use strict";var r=n(875),i=n(776),o=n(1510),a=n(995),s=n(1511),u=n(1512),l=n(1513),c=n(1514);e.a=function(t,e){var n,h,f=4.5;function d(t){return t&&("function"==typeof f&&h.pointRadius(+f.apply(this,arguments)),Object(i.a)(t,n(h))),h.result()}return d.area=function(t){return Object(i.a)(t,n(o.a)),o.a.result()},d.measure=function(t){return Object(i.a)(t,n(l.a)),l.a.result()},d.bounds=function(t){return Object(i.a)(t,n(a.a)),a.a.result()},d.centroid=function(t){return Object(i.a)(t,n(s.a)),s.a.result()},d.projection=function(e){return arguments.length?(n=null==e?(t=null,r.a):(t=e).stream,d):t},d.context=function(t){return arguments.length?(h=null==t?(e=null,new c.a):new u.a(e=t),"function"!=typeof f&&h.pointRadius(f),d):e},d.pointRadius=function(t){return arguments.length?(f="function"==typeof t?t:(h.pointRadius(+t),+t),d):f},d.projection(t).context(e)}},function(t,e,n){"use strict";var r,i,o,a,s=n(795),u=n(730),l=n(769),c=Object(s.a)(),h=Object(s.a)(),f={point:l.a,lineStart:l.a,lineEnd:l.a,polygonStart:function(){f.lineStart=d,f.lineEnd=v},polygonEnd:function(){f.lineStart=f.lineEnd=f.point=l.a,c.add(Object(u.a)(h)),h.reset()},result:function(){var t=c/2;return c.reset(),t}};function d(){f.point=p}function p(t,e){f.point=g,r=o=t,i=a=e}function g(t,e){h.add(a*t-o*e),o=t,a=e}function v(){g(r,i)}e.a=f},function(t,e,n){"use strict";var r,i,o,a,s=n(730),u=0,l=0,c=0,h=0,f=0,d=0,p=0,g=0,v=0,m={point:y,lineStart:x,lineEnd:w,polygonStart:function(){m.lineStart=M,m.lineEnd=S},polygonEnd:function(){m.point=y,m.lineStart=x,m.lineEnd=w},result:function(){var t=v?[p/v,g/v]:d?[h/d,f/d]:c?[u/c,l/c]:[NaN,NaN];return u=l=c=h=f=d=p=g=v=0,t}};function y(t,e){u+=t,l+=e,++c}function x(){m.point=_}function _(t,e){m.point=b,y(o=t,a=e)}function b(t,e){var n=t-o,r=e-a,i=Object(s.u)(n*n+r*r);h+=i*(o+t)/2,f+=i*(a+e)/2,d+=i,y(o=t,a=e)}function w(){m.point=y}function M(){m.point=A}function S(){T(r,i)}function A(t,e){m.point=T,y(r=o=t,i=a=e)}function T(t,e){var n=t-o,r=e-a,i=Object(s.u)(n*n+r*r);h+=i*(o+t)/2,f+=i*(a+e)/2,d+=i,p+=(i=a*t-o*e)*(o+t),g+=i*(a+e),v+=3*i,y(o=t,a=e)}e.a=m},function(t,e,n){"use strict";e.a=o;var r=n(730),i=n(769);function o(t){this._context=t}o.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,r.w)}},result:i.a}},function(t,e,n){"use strict";var r,i,o,a,s,u=n(795),l=n(730),c=n(769),h=Object(u.a)(),f={point:c.a,lineStart:function(){f.point=d},lineEnd:function(){r&&p(i,o),f.point=c.a},polygonStart:function(){r=!0},polygonEnd:function(){r=null},result:function(){var t=+h;return h.reset(),t}};function d(t,e){f.point=p,i=a=t,o=s=e}function p(t,e){a-=t,s-=e,h.add(Object(l.u)(a*a+s*s)),a=t,s=e}e.a=f},function(t,e,n){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}e.a=r,r.prototype={_radius:4.5,_circle:i(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=i(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},function(t,e,n){"use strict";var r=n(802),i=n(730),o=n(826),a=16,s=Object(i.g)(30*i.r);e.a=function(t,e){return+e?function(t,e){function n(r,o,a,u,l,c,h,f,d,p,g,v,m,y){var x=h-r,_=f-o,b=x*x+_*_;if(b>4*e&&m--){var w=u+p,M=l+g,S=c+v,A=Object(i.u)(w*w+M*M+S*S),T=Object(i.c)(S/=A),O=Object(i.a)(Object(i.a)(S)-1)<i.i||Object(i.a)(a-d)<i.i?(a+d)/2:Object(i.e)(M,w),C=t(O,T),I=C[0],k=C[1],D=I-r,L=k-o,E=_*D-x*L;(E*E/b>e||Object(i.a)((x*D+_*L)/b-.5)>.3||u*p+l*g+c*v<s)&&(n(r,o,a,u,l,c,I,k,O,w/=A,M/=A,S,m,y),y.point(I,k),n(I,k,O,w,M,S,h,f,d,p,g,v,m,y))}}return function(e){var i,o,s,u,l,c,h,f,d,p,g,v,m={point:y,lineStart:x,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=w},polygonEnd:function(){e.polygonEnd(),m.lineStart=x}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function x(){f=NaN,m.point=_,e.lineStart()}function _(i,o){var s=Object(r.a)([i,o]),u=t(i,o);n(f,d,h,p,g,v,f=u[0],d=u[1],h=i,p=s[0],g=s[1],v=s[2],a,e),e.point(f,d)}function b(){m.point=y,e.lineEnd()}function w(){x(),m.point=M,m.lineEnd=S}function M(t,e){_(i=t,e),o=f,s=d,u=p,l=g,c=v,m.point=_}function S(){n(f,d,h,p,g,v,o,s,i,u,l,c,a,e),m.lineEnd=b,b()}return m}}(t,e):function(t){return Object(o.b)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}},function(t,e,n){"use strict";e.a=function(t){var e=Object(r.g)(t);function n(t,n){return[t*e,Object(r.t)(n)/e]}return n.invert=function(t,n){return[t/e,Object(r.c)(n*e)]},n};var r=n(730)},function(t,e,n){"use strict";var r=n(730),i=n(996),o=n(876),a=n(878);e.a=function(){var t,e,n,s,u,l,c=Object(i.a)(),h=Object(o.b)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Object(o.b)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(t,e){l=[t,e]}};function p(t){var e=t[0],r=t[1];return l=null,n.point(e,r),l||(s.point(e,r),l)||(u.point(e,r),l)}function g(){return t=e=null,p}return p.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?h:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:c).invert(t)},p.stream=function(n){return t&&e===n?t:(r=[c.stream(e=n),h.stream(n),f.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},p.precision=function(t){return arguments.length?(c.precision(t),h.precision(t),f.precision(t),g()):c.precision()},p.scale=function(t){return arguments.length?(c.scale(t),h.scale(.35*t),f.scale(t),p.translate(c.translate())):c.scale()},p.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),i=+t[0],o=+t[1];return n=c.translate(t).clipExtent([[i-.455*e,o-.238*e],[i+.455*e,o+.238*e]]).stream(d),s=h.translate([i-.307*e,o+.201*e]).clipExtent([[i-.425*e+r.i,o+.12*e+r.i],[i-.214*e-r.i,o+.234*e-r.i]]).stream(d),u=f.translate([i-.205*e,o+.212*e]).clipExtent([[i-.214*e+r.i,o+.166*e+r.i],[i-.115*e-r.i,o+.234*e-r.i]]).stream(d),g()},p.fitExtent=function(t,e){return Object(a.a)(p,t,e)},p.fitSize=function(t,e){return Object(a.c)(p,t,e)},p.fitWidth=function(t,e){return Object(a.d)(p,t,e)},p.fitHeight=function(t,e){return Object(a.b)(p,t,e)},p.scale(1070)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(730),i=n(803),o=n(762),a=Object(i.b)(function(t){return Object(r.u)(2/(1+t))});a.invert=Object(i.a)(function(t){return 2*Object(r.c)(t/2)}),e.b=function(){return Object(o.a)(a).scale(124.75).clipAngle(179.999)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(730),i=n(803),o=n(762),a=Object(i.b)(function(t){return(t=Object(r.b)(t))&&t/Object(r.t)(t)});a.invert=Object(i.a)(function(t){return t}),e.b=function(){return Object(o.a)(a).scale(79.4188).clipAngle(179.999)}},function(t,e,n){"use strict";e.a=s;var r=n(730),i=n(877),o=n(879);function a(t){return Object(r.v)((r.l+t)/2)}function s(t,e){var n=Object(r.g)(t),i=t===e?Object(r.t)(t):Object(r.n)(n/Object(r.g)(e))/Object(r.n)(a(e)/a(t)),s=n*Object(r.p)(a(t),i)/i;if(!i)return o.c;function u(t,e){s>0?e<-r.l+r.i&&(e=-r.l+r.i):e>r.l-r.i&&(e=r.l-r.i);var n=s/Object(r.p)(a(e),i);return[n*Object(r.t)(i*t),s-n*Object(r.g)(i*t)]}return u.invert=function(t,e){var n=s-e,o=Object(r.s)(i)*Object(r.u)(t*t+n*n);return[Object(r.e)(t,Object(r.a)(n))/i*Object(r.s)(n),2*Object(r.d)(Object(r.p)(s/o,1/i))-r.l]},u}e.b=function(){return Object(i.a)(s).scale(109.5).parallels([30,30])}},function(t,e,n){"use strict";e.a=a;var r=n(730),i=n(877),o=n(997);function a(t,e){var n=Object(r.g)(t),i=t===e?Object(r.t)(t):(n-Object(r.g)(e))/(e-t),a=n/i+t;if(Object(r.a)(i)<r.i)return o.b;function s(t,e){var n=a-e,o=i*t;return[n*Object(r.t)(o),a-n*Object(r.g)(o)]}return s.invert=function(t,e){var n=a-e;return[Object(r.e)(t,Object(r.a)(n))/i*Object(r.s)(n),a-Object(r.s)(i)*Object(r.u)(t*t+n*n)]},s}e.b=function(){return Object(i.a)(a).scale(131.154).center([0,13.9389])}},function(t,e,n){"use strict";e.b=a;var r=n(730),i=n(803),o=n(762);function a(t,e){var n=Object(r.g)(e),i=Object(r.g)(t)*n;return[n*Object(r.t)(t)/i,Object(r.t)(e)/i]}a.invert=Object(i.a)(r.d),e.a=function(){return Object(o.a)(a).scale(144.049).clipAngle(60)}},function(t,e,n){"use strict";var r=n(825),i=n(875),o=n(826),a=n(878);function s(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?i.a:Object(o.b)({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}e.a=function(){var t,e,n,o,u,l,c=1,h=0,f=0,d=1,p=1,g=i.a,v=null,m=i.a;function y(){return o=u=null,l}return l={stream:function(t){return o&&u===t?o:o=g(m(u=t))},postclip:function(r){return arguments.length?(m=r,v=t=e=n=null,y()):m},clipExtent:function(o){return arguments.length?(m=null==o?(v=t=e=n=null,i.a):Object(r.a)(v=+o[0][0],t=+o[0][1],e=+o[1][0],n=+o[1][1]),y()):null==v?null:[[v,t],[e,n]]},scale:function(t){return arguments.length?(g=s((c=+t)*d,c*p,h,f),y()):c},translate:function(t){return arguments.length?(g=s(c*d,c*p,h=+t[0],f=+t[1]),y()):[h,f]},reflectX:function(t){return arguments.length?(g=s(c*(d=t?-1:1),c*p,h,f),y()):d<0},reflectY:function(t){return arguments.length?(g=s(c*d,c*(p=t?-1:1),h,f),y()):p<0},fitExtent:function(t,e){return Object(a.a)(l,t,e)},fitSize:function(t,e){return Object(a.c)(l,t,e)},fitWidth:function(t,e){return Object(a.d)(l,t,e)},fitHeight:function(t,e){return Object(a.b)(l,t,e)}}}},function(t,e,n){"use strict";e.b=o;var r=n(762),i=n(730);function o(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}o.invert=function(t,e){var n,r=e,o=25;do{var a=r*r,s=a*a;r-=n=(r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-e)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(Object(i.a)(n)>i.i&&--o>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},e.a=function(){return Object(r.a)(o).scale(175.295)}},function(t,e,n){"use strict";e.b=a;var r=n(730),i=n(803),o=n(762);function a(t,e){return[Object(r.g)(e)*Object(r.t)(t),Object(r.t)(e)]}a.invert=Object(i.a)(r.c),e.a=function(){return Object(o.a)(a).scale(249.5).clipAngle(90+r.i)}},function(t,e,n){"use strict";e.b=a;var r=n(730),i=n(803),o=n(762);function a(t,e){var n=Object(r.g)(e),i=1+Object(r.g)(t)*n;return[n*Object(r.t)(t)/i,Object(r.t)(e)/i]}a.invert=Object(i.a)(function(t){return 2*Object(r.d)(t)}),e.a=function(){return Object(o.a)(a).scale(250).clipAngle(142)}},function(t,e,n){"use strict";e.b=o;var r=n(730),i=n(879);function o(t,e){return[Object(r.n)(Object(r.v)((r.l+e)/2)),-t]}o.invert=function(t,e){return[-e,2*Object(r.d)(Object(r.k)(t))-r.l]},e.a=function(){var t=Object(i.b)(o),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){"use strict";var r=n(1529);n.d(e,"a",function(){return r.a});var i=n(880);n.d(e,"b",function(){return i.c});var o=n(1541);n.d(e,"c",function(){return o.a});var a=n(998);n.d(e,"e",function(){return a.a});var s=n(999);n.d(e,"d",function(){return s.a});var u=n(1543);n.d(e,"f",function(){return u.a});var l=n(1544);n.d(e,"g",function(){return l.a});var c=n(1545);n.d(e,"h",function(){return c.a});var h=n(1546);n.d(e,"i",function(){return h.a});var f=n(1547);n.d(e,"j",function(){return f.a});var d=n(804);n.d(e,"k",function(){return d.a});var p=n(827);n.d(e,"m",function(){return p.a});var g=n(1548);n.d(e,"n",function(){return g.a});var v=n(882);n.d(e,"o",function(){return v.a});var m=n(1549);n.d(e,"l",function(){return m.a})},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t,e){return t+e.x}function o(t,e){return Math.max(t,e.y)}e.a=function(){var t=r,e=1,n=1,a=!1;function s(r){var s,u=0;r.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(i,0)/t.length}(n),e.y=function(t){return 1+t.reduce(o,0)}(n)):(e.x=s?u+=t(e,s):0,e.y=0,s=e)});var l=function(t){for(var e;e=t.children;)t=e[0];return t}(r),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),h=l.x-t(l,c)/2,f=c.x+t(c,l)/2;return r.eachAfter(a?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-h)/(f-h)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return s.separation=function(e){return arguments.length?(t=e,s):t},s.size=function(t){return arguments.length?(a=!1,e=+t[0],n=+t[1],s):a?null:[e,n]},s.nodeSize=function(t){return arguments.length?(a=!0,e=+t[0],n=+t[1],s):a?[e,n]:null},s}},function(t,e,n){"use strict";function r(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}e.a=function(){return this.eachAfter(r)}},function(t,e,n){"use strict";e.a=function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this}},function(t,e,n){"use strict";e.a=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}},function(t,e,n){"use strict";e.a=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}},function(t,e,n){"use strict";e.a=function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}},function(t,e,n){"use strict";e.a=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.each(function(e){t.push(e)}),t}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}},function(t,e,n){"use strict";e.a=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}},function(t,e,n){"use strict";var r=n(998),i=n(881),o=n(1e3);function a(t){return Math.sqrt(t.value)}function s(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function u(t,e){return function(n){if(i=n.children){var i,o,a,s=i.length,u=t(n)*e||0;if(u)for(o=0;o<s;++o)i[o].r+=u;if(a=Object(r.b)(i),u)for(o=0;o<s;++o)i[o].r-=u;n.r=a+u}}}function l(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}e.a=function(){var t=null,e=1,n=1,r=o.a;function c(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(s(t)).eachAfter(u(r,.5)).eachBefore(l(1)):i.eachBefore(s(a)).eachAfter(u(o.a,1)).eachAfter(u(r,i.r/Math.min(e,n))).eachBefore(l(Math.min(e,n)/(2*i.r))),i}return c.radius=function(e){return arguments.length?(t=Object(i.a)(e),c):t},c.size=function(t){return arguments.length?(e=+t[0],n=+t[1],c):[e,n]},c.padding=function(t){return arguments.length?(r="function"==typeof t?t:Object(o.b)(+t),c):r},c}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),e.a=function(t){var e,n,r=t.length;for(;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t};var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(1001),i=n(804);e.a=function(){var t=1,e=1,n=0,o=!1;function a(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(function(t,e){return function(r){r.children&&Object(i.a)(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var o=r.x0,a=r.y0,s=r.x1-n,u=r.y1-n;s<o&&(o=s=(o+s)/2),u<a&&(a=u=(a+u)/2),r.x0=o,r.y0=a,r.x1=s,r.y1=u}}(e,s)),o&&a.eachBefore(r.a),a}return a.round=function(t){return arguments.length?(o=!!t,a):o},a.size=function(n){return arguments.length?(t=+n[0],e=+n[1],a):[t,e]},a.padding=function(t){return arguments.length?(n=+t,a):n},a}},function(t,e,n){"use strict";var r=n(881),i=n(880),o="$",a={depth:-1},s={};function u(t){return t.id}function l(t){return t.parentId}e.a=function(){var t=u,e=l;function n(n){var r,u,l,c,h,f,d,p=n.length,g=new Array(p),v={};for(u=0;u<p;++u)r=n[u],h=g[u]=new i.a(r),null!=(f=t(r,u,n))&&(f+="")&&(v[d=o+(h.id=f)]=d in v?s:h);for(u=0;u<p;++u)if(h=g[u],null!=(f=e(n[u],u,n))&&(f+="")){if(!(c=v[o+f]))throw new Error("missing: "+f);if(c===s)throw new Error("ambiguous: "+f);c.children?c.children.push(h):c.children=[h],h.parent=c}else{if(l)throw new Error("multiple roots");l=h}if(!l)throw new Error("no root");if(l.parent=a,l.eachBefore(function(t){t.depth=t.parent.depth+1,--p}).eachBefore(i.b),l.parent=null,p>0)throw new Error("cycle");return l}return n.id=function(e){return arguments.length?(t=Object(r.b)(e),n):t},n.parentId=function(t){return arguments.length?(e=Object(r.b)(t),n):e},n}},function(t,e,n){"use strict";var r=n(880);function i(t,e){return t.parent===e.parent?1:2}function o(t){var e=t.children;return e?e[0]:t.t}function a(t){var e=t.children;return e?e[e.length-1]:t.t}function s(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function u(t,e,n){return t.a.parent===e.parent?t.a:n}function l(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}l.prototype=Object.create(r.a.prototype),e.a=function(){var t=i,e=1,n=1,r=null;function c(i){var o=function(t){for(var e,n,r,i,o,a=new l(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new l(r[i],i)),n.parent=e;return(a.parent=new l(null,0)).children=[a],a}(i);if(o.eachAfter(h),o.parent.m=-o.z,o.eachBefore(f),r)i.eachBefore(d);else{var a=i,s=i,u=i;i.eachBefore(function(t){t.x<a.x&&(a=t),t.x>s.x&&(s=t),t.depth>u.depth&&(u=t)});var c=a===s?1:t(a,s)/2,p=c-a.x,g=e/(s.x+c+p),v=n/(u.depth||1);i.eachBefore(function(t){t.x=(t.x+p)*g,t.y=t.depth*v})}return i}function h(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var l=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-l):e.z=l}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,l=e,c=e,h=n,f=l.parent.children[0],d=l.m,p=c.m,g=h.m,v=f.m;h=a(h),l=o(l),h&&l;)f=o(f),(c=a(c)).a=e,(i=h.z+g-l.z-d+t(h._,l._))>0&&(s(u(h,e,r),e,i),d+=i,p+=i),g+=h.m,d+=l.m,v+=f.m,p+=c.m;h&&!a(c)&&(c.t=h,c.m+=g-p),l&&!o(f)&&(f.t=l,f.m+=d-v,r=e)}return r}(e,i,e.parent.A||r[0])}function f(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function d(t){t.x*=e,t.y=t.depth*n}return c.separation=function(e){return arguments.length?(t=e,c):t},c.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],c):r?null:[e,n]},c.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],c):r?[e,n]:null},c}},function(t,e,n){"use strict";var r=n(1001),i=n(882),o=n(881),a=n(1e3);e.a=function(){var t=i.a,e=!1,n=1,s=1,u=[0],l=a.a,c=a.a,h=a.a,f=a.a,d=a.a;function p(t){return t.x0=t.y0=0,t.x1=n,t.y1=s,t.eachBefore(g),u=[0],e&&t.eachBefore(r.a),t}function g(e){var n=u[e.depth],r=e.x0+n,i=e.y0+n,o=e.x1-n,a=e.y1-n;o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),e.x0=r,e.y0=i,e.x1=o,e.y1=a,e.children&&(n=u[e.depth+1]=l(e)/2,r+=d(e)-n,i+=c(e)-n,o-=h(e)-n,a-=f(e)-n,o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),t(e,r,i,o,a))}return p.round=function(t){return arguments.length?(e=!!t,p):e},p.size=function(t){return arguments.length?(n=+t[0],s=+t[1],p):[n,s]},p.tile=function(e){return arguments.length?(t=Object(o.b)(e),p):t},p.padding=function(t){return arguments.length?p.paddingInner(t).paddingOuter(t):p.paddingInner()},p.paddingInner=function(t){return arguments.length?(l="function"==typeof t?t:Object(a.b)(+t),p):l},p.paddingOuter=function(t){return arguments.length?p.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):p.paddingTop()},p.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:Object(a.b)(+t),p):c},p.paddingRight=function(t){return arguments.length?(h="function"==typeof t?t:Object(a.b)(+t),p):h},p.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:Object(a.b)(+t),p):f},p.paddingLeft=function(t){return arguments.length?(d="function"==typeof t?t:Object(a.b)(+t),p):d},p}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,l=new Array(u+1);for(l[0]=a=o=0;o<u;++o)l[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var c=s[e];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}var h=l[e],f=r/2+h,d=e+1,p=n-1;for(;d<p;){var g=d+p>>>1;l[g]<f?d=g+1:p=g}f-l[d-1]<l[d]-f&&e+1<d&&--d;var v=l[d]-h,m=r-v;if(a-i>u-o){var y=(i*m+a*v)/r;t(e,d,v,i,o,y,u),t(d,n,m,y,o,a,u)}else{var x=(o*m+u*v)/r;t(e,d,v,i,o,a,x),t(d,n,m,i,x,a,u)}}(0,u,t.value,e,n,r,i)}},function(t,e,n){"use strict";var r=n(804),i=n(827);e.a=function(t,e,n,o,a){(1&t.depth?i.a:r.a)(t,e,n,o,a)}},function(t,e,n){"use strict";var r=n(804),i=n(827),o=n(882);e.a=function t(e){function n(t,n,a,s,u){if((l=t._squarify)&&l.ratio===e)for(var l,c,h,f,d,p=-1,g=l.length,v=t.value;++p<g;){for(h=(c=l[p]).children,f=c.value=0,d=h.length;f<d;++f)c.value+=h[f].value;c.dice?Object(r.a)(c,n,a,s,a+=(u-a)*c.value/v):Object(i.a)(c,n,a,n+=(s-n)*c.value/v,u),v-=c.value}else t._squarify=l=Object(o.c)(e,t,n,a,s,u),l.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(o.b)},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n(828),i=n(1552);function o(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}return function(a,s){var u=[],l=[];return a=t(a),s=t(s),function(t,i,o,a,s,u){if(t!==o||i!==a){var l=s.push("translate(",null,e,null,n);u.push({i:l-4,x:Object(r.a)(t,o)},{i:l-2,x:Object(r.a)(i,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,u,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,i)-2,x:Object(r.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}(a.rotate,s.rotate,u,l),function(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,i)-2,x:Object(r.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}(a.skewX,s.skewX,u,l),function(t,e,n,i,a,s){if(t!==n||e!==i){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(r.a)(t,n)},{i:u-2,x:Object(r.a)(e,i)})}else 1===n&&1===i||a.push(o(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,u,l),a=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)u[(e=l[n]).i]=e.x(t);return u.join("")}}}var a=o(i.a,"px, ","px)","deg)"),s=o(i.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){if("none"===t)return s.b;r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView);return r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])},e.b=function(t){if(null==t)return s.b;a||(a=document.createElementNS("http://www.w3.org/2000/svg","g"));return a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b};var r,i,o,a,s=n(1553)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var s,u,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(l)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";var r=Math.SQRT2;function i(t){return((t=Math.exp(t))+1/t)/2}e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],l=e[0],c=e[1],h=e[2],f=l-a,d=c-s,p=f*f+d*d;if(p<1e-12)o=Math.log(h/u)/r,n=function(t){return[a+t*f,s+t*d,u*Math.exp(r*t*o)]};else{var g=Math.sqrt(p),v=(h*h-u*u+4*p)/(2*u*2*g),m=(h*h-u*u-4*p)/(2*h*2*g),y=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(m*m+1)-m);o=(x-y)/r,n=function(t){var e,n=t*o,l=i(y),c=u/(2*g)*(l*(e=r*n+y,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[a+c*f,s+c*d,u*l/i(r*n+y)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(768),i=n(806);function o(t){return function(e,n){var o=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),a=Object(i.a)(e.s,n.s),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}e.a=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=Object(i.a)((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),o=Object(i.a)(t.a,e.a),a=Object(i.a)(t.b,e.b),s=Object(i.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=a(e),t.opacity=s(e),t+""}};var r=n(768),i=n(806)},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(768),i=n(806);function o(t){return function(e,n){var o=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),a=Object(i.a)(e.c,n.c),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}e.a=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(768),i=n(806);function o(t){return function e(n){function o(e,o){var a=t((e=Object(r.b)(e)).h,(o=Object(r.b)(o)).h),s=Object(i.a)(e.s,o.s),u=Object(i.a)(e.l,o.l),l=Object(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,o.gamma=e,o}(1)}e.b=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){"use strict";var r=n(1561);n.d(e,"a",function(){return r.a});var i=n(1562);n.d(e,"b",function(){return i.a});var o=n(1563);n.d(e,"d",function(){return o.a});var a=n(1565);n.d(e,"c",function(){return a.a});var s=n(1566);n.d(e,"e",function(){return s.a})},function(t,e,n){"use strict";e.a=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]}},function(t,e,n){"use strict";var r=n(1564);function i(t,e){return t[0]-e[0]||t[1]-e[1]}function o(t){for(var e=t.length,n=[0,1],i=2,o=2;o<e;++o){for(;i>1&&Object(r.a)(t[n[i-2]],t[n[i-1]],t[o])<=0;)--i;n[i++]=o}return n.slice(0,i)}e.a=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),a=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(i),e=0;e<n;++e)a[e]=[r[e][0],-r[e][1]];var s=o(r),u=o(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],h=[];for(e=s.length-1;e>=0;--e)h.push(t[r[s[e]][2]]);for(e=+l;e<u.length-c;++e)h.push(t[r[u[e]][2]]);return h}},function(t,e,n){"use strict";e.a=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}},function(t,e,n){"use strict";e.a=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=l>s&&a<(u-n)*(s-r)/(l-r)+n&&(c=!c),u=n,l=r;return c}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u}},function(t,e,n){"use strict";var r=n(1568);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";e.a=c;var r=n(1569),i={};function o(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function a(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,o=n[r];n[r]=s(t,e),--t._waiting,++t._active,n=o.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||i)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])u(t,e);else if(!t._data)throw e}}function s(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?u(t,n):(t._data[e]=r,t._waiting?a(t):l(t))))}}function u(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,l(t)}function l(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function c(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new o(t)}o.prototype=c.prototype={constructor:o,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=r.a.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),a(this),this},abort:function(){return null==this._error&&u(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},l(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,l(this),this}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=[].slice},function(t,e,n){"use strict";var r=n(1571);n.d(e,"f",function(){return r.a});var i=n(1009);n.d(e,"e",function(){return i.a});var o=n(1572);n.d(e,"d",function(){return o.a});var a=n(1573);n.d(e,"a",function(){return a.a});var s=n(1010);n.d(e,"c",function(){return s.a});var u=n(1574);n.d(e,"b",function(){return u.a})},function(t,e,n){"use strict";var r=n(796);e.a=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(796),i=n(1009);e.a=function t(e){function n(){var t=i.a.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(796),i=n(1010);e.a=function t(e){function n(t){var n=i.a.source(e)(t);return function(){return n()/t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(796);e.a=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(885);n.d(e,"d",function(){return r.a});var i=n(1576);n.d(e,"b",function(){return i.a});var o=n(1577);n.d(e,"c",function(){return o.a});var a=n(1578);n.d(e,"e",function(){return a.a});var s=n(1579);n.d(e,"g",function(){return s.a});var u=n(1580);n.d(e,"a",function(){return u.a});var l=n(1581);n.d(e,"f",function(){return l.a})},function(t,e,n){"use strict";var r=n(829);e.a=Object(r.a)("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)})},function(t,e,n){"use strict";var r=n(829);e.a=Object(r.a)("application/json",function(t){return JSON.parse(t.responseText)})},function(t,e,n){"use strict";var r=n(829);e.a=Object(r.a)("text/plain",function(t){return t.responseText})},function(t,e,n){"use strict";var r=n(829);e.a=Object(r.a)("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})},function(t,e,n){"use strict";var r=n(868),i=n(1011);e.a=Object(i.a)("text/csv",r.c)},function(t,e,n){"use strict";var r=n(868),i=n(1011);e.a=Object(i.a)("text/tab-separated-values",r.h)},function(t,e,n){"use strict";var r=n(1583);n.d(e,"i",function(){return r.a}),n.d(e,"o",function(){return r.b});var i=n(1584);n.d(e,"j",function(){return i.a});var o=n(807);n.d(e,"l",function(){return o.a});var a=n(1586);n.d(e,"m",function(){return a.a});var s=n(1012);n.d(e,"n",function(){return s.a}),n.d(e,"k",function(){return s.b});var u=n(1587);n.d(e,"p",function(){return u.a}),n.d(e,"t",function(){return u.b});var l=n(1588);n.d(e,"q",function(){return l.a});var c=n(1589);n.d(e,"r",function(){return c.a});var h=n(1590);n.d(e,"u",function(){return h.a});var f=n(1015);n.d(e,"v",function(){return f.b});var d=n(1606);n.d(e,"w",function(){return d.a});var p=n(1607);n.d(e,"x",function(){return p.a});var g=n(1608);n.d(e,"z",function(){return g.a});var v=n(1609);n.d(e,"A",function(){return v.a});var m=n(1610);n.d(e,"y",function(){return m.a});var y=n(1611);n.d(e,"b",function(){return y.a});var x=n(1612);n.d(e,"f",function(){return x.b}),n.d(e,"h",function(){return x.c}),n.d(e,"a",function(){return x.a});var _=n(1613);n.d(e,"g",function(){return _.a}),n.d(e,"d",function(){return _.c}),n.d(e,"c",function(){return _.b}),n.d(e,"e",function(){return _.d});var b=n(1614);n.d(e,"s",function(){return b.a})},function(t,e,n){"use strict";e.a=o,e.b=function(){return function t(e){var n=e.copy;e.padding=e.paddingOuter;delete e.paddingInner;delete e.paddingOuter;e.copy=function(){return t(n())};return e}(o().paddingInner(1))};var r=n(745),i=n(1012);function o(){var t,e,n=Object(i.a)().unknown(void 0),a=n.domain,s=n.range,u=[0,1],l=!1,c=0,h=0,f=.5;function d(){var n=a().length,i=u[1]<u[0],o=u[i-0],d=u[1-i];t=(d-o)/Math.max(1,n-c+2*h),l&&(t=Math.floor(t)),o+=(d-o-t*(n-c))*f,e=t*(1-c),l&&(o=Math.round(o),e=Math.round(e));var p=Object(r.s)(n).map(function(e){return o+t*e});return s(i?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(a(t),d()):a()},n.range=function(t){return arguments.length?(u=[+t[0],+t[1]],d()):u.slice()},n.rangeRound=function(t){return u=[+t[0],+t[1]],l=!0,d()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,d()):l},n.padding=function(t){return arguments.length?(c=h=Math.max(0,Math.min(1,t)),d()):c},n.paddingInner=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),d()):c},n.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),d()):h},n.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),d()):f},n.copy=function(){return o().domain(a()).range(u).round(l).paddingInner(c).paddingOuter(h).align(f)},d()}},function(t,e,n){"use strict";e.a=function t(){var e=[0,1];function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=r.a.call(t,o.a),n):e.slice()};n.copy=function(){return t().domain(e)};return Object(i.b)(n)};var r=n(777),i=n(807),o=n(1013)},function(t,e,n){"use strict";var r=n(745),i=n(873);e.a=function(t,e,n){var o,a=t[0],s=t[t.length-1],u=Object(r.A)(a,s,null==e?10:e);switch((n=Object(i.e)(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(a),Math.abs(s));return null!=n.precision||isNaN(o=Object(i.g)(u,l))||(n.precision=o),Object(i.d)(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=Object(i.h)(u,Math.max(Math.abs(a),Math.abs(s))))||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=Object(i.f)(u))||(n.precision=o-2*("%"===n.type))}return Object(i.a)(n)}},function(t,e,n){"use strict";e.a=function t(){var e=Object(s.b)(u,l).domain([1,10]),n=e.domain,o=10,c=f(10),p=h(10);function g(){return c=f(o),p=h(o),n()[0]<0&&(c=d(c),p=d(p)),e}e.base=function(t){return arguments.length?(o=+t,g()):o};e.domain=function(t){return arguments.length?(n(t),g()):n()};e.ticks=function(t){var e,i=n(),a=i[0],s=i[i.length-1];(e=s<a)&&(f=a,a=s,s=f);var u,l,h,f=c(a),d=c(s),g=null==t?10:+t,v=[];if(!(o%1)&&d-f<g){if(f=Math.round(f)-1,d=Math.round(d)+1,a>0){for(;f<d;++f)for(l=1,u=p(f);l<o;++l)if(!((h=u*l)<a)){if(h>s)break;v.push(h)}}else for(;f<d;++f)for(l=o-1,u=p(f);l>=1;--l)if(!((h=u*l)<a)){if(h>s)break;v.push(h)}}else v=Object(r.B)(f,d,Math.min(d-f,g)).map(p);return e?v.reverse():v};e.tickFormat=function(t,n){if(null==n&&(n=10===o?".0e":","),"function"!=typeof n&&(n=Object(i.a)(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,o*t/e.ticks().length);return function(t){var e=t/p(Math.round(c(t)));return e*o<o-.5&&(e*=o),e<=r?n(t):""}};e.nice=function(){return n(Object(a.a)(n(),{floor:function(t){return p(Math.floor(c(t)))},ceil:function(t){return p(Math.ceil(c(t)))}}))};e.copy=function(){return Object(s.a)(e,t().base(o))};return e};var r=n(745),i=n(873),o=n(886),a=n(1014),s=n(830);function u(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Object(o.a)(e)}function l(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function c(t){return isFinite(t)?+("1e"+t):t<0?0:t}function h(t){return 10===t?c:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function f(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function d(t){return function(e){return-t(-e)}}},function(t,e,n){"use strict";e.a=s,e.b=function(){return s().exponent(.5)};var r=n(886),i=n(807),o=n(830);function a(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function s(){var t=1,e=Object(o.b)(function(e,n){return(n=a(n,t)-(e=a(e,t)))?function(r){return(a(r,t)-e)/n}:Object(r.a)(n)},function(e,n){return n=a(n,t)-(e=a(e,t)),function(r){return a(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return Object(o.a)(e,s().exponent(t))},Object(i.b)(e)}},function(t,e,n){"use strict";e.a=function t(){var e=[],n=[],o=[];function a(){var t=0,i=Math.max(1,n.length);for(o=new Array(i-1);++t<i;)o[t-1]=Object(r.r)(e,t/i);return s}function s(t){if(!isNaN(t=+t))return n[Object(r.b)(o,t)]}s.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?o[r-1]:e[0],r<o.length?o[r]:e[e.length-1]]};s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,o=t.length;i<o;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(r.a),a()};s.range=function(t){return arguments.length?(n=i.b.call(t),a()):n.slice()};s.quantiles=function(){return o.slice()};s.copy=function(){return t().domain(e).range(n)};return s};var r=n(745),i=n(777)},function(t,e,n){"use strict";e.a=function t(){var e=0,n=1,a=1,s=[.5],u=[0,1];function l(t){if(t<=t)return u[Object(r.b)(s,t,0,a)]}function c(){var t=-1;for(s=new Array(a);++t<a;)s[t]=((t+1)*n-(t-a)*e)/(a+1);return l}l.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],c()):[e,n]};l.range=function(t){return arguments.length?(a=(u=i.b.call(t)).length-1,c()):u.slice()};l.invertExtent=function(t){var r=u.indexOf(t);return r<0?[NaN,NaN]:r<1?[e,s[0]]:r>=a?[s[a-1],n]:[s[r-1],s[r]]};l.copy=function(){return t().domain([e,n]).range(u)};return Object(o.b)(l)};var r=n(745),i=n(777),o=n(807)},function(t,e,n){"use strict";e.a=function t(){var e=[.5],n=[0,1],o=1;function a(t){if(t<=t)return n[Object(r.b)(e,t,0,o)]}a.domain=function(t){return arguments.length?(e=i.b.call(t),o=Math.min(e.length,n.length-1),a):e.slice()};a.range=function(t){return arguments.length?(n=i.b.call(t),o=Math.min(e.length,n.length-1),a):n.slice()};a.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]};a.copy=function(){return t().domain(e).range(n)};return a};var r=n(745),i=n(777)},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(743),i=Object(r.a)(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(r.a)(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):i:null},e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(743),i=n(764),o=Object(r.a)(function(t){t.setTime(Math.floor(t/i.d)*i.d)},function(t,e){t.setTime(+t+e*i.d)},function(t,e){return(e-t)/i.d},function(t){return t.getUTCSeconds()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(743),i=n(764),o=Object(r.a)(function(t){t.setTime(Math.floor(t/i.c)*i.c)},function(t,e){t.setTime(+t+e*i.c)},function(t,e){return(e-t)/i.c},function(t){return t.getMinutes()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(743),i=n(764),o=Object(r.a)(function(t){var e=t.getTimezoneOffset()*i.c%i.b;e<0&&(e+=i.b),t.setTime(Math.floor((+t-e)/i.b)*i.b+e)},function(t,e){t.setTime(+t+e*i.b)},function(t,e){return(e-t)/i.b},function(t){return t.getHours()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(743),i=n(764),o=Object(r.a)(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.a},function(t){return t.getDate()-1});e.b=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"g",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"h",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"n",function(){return v}),n.d(e,"j",function(){return m}),n.d(e,"b",function(){return y}),n.d(e,"f",function(){return x});var r=n(743),i=n(764);function o(t){return Object(r.a)(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.e})}var a=o(0),s=o(1),u=o(2),l=o(3),c=o(4),h=o(5),f=o(6),d=a.range,p=s.range,g=u.range,v=l.range,m=c.range,y=h.range,x=f.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(743),i=Object(r.a)(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(743),i=Object(r.a)(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null},e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(743),i=n(764),o=Object(r.a)(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*i.c)},function(t,e){return(e-t)/i.c},function(t){return t.getUTCMinutes()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(743),i=n(764),o=Object(r.a)(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*i.b)},function(t,e){return(e-t)/i.b},function(t){return t.getUTCHours()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(743),i=n(764),o=Object(r.a)(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/i.a},function(t){return t.getUTCDate()-1});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"g",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"h",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"n",function(){return v}),n.d(e,"j",function(){return m}),n.d(e,"b",function(){return y}),n.d(e,"f",function(){return x});var r=n(743),i=n(764);function o(t){return Object(r.a)(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/i.e})}var a=o(0),s=o(1),u=o(2),l=o(3),c=o(4),h=o(5),f=o(6),d=a.range,p=s.range,g=u.range,v=l.range,m=c.range,y=h.range,x=f.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(743),i=Object(r.a)(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(743),i=Object(r.a)(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null},e.a=i;var o=i.range},function(t,e,n){"use strict";var r=n(1017),i=n(888);var o=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Object(i.e)(r.b);e.a=o},function(t,e,n){"use strict";var r=n(1015),i=n(887),o=n(831);e.a=function(){return Object(r.a)(o._7,o.R,o._5,o.F,o.J,o.N,o.V,o.L,i.g).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(t,e,n){"use strict";var r=n(808);e.a=Object(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(t,e,n){"use strict";var r=n(808);e.a=Object(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(t,e,n){"use strict";var r=n(808);e.a=Object(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(t,e,n){"use strict";var r=n(808);e.a=Object(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(t,e,n){"use strict";var r=n(763),i=n(761);e.a=Object(i.b)(Object(r.b)(300,.5,0),Object(r.b)(-240,.5,1))},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var r=n(763),i=n(761),o=Object(i.b)(Object(r.b)(-100,.75,.35),Object(r.b)(80,1.5,.8)),a=Object(i.b)(Object(r.b)(260,.75,.35),Object(r.b)(80,1.5,.8)),s=Object(r.b)();e.b=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return s.h=360*t-100,s.s=1.5-1.5*e,s.l=.8-.9*e,s+""}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s});var r=n(808);function i(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}e.a=i(Object(r.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=i(Object(r.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=i(Object(r.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s=i(Object(r.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(t,e,n){"use strict";e.a=function t(e){var n=0,i=1,o=!1;function a(t){var r=(t-n)/(i-n);return e(o?Math.max(0,Math.min(1,r)):r)}a.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],a):[n,i]};a.clamp=function(t){return arguments.length?(o=!!t,a):o};a.interpolator=function(t){return arguments.length?(e=t,a):e};a.copy=function(){return t(e).domain([n,i]).clamp(o)};return Object(r.b)(a)};var r=n(807)},function(t,e,n){"use strict";var r=n(1616);n.d(e,"a",function(){return r.a});var i=n(1018);n.d(e,"b",function(){return i.a});var o=n(889);n.d(e,"v",function(){return o.a});var a=n(1617);n.d(e,"A",function(){return a.a});var s=n(1620);n.d(e,"c",function(){return s.a}),n.d(e,"C",function(){return s.a});var u=n(1020);n.d(e,"w",function(){return u.a}),n.d(e,"D",function(){return u.a});var l=n(1021);n.d(e,"B",function(){return l.a});var c=n(1621);n.d(e,"x",function(){return c.a}),n.d(e,"z",function(){return c.c}),n.d(e,"y",function(){return c.b});var h=n(1622);n.d(e,"P",function(){return h.a}),n.d(e,"X",function(){return h.b});var f=n(1023);n.d(e,"Q",function(){return f.a});var d=n(1024);n.d(e,"R",function(){return d.a});var p=n(1025);n.d(e,"S",function(){return p.a});var g=n(1027);n.d(e,"T",function(){return g.a});var v=n(1026);n.d(e,"U",function(){return v.a});var m=n(1028);n.d(e,"V",function(){return m.a});var y=n(1029);n.d(e,"W",function(){return y.a});var x=n(1623);n.d(e,"e",function(){return x.a});var _=n(1624);n.d(e,"f",function(){return _.a});var b=n(834);n.d(e,"d",function(){return b.b});var w=n(1625);n.d(e,"g",function(){return w.a});var M=n(1030);n.d(e,"i",function(){return M.b});var S=n(1031);n.d(e,"j",function(){return S.b});var A=n(835);n.d(e,"h",function(){return A.b});var T=n(1626);n.d(e,"l",function(){return T.a});var O=n(1627);n.d(e,"m",function(){return O.a});var C=n(891);n.d(e,"k",function(){return C.a});var I=n(1628);n.d(e,"o",function(){return I.a});var k=n(832);n.d(e,"n",function(){return k.a});var D=n(1629);n.d(e,"p",function(){return D.a}),n.d(e,"q",function(){return D.b});var L=n(1630);n.d(e,"r",function(){return L.a});var E=n(1631);n.d(e,"s",function(){return E.a}),n.d(e,"t",function(){return E.b}),n.d(e,"u",function(){return E.c});var P=n(1632);n.d(e,"E",function(){return P.a});var N=n(1633);n.d(e,"G",function(){return N.a});var j=n(1634);n.d(e,"F",function(){return j.a});var R=n(810);n.d(e,"H",function(){return R.a});var z=n(1635);n.d(e,"I",function(){return z.a});var B=n(1636);n.d(e,"J",function(){return B.a});var V=n(892);n.d(e,"K",function(){return V.a});var F=n(1637);n.d(e,"L",function(){return F.a});var H=n(1638);n.d(e,"M",function(){return H.a});var W=n(811);n.d(e,"N",function(){return W.a});var G=n(1639);n.d(e,"O",function(){return G.a})},function(t,e,n){"use strict";var r=n(775),i=n(778),o=n(809);function a(t){return t.innerRadius}function s(t){return t.outerRadius}function u(t){return t.startAngle}function l(t){return t.endAngle}function c(t){return t&&t.padAngle}function h(t,e,n,r,i,a,s){var u=t-n,l=e-r,c=(s?a:-a)/Object(o.l)(u*u+l*l),h=c*l,f=-c*u,d=t+h,p=e+f,g=n+h,v=r+f,m=(d+g)/2,y=(p+v)/2,x=g-d,_=v-p,b=x*x+_*_,w=i-a,M=d*v-g*p,S=(_<0?-1:1)*Object(o.l)(Object(o.h)(0,w*w*b-M*M)),A=(M*_-x*S)/b,T=(-M*x-_*S)/b,O=(M*_+x*S)/b,C=(-M*x+_*S)/b,I=A-m,k=T-y,D=O-m,L=C-y;return I*I+k*k>D*D+L*L&&(A=O,T=C),{cx:A,cy:T,x01:-h,y01:-f,x11:A*(i/w-1),y11:T*(i/w-1)}}e.a=function(){var t=a,e=s,n=Object(i.a)(0),f=null,d=u,p=l,g=c,v=null;function m(){var i,a,s=+t.apply(this,arguments),u=+e.apply(this,arguments),l=d.apply(this,arguments)-o.g,c=p.apply(this,arguments)-o.g,m=Object(o.a)(c-l),y=c>l;if(v||(v=i=Object(r.a)()),u<s&&(a=u,u=s,s=a),u>o.f)if(m>o.m-o.f)v.moveTo(u*Object(o.e)(l),u*Object(o.k)(l)),v.arc(0,0,u,l,c,!y),s>o.f&&(v.moveTo(s*Object(o.e)(c),s*Object(o.k)(c)),v.arc(0,0,s,c,l,y));else{var x,_,b=l,w=c,M=l,S=c,A=m,T=m,O=g.apply(this,arguments)/2,C=O>o.f&&(f?+f.apply(this,arguments):Object(o.l)(s*s+u*u)),I=Object(o.i)(Object(o.a)(u-s)/2,+n.apply(this,arguments)),k=I,D=I;if(C>o.f){var L=Object(o.c)(C/s*Object(o.k)(O)),E=Object(o.c)(C/u*Object(o.k)(O));(A-=2*L)>o.f?(M+=L*=y?1:-1,S-=L):(A=0,M=S=(l+c)/2),(T-=2*E)>o.f?(b+=E*=y?1:-1,w-=E):(T=0,b=w=(l+c)/2)}var P=u*Object(o.e)(b),N=u*Object(o.k)(b),j=s*Object(o.e)(S),R=s*Object(o.k)(S);if(I>o.f){var z=u*Object(o.e)(w),B=u*Object(o.k)(w),V=s*Object(o.e)(M),F=s*Object(o.k)(M);if(m<o.j){var H=A>o.f?function(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,h=s-o,f=(c*(e-o)-h*(t-i))/(h*u-c*l);return[t+f*u,e+f*l]}(P,N,V,F,z,B,j,R):[j,R],W=P-H[0],G=N-H[1],q=z-H[0],U=B-H[1],Y=1/Object(o.k)(Object(o.b)((W*q+G*U)/(Object(o.l)(W*W+G*G)*Object(o.l)(q*q+U*U)))/2),X=Object(o.l)(H[0]*H[0]+H[1]*H[1]);k=Object(o.i)(I,(s-X)/(Y-1)),D=Object(o.i)(I,(u-X)/(Y+1))}}T>o.f?D>o.f?(x=h(V,F,P,N,u,D,y),_=h(z,B,j,R,u,D,y),v.moveTo(x.cx+x.x01,x.cy+x.y01),D<I?v.arc(x.cx,x.cy,D,Object(o.d)(x.y01,x.x01),Object(o.d)(_.y01,_.x01),!y):(v.arc(x.cx,x.cy,D,Object(o.d)(x.y01,x.x01),Object(o.d)(x.y11,x.x11),!y),v.arc(0,0,u,Object(o.d)(x.cy+x.y11,x.cx+x.x11),Object(o.d)(_.cy+_.y11,_.cx+_.x11),!y),v.arc(_.cx,_.cy,D,Object(o.d)(_.y11,_.x11),Object(o.d)(_.y01,_.x01),!y))):(v.moveTo(P,N),v.arc(0,0,u,b,w,!y)):v.moveTo(P,N),s>o.f&&A>o.f?k>o.f?(x=h(j,R,z,B,s,-k,y),_=h(P,N,V,F,s,-k,y),v.lineTo(x.cx+x.x01,x.cy+x.y01),k<I?v.arc(x.cx,x.cy,k,Object(o.d)(x.y01,x.x01),Object(o.d)(_.y01,_.x01),!y):(v.arc(x.cx,x.cy,k,Object(o.d)(x.y01,x.x01),Object(o.d)(x.y11,x.x11),!y),v.arc(0,0,s,Object(o.d)(x.cy+x.y11,x.cx+x.x11),Object(o.d)(_.cy+_.y11,_.cx+_.x11),y),v.arc(_.cx,_.cy,k,Object(o.d)(_.y11,_.x11),Object(o.d)(_.y01,_.x01),!y))):v.arc(0,0,s,S,M,y):v.lineTo(j,R)}else v.moveTo(0,0);if(v.closePath(),i)return v=null,i+""||null}return m.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+d.apply(this,arguments)+ +p.apply(this,arguments))/2-o.j/2;return[Object(o.e)(r)*n,Object(o.k)(r)*n]},m.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Object(i.a)(+e),m):t},m.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Object(i.a)(+t),m):e},m.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),m):n},m.padRadius=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:Object(i.a)(+t),m):f},m.startAngle=function(t){return arguments.length?(d="function"==typeof t?t:Object(i.a)(+t),m):d},m.endAngle=function(t){return arguments.length?(p="function"==typeof t?t:Object(i.a)(+t),m):p},m.padAngle=function(t){return arguments.length?(g="function"==typeof t?t:Object(i.a)(+t),m):g},m.context=function(t){return arguments.length?(v=null==t?null:t,m):v},m}},function(t,e,n){"use strict";var r=n(778),i=n(1618),o=n(1619),a=n(809);e.a=function(){var t=o.a,e=i.a,n=null,s=Object(r.a)(0),u=Object(r.a)(a.m),l=Object(r.a)(0);function c(r){var i,o,c,h,f,d=r.length,p=0,g=new Array(d),v=new Array(d),m=+s.apply(this,arguments),y=Math.min(a.m,Math.max(-a.m,u.apply(this,arguments)-m)),x=Math.min(Math.abs(y)/d,l.apply(this,arguments)),_=x*(y<0?-1:1);for(i=0;i<d;++i)(f=v[g[i]=i]=+t(r[i],i,r))>0&&(p+=f);for(null!=e?g.sort(function(t,n){return e(v[t],v[n])}):null!=n&&g.sort(function(t,e){return n(r[t],r[e])}),i=0,c=p?(y-d*_)/p:0;i<d;++i,m=h)o=g[i],h=m+((f=v[o])>0?f*c:0)+_,v[o]={data:r[o],index:i,value:f,startAngle:m,endAngle:h,padAngle:x};return v}return c.value=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),c):t},c.sortValues=function(t){return arguments.length?(e=t,n=null,c):e},c.sort=function(t){return arguments.length?(n=t,e=null,c):n},c.startAngle=function(t){return arguments.length?(s="function"==typeof t?t:Object(r.a)(+t),c):s},c.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:Object(r.a)(+t),c):u},c.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:Object(r.a)(+t),c):l},c}},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(1019),i=n(1018),o=n(1020);e.a=function(){var t=Object(i.a)().curve(r.a),e=t.curve,n=t.lineX0,a=t.lineX1,s=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Object(o.b)(n())},delete t.lineX0,t.lineEndAngle=function(){return Object(o.b)(a())},delete t.lineX1,t.lineInnerRadius=function(){return Object(o.b)(s())},delete t.lineY0,t.lineOuterRadius=function(){return Object(o.b)(u())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Object(r.b)(t)):e()._curve},t}},function(t,e,n){"use strict";e.a=function(){return c(h)},e.c=function(){return c(f)},e.b=function(){var t=c(d);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t};var r=n(775),i=n(1022),o=n(778),a=n(890),s=n(1021);function u(t){return t.source}function l(t){return t.target}function c(t){var e=u,n=l,s=a.a,c=a.b,h=null;function f(){var o,a=i.a.call(arguments),u=e.apply(this,a),l=n.apply(this,a);if(h||(h=o=Object(r.a)()),t(h,+s.apply(this,(a[0]=u,a)),+c.apply(this,a),+s.apply(this,(a[0]=l,a)),+c.apply(this,a)),o)return h=null,o+""||null}return f.source=function(t){return arguments.length?(e=t,f):e},f.target=function(t){return arguments.length?(n=t,f):n},f.x=function(t){return arguments.length?(s="function"==typeof t?t:Object(o.a)(+t),f):s},f.y=function(t){return arguments.length?(c="function"==typeof t?t:Object(o.a)(+t),f):c},f.context=function(t){return arguments.length?(h=null==t?null:t,f):h},f}function h(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function f(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function d(t,e,n,r,i){var o=Object(s.a)(e,n),a=Object(s.a)(e,n=(n+i)/2),u=Object(s.a)(r,n),l=Object(s.a)(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],l[0],l[1])}},function(t,e,n){"use strict";n.d(e,"b",function(){return f});var r=n(775),i=n(1023),o=n(1024),a=n(1025),s=n(1026),u=n(1027),l=n(1028),c=n(1029),h=n(778),f=[i.a,o.a,a.a,u.a,s.a,l.a,c.a];e.a=function(){var t=Object(h.a)(i.a),e=Object(h.a)(64),n=null;function o(){var i;if(n||(n=i=Object(r.a)()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return o.type=function(e){return arguments.length?(t="function"==typeof e?e:Object(h.a)(e),o):t},o.size=function(t){return arguments.length?(e="function"==typeof t?t:Object(h.a)(+t),o):e},o.context=function(t){return arguments.length?(n=null==t?null:t,o):n},o}},function(t,e,n){"use strict";var r=n(833),i=n(834);function o(t){this._context=t}o.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(834);function i(t){this._context=t}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Object(r.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new i(t)}},function(t,e,n){"use strict";var r=n(834);function i(t,e){this._basis=new r.a(t),this._beta=e}i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function t(e){function n(t){return 1===e?new r.a(t):new i(t,e)}return n.beta=function(e){return t(+e)},n}(.85)},function(t,e,n){"use strict";var r=n(1030),i=n(833),o=n(891);function a(t,e){this._context=t,this._alpha=e}a.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(o.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new a(t,e):new r.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";var r=n(1031),i=n(891);function o(t,e){this._context=t,this._alpha=e}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new o(t,e):new r.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";var r=n(833);function i(t){this._context=t}i.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},e.a=function(t){return new i(t)}},function(t,e,n){"use strict";function r(t){return t<0?-1:1}function i(t,e,n){var i=t._x1-t._x0,o=e-t._x1,a=(t._y1-t._y0)/(i||o<0&&-0),s=(n-t._y1)/(o||i<0&&-0),u=(a*o+s*i)/(i+o);return(r(a)+r(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function o(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function s(t){this._context=t}function u(t){this._context=new l(t)}function l(t){this._context=t}e.a=function(t){return new s(t)},e.b=function(t){return new u(t)},s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,n=i(this,t,e)),n);break;default:a(this,this._t0,n=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(t,e){s.prototype.point.call(this,e,t)},l.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}}},function(t,e,n){"use strict";function r(t){this._context=t}function i(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=i(t),o=i(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e){this._context=t,this._t=e}e.c=function(t){return new r(t,0)},e.b=function(t){return new r(t,1)},r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},e.a=function(t){return new r(t,.5)}},function(t,e,n){"use strict";var r=n(1022),i=n(778),o=n(810),a=n(811);function s(t,e){return t[e]}e.a=function(){var t=Object(i.a)([]),e=a.a,n=o.a,u=s;function l(r){var i,o,a=t.apply(this,arguments),s=r.length,l=a.length,c=new Array(l);for(i=0;i<l;++i){for(var h,f=a[i],d=c[i]=new Array(s),p=0;p<s;++p)d[p]=h=[0,+u(r[p],f,p,r)],h.data=r[p];d.key=f}for(i=0,o=e(c);i<l;++i)c[o[i]].index=i;return n(c,o),c}return l.keys=function(e){return arguments.length?(t="function"==typeof e?e:Object(i.a)(r.a.call(e)),l):t},l.value=function(t){return arguments.length?(u="function"==typeof t?t:Object(i.a)(+t),l):u},l.order=function(t){return arguments.length?(e=null==t?a.a:"function"==typeof t?t:Object(i.a)(r.a.call(t)),l):e},l.offset=function(t){return arguments.length?(n=null==t?o.a:t,l):n},l}},function(t,e,n){"use strict";var r=n(810);e.a=function(t,e){if((i=t.length)>0){for(var n,i,o,a=0,s=t[0].length;a<s;++a){for(o=n=0;n<i;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<i;++n)t[n][a][1]/=o}Object(r.a)(t,e)}}},function(t,e,n){"use strict";e.a=function(t,e){if((s=t.length)>1)for(var n,r,i,o,a,s,u=0,l=t[e[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o}},function(t,e,n){"use strict";var r=n(810);e.a=function(t,e){if((n=t.length)>0){for(var n,i=0,o=t[e[0]],a=o.length;i<a;++i){for(var s=0,u=0;s<n;++s)u+=t[s][i][1]||0;o[i][1]+=o[i][0]=-u/2}Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(810);e.a=function(t,e){if((o=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,o,a=0,s=1;s<i;++s){for(var u=0,l=0,c=0;u<o;++u){for(var h=t[e[u]],f=h[s][1]||0,d=(f-(h[s-1][1]||0))/2,p=0;p<u;++p){var g=t[e[p]];d+=(g[s][1]||0)-(g[s-1][1]||0)}l+=f,c+=d*f}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(892);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(811),i=n(892);e.a=function(t){var e,n,o=t.length,a=t.map(i.b),s=Object(r.a)(t).sort(function(t,e){return a[e]-a[t]}),u=0,l=0,c=[],h=[];for(e=0;e<o;++e)n=s[e],u<l?(u+=a[n],c.push(n)):(l+=a[n],h.push(n));return h.reverse().concat(c)}},function(t,e,n){"use strict";var r=n(811);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(894);e.a=function(t,e,n){var i=new r.a;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}},function(t,e,n){"use strict";var r=n(894);e.a=function(t,e,n){var i=new r.a,o=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Object(r.b)():+n,i.restart(function r(a){a+=o,i.restart(r,o+=e,n),t(a)},e,n),i)}},function(t,e,n){"use strict";var r=n(742),i=n(1643),o=n(1644);r.m.prototype.interrupt=i.a,r.m.prototype.transition=o.a},function(t,e,n){"use strict";var r=n(1033);e.a=function(t){return this.each(function(){Object(r.a)(this,t)})}},function(t,e,n){"use strict";var r=n(770),i=n(759),o=n(977),a=n(893),s={time:null,delay:0,duration:250,ease:o.o};function u(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return s.time=Object(a.b)(),s;return n}e.a=function(t){var e,n;t instanceof r.a?(e=t._id,t=t._name):(e=Object(r.c)(),(n=s).time=Object(a.b)(),t=null==t?null:t+"");for(var o=this._groups,l=o.length,c=0;c<l;++c)for(var h,f=o[c],d=f.length,p=0;p<d;++p)(h=f[p])&&Object(i.e)(h,t,e,p,f,n||u(h,e));return new r.a(o,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(805),i=n(742),o=n(836),a=n(1034);e.a=function(t,e){var n=Object(i.i)(t),s="transform"===n?r.u:a.a;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,s,Object(o.b)(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,s,e+""))}},function(t,e,n){"use strict";var r=n(742);e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(r.i)(t);return this.tween(n,(i.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(i,e))}},function(t,e,n){"use strict";var r=n(759);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.g)(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.g)(this,t).delay=e}})(e,t)):Object(r.f)(this.node(),e).delay}},function(t,e,n){"use strict";var r=n(759);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.h)(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.h)(this,t).duration=e}})(e,t)):Object(r.f)(this.node(),e).duration}},function(t,e,n){"use strict";var r=n(759);e.a=function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Object(r.h)(this,t).ease=e}}(e,t)):Object(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(742),i=n(770);e.a=function(t){"function"!=typeof t&&(t=Object(r.g)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],l=u.length,c=o[a]=[],h=0;h<l;++h)(s=u[h])&&t.call(s,s.__data__,h,u)&&c.push(s);return new i.a(o,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(770);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=e[u],h=n[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(759);e.a=function(t,e){var n=this._id;return arguments.length<2?Object(r.f)(this.node(),n).on.on(t):this.each(function(t,e,n){var i,o,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?r.g:r.h;return function(){var r=a(this,t),s=r.on;s!==i&&(o=(i=s).copy()).on(e,n),r.on=o}}(n,t,e))}},function(t,e,n){"use strict";e.a=function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}},function(t,e,n){"use strict";var r=n(742),i=n(770),o=n(759);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.n)(t));for(var a=this._groups,s=a.length,u=new Array(s),l=0;l<s;++l)for(var c,h,f=a[l],d=f.length,p=u[l]=new Array(d),g=0;g<d;++g)(c=f[g])&&(h=t.call(c,c.__data__,g,f))&&("__data__"in c&&(h.__data__=c.__data__),p[g]=h,Object(o.e)(p[g],e,n,g,p,Object(o.f)(c,n)));return new i.a(u,this._parents,e,n)}},function(t,e,n){"use strict";var r=n(742),i=n(770),o=n(759);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.o)(t));for(var a=this._groups,s=a.length,u=[],l=[],c=0;c<s;++c)for(var h,f=a[c],d=f.length,p=0;p<d;++p)if(h=f[p]){for(var g,v=t.call(h,h.__data__,p,f),m=Object(o.f)(h,n),y=0,x=v.length;y<x;++y)(g=v[y])&&Object(o.e)(g,e,n,y,v,m);u.push(v),l.push(h)}return new i.a(u,l,e,n)}},function(t,e,n){"use strict";var r=n(742).m.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";var r=n(805),i=n(742),o=n(836),a=n(1034);e.a=function(t,e,n){var s="transform"==(t+="")?r.t:a.a;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var a=Object(i.p)(this,t),s=(this.style.removeProperty(t),Object(i.p)(this,t));return a===s?null:a===n&&s===r?o:o=e(n=a,r=s)}}(t,s)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,o,a;return function(){var s=Object(i.p)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(i.p)(this,t)),s===u?null:s===r&&u===o?a:a=e(r=s,o=u)}}(t,s,Object(o.b)(this,"style."+t,e)):function(t,e,n){var r,o;return function(){var a=Object(i.p)(this,t);return a===n?null:a===r?o:o=e(r=a,n)}}(t,s,e+""),n)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))}},function(t,e,n){"use strict";var r=n(836);e.a=function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Object(r.b)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},function(t,e,n){"use strict";var r=n(770),i=n(759);e.a=function(){for(var t=this._name,e=this._id,n=Object(r.c)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var u,l=o[s],c=l.length,h=0;h<c;++h)if(u=l[h]){var f=Object(i.f)(u,e);Object(i.e)(u,t,n,h,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.a(o,this._parents,t,n)}},function(t,e,n){"use strict";var r=n(770),i=n(759),o=[null];e.a=function(t,e){var n,a,s=t.__transition;if(s)for(a in e=null==e?null:e+"",s)if((n=s[a]).state>i.c&&n.name===e)return new r.a([[t]],o,e,+a);return null}},function(t,e,n){"use strict";var r=n(1663);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(1664),i=n(1665),o=n(812);e.a=function(){var t=i.a,e=i.b,n=null;function a(r){return new o.d(r.map(function(n,i){var a=[Math.round(t(n,i,r)/o.f)*o.f,Math.round(e(n,i,r)/o.f)*o.f];return a.index=i,a.data=n,a}),n)}return a.polygons=function(t){return a(t).polygons()},a.links=function(t){return a(t).links()},a.triangles=function(t){return a(t).triangles()},a.x=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Object(r.a)(+t),a):e},a.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],a):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},a.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],a):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";e.b=function(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],u=t.P,l=t.N,h=[t];c(t);var f=u;for(;f.circle&&Math.abs(n-f.circle.x)<s.f&&Math.abs(r-f.circle.cy)<s.f;)u=f.P,h.unshift(f),c(f),f=u;h.unshift(f),Object(o.b)(f);var d=l;for(;d.circle&&Math.abs(n-d.circle.x)<s.f&&Math.abs(r-d.circle.cy)<s.f;)l=d.N,h.push(d),c(d),d=l;h.push(d),Object(o.b)(d);var p,g=h.length;for(p=1;p<g;++p)d=h[p],f=h[p-1],Object(a.d)(d.edge,f.site,d.site,i);f=h[0],(d=h[g-1]).edge=Object(a.c)(f.site,d.site,null,i),Object(o.a)(f),Object(o.a)(d)},e.a=function(t){var e,n,r,u,c=t[0],d=t[1],p=s.a._;for(;p;)if((r=h(p,d)-c)>s.f)p=p.L;else{if(!((u=c-f(p,d))>s.f)){r>-s.f?(e=p.P,n=p):u>-s.f?(e=p,n=p.N):e=n=p;break}if(!p.R){e=p;break}p=p.R}Object(i.c)(t);var g=l(t);if(s.a.insert(e,g),!e&&!n)return;if(e===n)return Object(o.b)(e),n=l(e.site),s.a.insert(g,n),g.edge=n.edge=Object(a.c)(e.site,g.site),Object(o.a)(e),void Object(o.a)(n);if(!n)return void(g.edge=Object(a.c)(e.site,g.site));Object(o.b)(e),Object(o.b)(n);var v=e.site,m=v[0],y=v[1],x=t[0]-m,_=t[1]-y,b=n.site,w=b[0]-m,M=b[1]-y,S=2*(x*M-_*w),A=x*x+_*_,T=w*w+M*M,O=[(M*A-_*T)/S+m,(x*T-w*A)/S+y];Object(a.d)(n.edge,v,b,O),g.edge=Object(a.c)(v,t,null,O),n.edge=Object(a.c)(t,b,null,O),Object(o.a)(e),Object(o.a)(n)};var r=n(895),i=n(1035),o=n(1036),a=n(896),s=n(812),u=[];function l(t){var e=u.pop()||new function(){Object(r.a)(this),this.edge=this.site=this.circle=null};return e.site=t,e}function c(t){Object(o.b)(t),s.a.remove(t),u.push(t),Object(r.a)(t)}function h(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function f(t,e){var n=t.N;if(n)return h(n,e);var r=t.site;return r[1]===e?r[0]:1/0}},function(t,e,n){"use strict";var r=n(1668);n.d(e,"a",function(){return r.a});var i=n(1037);n.d(e,"c",function(){return i.b}),n.d(e,"b",function(){return i.c})},function(t,e,n){"use strict";var r=n(820),i=n(968),o=n(805),a=n(742),s=n(1032),u=n(1669),l=n(1670),c=n(1037),h=n(1671);function f(){return!a.e.button}function d(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function p(){return this.__zoom||c.c}function g(){return-a.e.deltaY*(a.e.deltaMode?120:1)/500}function v(){return"ontouchstart"in this}function m(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}e.a=function(){var t,e,n=f,y=d,x=m,_=g,b=v,w=[0,1/0],M=[[-1/0,-1/0],[1/0,1/0]],S=250,A=o.v,T=[],O=Object(r.a)("start","zoom","end"),C=500,I=150,k=0;function D(t){t.property("__zoom",p).on("wheel.zoom",z).on("mousedown.zoom",B).on("dblclick.zoom",V).filter(b).on("touchstart.zoom",F).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(t,e){return(e=Math.max(w[0],Math.min(w[1],e)))===t.k?t:new c.a(e,t.x,t.y)}function E(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new c.a(t.k,r,i)}function P(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function N(t,e,n){t.on("start.zoom",function(){j(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=j(this,t),i=y.apply(this,t),o=n||P(i),a=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),s=this.__zoom,u="function"==typeof e?e.apply(this,t):e,l=A(s.invert(o).concat(a/s.k),u.invert(o).concat(a/u.k));return function(t){if(1===t)t=u;else{var e=l(t),n=a/e[2];t=new c.a(n,o[0]-e[0]*n,o[1]-e[1]*n)}r.zoom(null,t)}})}function j(t,e){for(var n,r=0,i=T.length;r<i;++r)if((n=T[r]).that===t)return n;return new R(t,e)}function R(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function z(){if(n.apply(this,arguments)){var t=j(this,arguments),e=this.__zoom,r=Math.max(w[0],Math.min(w[1],e.k*Math.pow(2,_.apply(this,arguments)))),i=Object(a.h)(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[i,e.invert(i)],Object(s.b)(this),t.start()}Object(h.a)(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},I),t.zoom("mouse",x(E(L(e,r),t.mouse[0],t.mouse[1]),t.extent,M))}}function B(){if(!e&&n.apply(this,arguments)){var t=j(this,arguments),r=Object(a.k)(a.e.view).on("mousemove.zoom",function(){if(Object(h.a)(),!t.moved){var e=a.e.clientX-u,n=a.e.clientY-l;t.moved=e*e+n*n>k}t.zoom("mouse",x(E(t.that.__zoom,t.mouse[0]=Object(a.h)(t.that),t.mouse[1]),t.extent,M))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.c)(a.e.view,t.moved),Object(h.a)(),t.end()},!0),o=Object(a.h)(this),u=a.e.clientX,l=a.e.clientY;Object(i.b)(a.e.view),Object(h.b)(),t.mouse=[o,this.__zoom.invert(o)],Object(s.b)(this),t.start()}}function V(){if(n.apply(this,arguments)){var t=this.__zoom,e=Object(a.h)(this),r=t.invert(e),i=t.k*(a.e.shiftKey?.5:2),o=x(E(L(t,i),e,r),y.apply(this,arguments),M);Object(h.a)(),S>0?Object(a.k)(this).transition().duration(S).call(N,o,e):Object(a.k)(this).call(D.transform,o)}}function F(){if(n.apply(this,arguments)){var e,r,i,o,u=j(this,arguments),l=a.e.changedTouches,c=l.length;for(Object(h.b)(),r=0;r<c;++r)i=l[r],o=[o=Object(a.q)(this,l,i.identifier),this.__zoom.invert(o),i.identifier],u.touch0?u.touch1||(u.touch1=o):(u.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!u.touch1))return u.end(),void((o=Object(a.k)(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout(function(){t=null},C),Object(s.b)(this),u.start())}}function H(){var e,n,r,i,o=j(this,arguments),s=a.e.changedTouches,u=s.length;for(Object(h.a)(),t&&(t=clearTimeout(t)),e=0;e<u;++e)n=s[e],r=Object(a.q)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var l=o.touch0[0],c=o.touch0[1],f=o.touch1[0],d=o.touch1[1],p=(p=f[0]-l[0])*p+(p=f[1]-l[1])*p,g=(g=d[0]-c[0])*g+(g=d[1]-c[1])*g;n=L(n,Math.sqrt(p/g)),r=[(l[0]+f[0])/2,(l[1]+f[1])/2],i=[(c[0]+d[0])/2,(c[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",x(E(n,r,i),o.extent,M))}function W(){var t,n,r=j(this,arguments),i=a.e.changedTouches,o=i.length;for(Object(h.b)(),e&&clearTimeout(e),e=setTimeout(function(){e=null},C),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return D.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",p),t!==n?N(t,e):n.interrupt().each(function(){j(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},D.scaleBy=function(t,e){D.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},D.scaleTo=function(t,e){D.transform(t,function(){var t=y.apply(this,arguments),n=this.__zoom,r=P(t),i=n.invert(r),o="function"==typeof e?e.apply(this,arguments):e;return x(E(L(n,o),r,i),t,M)})},D.translateBy=function(t,e,n){D.transform(t,function(){return x(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments),M)})},D.translateTo=function(t,e,n){D.transform(t,function(){var t=y.apply(this,arguments),r=this.__zoom,i=P(t);return x(c.c.translate(i[0],i[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,M)})},R.prototype={start:function(){return 1==++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(a.d)(new l.a(D,t,this.that.__zoom),O.apply,O,[t,this.that,this.args])}},D.wheelDelta=function(t){return arguments.length?(_="function"==typeof t?t:Object(u.a)(+t),D):_},D.filter=function(t){return arguments.length?(n="function"==typeof t?t:Object(u.a)(!!t),D):n},D.touchable=function(t){return arguments.length?(b="function"==typeof t?t:Object(u.a)(!!t),D):b},D.extent=function(t){return arguments.length?(y="function"==typeof t?t:Object(u.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),D):y},D.scaleExtent=function(t){return arguments.length?(w[0]=+t[0],w[1]=+t[1],D):[w[0],w[1]]},D.translateExtent=function(t){return arguments.length?(M[0][0]=+t[0][0],M[1][0]=+t[1][0],M[0][1]=+t[0][1],M[1][1]=+t[1][1],D):[[M[0][0],M[0][1]],[M[1][0],M[1][1]]]},D.constrain=function(t){return arguments.length?(x=t,D):x},D.duration=function(t){return arguments.length?(S=+t,D):S},D.interpolate=function(t){return arguments.length?(A=t,D):A},D.on=function(){var t=O.on.apply(O,arguments);return t===O?D:t},D.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,D):Math.sqrt(k)},D}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.transform=n}},function(t,e,n){"use strict";e.b=function(){r.e.stopImmediatePropagation()};var r=n(742);e.a=function(){r.e.preventDefault(),r.e.stopImmediatePropagation()}},function(t,e,n){"use strict";var r=n(790),i=n(897),o=n(749),a=n(766);t.exports=function(t,e,n){var s=e.nodes().filter(function(t){return!o.isSubgraph(e,t)}),u=t.selectAll("g.node").data(s,function(t){return t}).classed("update",!0);return u.selectAll("*").remove(),u.enter().append("g").attr("class","node").style("opacity",0),(u=t.selectAll("g.node")).each(function(t){var s=e.node(t),u=a.select(this);o.applyClass(u,s.class,(u.classed("update")?"update ":"")+"node");var l=u.append("g").attr("class","label"),c=i(l,s),h=n[s.shape],f=r.pick(c.node().getBBox(),"width","height");s.elem=this,s.id&&u.attr("id",s.id),s.labelId&&l.attr("id",s.labelId),r.has(s,"width")&&(f.width=s.width),r.has(s,"height")&&(f.height=s.height),f.width+=s.paddingLeft+s.paddingRight,f.height+=s.paddingTop+s.paddingBottom,l.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")");var d=h(a.select(this),f,s);o.applyStyle(d,s.style);var p=d.node().getBBox();s.width=p.width,s.height=p.height}),o.applyTransition(u.exit(),e).style("opacity",0).remove(),u}},function(t,e,n){var r=n(749);t.exports=function(t,e){for(var n=t.append("text"),i=function(t){for(var e,n="",r=!1,i=0;i<t.length;++i)if(e=t[i],r){switch(e){case"n":n+="\n";break;default:n+=e}r=!1}else"\\"===e?r=!0:n+=e;return n}(e.label).split("\n"),o=0;o<i.length;o++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[o]);return r.applyStyle(n,e.labelStyle),n}},function(t,e,n){var r=n(749);t.exports=function(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var o=e.label;switch(typeof o){case"function":i.insert(o);break;case"object":i.insert(function(){return o});break;default:i.html(o)}r.applyStyle(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var a=i.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}},function(t,e,n){var r=n(749);t.exports=function(t,e){var n=t;return n.node().appendChild(e.label),r.applyStyle(n,e.labelStyle),n}},function(t,e,n){var r=n(749),i=n(766),o=n(897);t.exports=function(t,e){var n=e.nodes().filter(function(t){return r.isSubgraph(e,t)}),a=t.selectAll("g.cluster").data(n,function(t){return t});return a.selectAll("*").remove(),a.enter().append("g").attr("class","cluster").attr("id",function(t){return e.node(t).id}).style("opacity",0),a=t.selectAll("g.cluster"),r.applyTransition(a,e).style("opacity",1),a.each(function(t){var n=e.node(t),r=i.select(this);i.select(this).append("rect");var a=r.append("g").attr("class","label");o(a,n,n.clusterLabelPos)}),a.selectAll("rect").each(function(t){var n=e.node(t),o=i.select(this);r.applyStyle(o,n.style)}),r.applyTransition(a.exit(),e).style("opacity",0).remove(),a}},function(t,e,n){"use strict";var r=n(790),i=n(897),o=n(749),a=n(766);t.exports=function(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),function(t){return o.edgeToId(t)}).classed("update",!0);return n.selectAll("*").remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(n=t.selectAll("g.edgeLabel")).each(function(t){var n=e.edge(t),o=i(a.select(this),e.edge(t),0,0).classed("label",!0),s=o.node().getBBox();n.labelId&&o.attr("id",n.labelId),r.has(n,"width")||(n.width=s.width),r.has(n,"height")||(n.height=s.height)}),o.applyTransition(n.exit(),e).style("opacity",0).remove(),n}},function(t,e,n){"use strict";var r=n(790),i=n(930),o=n(749),a=n(766);function s(t,e){var n=a.line().x(function(t){return t.x}).y(function(t){return t.y});return n.curve(t.curve),n(e)}t.exports=function(t,e,n){var u=t.selectAll("g.edgePath").data(e.edges(),function(t){return o.edgeToId(t)}).classed("update",!0);return function(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);n.append("path").attr("class","path").attr("d",function(t){var n=e.edge(t),i=e.node(t.v).elem,o=r.range(n.points.length).map(function(){return e=(t=i).getBBox(),{x:(n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2)).e,y:n.f};var t,e,n});return s(n,o)}),n.append("defs")}(u,e),function(t,e){var n=t.exit();o.applyTransition(n,e).style("opacity",0).remove(),o.applyTransition(n.select("path.path"),e).attr("d",function(t){var n=e.node(t.v);if(n){var i=r.range(this.getTotalLength()).map(function(){return n});return s({},i)}return a.select(this).attr("d")})}(u,e),u=t.selectAll("g.edgePath"),o.applyTransition(u,e).style("opacity",1),u.each(function(t){var n=a.select(this),r=e.edge(t);r.elem=this,r.id&&n.attr("id",r.id),o.applyClass(n,r.class,(n.classed("update")?"update ":"")+"edgePath")}),u.selectAll("path.path").each(function(t){var n=e.edge(t);n.arrowheadId=r.uniqueId("arrowhead");var u=a.select(this).attr("marker-end",function(){return"url("+(t=location.href,e=n.arrowheadId,t.split("#")[0]+"#"+e)+")";var t,e}).style("fill","none");o.applyTransition(u,e).attr("d",function(t){return function(t,e){var n=t.edge(e),r=t.node(e.v),o=t.node(e.w),a=n.points.slice(1,n.points.length-1);return a.unshift(i(r,a[0])),a.push(i(o,a[a.length-1])),s(n,a)}(e,t)}),o.applyStyle(u,n.style)}),u.selectAll("defs *").remove(),u.selectAll("defs").each(function(t){var r=e.edge(t);(0,n[r.arrowhead])(a.select(this),r.arrowheadId,r,"arrowhead")}),u}},function(t,e,n){"use strict";var r=n(749),i=n(766);t.exports=function(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}t.filter(function(){return!i.select(this).classed("update")}).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},function(t,e,n){"use strict";var r=n(749),i=n(766),o=n(790);t.exports=function(t,e){function n(t){var n=e.edge(t);return o.has(n,"x")?"translate("+n.x+","+n.y+")":""}t.filter(function(){return!i.select(this).classed("update")}).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},function(t,e,n){"use strict";var r=n(749),i=n(766);t.exports=function(t,e){var n=t.filter(function(){return!i.select(this).classed("update")});function o(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}n.attr("transform",o),r.applyTransition(t,e).style("opacity",1).attr("transform",o),r.applyTransition(n.selectAll("rect"),e).attr("width",function(t){return e.node(t).width}).attr("height",function(t){return e.node(t).height}).attr("x",function(t){var n=e.node(t);return-n.width/2}).attr("y",function(t){var n=e.node(t);return-n.height/2})}},function(t,e,n){"use strict";var r=n(933),i=n(845),o=n(931),a=n(932);t.exports={rect:function(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return r(n,t)},i},ellipse:function(t,e,n){var r=e.width/2,o=e.height/2,a=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",o);return n.intersect=function(t){return i(n,r,o,t)},a},circle:function(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(t){return o(n,r,t)},i},diamond:function(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],s=t.insert("polygon",":first-child").attr("points",o.map(function(t){return t.x+","+t.y}).join(" "));return n.intersect=function(t){return a(n,o,t)},s}}},function(t,e,n){var r=n(749);function i(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}t.exports={default:i,normal:i,vee:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])},undirected:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}}},function(t,e){t.exports="0.6.1"},function(t,e,n){"use strict";var r=n(792),i=n(946),o=n(761),a=n(735),s=n(963),u=n(1686),l=n(1687),c=n(1039),h=n(1688);function f(){return!a.event.button}function d(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function p(){return this.__zoom||c.c}function g(){return-a.event.deltaY*(a.event.deltaMode?120:1)/500}function v(){return"ontouchstart"in this}function m(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}e.a=function(){var t,e,n=f,y=d,x=m,_=g,b=v,w=[0,1/0],M=[[-1/0,-1/0],[1/0,1/0]],S=250,A=o.i,T=[],O=Object(r.a)("start","zoom","end"),C=500,I=150,k=0;function D(t){t.property("__zoom",p).on("wheel.zoom",z).on("mousedown.zoom",B).on("dblclick.zoom",V).filter(b).on("touchstart.zoom",F).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(t,e){return(e=Math.max(w[0],Math.min(w[1],e)))===t.k?t:new c.a(e,t.x,t.y)}function E(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new c.a(t.k,r,i)}function P(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function N(t,e,n){t.on("start.zoom",function(){j(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=j(this,t),i=y.apply(this,t),o=n||P(i),a=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),s=this.__zoom,u="function"==typeof e?e.apply(this,t):e,l=A(s.invert(o).concat(a/s.k),u.invert(o).concat(a/u.k));return function(t){if(1===t)t=u;else{var e=l(t),n=a/e[2];t=new c.a(n,o[0]-e[0]*n,o[1]-e[1]*n)}r.zoom(null,t)}})}function j(t,e){for(var n,r=0,i=T.length;r<i;++r)if((n=T[r]).that===t)return n;return new R(t,e)}function R(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function z(){if(n.apply(this,arguments)){var t=j(this,arguments),e=this.__zoom,r=Math.max(w[0],Math.min(w[1],e.k*Math.pow(2,_.apply(this,arguments)))),i=Object(a.mouse)(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[i,e.invert(i)],Object(s.a)(this),t.start()}Object(h.a)(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},I),t.zoom("mouse",x(E(L(e,r),t.mouse[0],t.mouse[1]),t.extent,M))}}function B(){if(!e&&n.apply(this,arguments)){var t=j(this,arguments),r=Object(a.select)(a.event.view).on("mousemove.zoom",function(){if(Object(h.a)(),!t.moved){var e=a.event.clientX-u,n=a.event.clientY-l;t.moved=e*e+n*n>k}t.zoom("mouse",x(E(t.that.__zoom,t.mouse[0]=Object(a.mouse)(t.that),t.mouse[1]),t.extent,M))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.b)(a.event.view,t.moved),Object(h.a)(),t.end()},!0),o=Object(a.mouse)(this),u=a.event.clientX,l=a.event.clientY;Object(i.a)(a.event.view),Object(h.b)(),t.mouse=[o,this.__zoom.invert(o)],Object(s.a)(this),t.start()}}function V(){if(n.apply(this,arguments)){var t=this.__zoom,e=Object(a.mouse)(this),r=t.invert(e),i=t.k*(a.event.shiftKey?.5:2),o=x(E(L(t,i),e,r),y.apply(this,arguments),M);Object(h.a)(),S>0?Object(a.select)(this).transition().duration(S).call(N,o,e):Object(a.select)(this).call(D.transform,o)}}function F(){if(n.apply(this,arguments)){var e,r,i,o,u=j(this,arguments),l=a.event.changedTouches,c=l.length;for(Object(h.b)(),r=0;r<c;++r)i=l[r],o=[o=Object(a.touch)(this,l,i.identifier),this.__zoom.invert(o),i.identifier],u.touch0?u.touch1||(u.touch1=o):(u.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!u.touch1))return u.end(),void((o=Object(a.select)(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout(function(){t=null},C),Object(s.a)(this),u.start())}}function H(){var e,n,r,i,o=j(this,arguments),s=a.event.changedTouches,u=s.length;for(Object(h.a)(),t&&(t=clearTimeout(t)),e=0;e<u;++e)n=s[e],r=Object(a.touch)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var l=o.touch0[0],c=o.touch0[1],f=o.touch1[0],d=o.touch1[1],p=(p=f[0]-l[0])*p+(p=f[1]-l[1])*p,g=(g=d[0]-c[0])*g+(g=d[1]-c[1])*g;n=L(n,Math.sqrt(p/g)),r=[(l[0]+f[0])/2,(l[1]+f[1])/2],i=[(c[0]+d[0])/2,(c[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",x(E(n,r,i),o.extent,M))}function W(){var t,n,r=j(this,arguments),i=a.event.changedTouches,o=i.length;for(Object(h.b)(),e&&clearTimeout(e),e=setTimeout(function(){e=null},C),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return D.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",p),t!==n?N(t,e):n.interrupt().each(function(){j(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},D.scaleBy=function(t,e){D.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},D.scaleTo=function(t,e){D.transform(t,function(){var t=y.apply(this,arguments),n=this.__zoom,r=P(t),i=n.invert(r),o="function"==typeof e?e.apply(this,arguments):e;return x(E(L(n,o),r,i),t,M)})},D.translateBy=function(t,e,n){D.transform(t,function(){return x(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments),M)})},D.translateTo=function(t,e,n){D.transform(t,function(){var t=y.apply(this,arguments),r=this.__zoom,i=P(t);return x(c.c.translate(i[0],i[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,M)})},R.prototype={start:function(){return 1==++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(a.customEvent)(new l.a(D,t,this.that.__zoom),O.apply,O,[t,this.that,this.args])}},D.wheelDelta=function(t){return arguments.length?(_="function"==typeof t?t:Object(u.a)(+t),D):_},D.filter=function(t){return arguments.length?(n="function"==typeof t?t:Object(u.a)(!!t),D):n},D.touchable=function(t){return arguments.length?(b="function"==typeof t?t:Object(u.a)(!!t),D):b},D.extent=function(t){return arguments.length?(y="function"==typeof t?t:Object(u.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),D):y},D.scaleExtent=function(t){return arguments.length?(w[0]=+t[0],w[1]=+t[1],D):[w[0],w[1]]},D.translateExtent=function(t){return arguments.length?(M[0][0]=+t[0][0],M[1][0]=+t[1][0],M[0][1]=+t[0][1],M[1][1]=+t[1][1],D):[[M[0][0],M[0][1]],[M[1][0],M[1][1]]]},D.constrain=function(t){return arguments.length?(x=t,D):x},D.duration=function(t){return arguments.length?(S=+t,D):S},D.interpolate=function(t){return arguments.length?(A=t,D):A},D.on=function(){var t=O.on.apply(O,arguments);return t===O?D:t},D.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,D):Math.sqrt(k)},D}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.transform=n}},function(t,e,n){"use strict";e.b=function(){r.event.stopImmediatePropagation()};var r=n(735);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){var r,i;!function(){var o={version:"3.5.17"},a=[].slice,s=function(t){return a.call(t)},u=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(u)try{s(u.documentElement.childNodes)[0].nodeType}catch(t){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),u)try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,f=h.setAttribute,d=h.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;h.setAttribute=function(t,e){f.call(this,t,e+"")},h.setAttributeNS=function(t,e,n){d.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function x(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}o.ascending=v,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},o.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},o.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)y(n=+t[o])&&(r+=n);else for(;++o<i;)y(n=+e.call(t,t[o],o))&&(r+=n);return r},o.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)y(n=m(t[o]))?r+=n:--a;else for(;++o<i;)y(n=m(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},o.median=function(t,e){var n,r=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)y(n=m(t[a]))&&r.push(n);else for(;++a<i;)y(n=m(e.call(t,t[a],a)))&&r.push(n);if(r.length)return o.quantile(r.sort(v),.5)},o.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)y(n=m(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)y(n=m(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));if(u>1)return a/(u-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _=x(v);function b(t){return t.length}o.bisectLeft=_.left,o.bisect=o.bisectRight=_.right,o.bisector=function(t){return x(1===t.length?function(e,n){return v(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=o.min(t,b),r=new Array(n);++e<n;)for(var i,a=-1,s=r[e]=new Array(i);++a<i;)s[a]=t[a][e];return r},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var w=Math.abs;function M(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function S(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(w(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},o.map=function(t,e){var n=new S;if(t instanceof S)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var A="__proto__",T="\0";function O(t){return(t+="")===A||t[0]===T?T+t:t}function C(t){return(t+="")[0]===T?t.slice(1):t}function I(t){return O(t)in this._}function k(t){return(t=O(t))in this._&&delete this._[t]}function D(){var t=[];for(var e in this._)t.push(C(e));return t}function L(){var t=0;for(var e in this._)++t;return t}function E(){for(var t in this._)return!1;return!0}function P(){this._=Object.create(null)}function N(t){return t}function j(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function R(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=z.length;n<r;++n){var i=z[n]+e;if(i in t)return i}}M(S,{has:I,get:function(t){return this._[O(t)]},set:function(t,e){return this._[O(t)]=e},remove:k,keys:D,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:C(e),value:this._[e]});return t},size:L,empty:E,forEach:function(t){for(var e in this._)t.call(this,C(e),this._[e])}}),o.nest=function(){var t,e,n={},r=[],i=[];function a(i,o,s){if(s>=r.length)return e?e.call(n,o):t?o.sort(t):o;for(var u,l,c,h,f=-1,d=o.length,p=r[s++],g=new S;++f<d;)(h=g.get(u=p(l=o[f])))?h.push(l):g.set(u,[l]);return i?(l=i(),c=function(t,e){l.set(t,a(i,e,s))}):(l={},c=function(t,e){l[t]=a(i,e,s)}),g.forEach(c),l}return n.map=function(t,e){return a(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var o=[],a=i[n++];return e.forEach(function(e,r){o.push({key:e,values:t(r,n)})}),a?o.sort(function(t,e){return a(t.key,e.key)}):o}(a(o.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new P;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},M(P,{has:I,add:function(t){return this._[O(t+="")]=!0,t},remove:k,values:D,size:L,empty:E,forEach:function(t){for(var e in this._)t.call(this,C(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=j(t,e,e[n]);return t};var z=["webkit","ms","moz","Moz","o","O"];function B(){}function V(){}function F(t){var e=[],n=new S;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function H(){o.event.preventDefault()}function W(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function G(t){for(var e=new V,n=0,r=arguments.length;++n<r;)e[arguments[n]]=F(e);return e.of=function(n,r){return function(i){try{var a=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(n,r)}finally{o.event=a}}},e}o.dispatch=function(){for(var t=new V,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=F(t);return t},V.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},o.event=null,o.requote=function(t){return t.replace(q,"\\$&")};var q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Y(t){return U(t,K),t}var X=function(t,e){return e.querySelector(t)},Z=function(t,e){return e.querySelectorAll(t)},$=function(t,e){var n=t.matches||t[R(t,"matchesSelector")];return($=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(X=function(t,e){return Sizzle(t,e)[0]||null},Z=Sizzle,$=Sizzle.matchesSelector),o.selection=function(){return o.select(u.documentElement)};var K=o.selection.prototype=[];function J(t){return"function"==typeof t?t:function(){return X(t,this)}}function Q(t){return"function"==typeof t?t:function(){return Z(t,this)}}K.select=function(t){var e,n,r,i,o=[];t=J(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return Y(o)},K.selectAll=function(t){var e,n,r=[];t=Q(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],u=-1,l=a.length;++u<l;)(n=a[u])&&(r.push(e=s(t.call(n,n.__data__,u,i))),e.parentNode=n);return Y(r)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function rt(t){return t.trim().replace(/\s+/g," ")}function it(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function ot(t){return(t+"").trim().split(/^|\s+/)}function at(t,e){var n=(t=ot(t).map(st)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function st(t){var e=it(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",rt(i+" "+t))):n.setAttribute("class",rt(i.replace(e," ")))}}function ut(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ct(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function ft(t){return{__data__:t}}function dt(t){return function(){return $(this,t)}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function gt(t){return U(t,vt),t}o.ns={prefix:et,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}},K.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},K.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=ot(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!it(t[i]).test(e))return!1;return!0}for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},K.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(ut(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(ut(t,e,n))},K.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},K.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},K.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},K.append=function(t){return t=ct(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},K.insert=function(t,e){return t=ct(t),e=J(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},K.remove=function(){return this.each(ht)},K.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,c=n.length,h=Math.min(a,c),f=new Array(c),d=new Array(c),p=new Array(a);if(e){var g,v=new S,m=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?p[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<c;)(i=v.get(g=e.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):d[r]=ft(o),v.set(g,!0);for(r=-1;++r<a;)r in m&&!0!==v.get(m[r])&&(p[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):d[r]=ft(o);for(;r<c;++r)d[r]=ft(n[r]);for(;r<a;++r)p[r]=t[r]}d.update=f,d.parentNode=f.parentNode=p.parentNode=t.parentNode,s.push(d),u.push(f),l.push(p)}var s=gt([]),u=Y([]),l=Y([]);if("function"==typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return u.enter=function(){return s},u.exit=function(){return l},u},K.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},K.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=dt(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Y(i)},K.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},K.sort=function(t){t=function(t){arguments.length||(t=v);return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},K.each=function(t){return pt(this,function(e,n,r){t.call(e,e.__data__,n,r)})},K.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},K.empty=function(){return!this.node()},K.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},K.size=function(){var t=0;return pt(this,function(){++t}),t};var vt=[];function mt(t,e,n){var r="__on"+t,i=t.indexOf("."),a=xt;i>0&&(t=t.slice(0,i));var u=yt.get(t);function l(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return u&&(t=u,a=_t),i?e?function(){var i=a(e,s(arguments));l.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:l:e?B:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}o.selection.enter=gt,o.selection.enter.prototype=vt,vt.append=K.append,vt.empty=K.empty,vt.node=K.node,vt.call=K.call,vt.size=K.size,vt.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return Y(a)},vt.insert=function(t,e){var n,r,i;return arguments.length<2&&(n=this,e=function(t,e,o){var a,s=n[o].update,u=s.length;for(o!=i&&(i=o,r=0),e>=r&&(r=e+1);!(a=s[r])&&++r<u;);return a}),K.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[X(t,u)]).parentNode=u.documentElement:(e=[t]).parentNode=l(t),Y([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=s(Z(t,u))).parentNode=u.documentElement:(e=s(t)).parentNode=null,Y([e])},K.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(mt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(mt(t,e,n))};var yt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function xt(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function _t(t,e){var n=xt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}u&&yt.forEach(function(t){"on"+t in u&&yt.remove(t)});var bt,wt=0;function Mt(t){var e=".dragsuppress-"+ ++wt,n="click"+e,r=o.select(c(t)).on("touchmove"+e,H).on("dragstart"+e,H).on("selectstart"+e,H);if(null==bt&&(bt=!("onselectstart"in t)&&R(t.style,"userSelect")),bt){var i=l(t).style,a=i[bt];i[bt]="none"}return function(t){if(r.on(e,null),bt&&(i[bt]=a),t){var o=function(){r.on(n,null)};r.on(n,function(){H(),o()},!0),setTimeout(o,0)}}}o.mouse=function(t){return At(t,W())};var St=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function At(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(St<0){var i=c(t);if(i.scrollX||i.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();St=!(a.f||a.e),n.remove()}}return St?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Tt(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=W().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return At(t,r)},o.behavior.drag=function(){var t=G(i,"drag","dragstart","dragend"),e=null,n=a(B,o.mouse,c,"mousemove","mouseup"),r=a(Tt,o.touch,N,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(n,r,i,a,s){return function(){var u,l=o.event.target.correspondingElement||o.event.target,c=this.parentNode,h=t.of(this,arguments),f=0,d=n(),p=".drag"+(null==d?"":"-"+d),g=o.select(i(l)).on(a+p,function(){var t,e,n=r(c,d);if(!n)return;t=n[0]-m[0],e=n[1]-m[1],f|=t|e,m=n,h({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:e})}).on(s+p,function(){if(!r(c,d))return;g.on(a+p,null).on(s+p,null),v(f),h({type:"dragend"})}),v=Mt(l),m=r(c,d);u=e?[(u=e.apply(this,arguments)).x-m[0],u.y-m[1]]:[0,0],h({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=W().touches),e?s(e).map(function(e){var n=At(t,e);return n.identifier=e.identifier,n}):[]};var Ot=1e-6,Ct=Ot*Ot,It=Math.PI,kt=2*It,Dt=kt-Ot,Lt=It/2,Et=It/180,Pt=180/It;function Nt(t){return t>0?1:t<0?-1:0}function jt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Rt(t){return t>1?0:t<-1?It:Math.acos(t)}function zt(t){return t>1?Lt:t<-1?-Lt:Math.asin(t)}function Bt(t){return((t=Math.exp(t))+1/t)/2}function Vt(t){return(t=Math.sin(t/2))*t}var Ft=Math.SQRT2;o.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,h=u-o,f=c*c+h*h;if(f<Ct)r=Math.log(l/a)/Ft,n=function(t){return[i+t*c,o+t*h,a*Math.exp(Ft*t*r)]};else{var d=Math.sqrt(f),p=(l*l-a*a+4*f)/(2*a*2*d),g=(l*l-a*a-4*f)/(2*l*2*d),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Ft,n=function(t){var e,n=t*r,s=Bt(v),u=a/(2*d)*(s*(e=Ft*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+u*c,o+u*h,a*s/Bt(Ft*n+v)]}}return n.duration=1e3*r,n},o.behavior.zoom=function(){var t,e,n,r,i,a,s,l,h,f={x:0,y:0,k:1},d=[960,500],p=Gt,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",x="mouseup.zoom",_="touchstart.zoom",b=G(w,"zoomstart","zoom","zoomend");function w(t){t.on(m,D).on(Wt+".zoom",E).on("dblclick.zoom",P).on(_,L)}function M(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function S(t){f.k=Math.max(p[0],Math.min(p[1],t))}function A(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function T(t,n,r,i){t.__chart__={x:f.x,y:f.y,k:f.k},S(Math.pow(2,i)),A(e=n,r),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function O(){s&&s.domain(a.range().map(function(t){return(t-f.x)/f.k}).map(a.invert)),h&&h.domain(l.range().map(function(t){return(t-f.y)/f.k}).map(l.invert))}function C(t){v++||t({type:"zoomstart"})}function I(t){O(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function k(t){--v||(t({type:"zoomend"}),e=null)}function D(){var t=this,e=b.of(t,arguments),n=0,r=o.select(c(t)).on(y,function(){n=1,A(o.mouse(t),i),I(e)}).on(x,function(){r.on(y,null).on(x,null),a(n),k(e)}),i=M(o.mouse(t)),a=Mt(t);hs.call(t),C(e)}function L(){var t,e=this,n=b.of(e,arguments),r={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,u="touchmove"+s,l="touchend"+s,c=[],h=o.select(e),d=Mt(e);function p(){var n=o.touches(e);return t=f.k,n.forEach(function(t){t.identifier in r&&(r[t.identifier]=M(t))}),n}function g(){var t=o.event.target;o.select(t).on(u,v).on(l,y),c.push(t);for(var n=o.event.changedTouches,s=0,h=n.length;s<h;++s)r[n[s].identifier]=null;var d=p(),g=Date.now();if(1===d.length){if(g-i<500){var m=d[0];T(e,m,r[m.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),H()}i=g}else if(d.length>1){m=d[0];var x=d[1],_=m[0]-x[0],b=m[1]-x[1];a=_*_+b*b}}function v(){var s,u,l,c,h=o.touches(e);hs.call(e);for(var f=0,d=h.length;f<d;++f,c=null)if(l=h[f],c=r[l.identifier]){if(u)break;s=l,u=c}if(c){var p=(p=l[0]-s[0])*p+(p=l[1]-s[1])*p,g=a&&Math.sqrt(p/a);s=[(s[0]+l[0])/2,(s[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],S(g*t)}i=null,A(s,u),I(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var a in r)return void p()}o.selectAll(c).on(s,null),h.on(m,D).on(_,L),d(),k(n)}g(),C(n),h.on(m,null).on(_,g)}function E(){var i=b.of(this,arguments);r?clearTimeout(r):(hs.call(this),t=M(e=n||o.mouse(this)),C(i)),r=setTimeout(function(){r=null,k(i)},50),H(),S(Math.pow(2,.002*Ht())*f.k),A(e,t),I(i)}function P(){var t=o.mouse(this),e=Math.log(f.k)/Math.LN2;T(this,t,M(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Wt||(Wt="onwheel"in u?(Ht=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?(Ht=function(){return o.event.wheelDelta},"mousewheel"):(Ht=function(){return-o.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each(function(){var t=b.of(this,arguments),n=f;ps?o.select(this).transition().each("start.zoom",function(){f=this.__chart__||{x:0,y:0,k:1},C(t)}).tween("zoom:zoom",function(){var r=d[0],i=d[1],a=e?e[0]:r/2,s=e?e[1]:i/2,u=o.interpolateZoom([(a-f.x)/f.k,(s-f.y)/f.k,r/f.k],[(a-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(e){var n=u(e),i=r/n[2];this.__chart__=f={x:a-n[0]*i,y:s-n[1]*i,k:i},I(t)}}).each("interrupt.zoom",function(){k(t)}).each("end.zoom",function(){k(t)}):(this.__chart__=f,C(t),I(t),k(t))})},w.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},O(),w):[f.x,f.y]},w.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},S(+t),O(),w):f.k},w.scaleExtent=function(t){return arguments.length?(p=null==t?Gt:[+t[0],+t[1]],w):p},w.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(d=t&&[+t[0],+t[1]],w):d},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(s=t,a=t.copy(),f={x:0,y:0,k:1},w):s},w.y=function(t){return arguments.length?(h=t,l=t.copy(),f={x:0,y:0,k:1},w):h},o.rebind(w,b,"on")};var Ht,Wt,Gt=[0,1/0];function qt(){}function Ut(t,e,n){return this instanceof Ut?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Ut?new Ut(t.h,t.s,t.l):pe(""+t,ge,Ut):new Ut(t,e,n)}o.color=qt,qt.prototype.toString=function(){return this.rgb()+""},o.hsl=Ut;var Yt=Ut.prototype=new qt;function Xt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new le(o(t+120),o(t),o(t-120))}function Zt(t,e,n){return this instanceof Zt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):oe(t instanceof Jt?t.l:(t=ve((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,e,n)}Yt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,this.l/t)},Yt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,t*this.l)},Yt.rgb=function(){return Xt(this.h,this.s,this.l)},o.hcl=Zt;var $t=Zt.prototype=new qt;function Kt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Jt(n,Math.cos(t*=Et)*e,Math.sin(t)*e)}function Jt(t,e,n){return this instanceof Jt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Jt?new Jt(t.l,t.a,t.b):t instanceof Zt?Kt(t.h,t.c,t.l):ve((t=le(t)).r,t.g,t.b):new Jt(t,e,n)}$t.brighter=function(t){return new Zt(this.h,this.c,Math.min(100,this.l+Qt*(arguments.length?t:1)))},$t.darker=function(t){return new Zt(this.h,this.c,Math.max(0,this.l-Qt*(arguments.length?t:1)))},$t.rgb=function(){return Kt(this.h,this.c,this.l).rgb()},o.lab=Jt;var Qt=18,te=.95047,ee=1,ne=1.08883,re=Jt.prototype=new qt;function ie(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new le(ue(3.2404542*(i=ae(i)*te)-1.5371385*(r=ae(r)*ee)-.4985314*(o=ae(o)*ne)),ue(-.969266*i+1.8760108*r+.041556*o),ue(.0556434*i-.2040259*r+1.0572252*o))}function oe(t,e,n){return t>0?new Zt(Math.atan2(n,e)*Pt,Math.sqrt(e*e+n*n),t):new Zt(NaN,NaN,t)}function ae(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function se(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ue(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function le(t,e,n){return this instanceof le?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof le?new le(t.r,t.g,t.b):pe(""+t,le,Xt):new le(t,e,n)}function ce(t){return new le(t>>16,t>>8&255,255&t)}function he(t){return ce(t)+""}re.brighter=function(t){return new Jt(Math.min(100,this.l+Qt*(arguments.length?t:1)),this.a,this.b)},re.darker=function(t){return new Jt(Math.max(0,this.l-Qt*(arguments.length?t:1)),this.a,this.b)},re.rgb=function(){return ie(this.l,this.a,this.b)},o.rgb=le;var fe=le.prototype=new qt;function de(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function pe(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ye(i[0]),ye(i[1]),ye(i[2]))}return(o=xe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function ge(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new Ut(r,i,u)}function ve(t,e,n){var r=se((.4124564*(t=me(t))+.3575761*(e=me(e))+.1804375*(n=me(n)))/te),i=se((.2126729*t+.7151522*e+.072175*n)/ee);return Jt(116*i-16,500*(r-i),200*(i-se((.0193339*t+.119192*e+.9503041*n)/ne)))}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}fe.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new le(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new le(i,i,i)},fe.darker=function(t){return new le((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},fe.hsl=function(){return ge(this.r,this.g,this.b)},fe.toString=function(){return"#"+de(this.r)+de(this.g)+de(this.b)};var xe=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function _e(t){return"function"==typeof t?t:function(){return t}}function be(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),we(e,n,t,r)}}function we(t,e,n,r){var i={},a=o.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;function h(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=n.call(i,l)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,l)}return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=h:l.onreadystatechange=function(){l.readyState>3&&h()},l.onprogress=function(t){var e=o.event;o.event=t;try{a.progress.call(i,l)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),l.open(n,t,!0),null==e||"accept"in u||(u.accept=e+",*/*"),l.setRequestHeader)for(var s in u)l.setRequestHeader(s,u[s]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},o.rebind(i,a,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}xe.forEach(function(t,e){xe.set(t,ce(e))}),o.functor=_e,o.xhr=be(N),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=we(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(u).join(t)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},i.parseRows=function(t,e){var n,i,o={},a={},s=[],u=t.length,l=0,c=0;function h(){if(l>=u)return a;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(s=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++l):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<u;){var s,c=1;if(10===(s=t.charCodeAt(l++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(l)&&(++l,++c);else if(s!==r)continue;return t.slice(e,l-c)}return t.slice(e)}for(;(n=h())!==a;){for(var f=[];n!==o&&n!==a;)f.push(n),n=h();e&&null==(f=e(f,c++))||s.push(f)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new P,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(u).join(t)].concat(e.map(function(e){return r.map(function(t){return u(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Me,Se,Ae,Te,Oe=this[R(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ce(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return Se?Se.n=i:Me=i,Se=i,Ae||(Te=clearTimeout(Te),Ae=1,Oe(Ie)),i}function Ie(){var t=ke(),e=De()-t;e>24?(isFinite(e)&&(clearTimeout(Te),Te=setTimeout(Ie,e)),Ae=0):(Ae=1,Oe(Ie))}function ke(){for(var t=Date.now(),e=Me;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function De(){for(var t,e=Me,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Me=e.n;return Se=t,n}function Le(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){Ce.apply(this,arguments)},o.timer.flush=function(){ke(),De()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ee=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*w(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,Le(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ee[8+n/3]};var Pe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ne=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Le(t,e))).toFixed(Math.max(0,Math.min(20,Le(t*(1+1e-15),e))))}});function je(t){return t+""}var Re=o.time={},ze=Date;function Be(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Be.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ve.setUTCDate.apply(this._,arguments)},setDay:function(){Ve.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ve.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ve.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ve.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ve.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ve.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ve.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ve.setTime.apply(this._,arguments)}};var Ve=Date.prototype;function Fe(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new ze(n-1)),1),n}function o(t,n){return e(t=new ze(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var s=t.utc=He(t);return s.floor=s,s.round=He(r),s.ceil=He(i),s.offset=He(o),s.range=function(t,e,n){try{ze=Be;var r=new Be;return r._=t,a(r,e,n)}finally{ze=Date}},t}function He(t){return function(e,n){try{ze=Be;var r=new Be;return r._=e,t(r,n)._}finally{ze=Date}}}Re.year=Fe(function(t){return(t=Re.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Re.years=Re.year.range,Re.years.utc=Re.year.utc.range,Re.day=Fe(function(t){var e=new ze(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Re.days=Re.day.range,Re.days.utc=Re.day.utc.range,Re.dayOfYear=function(t){var e=Re.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Re[t]=Fe(function(t){return(t=Re.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Re.year(t).getDay();return Math.floor((Re.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Re[t+"s"]=n.range,Re[t+"s"].utc=n.utc.range,Re[t+"OfYear"]=function(t){var n=Re.year(t).getDay();return Math.floor((Re.dayOfYear(t)+(n+e)%7)/7)}}),Re.week=Re.sunday,Re.weeks=Re.sunday.range,Re.weeks.utc=Re.sunday.utc.range,Re.weekOfYear=Re.sundayOfYear;var We={"-":"",_:" ",0:"0"},Ge=/^\s*\d+/,qe=/^%/;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ye(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Xe(t){for(var e=new S,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ze(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $e(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Ke(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Je(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ge.lastIndex=0;var r,i=Ge.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function tn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function en(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function on(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function an(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function un(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+Ue(r,"0",2)+Ue(i,"0",2)}function cn(t,e,n){qe.lastIndex=0;var r=qe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}o.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:N;return function(t){var n=Pe.exec(t),r=n[1]||" ",s=n[2]||">",u=n[3]||"-",l=n[4]||"",c=n[5],h=+n[6],f=n[7],d=n[8],p=n[9],g=1,v="",m="",y=!1,x=!0;switch(d&&(d=+d.substring(1)),(c||"0"===r&&"="===s)&&(c=r="0",s="="),p){case"n":f=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+p.toLowerCase());case"c":x=!1;case"d":y=!0,d=0;break;case"s":g=-1,p="r"}"$"===l&&(v=i[0],m=i[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):"e"!=p&&"f"!=p||(d=Math.max(0,Math.min(20,d)))),p=Ne.get(p)||je;var _=c&&f;return function(t){var n=m;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(g<0){var l=o.formatPrefix(t,d);t=l.scale(t),n=l.symbol+m}else t*=g;var b,w,M=(t=p(t,d)).lastIndexOf(".");if(M<0){var S=x?t.lastIndexOf("e"):-1;S<0?(b=t,w=""):(b=t.substring(0,S),w=t.substring(S))}else b=t.substring(0,M),w=e+t.substring(M+1);!c&&f&&(b=a(b,1/0));var A=v.length+b.length+w.length+(_?0:i.length),T=A<h?new Array(A=h-A+1).join(r):"";return _&&(b=a(T+b,T.length?h-w.length:1/0)),i+=v,t=b+w,("<"===s?i+t+T:">"===s?T+i+t:"^"===s?T.substring(0,A>>=1)+i+t+T.substring(A):i+(_?t:T+t))+n}}}(t),timeFormat:function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,o,a=[],s=-1,u=0;++s<e;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=We[r=t.charAt(++s)])&&(r=t.charAt(++s)),(o=b[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&ze!==Be,i=new(r?Be:ze);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function h(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=w[a in We?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(ze=Be);return n._=t,e(n)}finally{ze=Date}}return n.parse=function(t){try{ze=Be;var n=e.parse(t);return n&&n._}finally{ze=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=hn;var f=o.map(),d=Ye(a),p=Xe(a),g=Ye(s),v=Xe(s),m=Ye(u),y=Xe(u),x=Ye(l),_=Xe(l);i.forEach(function(t,e){f.set(t.toLowerCase(),e)});var b={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:c(e),d:function(t,e){return Ue(t.getDate(),e,2)},e:function(t,e){return Ue(t.getDate(),e,2)},H:function(t,e){return Ue(t.getHours(),e,2)},I:function(t,e){return Ue(t.getHours()%12||12,e,2)},j:function(t,e){return Ue(1+Re.dayOfYear(t),e,3)},L:function(t,e){return Ue(t.getMilliseconds(),e,3)},m:function(t,e){return Ue(t.getMonth()+1,e,2)},M:function(t,e){return Ue(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return Ue(t.getSeconds(),e,2)},U:function(t,e){return Ue(Re.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ue(Re.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return Ue(t.getFullYear()%100,e,2)},Y:function(t,e){return Ue(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){d.lastIndex=0;var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return h(t,b.c.toString(),e,n)},d:nn,e:nn,H:on,I:on,j:rn,L:un,m:en,M:an,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:sn,U:$e,w:Ze,W:Ke,x:function(t,e,n){return h(t,b.x.toString(),e,n)},X:function(t,e,n){return h(t,b.X.toString(),e,n)},y:Qe,Y:Je,Z:tn,"%":cn};return c}(t)}};var fn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dn(){}o.format=fn.numberFormat,o.geo={},dn.prototype={s:0,t:0,add:function(t){gn(t,this.t,pn),gn(pn.s,this.s,this),this.s?this.t+=pn.t:this.s=pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pn=new dn;function gn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function vn(t,e){t&&yn.hasOwnProperty(t.type)&&yn[t.type](t,e)}o.geo.stream=function(t,e){t&&mn.hasOwnProperty(t.type)?mn[t.type](t,e):vn(t,e)};var mn={Feature:function(t,e){vn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)vn(n[r].geometry,e)}},yn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){xn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xn(n[r],e,0)},Polygon:function(t,e){_n(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)_n(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)vn(n[r],e)}};function xn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function _n(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)xn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return bn=0,o.geo.stream(t,Pn),bn};var bn,wn,Mn,Sn,An,Tn,On,Cn,In,kn,Dn,Ln,En=new dn,Pn={sphere:function(){bn+=4*It},point:B,lineStart:B,lineEnd:B,polygonStart:function(){En.reset(),Pn.lineStart=Nn},polygonEnd:function(){var t=2*En;bn+=t<0?4*It+t:t,Pn.lineStart=Pn.lineEnd=Pn.point=B}};function Nn(){var t,e,n,r,i;function o(t,e){e=e*Et/2+It/4;var o=(t*=Et)-n,a=o>=0?1:-1,s=a*o,u=Math.cos(e),l=Math.sin(e),c=i*l,h=r*u+c*Math.cos(s),f=c*a*Math.sin(s);En.add(Math.atan2(f,h)),n=t,r=u,i=l}Pn.point=function(a,s){Pn.point=o,n=(t=a)*Et,r=Math.cos(s=(e=s)*Et/2+It/4),i=Math.sin(s)},Pn.lineEnd=function(){o(t,e)}}function jn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Rn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function zn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Bn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Vn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Fn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Hn(t){return[Math.atan2(t[1],t[0]),zt(t[2])]}function Wn(t,e){return w(t[0]-e[0])<Ot&&w(t[1]-e[1])<Ot}o.geo.bounds=function(){var t,e,n,r,i,a,s,u,l,c,h,f={point:d,lineStart:g,lineEnd:v,polygonStart:function(){f.point=m,f.lineStart=y,f.lineEnd=x,l=0,Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),f.point=d,f.lineStart=g,f.lineEnd=v,En<0?(t=-(n=180),e=-(r=90)):l>Ot?r=90:l<-Ot&&(e=-90),h[0]=t,h[1]=n}};function d(i,o){c.push(h=[t=i,n=i]),o<e&&(e=o),o>r&&(r=o)}function p(o,a){var s=jn([o*Et,a*Et]);if(u){var l=zn(u,s),c=zn([l[1],-l[0],0],l);Fn(c),c=Hn(c);var h=o-i,f=h>0?1:-1,p=c[0]*Pt*f,g=w(h)>180;if(g^(f*i<p&&p<f*o))(v=c[1]*Pt)>r&&(r=v);else if(g^(f*i<(p=(p+360)%360-180)&&p<f*o)){var v;(v=-c[1]*Pt)<e&&(e=v)}else a<e&&(e=a),a>r&&(r=a);g?o<i?_(t,o)>_(t,n)&&(n=o):_(o,n)>_(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>i?_(t,o)>_(t,n)&&(n=o):_(o,n)>_(t,n)&&(t=o)}else d(o,a);u=s,i=o}function g(){f.point=p}function v(){h[0]=t,h[1]=n,f.point=d,u=null}function m(t,e){if(u){var n=t-i;l+=w(n)>180?n+(n>0?360:-360):n}else a=t,s=e;Pn.point(t,e),p(t,e)}function y(){Pn.lineStart()}function x(){m(a,s),Pn.lineEnd(),w(l)>Ot&&(t=-(n=180)),h[0]=t,h[1]=n,u=null}function _(t,e){return(e-=t)<0?e+360:e}function b(t,e){return t[0]-e[0]}function M(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),c=[],o.geo.stream(i,f),l=c.length){c.sort(b);for(var a=1,s=[g=c[0]];a<l;++a)M((d=c[a])[0],g)||M(d[1],g)?(_(g[0],d[1])>_(g[0],g[1])&&(g[1]=d[1]),_(d[0],g[1])>_(g[0],g[1])&&(g[0]=d[0])):s.push(g=d);for(var u,l,d,p=-1/0,g=(a=0,s[l=s.length-1]);a<=l;g=d,++a)d=s[a],(u=_(g[1],d[0]))>p&&(p=u,t=d[0],n=g[1])}return c=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){wn=Mn=Sn=An=Tn=On=Cn=In=kn=Dn=Ln=0,o.geo.stream(t,Gn);var e=kn,n=Dn,r=Ln,i=e*e+n*n+r*r;return i<Ct&&(e=On,n=Cn,r=In,Mn<Ot&&(e=Sn,n=An,r=Tn),(i=e*e+n*n+r*r)<Ct)?[NaN,NaN]:[Math.atan2(n,e)*Pt,zt(r/Math.sqrt(i))*Pt]};var Gn={sphere:B,point:qn,lineStart:Yn,lineEnd:Xn,polygonStart:function(){Gn.lineStart=Zn},polygonEnd:function(){Gn.lineStart=Yn}};function qn(t,e){t*=Et;var n=Math.cos(e*=Et);Un(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Un(t,e,n){Sn+=(t-Sn)/++wn,An+=(e-An)/wn,Tn+=(n-Tn)/wn}function Yn(){var t,e,n;function r(r,i){r*=Et;var o=Math.cos(i*=Et),a=o*Math.cos(r),s=o*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*u-n*s)*l+(l=n*a-t*u)*l+(l=t*s-e*a)*l),t*a+e*s+n*u);Mn+=l,On+=l*(t+(t=a)),Cn+=l*(e+(e=s)),In+=l*(n+(n=u)),Un(t,e,n)}Gn.point=function(i,o){i*=Et;var a=Math.cos(o*=Et);t=a*Math.cos(i),e=a*Math.sin(i),n=Math.sin(o),Gn.point=r,Un(t,e,n)}}function Xn(){Gn.point=qn}function Zn(){var t,e,n,r,i;function o(t,e){t*=Et;var o=Math.cos(e*=Et),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(e),l=r*u-i*s,c=i*a-n*u,h=n*s-r*a,f=Math.sqrt(l*l+c*c+h*h),d=n*a+r*s+i*u,p=f&&-Rt(d)/f,g=Math.atan2(f,d);kn+=p*l,Dn+=p*c,Ln+=p*h,Mn+=g,On+=g*(n+(n=a)),Cn+=g*(r+(r=s)),In+=g*(i+(i=u)),Un(n,r,i)}Gn.point=function(a,s){t=a,e=s,Gn.point=o,a*=Et;var u=Math.cos(s*=Et);n=u*Math.cos(a),r=u*Math.sin(a),i=Math.sin(s),Un(n,r,i)},Gn.lineEnd=function(){o(t,e),Gn.lineEnd=Xn,Gn.point=qn}}function $n(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Kn(){return!0}function Jn(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Wn(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var u=new tr(n,t,null,!0),l=new tr(n,null,u,!1);u.o=l,o.push(u),a.push(l),l=new tr(r,null,u=new tr(r,t,null,!1),!0),u.o=l,o.push(u),a.push(l)}}}),a.sort(e),Qn(o),Qn(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(s=(c=d.p.z).length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function Qn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function tr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function er(t,e,n,r){return function(i,a){var s,u=e(a),l=i.invert(r[0],r[1]),c={point:h,lineStart:d,lineEnd:p,polygonStart:function(){c.point=_,c.lineStart=b,c.lineEnd=w,s=[],g=[]},polygonEnd:function(){c.point=h,c.lineStart=d,c.lineEnd=p,s=o.merge(s);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;En.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+It/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0);var m=(t=l[v])[0],y=t[1]/2+It/4,x=Math.sin(y),_=Math.cos(y),b=m-f,w=b>=0?1:-1,M=w*b,S=M>It,A=p*x;if(En.add(Math.atan2(A*w*Math.sin(M),g*_+A*Math.cos(M))),o+=S?b+w*kt:b,S^f>=n^m>=n){var T=zn(jn(h),jn(t));Fn(T);var O=zn(i,T);Fn(O);var C=(S^b>=0?-1:1)*zt(O[2]);(r>C||r===C&&(T[0]||T[1]))&&(a+=S^b>=0?1:-1)}if(!v++)break;f=m,p=x,g=_,h=t}}return(o<-Ot||o<Ot&&En<-Ot)^1&a}(l,g);s.length?(x||(a.polygonStart(),x=!0),Jn(s,ir,t,n,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),s=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function f(t,e){var n=i(t,e);u.point(n[0],n[1])}function d(){c.point=f,u.lineStart()}function p(){c.point=h,u.lineEnd()}var g,v,m=rr(),y=e(m),x=!1;function _(t,e){v.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function b(){y.lineStart(),v=[]}function w(){_(v[0][0],v[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(nr))}return c}}function nr(t){return t.length>1}function rr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:B,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ir(t,e){return((t=t.x)[0]<0?t[1]-Lt-Ot:Lt-t[1])-((e=e.x)[0]<0?e[1]-Lt-Ot:Lt-e[1])}var or=er(Kn,function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?It:-It,u=w(o-n);w(u-It)<Ot?(t.point(n,r=(r+a)/2>0?Lt:-Lt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=It&&(w(n-i)<Ot&&(n-=i*Ot),w(o-s)<Ot&&(o-=s*Ot),r=function(t,e,n,r){var i,o,a=Math.sin(t-n);return w(a)>Ot?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Lt,r.point(-It,i),r.point(0,i),r.point(It,i),r.point(It,0),r.point(It,-i),r.point(0,-i),r.point(-It,-i),r.point(-It,0),r.point(-It,i);else if(w(t[0]-e[0])>Ot){var o=t[0]<e[0]?It:-It;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-It,-It/2]);function ar(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=0,h=1,f=s.x-u,d=s.y-l;if(o=t-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=n-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=e-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=r-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return c>0&&(i.a={x:u+c*f,y:l+c*d}),h<1&&(i.b={x:u+h*f,y:l+h*d}),i}}}}}}var sr=1e9;function ur(t,e,n,r){return function(u){var l,c,h,f,d,p,g,v,m,y,x,_=u,b=rr(),w=ar(t,e,n,r),M={point:T,lineStart:function(){M.point=O,c&&c.push(h=[]);y=!0,m=!1,g=v=NaN},lineEnd:function(){l&&(O(f,d),p&&m&&b.rejoin(),l.push(b.buffer()));M.point=T,m&&u.lineEnd()},polygonStart:function(){u=b,l=[],c=[],x=!0},polygonEnd:function(){u=_,l=o.merge(l);var e=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=c[i],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=r?o[1]>r&&jt(l,o,t)>0&&++e:o[1]<=r&&jt(l,o,t)<0&&--e,l=o;return 0!==e}([t,r]),n=x&&e,i=l.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),S(null,null,1,u),u.lineEnd()),i&&Jn(l,a,e,S,u),u.polygonEnd()),l=c=h=null}};function S(o,a,u,l){var c=0,h=0;if(null==o||(c=i(o,u))!==(h=i(a,u))||s(o,a)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==h);else l.point(a[0],a[1])}function A(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function T(t,e){A(t,e)&&u.point(t,e)}function O(t,e){var n=A(t=Math.max(-sr,Math.min(sr,t)),e=Math.max(-sr,Math.min(sr,e)));if(c&&h.push([t,e]),y)f=t,d=e,p=n,y=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&m)u.point(t,e);else{var r={a:{x:g,y:v},b:{x:t,y:e}};w(r)?(m||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),x=!1):n&&(u.lineStart(),u.point(t,e),x=!1)}g=t,v=e,m=n}return M};function i(r,i){return w(r[0]-t)<Ot?i>0?0:3:w(r[0]-n)<Ot?i>0?2:1:w(r[1]-e)<Ot?i>0?1:0:i>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function lr(t){var e=0,n=It/3,r=Dr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*It/180,n=t[1]*It/180):[e/It*180,n/It*180]},i}function cr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,zt((i-(t*t+n*n)*r*r)/(2*r))]},a}o.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(s){return arguments.length?(o=ur(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return lr(cr)}).raw=cr,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,r,i=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function l(i){var o=i[0],a=i[1];return t=null,e(o,a),t||(n(o,a),t)||r(o,a),t}return l.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(t)},l.stream=function(t){var e=i.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),s.precision(t),l):i.precision()},l.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),s.scale(t),l.translate(i.translate())):i.scale()},l.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),c=+t[0],h=+t[1];return e=i.translate(t).clipExtent([[c-.455*o,h-.238*o],[c+.455*o,h+.238*o]]).stream(u).point,n=a.translate([c-.307*o,h+.201*o]).clipExtent([[c-.425*o+Ot,h+.12*o+Ot],[c-.214*o-Ot,h+.234*o-Ot]]).stream(u).point,r=s.translate([c-.205*o,h+.212*o]).clipExtent([[c-.214*o+Ot,h+.166*o+Ot],[c-.115*o-Ot,h+.234*o-Ot]]).stream(u).point,l},l.scale(1070)};var hr,fr,dr,pr,gr,vr,mr={point:B,lineStart:B,lineEnd:B,polygonStart:function(){fr=0,mr.lineStart=yr},polygonEnd:function(){mr.lineStart=mr.lineEnd=mr.point=B,hr+=w(fr/2)}};function yr(){var t,e,n,r;function i(t,e){fr+=r*t-n*e,n=t,r=e}mr.point=function(o,a){mr.point=i,t=n=o,e=r=a},mr.lineEnd=function(){i(t,e)}}var xr={point:function(t,e){t<dr&&(dr=t);t>gr&&(gr=t);e<pr&&(pr=e);e>vr&&(vr=e)},lineStart:B,lineEnd:B,polygonStart:B,polygonEnd:B};function _r(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var br,wr={point:Mr,lineStart:Sr,lineEnd:Ar,polygonStart:function(){wr.lineStart=Tr},polygonEnd:function(){wr.point=Mr,wr.lineStart=Sr,wr.lineEnd=Ar}};function Mr(t,e){Sn+=t,An+=e,++Tn}function Sr(){var t,e;function n(n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);On+=a*(t+n)/2,Cn+=a*(e+r)/2,In+=a,Mr(t=n,e=r)}wr.point=function(r,i){wr.point=n,Mr(t=r,e=i)}}function Ar(){wr.point=Mr}function Tr(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,a=Math.sqrt(i*i+o*o);On+=a*(n+t)/2,Cn+=a*(r+e)/2,In+=a,kn+=(a=r*t-n*e)*(n+t),Dn+=a*(r+e),Ln+=3*a,Mr(n=t,r=e)}wr.point=function(o,a){wr.point=i,Mr(t=n=o,e=r=a)},wr.lineEnd=function(){i(t,e)}}function Or(t){var e=.5,n=Math.cos(30*Et),r=16;function i(e){return(r?function(e){var n,i,a,s,u,l,c,h,f,d,p,g,v={point:m,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),v.lineStart=b},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){h=NaN,v.point=x,e.lineStart()}function x(n,i){var a=jn([n,i]),s=t(n,i);o(h,f,c,d,p,g,h=s[0],f=s[1],c=n,d=a[0],p=a[1],g=a[2],r,e),e.point(h,f)}function _(){v.point=m,e.lineEnd()}function b(){y(),v.point=w,v.lineEnd=M}function w(t,e){x(n=t,e),i=h,a=f,s=d,u=p,l=g,v.point=x}function M(){o(h,f,c,d,p,g,i,a,n,s,u,l,r,e),v.lineEnd=_,_()}return v}:function(e){return Ir(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})})(e)}function o(r,i,a,s,u,l,c,h,f,d,p,g,v,m){var y=c-r,x=h-i,_=y*y+x*x;if(_>4*e&&v--){var b=s+d,M=u+p,S=l+g,A=Math.sqrt(b*b+M*M+S*S),T=Math.asin(S/=A),O=w(w(S)-1)<Ot||w(a-f)<Ot?(a+f)/2:Math.atan2(M,b),C=t(O,T),I=C[0],k=C[1],D=I-r,L=k-i,E=x*D-y*L;(E*E/_>e||w((y*D+x*L)/_-.5)>.3||s*d+u*p+l*g<n)&&(o(r,i,a,s,u,l,I,k,O,b/=A,M/=A,S,v,m),m.point(I,k),o(I,k,O,b,M,S,c,h,f,d,p,g,v,m))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Cr(t){this.stream=t}function Ir(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function kr(t){return Dr(function(){return t})()}function Dr(t){var e,n,r,i,a,s,u=Or(function(t,n){return[(t=e(t,n))[0]*l+i,a-t[1]*l]}),l=150,c=480,h=250,f=0,d=0,p=0,g=0,v=0,m=or,y=N,x=null,_=null;function b(t){return[(t=r(t[0]*Et,t[1]*Et))[0]*l+i,a-t[1]*l]}function M(t){return(t=r.invert((t[0]-i)/l,(a-t[1])/l))&&[t[0]*Pt,t[1]*Pt]}function S(){r=$n(n=Nr(p,g,v),e);var t=e(f,d);return i=c-t[0]*l,a=h+t[1]*l,A()}function A(){return s&&(s.valid=!1,s=null),b}return b.stream=function(t){return s&&(s.valid=!1),(s=Lr(m(n,u(y(t))))).valid=!0,s},b.clipAngle=function(t){return arguments.length?(m=null==t?(x=t,or):function(t){var e=Math.cos(t),n=e>0,r=w(e)>Ot;return er(i,function(t){var e,s,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],g=i(h,f),v=n?g?0:a(h,f):g?a(h+(h<0?It:-It),f):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(d=o(e,p),(Wn(e,d)||Wn(p,d))&&(p[0]+=Ot,p[1]+=Ot,g=i(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=o(p,e),t.point(d[0],d[1])):(d=o(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(r&&e&&n^g){var m;v&s||!(m=o(p,e,!0))||(c=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&Wn(e,p)||t.point(p[0],p[1]),e=p,u=g,s=v},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},Br(t,6*Et),n?[0,-t]:[-It,t-It]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=zn(jn(t),jn(n)),a=Rn(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var l=e*a/u,c=-e*s/u,h=zn(i,o),f=Vn(i,l);Bn(f,Vn(o,c));var d=h,p=Rn(f,d),g=Rn(d,d),v=p*p-g*(Rn(f,f)-1);if(!(v<0)){var m=Math.sqrt(v),y=Vn(d,(-p-m)/g);if(Bn(y,f),y=Hn(y),!r)return y;var x,_=t[0],b=n[0],M=t[1],S=n[1];b<_&&(x=_,_=b,b=x);var A=b-_,T=w(A-It)<Ot;if(!T&&S<M&&(x=M,M=S,S=x),T||A<Ot?T?M+S>0^y[1]<(w(y[0]-_)<Ot?M:S):M<=y[1]&&y[1]<=S:A>It^(_<=y[0]&&y[0]<=b)){var O=Vn(d,(-p+m)/g);return Bn(O,f),[y,Hn(O)]}}}function a(e,r){var i=n?t:It-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((x=+t)*Et),A()):x},b.clipExtent=function(t){return arguments.length?(_=t,y=t?ur(t[0][0],t[0][1],t[1][0],t[1][1]):N,A()):_},b.scale=function(t){return arguments.length?(l=+t,S()):l},b.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],S()):[c,h]},b.center=function(t){return arguments.length?(f=t[0]%360*Et,d=t[1]%360*Et,S()):[f*Pt,d*Pt]},b.rotate=function(t){return arguments.length?(p=t[0]%360*Et,g=t[1]%360*Et,v=t.length>2?t[2]%360*Et:0,S()):[p*Pt,g*Pt,v*Pt]},o.rebind(b,u,"precision"),function(){return e=t.apply(this,arguments),b.invert=e.invert&&M,S()}}function Lr(t){return Ir(t,function(e,n){t.point(e*Et,n*Et)})}function Er(t,e){return[t,e]}function Pr(t,e){return[t>It?t-kt:t<-It?t+kt:t,e]}function Nr(t,e,n){return t?e||n?$n(Rr(t),zr(e,n)):Rr(t):e||n?zr(e,n):Pr}function jr(t){return function(e,n){return[(e+=t)>It?e-kt:e<-It?e+kt:e,n]}}function Rr(t){var e=jr(t);return e.invert=jr(-t),e}function zr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),s=Math.cos(t)*a,u=Math.sin(t)*a,l=Math.sin(e),c=l*n+s*r;return[Math.atan2(u*i-c*o,s*n-l*r),zt(c*i+u*o)]}return a.invert=function(t,e){var a=Math.cos(e),s=Math.cos(t)*a,u=Math.sin(t)*a,l=Math.sin(e),c=l*i-u*o;return[Math.atan2(u*i+l*o,s*n+c*r),zt(c*n-s*r)]},a}function Br(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=Vr(n,i),o=Vr(n,o),(a>0?i<o:i>o)&&(i+=a*kt)):(i=t+a*kt,o=t-.5*u);for(var l,c=i;a>0?c>o:c<o;c-=u)s.point((l=Hn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function Vr(t,e){var n=jn(e);n[0]-=t,Fn(n);var r=Rt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ot)%(2*Math.PI)}function Fr(t,e,n){var r=o.range(t,e-Ot,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Hr(t,e,n){var r=o.range(t,e-Ot,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Wr(t){return t.source}function Gr(t){return t.target}o.geo.path=function(){var t,e,n,r,i,a=4.5;function s(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(t,i)),r.result()}function u(){return i=null,s}return s.area=function(t){return hr=0,o.geo.stream(t,n(mr)),hr},s.centroid=function(t){return Sn=An=Tn=On=Cn=In=kn=Dn=Ln=0,o.geo.stream(t,n(wr)),Ln?[kn/Ln,Dn/Ln]:In?[On/In,Cn/In]:Tn?[Sn/Tn,An/Tn]:[NaN,NaN]},s.bounds=function(t){return gr=vr=-(dr=pr=1/0),o.geo.stream(t,n(xr)),[[dr,pr],[gr,vr]]},s.projection=function(e){return arguments.length?(n=(t=e)?e.stream||(r=e,i=Or(function(t,e){return r([t*Pt,e*Pt])}),function(t){return Lr(i(t))}):N,u()):t;var r,i},s.context=function(t){return arguments.length?(r=null==(e=t)?new function(){var t=_r(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=_r(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function a(){n.point=r}function s(){e.push("Z")}return n}:new function(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:B};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,kt)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=r}function s(){t.closePath()}return n}(t),"function"!=typeof a&&r.pointRadius(a),u()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),s):a},s.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Cr(e);for(var r in t)n[r]=t[r];return n}}},Cr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=kr,o.geo.projectionMutator=Dr,(o.geo.equirectangular=function(){return kr(Er)}).raw=Er.invert=Er,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*Et,e[1]*Et))[0]*=Pt,e[1]*=Pt,e}return t=Nr(t[0]%360*Et,t[1]*Et,t.length>2?t[2]*Et:0),e.invert=function(e){return(e=t.invert(e[0]*Et,e[1]*Et))[0]*=Pt,e[1]*=Pt,e},e},Pr.invert=Er,o.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Nr(-t[0]*Et,-t[1]*Et,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Pt,t[1]*=Pt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=Br((t=+n)*Et,r*Et),i):t},i.precision=function(n){return arguments.length?(e=Br(t*Et,(r=+n)*Et),i):r},i.angle(90)},o.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Et,i=t[1]*Et,o=e[1]*Et,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},o.geo.graticule=function(){var t,e,n,r,i,a,s,u,l,c,h,f,d=10,p=d,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return o.range(Math.ceil(r/g)*g,n,g).map(h).concat(o.range(Math.ceil(u/v)*v,s,v).map(f)).concat(o.range(Math.ceil(e/d)*d,t,d).filter(function(t){return w(t%g)>Ot}).map(l)).concat(o.range(Math.ceil(a/p)*p,i,p).filter(function(t){return w(t%v)>Ot}).map(c))}return y.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(s).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),u>s&&(t=u,u=s,s=t),y.precision(m)):[[r,u],[n,s]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),y.precision(m)):[[e,a],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.minorStep=function(t){return arguments.length?(d=+t[0],p=+t[1],y):[d,p]},y.precision=function(o){return arguments.length?(m=+o,l=Fr(a,i,90),c=Hr(e,t,m),h=Fr(u,s,90),f=Hr(r,n,m),y):m},y.majorExtent([[-180,-90+Ot],[180,90-Ot]]).minorExtent([[-180,-80-Ot],[180,80+Ot]])},o.geo.greatArc=function(){var t,e,n=Wr,r=Gr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return n=t[0]*Et,r=t[1]*Et,i=e[0]*Et,o=e[1]*Et,a=Math.cos(r),s=Math.sin(r),u=Math.cos(o),l=Math.sin(o),c=a*Math.cos(n),h=a*Math.sin(n),f=u*Math.cos(i),d=u*Math.sin(i),p=2*Math.asin(Math.sqrt(Vt(o-r)+a*u*Vt(i-n))),g=1/Math.sin(p),(v=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,r=n*c+e*f,i=n*h+e*d,o=n*s+e*l;return[Math.atan2(i,r)*Pt,Math.atan2(o,Math.sqrt(r*r+i*i))*Pt]}:function(){return[n*Pt,r*Pt]}).distance=p,v;var n,r,i,o,a,s,u,l,c,h,f,d,p,g,v},o.geo.length=function(t){return br=0,o.geo.stream(t,qr),br};var qr={sphere:B,point:B,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=Et),a=Math.cos(i),s=w((r*=Et)-t),u=Math.cos(s);br+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-e*a*u)*s),e*o+n*a*u),t=r,e=o,n=a}qr.point=function(i,o){t=i*Et,e=Math.sin(o*=Et),n=Math.cos(o),qr.point=r},qr.lineEnd=function(){qr.point=qr.lineEnd=B}},lineEnd:B,polygonStart:B,polygonEnd:B};function Ur(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}var Yr=Ur(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return kr(Yr)}).raw=Yr;var Xr=Ur(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},N);function Zr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(It/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return Jr;function a(t,e){o>0?e<-Lt+Ot&&(e=-Lt+Ot):e>Lt-Ot&&(e=Lt-Ot);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=Nt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Lt]},a}function $r(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<Ot)return Er;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Nt(r)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return kr(Xr)}).raw=Xr,(o.geo.conicConformal=function(){return lr(Zr)}).raw=Zr,(o.geo.conicEquidistant=function(){return lr($r)}).raw=$r;var Kr=Ur(function(t){return 1/t},Math.atan);function Jr(t,e){return[t,Math.log(Math.tan(It/4+e/2))]}function Qr(t){var e,n=kr(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=It*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}(o.geo.gnomonic=function(){return kr(Kr)}).raw=Kr,Jr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Lt]},(o.geo.mercator=function(){return Qr(Jr)}).raw=Jr;var ti=Ur(function(){return 1},Math.asin);(o.geo.orthographic=function(){return kr(ti)}).raw=ti;var ei=Ur(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function ni(t,e){return[Math.log(Math.tan(It/4+e/2)),-t]}function ri(t){return t[0]}function ii(t){return t[1]}function oi(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&jt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ai(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return kr(ei)}).raw=ei,ni.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Lt]},(o.geo.transverseMercator=function(){var t=Qr(ni),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ni,o.geom={},o.geom.hull=function(t){var e=ri,n=ii;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=_e(e),o=_e(n),a=t.length,s=[],u=[];for(r=0;r<a;r++)s.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(s.sort(ai),r=0;r<a;r++)u.push([s[r][0],-s[r][1]]);var l=oi(s),c=oi(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],d=[];for(r=l.length-1;r>=0;--r)d.push(t[s[l[r]][2]]);for(r=+h;r<c.length-f;++r)d.push(t[s[c[r]][2]]);return d}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},o.geom.polygon=function(t){return U(t,si),t};var si=o.geom.polygon.prototype=[];function ui(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function li(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+f*a,u+f*c]}function ci(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}si.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},si.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},si.clip=function(t){for(var e,n,r,i,o,a,s=ci(t),u=-1,l=this.length-ci(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)ui(a=e[n],c,i)?(ui(o,c,i)||t.push(li(o,a,c,i)),t.push(a)):ui(o,c,i)&&t.push(li(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var hi,fi,di,pi,gi,vi=[],mi=[];function yi(t){var e=vi.pop()||new function(){Pi(this),this.edge=this.site=this.circle=null};return e.site=t,e}function xi(t){Oi(t),di.remove(t),vi.push(t),Pi(t)}function _i(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];xi(t);for(var u=o;u.circle&&w(n-u.circle.x)<Ot&&w(r-u.circle.cy)<Ot;)o=u.P,s.unshift(u),xi(u),u=o;s.unshift(u),Oi(u);for(var l=a;l.circle&&w(n-l.circle.x)<Ot&&w(r-l.circle.cy)<Ot;)a=l.N,s.push(l),xi(l),l=a;s.push(l),Oi(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],Di(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=ki(u.site,l.site,null,i),Ti(u),Ti(l)}function bi(t){for(var e,n,r,i,o=t.x,a=t.y,s=di._;s;)if((r=wi(s,a)-o)>Ot)s=s.L;else{if(!((i=o-Mi(s,a))>Ot)){r>-Ot?(e=s.P,n=s):i>-Ot?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=yi(t);if(di.insert(e,u),e||n){if(e===n)return Oi(e),n=yi(e.site),di.insert(u,n),u.edge=n.edge=ki(e.site,u.site),Ti(e),void Ti(n);if(n){Oi(e),Oi(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,v=p.y-h,m=2*(f*v-d*g),y=f*f+d*d,x=g*g+v*v,_={x:(v*y-d*x)/m+c,y:(f*x-g*y)/m+h};Di(n.edge,l,p,_),u.edge=ki(l,t,null,_),n.edge=ki(t,p,null,_),Ti(e),Ti(n)}else u.edge=ki(e.site,u.site)}}function wi(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function Mi(t,e){var n=t.N;if(n)return wi(n,e);var r=t.site;return r.y===e?r.x:1/0}function Si(t){this.site=t,this.edges=[]}function Ai(t,e){return e.angle-t.angle}function Ti(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=2*(u*(v=o.y-s)-l*c);if(!(h>=-Ct)){var f=u*u+l*l,d=c*c+v*v,p=(v*f-l*d)/h,g=(u*d-c*f)/h,v=g+s,m=mi.pop()||new function(){Pi(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=i,m.x=p+a,m.y=v+Math.sqrt(p*p+g*g),m.cy=v,t.circle=m;for(var y=null,x=gi._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}gi.insert(y,m),y||(pi=m)}}}}function Oi(t){var e=t.circle;e&&(e.P||(pi=e.N),gi.remove(e),mi.push(e),Pi(e),t.circle=null)}function Ci(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,v=(f+p)/2,m=(d+g)/2;if(g===d){if(v<a||v>=s)return;if(f>p){if(o){if(o.y>=l)return}else o={x:v,y:u};n={x:v,y:l}}else{if(o){if(o.y<u)return}else o={x:v,y:l};n={x:v,y:u}}}else if(i=m-(r=(f-p)/(g-d))*v,r<-1||r>1)if(f>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Ii(t,e){this.l=t,this.r=e,this.a=this.b=null}function ki(t,e,n,r){var i=new Ii(t,e);return hi.push(i),n&&Di(i,t,e,n),r&&Di(i,e,t,r),fi[t.i].edges.push(new Li(i,t,e)),fi[e.i].edges.push(new Li(i,e,t)),i}function Di(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Li(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Ei(){this._=null}function Pi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ni(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ji(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ri(t){for(;t.L;)t=t.L;return t}function zi(t,e){var n,r,i,o=t.sort(Bi).pop();for(hi=[],fi=new Array(t.length),di=new Ei,gi=new Ei;;)if(i=pi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(fi[o.i]=new Si(o),bi(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;_i(i.arc)}e&&(function(t){for(var e,n=hi,r=ar(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Ci(e=n[i],t)||!r(e)||w(e.a.x-e.b.x)<Ot&&w(e.a.y-e.b.y)<Ot)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=fi,v=g.length;v--;)if((o=g[v])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(c=s[a].end()).x,i=c.y,e=(l=s[++a%u].start()).x,n=l.y,(w(r-e)>Ot||w(i-n)>Ot)&&(s.splice(a,0,new Li((m=o.site,y=c,x=w(r-h)<Ot&&p-i>Ot?{x:h,y:w(e-h)<Ot?n:p}:w(i-p)<Ot&&f-r>Ot?{x:w(n-p)<Ot?e:f,y:p}:w(r-f)<Ot&&i-d>Ot?{x:f,y:w(e-f)<Ot?n:d}:w(i-d)<Ot&&r-h>Ot?{x:w(n-d)<Ot?e:h,y:d}:null,_=void 0,_=new Ii(m,null),_.a=y,_.b=x,hi.push(_),_),o.site,null)),++u);var m,y,x,_}(e));var a={cells:fi,edges:hi};return di=gi=hi=fi=null,a}function Bi(t,e){return e.y-t.y||e.x-t.x}Si.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Ai),e.length},Li.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ei.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ri(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ni(this,n),n=(t=n).U),n.C=!1,r.C=!0,ji(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ji(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ni(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Ri(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ni(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ji(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ni(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ji(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ni(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ji(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ri,n=ii,r=e,i=n,o=Vi;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return zi(s(t),o).cells.forEach(function(o,s){var u=o.edges,l=o.site;(e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[s]}),e}function s(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/Ot)*Ot,y:Math.round(i(t,e)/Ot)*Ot,i:e}})}return a.links=function(t){return zi(s(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(t){var e=[];return zi(s(t)).cells.forEach(function(n,r){for(var i,o,a,s,u=n.site,l=n.edges.sort(Ai),c=-1,h=l.length,f=l[h-1].edge,d=f.l===u?f.r:f.l;++c<h;)f,i=d,d=(f=l[c].edge).l===u?f.r:f.l,r<i.i&&r<d.i&&(a=i,s=d,((o=u).x-s.x)*(a.y-o.y)-(o.x-a.x)*(s.y-o.y)<0)&&e.push([t[r],t[i.i],t[d.i]])}),e},a.x=function(t){return arguments.length?(r=_e(e=t),a):e},a.y=function(t){return arguments.length?(i=_e(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?Vi:t,a):o===Vi?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===Vi?null:o&&o[1]},a};var Vi=[[-1e6,-1e6],[1e6,1e6]];function Fi(t){return t.x}function Hi(t){return t.y}function Wi(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,s=e.g-r,u=e.b-i;return function(t){return"#"+de(Math.round(n+a*t))+de(Math.round(r+s*t))+de(Math.round(i+u*t))}}function Gi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Zi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function qi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ui(t,e){var n,r,i,o=Yi.lastIndex=Xi.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Yi.exec(t))&&(r=Xi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:qi(n,r)})),o=Xi.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var o,a=ri,s=ii;if(o=arguments.length)return a=Fi,s=Hi,3===o&&(i=n,r=e,n=e=0),u(t);function u(t){var u,l,c,h,f,d,p,g,v,m=_e(a),y=_e(s);if(null!=e)d=e,p=n,g=r,v=i;else if(g=v=-(d=p=1/0),l=[],c=[],f=t.length,o)for(h=0;h<f;++h)(u=t[h]).x<d&&(d=u.x),u.y<p&&(p=u.y),u.x>g&&(g=u.x),u.y>v&&(v=u.y),l.push(u.x),c.push(u.y);else for(h=0;h<f;++h){var x=+m(u=t[h],h),_=+y(u,h);x<d&&(d=x),_<p&&(p=_),x>g&&(g=x),_>v&&(v=_),l.push(x),c.push(_)}var b=g-d,M=v-p;function S(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(w(u-n)+w(l-r)<.01)A(t,e,n,r,i,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,A(t,c,u,l,i,o,a,s),A(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else A(t,e,n,r,i,o,a,s)}function A(t,e,n,r,i,o,a,s){var u=.5*(i+a),l=.5*(o+s),c=n>=u,h=r>=l,f=h<<1|c;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(T,t,+m(t,++h),+y(t,h),d,p,g,v)}}),c?i=u:a=u,h?o=l:s=l,S(t,e,n,r,i,o,a,s)}b>M?v=p+b:g=d+M;var T={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(T,t,+m(t,++h),+y(t,h),d,p,g,v)}};if(T.visit=function(t){!function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var s=.5*(r+o),u=.5*(i+a),l=n.nodes;l[0]&&t(e,l[0],r,i,s,u),l[1]&&t(e,l[1],s,i,o,u),l[2]&&t(e,l[2],r,u,s,a),l[3]&&t(e,l[3],s,u,o,a)}}(t,T,d,p,g,v)},T.find=function(t){return function(t,e,n,r,i,o,a){var s,u=1/0;return function t(l,c,h,f,d){if(!(c>o||h>a||f<r||d<i)){if(p=l.point){var p,g=e-l.x,v=n-l.y,m=g*g+v*v;if(m<u){var y=Math.sqrt(u=m);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var x=l.nodes,_=.5*(c+f),b=.5*(h+d),w=(n>=b)<<1|e>=_,M=w+4;w<M;++w)if(l=x[3&w])switch(3&w){case 0:t(l,c,h,_,b);break;case 1:t(l,_,h,f,b);break;case 2:t(l,c,b,_,d);break;case 3:t(l,_,b,f,d)}}}(t,r,i,o,a),s}(T,t[0],t[1],d,p,g,v)},h=-1,null==e){for(;++h<f;)S(T,t[h],l[h],c[h],d,p,g,v);--h}else t.forEach(T.add);return l=c=t=u=null,T}return u.x=function(t){return arguments.length?(a=t,u):a},u.y=function(t){return arguments.length?(s=t,u):s},u.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),u):null==e?null:[[e,n],[r,i]]},u.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),u):null==e?null:[r-e,i-n]},u},o.interpolateRgb=Wi,o.interpolateObject=Gi,o.interpolateNumber=qi,o.interpolateString=Ui;var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xi=new RegExp(Yi.source,"g");function Zi(t,e){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](t,e)););return n}function $i(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(Zi(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}o.interpolate=Zi,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?xe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Wi:Ui:e instanceof qt?Wi:Array.isArray(e)?$i:"object"===n&&isNaN(e)?Gi:qi)(t,e)}],o.interpolateArray=$i;var Ki=function(){return N},Ji=o.map({linear:Ki,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return no},cubic:function(){return ro},sin:function(){return oo},exp:function(){return ao},circle:function(){return so},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/kt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*kt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return uo}}),Qi=o.map({in:N,out:to,"in-out":eo,"out-in":function(t){return eo(to(t))}});function to(t){return function(e){return 1-t(1-e)}}function eo(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function no(t){return t*t}function ro(t){return t*t*t}function io(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function oo(t){return 1-Math.cos(t*Lt)}function ao(t){return Math.pow(2,10*(t-1))}function so(t){return 1-Math.sqrt(1-t*t)}function uo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function lo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function co(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=fo(i),s=ho(i,o),u=fo(((e=o)[0]+=(r=-s)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Pt,this.translate=[t.e,t.f],this.scale=[a,u],this.skew=u?Math.atan2(s,u)*Pt:0}function ho(t,e){return t[0]*e[0]+t[1]*e[1]}function fo(t){var e=Math.sqrt(ho(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e,n=t.indexOf("-"),r=n>=0?t.slice(0,n):t,i=n>=0?t.slice(n+1):"in";return r=Ji.get(r)||Ki,i=Qi.get(i)||N,e=i(r.apply(null,a.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,s=e.c-r,u=e.l-i;isNaN(s)&&(s=0,r=isNaN(r)?e.c:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Kt(n+a*t,r+s*t,i+u*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,s=e.s-r,u=e.l-i;isNaN(s)&&(s=0,r=isNaN(r)?e.s:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Xt(n+a*t,r+s*t,i+u*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,s=e.a-r,u=e.b-i;return function(t){return ie(n+a*t,r+s*t,i+u*t)+""}},o.interpolateRound=lo,o.transform=function(t){var e=u.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new co(n?n.matrix:po)})(t)},co.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var po={a:1,b:0,c:0,d:1,e:0,f:0};function go(t){return t.length?t.pop()+",":""}function vo(t,e){var n=[],r=[];return t=o.transform(t),e=o.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:qi(t[0],e[0])},{i:i-2,x:qi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(go(n)+"rotate(",null,")")-2,x:qi(t,e)})):e&&n.push(go(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(go(n)+"skewX(",null,")")-2,x:qi(t,e)}):e&&n.push(go(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(go(n)+"scale(",null,",",null,")");r.push({i:i-4,x:qi(t[0],e[0])},{i:i-2,x:qi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(go(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function mo(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function yo(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function xo(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=_o(t),r=_o(e),i=n.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function _o(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function bo(t){t.fixed|=2}function wo(t){t.fixed&=-7}function Mo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function So(t){t.fixed&=-5}o.interpolateTransform=vo,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(xo(t[n]));return e}},o.layout.chord=function(){var t,e,n,r,i,a,s,u={},l=0;function c(){var u,c,f,d,p,g={},v=[],m=o.range(r),y=[];for(t=[],e=[],u=0,d=-1;++d<r;){for(c=0,p=-1;++p<r;)c+=n[d][p];v.push(c),y.push(o.range(r)),u+=c}for(i&&m.sort(function(t,e){return i(v[t],v[e])}),a&&y.forEach(function(t,e){t.sort(function(t,r){return a(n[e][t],n[e][r])})}),u=(kt-l*r)/u,c=0,d=-1;++d<r;){for(f=c,p=-1;++p<r;){var x=m[d],_=y[x][p],b=n[x][_],w=c,M=c+=b*u;g[x+"-"+_]={index:x,subindex:_,startAngle:w,endAngle:M,value:b}}e[x]={index:x,startAngle:f,endAngle:c,value:v[x]},c+=l}for(d=-1;++d<r;)for(p=d-1;++p<r;){var S=g[d+"-"+p],A=g[p+"-"+d];(S.value||A.value)&&t.push(S.value<A.value?{source:A,target:S}:{source:S,target:A})}s&&h()}function h(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return u.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,u):n},u.padding=function(n){return arguments.length?(l=n,t=e=null,u):l},u.sortGroups=function(n){return arguments.length?(i=n,t=e=null,u):i},u.sortSubgroups=function(e){return arguments.length?(a=e,t=null,u):a},u.sortChords=function(e){return arguments.length?(s=e,t&&h(),u):s},u.chords=function(){return t||c(),t},u.groups=function(){return e||c(),e},u},o.layout.force=function(){var t,e,n,r,i,a,s={},u=o.dispatch("start","tick","end"),l=[1,1],c=.9,h=Ao,f=To,d=-30,p=Oo,g=.1,v=.64,m=[],y=[];function x(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(s*s/v<u){if(u<p){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&u<p){l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function _(t){t.px=o.event.x,t.py=o.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return t=null,u.end({type:"end",alpha:n=0}),!0;var e,s,h,f,p,v,_,b,w,M=m.length,S=y.length;for(s=0;s<S;++s)f=(h=y[s]).source,(v=(b=(p=h.target).x-f.x)*b+(w=p.y-f.y)*w)&&(b*=v=n*i[s]*((v=Math.sqrt(v))-r[s])/v,w*=v,p.x-=b*(_=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=w*_,f.x+=b*(_=1-_),f.y+=w*_);if((_=n*g)&&(b=l[0]/2,w=l[1]/2,s=-1,_))for(;++s<M;)(h=m[s]).x+=(b-h.x)*_,h.y+=(w-h.y)*_;if(d)for(!function t(e,n,r){var i=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,u=s.length,l=-1;++l<u;)null!=(a=s[l])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge;e.cy=o/e.charge}(e=o.geom.quadtree(m),n,a),s=-1;++s<M;)(h=m[s]).fixed||e.visit(x(h));for(s=-1;++s<M;)(h=m[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);u.tick({type:"tick",alpha:n})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,u.end({type:"end",alpha:n=0})):e>0&&(u.start({type:"start",alpha:n=e}),t=Ce(s.tick)),s):n},s.start=function(){var t,e,n,o=m.length,u=y.length,c=l[0],p=l[1];for(t=0;t<o;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<u;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<o;++t)n=m[t],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof h)for(t=0;t<u;++t)r[t]=+h.call(this,y[t],t);else for(t=0;t<u;++t)r[t]=h;if(i=[],"function"==typeof f)for(t=0;t<u;++t)i[t]=+f.call(this,y[t],t);else for(t=0;t<u;++t)i[t]=f;if(a=[],"function"==typeof d)for(t=0;t<o;++t)a[t]=+d.call(this,m[t],t);else for(t=0;t<o;++t)a[t]=d;function g(n,r){if(!e){for(e=new Array(o),l=0;l<o;++l)e[l]=[];for(l=0;l<u;++l){var i=y[l];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,s=e[t],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][n]))return a;return Math.random()*r}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(e||(e=o.behavior.drag().origin(N).on("dragstart.force",bo).on("drag.force",_).on("dragend.force",wo)),!arguments.length)return e;this.on("mouseover.force",Mo).on("mouseout.force",So).call(e)},o.rebind(s,u,"on")};var Ao=20,To=1,Oo=1/0;function Co(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Po,t}function Io(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ko(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function Do(t){return t.children}function Lo(t){return t.value}function Eo(t,e){return e.value-t.value}function Po(t){return o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}o.layout.hierarchy=function(){var t=Eo,e=Do,n=Lo;function r(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=e.call(r,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=l}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return ko(i,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),s}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Io(t,function(t){t.children&&(t.value=0)}),ko(t,function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,r){var i=t.call(this,n,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}(i[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return n.size=function(t){return arguments.length?(e=t,n):e},Co(n,t)},o.layout.pie=function(){var t=Number,e=No,n=0,r=kt,i=0;function a(s){var u,l=s.length,c=s.map(function(e,n){return+t.call(a,e,n)}),h=+("function"==typeof n?n.apply(this,arguments):n),f=("function"==typeof r?r.apply(this,arguments):r)-h,d=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),p=d*(f<0?-1:1),g=o.sum(c),v=g?(f-l*p)/g:0,m=o.range(l),y=[];return null!=e&&m.sort(e===No?function(t,e){return c[e]-c[t]}:function(t,n){return e(s[t],s[n])}),m.forEach(function(t){y[t]={data:s[t],value:u=c[t],startAngle:h,endAngle:h+=u*v+p,padAngle:d}}),y}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(n=t,a):n},a.endAngle=function(t){return arguments.length?(r=t,a):r},a.padAngle=function(t){return arguments.length?(i=t,a):i},a};var No={};function jo(t){return t.x}function Ro(t){return t.y}function zo(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=N,e=Fo,n=Ho,r=zo,i=jo,a=Ro;function s(u,l){if(!(d=u.length))return u;var c=u.map(function(e,n){return t.call(s,e,n)}),h=c.map(function(t){return t.map(function(t,e){return[i.call(s,t,e),a.call(s,t,e)]})}),f=e.call(s,h,l);c=o.permute(c,f),h=o.permute(h,f);var d,p,g,v,m=n.call(s,h,l),y=c[0].length;for(g=0;g<y;++g)for(r.call(s,c[0][g],v=m[g],h[0][g][1]),p=1;p<d;++p)r.call(s,c[p][g],v+=h[p-1][g][1],h[p][g][1]);return u}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(e="function"==typeof t?t:Bo.get(t)||Fo,s):e},s.offset=function(t){return arguments.length?(n="function"==typeof t?t:Vo.get(t)||Ho,s):n},s.x=function(t){return arguments.length?(i=t,s):i},s.y=function(t){return arguments.length?(a=t,s):a},s.out=function(t){return arguments.length?(r=t,s):r},s};var Bo=o.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Wo),a=t.map(Go),s=o.range(r).sort(function(t,e){return i[t]-i[e]}),u=0,l=0,c=[],h=[];for(e=0;e<r;++e)n=s[e],u<l?(u+=a[n],c.push(n)):(l+=a[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Fo}),Vo=o.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<f;++n)d[n]-=l;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Ho});function Fo(t){return o.range(t.length)}function Ho(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Wo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Go(t){return t.reduce(qo,0)}function qo(t,e){return t+e[1]}function Uo(t,e){return Yo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Yo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Xo(t){return[o.min(t),o.max(t)]}function Zo(t,e){return t.value-e.value}function $o(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ko(t,e){t._pack_next=e,e._pack_prev=t}function Jo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Qo(t){if((e=t.children)&&(u=e.length)){var e,n,r,i,o,a,s,u,l=1/0,c=-1/0,h=1/0,f=-1/0;if(e.forEach(ta),(n=e[0]).x=-n.r,n.y=0,x(n),u>1&&((r=e[1]).x=r.r,r.y=0,x(r),u>2))for(na(n,r,i=e[2]),x(i),$o(n,i),n._pack_prev=i,$o(i,r),r=n._pack_next,o=3;o<u;o++){na(n,r,i=e[o]);var d=0,p=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(Jo(a,i)){d=1;break}if(1==d)for(s=n._pack_prev;s!==a._pack_prev&&!Jo(s,i);s=s._pack_prev,g++);d?(p<g||p==g&&r.r<n.r?Ko(n,r=a):Ko(n=s,r),o--):($o(n,i),r=i,x(i))}var v=(l+c)/2,m=(h+f)/2,y=0;for(o=0;o<u;o++)(i=e[o]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(ea)}function x(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}}function ta(t){t._pack_next=t._pack_prev=t}function ea(t){delete t._pack_next,delete t._pack_prev}function na(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function ra(t,e){return t.parent==e.parent?1:2}function ia(t){var e=t.children;return e.length?e[0]:t.t}function oa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function aa(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function sa(t,e,n){return t.a.parent===e.parent?t.a:n}function ua(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function la(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ca(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ha(t){return t.rangeExtent?t.rangeExtent():ca(t.range())}function fa(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function da(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function pa(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ga}o.layout.histogram=function(){var t=!0,e=Number,n=Xo,r=Uo;function i(i,a){for(var s,u,l=[],c=i.map(e,this),h=n.call(this,c,a),f=r.call(this,h,c,a),d=(a=-1,c.length),p=f.length-1,g=t?1:1/d;++a<p;)(s=l[a]=[]).dx=f[a+1]-(s.x=f[a]),s.y=0;if(p>0)for(a=-1;++a<d;)(u=c[a])>=h[0]&&u<=h[1]&&((s=l[o.bisect(f,u,1,p)-1]).y+=g,s.push(i[a]));return l}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=_e(t),i):n},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return Yo(e,t)}:_e(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(Zo),n=0,r=[1,1];function i(i,o){var a=e.call(this,i,o),s=a[0],u=r[0],l=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,ko(s,function(t){t.r=+c(t.value)}),ko(s,Qo),n){var h=n*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;ko(s,function(t){t.r+=h}),ko(s,Qo),ko(s,function(t){t.r-=h})}return function t(e,n,r,i){var o=e.children;e.x=n+=i*e.x;e.y=r+=i*e.y;e.r*=i;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,r,i)}(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},Co(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ra,n=[1,1],r=null;function i(i,o){var l=t.call(this,i,o),c=l[0],h=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(ko(h,a),h.parent.m=-h.z,Io(h,s),r)Io(c,u);else{var f=c,d=c,p=c;Io(c,function(t){t.x<f.x&&(f=t),t.x>d.x&&(d=t),t.depth>p.depth&&(p=t)});var g=e(f,d)/2-f.x,v=n[0]/(d.x+e(d,f)/2+g),m=n[1]/(p.depth||1);Io(c,function(t){t.x=(t.x+g)*v,t.y=t.depth*m})}return l}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,i=t.children,o=i.length;for(;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,u=o.parent.children[0],l=o.m,c=a.m,h=s.m,f=u.m;s=oa(s),o=ia(o),s&&o;)u=ia(u),(a=oa(a)).a=t,(i=s.z+h-o.z-l+e(s._,o._))>0&&(aa(sa(s,t,r),t,i),l+=i,c+=i),h+=s.m,l+=o.m,f+=u.m,c+=a.m;s&&!oa(a)&&(a.t=s,a.m+=h-c),o&&!ia(u)&&(u.t=o,u.m+=l-f,r=t)}return r}(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?u:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:u,i):r?n:null},Co(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ra,n=[1,1],r=!1;function i(i,a){var s,u=t.call(this,i,a),l=u[0],c=0;ko(l,function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(n),t.y=function(t){return 1+o.max(t,function(t){return t.y})}(n)):(t.x=s?c+=e(t,s):0,t.y=0,s=t)});var h=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),f=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(l),d=h.x-e(h,f)/2,p=f.x+e(f,h)/2;return ko(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-d)/(p-d)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),u}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},Co(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,a=ua,s=!1,u="squarify",l=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function h(t){var e=t.children;if(e&&e.length){var n,r,i,o=a(t),s=[],l=e.slice(),f=1/0,g="slice"===u?o.dx:"dice"===u?o.dy:"slice-dice"===u?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(l,o.dx*o.dy/t.value),s.area=0;(i=l.length)>0;)s.push(n=l[i-1]),s.area+=n.area,"squarify"!==u||(r=d(s,g))<=f?(l.pop(),f=r):(s.area-=s.pop().area,p(s,g,o,!1),g=Math.min(o.dx,o.dy),s.length=s.area=0,f=1/0);s.length&&(p(s,g,o,!0),s.length=s.area=0),e.forEach(h)}}function f(t){var e=t.children;if(e&&e.length){var n,r=a(t),i=e.slice(),o=[];for(c(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(f)}}function d(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*l/r,r/(e*o*l)):1/0}function p(t,e,r,i){var o,a=-1,s=t.length,u=r.x,l=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((i||c>r.dy)&&(c=r.dy);++a<s;)(o=t[a]).x=u,o.y=l,o.dy=c,u+=o.dx=Math.min(r.x+r.dx-u,c?n(o.area/c):0);o.z=!0,o.dx+=r.x+r.dx-u,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++a<s;)(o=t[a]).x=u,o.y=l,o.dx=c,l+=o.dy=Math.min(r.y+r.dy-l,c?n(o.area/c):0);o.z=!1,o.dy+=r.y+r.dy-l,r.x+=c,r.dx-=c}}function g(n){var i=t||e(n),o=i[0];return o.x=o.y=0,o.value?(o.dx=r[0],o.dy=r[1]):o.dx=o.dy=0,t&&e.revalue(o),c([o],o.dx*o.dy/o.value),(t?f:h)(o),s&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){return la(e,t)}var n;return a=null==(i=t)?ua:"function"==(n=typeof t)?function(e){var n=t.call(g,e,e.depth);return null==n?ua(e):la(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(s=e,t=null,g):s},g.ratio=function(t){return arguments.length?(l=t,g):l},g.mode=function(t){return arguments.length?(u=t+"",g):u},Co(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var ga={floor:N,ceil:N};function va(t,e,n,r){var i=[],a=[],s=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=u;)i.push(n(t[s-1],t[s])),a.push(r(e[s-1],e[s]));return function(e){var n=o.bisect(t,e,1,u)-1;return a[n](i[n](e))}}function ma(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ya(t,e){return da(t,pa(xa(t,e)[2])),da(t,pa(xa(t,e)[2])),t}function xa(t,e){null==e&&(e=10);var n=ca(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function _a(t,e){return o.range.apply(o,xa(t,e))}function ba(t,e,n){var r=xa(t,e);if(n){var i=Pe.exec(n);if(i.shift(),"s"===i[8]){var a=o.formatPrefix(Math.max(w(r[0]),w(r[1])));return i[7]||(i[7]="."+Ma(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+function(t,e){var n=Ma(e[2]);return t in wa?Math.abs(n-Ma(Math.max(w(e[0]),w(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Ma(r[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,r,i){var o,a;function s(){var t=Math.min(e.length,n.length)>2?va:fa,s=i?yo:mo;return o=t(e,n,s,r),a=t(n,e,s,Zi),u}function u(t){return o(t)}u.invert=function(t){return a(t)};u.domain=function(t){return arguments.length?(e=t.map(Number),s()):e};u.range=function(t){return arguments.length?(n=t,s()):n};u.rangeRound=function(t){return u.range(t).interpolate(lo)};u.clamp=function(t){return arguments.length?(i=t,s()):i};u.interpolate=function(t){return arguments.length?(r=t,s()):r};u.ticks=function(t){return _a(e,t)};u.tickFormat=function(t,n){return ba(e,t,n)};u.nice=function(t){return ya(e,t),s()};u.copy=function(){return t(e,n,r,i)};return s()}([0,1],[0,1],Zi,!1)};var wa={s:1,g:1,p:1,r:1,e:1};function Ma(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,r,i){function a(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function s(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function u(t){return e(a(t))}u.invert=function(t){return s(e.invert(t))};u.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(a)),u):i};u.base=function(t){return arguments.length?(n=+t,e.domain(i.map(a)),u):n};u.nice=function(){var t=da(i.map(a),r?Math:Aa);return e.domain(t),i=t.map(s),u};u.ticks=function(){var t=ca(i),e=[],o=t[0],u=t[1],l=Math.floor(a(o)),c=Math.ceil(a(u)),h=n%1?2:n;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var f=1;f<h;f++)e.push(s(l)*f);e.push(s(l))}else for(e.push(s(l));l++<c;)for(var f=h-1;f>0;f--)e.push(s(l)*f);for(l=0;e[l]<o;l++);for(c=e.length;e[c-1]>u;c--);e=e.slice(l,c)}return e};u.tickFormat=function(t,e){if(!arguments.length)return Sa;arguments.length<2?e=Sa:"function"!=typeof e&&(e=o.format(e));var r=Math.max(1,n*t/u.ticks().length);return function(t){var i=t/s(Math.round(a(t)));return i*n<n-.5&&(i*=n),i<=r?e(t):""}};u.copy=function(){return t(e.copy(),n,r,i)};return ma(u,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Sa=o.format(".0e"),Aa={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ta(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,r){var i=Ta(n),o=Ta(1/n);function a(t){return e(i(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r};a.ticks=function(t){return _a(r,t)};a.tickFormat=function(t,e){return ba(r,t,e)};a.nice=function(t){return a.domain(ya(r,t))};a.exponent=function(t){return arguments.length?(i=Ta(n=t),o=Ta(1/n),e.domain(r.map(i)),a):n};a.copy=function(){return t(e.copy(),n,r)};return ma(a,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var r,i,a;function s(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function u(t,n){return o.range(e.length).map(function(e){return t+n*e})}s.domain=function(t){if(!arguments.length)return e;e=[],r=new S;for(var i,o=-1,a=t.length;++o<a;)r.has(i=t[o])||r.set(i,e.push(i));return s[n.t].apply(s,n.a)};s.range=function(t){return arguments.length?(i=t,a=0,n={t:"range",a:arguments},s):i};s.rangePoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],l=t[1],c=e.length<2?(o=(o+l)/2,0):(l-o)/(e.length-1+r);return i=u(o+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},s};s.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],l=t[1],c=e.length<2?(o=l=Math.round((o+l)/2),0):(l-o)/(e.length-1+r)|0;return i=u(o+Math.round(c*r/2+(l-o-(e.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},s};s.rangeBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var l=t[1]<t[0],c=t[l-0],h=t[1-l],f=(h-c)/(e.length-r+2*o);return i=u(c+f*o,f),l&&i.reverse(),a=f*(1-r),n={t:"rangeBands",a:arguments},s};s.rangeRoundBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var l=t[1]<t[0],c=t[l-0],h=t[1-l],f=Math.floor((h-c)/(e.length-r+2*o));return i=u(c+Math.round((h-c-(e.length-r)*f)/2),f),l&&i.reverse(),a=Math.round(f*(1-r)),n={t:"rangeRoundBands",a:arguments},s};s.rangeBand=function(){return a};s.rangeExtent=function(){return ca(n.a[0])};s.copy=function(){return t(e,n)};return s.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Oa)},o.scale.category20=function(){return o.scale.ordinal().range(Ca)},o.scale.category20b=function(){return o.scale.ordinal().range(Ia)},o.scale.category20c=function(){return o.scale.ordinal().range(ka)};var Oa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(he),Ca=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(he),Ia=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(he),ka=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(he);function Da(){return 0}o.scale.quantile=function(){return function t(e,n){var r;function i(){var t=0,i=n.length;for(r=[];++t<i;)r[t-1]=o.quantile(e,t/i);return a}function a(t){if(!isNaN(t=+t))return n[o.bisect(r,t)]}a.domain=function(t){return arguments.length?(e=t.map(m).filter(y).sort(v),i()):e};a.range=function(t){return arguments.length?(n=t,i()):n};a.quantiles=function(){return r};a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]};a.copy=function(){return t(e,n)};return i()}([],[])},o.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function s(){return i=r.length/(n-e),o=r.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(r=t,s()):r};a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]};a.copy=function(){return t(e,n,r)};return s()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[o.bisect(e,t)]}r.domain=function(t){return arguments.length?(e=t,r):e};r.range=function(t){return arguments.length?(n=t,r):n};r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};r.copy=function(){return t(e,n)};return r}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return _a(e,t)};n.tickFormat=function(t,n){return ba(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},o.svg={},o.svg.arc=function(){var t=Ea,e=Pa,n=Da,r=La,i=Na,o=ja,a=Ra;function s(){var s=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-Lt,h=o.apply(this,arguments)-Lt,f=Math.abs(h-c),d=c>h?0:1;if(l<s&&(p=l,l=s,s=p),f>=Dt)return u(l,d)+(s?u(s,1-d):"")+"Z";var p,g,v,m,y,x,_,b,w,M,S,A,T=0,O=0,C=[];if((m=(+a.apply(this,arguments)||0)/2)&&(v=r===La?Math.sqrt(s*s+l*l):+r.apply(this,arguments),d||(O*=-1),l&&(O=zt(v/l*Math.sin(m))),s&&(T=zt(v/s*Math.sin(m)))),l){y=l*Math.cos(c+O),x=l*Math.sin(c+O),_=l*Math.cos(h-O),b=l*Math.sin(h-O);var I=Math.abs(h-c-2*O)<=It?0:1;if(O&&za(y,x,_,b)===d^I){var k=(c+h)/2;y=l*Math.cos(k),x=l*Math.sin(k),_=b=null}}else y=x=0;if(s){w=s*Math.cos(h-T),M=s*Math.sin(h-T),S=s*Math.cos(c+T),A=s*Math.sin(c+T);var D=Math.abs(c-h+2*T)<=It?0:1;if(T&&za(w,M,S,A)===1-d^D){var L=(c+h)/2;w=s*Math.cos(L),M=s*Math.sin(L),S=A=null}}else w=M=0;if(f>Ot&&(p=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){g=s<l^d?0:1;var E=p,P=p;if(f<It){var N=null==S?[w,M]:null==_?[y,x]:li([y,x],[S,A],[_,b],[w,M]),j=y-N[0],R=x-N[1],z=_-N[0],B=b-N[1],V=1/Math.sin(Math.acos((j*z+R*B)/(Math.sqrt(j*j+R*R)*Math.sqrt(z*z+B*B)))/2),F=Math.sqrt(N[0]*N[0]+N[1]*N[1]);P=Math.min(p,(s-F)/(V-1)),E=Math.min(p,(l-F)/(V+1))}if(null!=_){var H=Ba(null==S?[w,M]:[S,A],[y,x],l,E,d),W=Ba([_,b],[w,M],l,E,d);p===E?C.push("M",H[0],"A",E,",",E," 0 0,",g," ",H[1],"A",l,",",l," 0 ",1-d^za(H[1][0],H[1][1],W[1][0],W[1][1]),",",d," ",W[1],"A",E,",",E," 0 0,",g," ",W[0]):C.push("M",H[0],"A",E,",",E," 0 1,",g," ",W[0])}else C.push("M",y,",",x);if(null!=S){var G=Ba([y,x],[S,A],s,-P,d),q=Ba([w,M],null==_?[y,x]:[_,b],s,-P,d);p===P?C.push("L",q[0],"A",P,",",P," 0 0,",g," ",q[1],"A",s,",",s," 0 ",d^za(q[1][0],q[1][1],G[1][0],G[1][1]),",",1-d," ",G[1],"A",P,",",P," 0 0,",g," ",G[0]):C.push("L",q[0],"A",P,",",P," 0 0,",g," ",G[0])}else C.push("L",w,",",M)}else C.push("M",y,",",x),null!=_&&C.push("A",l,",",l," 0 ",I,",",d," ",_,",",b),C.push("L",w,",",M),null!=S&&C.push("A",s,",",s," 0 ",D,",",1-d," ",S,",",A);return C.push("Z"),C.join("")}function u(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=_e(e),s):t},s.outerRadius=function(t){return arguments.length?(e=_e(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=_e(t),s):n},s.padRadius=function(t){return arguments.length?(r=t==La?La:_e(t),s):r},s.startAngle=function(t){return arguments.length?(i=_e(t),s):i},s.endAngle=function(t){return arguments.length?(o=_e(t),s):o},s.padAngle=function(t){return arguments.length?(a=_e(t),s):a},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Lt;return[Math.cos(r)*n,Math.sin(r)*n]},s};var La="auto";function Ea(t){return t.innerRadius}function Pa(t){return t.outerRadius}function Na(t){return t.startAngle}function ja(t){return t.endAngle}function Ra(t){return t&&t.padAngle}function za(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Ba(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,v=f-c,m=d-h,y=v*v+m*m,x=n-r,_=c*d-f*h,b=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*y-_*_)),w=(_*m-v*b)/y,M=(-_*v-m*b)/y,S=(_*m+v*b)/y,A=(-_*v+m*b)/y,T=w-p,O=M-g,C=S-p,I=A-g;return T*T+O*O>C*C+I*I&&(w=S,M=A),[[w-u,M-l],[w*n/x,M*n/x]]}function Va(t){var e=ri,n=ii,r=Kn,i=Ha,o=i.key,a=.7;function s(o){var s,u=[],l=[],c=-1,h=o.length,f=_e(e),d=_e(n);function p(){u.push("M",i(t(l),a))}for(;++c<h;)r.call(this,s=o[c],c)?l.push([+f.call(this,s,c),+d.call(this,s,c)]):l.length&&(p(),l=[]);return l.length&&p(),u.length?u.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Fa.get(t)||Ha).key,s):o},s.tension=function(t){return arguments.length?(a=t,s):a},s}o.svg.line=function(){return Va(N)};var Fa=o.map({linear:Ha,"linear-closed":Wa,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":Ga,"step-after":qa,basis:Xa,"basis-open":function(t){if(t.length<4)return Ha(t);var e,n=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);n.push(Za(Ja,o)+","+Za(Ja,a)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Qa(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];for(;++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);e=[Za(Ja,a),",",Za(Ja,s)],--r;for(;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Qa(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Xa(t)},cardinal:function(t,e){return t.length<3?Ha(t):t[0]+Ua(t,Ya(t,e))},"cardinal-open":function(t,e){return t.length<4?Ha(t):t[1]+Ua(t.slice(1,-1),Ya(t,e))},"cardinal-closed":function(t,e){return t.length<3?Wa(t):t[0]+Ua((t.push(t[0]),t),Ya([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ha(t):t[0]+Ua(t,function(t){var e,n,r,i,o=[],a=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=ts(i,o);for(;++e<n;)r[e]=(a+(a=ts(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),s=-1,u=t.length-1;for(;++s<u;)e=ts(t[s],t[s+1]),w(e)<Ot?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,(i=n*n+r*r)>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));s=-1;for(;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function Ha(t){return t.length>1?t.join("L"):t+"Z"}function Wa(t){return t.join("L")+"Z"}function Ga(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function qa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ua(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ha(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Ya(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Xa(t){if(t.length<3)return Ha(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Za(Ja,a),",",Za(Ja,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Qa(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Za(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Fa.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var $a=[0,2/3,1/3,0],Ka=[0,1/3,2/3,0],Ja=[0,1/6,2/3,1/6];function Qa(t,e,n){t.push("C",Za($a,e),",",Za($a,n),",",Za(Ka,e),",",Za(Ka,n),",",Za(Ja,e),",",Za(Ja,n))}function ts(t,e){return(e[1]-t[1])/(e[0]-t[0])}function es(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Lt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function ns(t){var e=ri,n=ri,r=0,i=ii,o=Kn,a=Ha,s=a.key,u=a,l="L",c=.7;function h(s){var h,f,d,p=[],g=[],v=[],m=-1,y=s.length,x=_e(e),_=_e(r),b=e===n?function(){return f}:_e(n),w=r===i?function(){return d}:_e(i);function M(){p.push("M",a(t(v),c),l,u(t(g.reverse()),c),"Z")}for(;++m<y;)o.call(this,h=s[m],m)?(g.push([f=+x.call(this,h,m),d=+_.call(this,h,m)]),v.push([+b.call(this,h,m),+w.call(this,h,m)])):g.length&&(M(),g=[],v=[]);return g.length&&M(),p.length?p.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(r=i=t,h):i},h.y0=function(t){return arguments.length?(r=t,h):r},h.y1=function(t){return arguments.length?(i=t,h):i},h.defined=function(t){return arguments.length?(o=t,h):o},h.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=Fa.get(t)||Ha).key,u=a.reverse||a,l=a.closed?"M":"L",h):s},h.tension=function(t){return arguments.length?(c=t,h):c},h}function rs(t){return t.radius}function is(t){return[t.x,t.y]}function os(){return 64}function as(){return"circle"}function ss(t){var e=Math.sqrt(t/It);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Va(es);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ga.reverse=qa,qa.reverse=Ga,o.svg.area=function(){return ns(N)},o.svg.area.radial=function(){var t=ns(es);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Wr,e=Gr,n=rs,r=Na,i=ja;function o(n,r){var i,o,l=a(this,t,n,r),c=a(this,e,n,r);return"M"+l.p0+s(l.r,l.p1,l.a1-l.a0)+(o=c,(i=l).a0==o.a0&&i.a1==o.a1?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+s(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z"}function a(t,e,o,a){var s=e.call(t,o,a),u=n.call(t,s,a),l=r.call(t,s,a)-Lt,c=i.call(t,s,a)-Lt;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>It)+",1 "+e}function u(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=_e(t),o):n},o.source=function(e){return arguments.length?(t=_e(e),o):t},o.target=function(t){return arguments.length?(e=_e(t),o):e},o.startAngle=function(t){return arguments.length?(r=_e(t),o):r},o.endAngle=function(t){return arguments.length?(i=_e(t),o):i},o},o.svg.diagonal=function(){var t=Wr,e=Gr,n=is;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return r.source=function(e){return arguments.length?(t=_e(e),r):t},r.target=function(t){return arguments.length?(e=_e(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=is,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Lt;return[n*Math.cos(r),n*Math.sin(r)]}}(e=t)):e},t},o.svg.symbol=function(){var t=as,e=os;function n(n,r){return(us.get(t.call(this,n,r))||ss)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=_e(e),n):t},n.size=function(t){return arguments.length?(e=_e(t),n):e},n};var us=o.map({circle:ss,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*cs)),n=e*cs;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ls),n=e*ls/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ls),n=e*ls/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=us.keys();var ls=Math.sqrt(3),cs=Math.tan(30*Et);K.transition=function(t){for(var e,n,r=ps||++ms,i=_s(t),o=[],a=gs||{time:Date.now(),ease:io,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&bs(n,c,i,r,a),e.push(n)}return ds(o,i,r)},K.interrupt=function(t){return this.each(null==t?hs:fs(_s(t)))};var hs=fs(_s());function fs(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ds(t,e,n){return U(t,vs),t.namespace=e,t.id=n,t}var ps,gs,vs=[],ms=0;function ys(t,e,n,r){var i=t.id,o=t.namespace;return pt(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function xs(t){return null==t&&(t=""),function(){this.textContent=t}}function _s(t){return null==t?"__transition__":"__transition_"+t+"__"}function bs(t,e,n,r,i){var o,a,s,u,l,c=t[n]||(t[n]={active:0,count:0}),h=c[r];function f(n){var i=c.active,f=c[i];for(var p in f&&(f.timer.c=null,f.timer.t=NaN,--c.count,delete c[i],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),c)if(+p<r){var g=c[p];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[p]}a.c=d,Ce(function(){return a.c&&d(n||1)&&(a.c=null,a.t=NaN),1},0,o),c.active=r,h.event&&h.event.start.call(t,t.__data__,e),l=[],h.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&l.push(r)}),u=h.ease,s=h.duration}function d(i){for(var o=i/s,a=u(o),f=l.length;f>0;)l[--f].call(t,a);if(o>=1)return h.event&&h.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}h||(o=i.time,a=Ce(function(t){var e=h.delay;if(a.t=e+o,e<=t)return f(t-e);a.c=f},0,o),h=c[r]={tween:new S,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}vs.call=K.call,vs.empty=K.empty,vs.node=K.node,vs.size=K.size,o.transition=function(t,e){return t&&t.transition?ps?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=vs,vs.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=J(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),bs(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return ds(a,o,i)},vs.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=Q(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(r=h[f]){o=r[s][a],n=t.call(r,r.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&bs(i,p,s,a,o),e.push(i)}return ds(u,s,a)},vs.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=dt(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,u=(a=this[i]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return ds(r,this.namespace,this.id)},vs.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},vs.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?vo:Zi,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}return ys(this,"attr."+t,e,r.local?function(t){return null==t?a:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})})},vs.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},vs.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}return ys(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Zi(i,e),function(e){this.style.setProperty(t,r(e),n)})})})},vs.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,i){var o=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},vs.text=function(t){return ys(this,"text",t,xs)},vs.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},vs.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),pt(this,function(r){r[n][e].ease=t}))},vs.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},vs.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},vs.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=gs,a=ps;try{ps=n,pt(this,function(e,i,o){gs=e[r][n],t.call(e,e.__data__,i,o)})}finally{gs=i,ps=a}}else pt(this,function(i){var a=i[r][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},vs.transition=function(){for(var t,e,n,r=this.id,i=++ms,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l,c=0,h=(l=this[s]).length;c<h;c++)(e=l[c])&&bs(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return ds(a,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),n=ws,r=6,i=6,a=3,u=[10],l=null;function c(s){s.each(function(){var s,c=o.select(this),h=this.__chart__||e,f=this.__chart__=e.copy(),d=null==l?f.ticks?f.ticks.apply(f,u):f.domain():l,p=null==t?f.tickFormat?f.tickFormat.apply(f,u):N:t,g=c.selectAll(".tick").data(d,f),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ot),m=o.transition(g.exit()).style("opacity",Ot).remove(),y=o.transition(g.order()).style("opacity",1),x=Math.max(r,0)+a,_=ha(f),b=c.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),o.transition(b));v.append("line"),v.append("text");var M,S,A,T,O=v.select("line"),C=y.select("line"),I=g.select("text").text(p),k=v.select("text"),D=y.select("text"),L="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Ss,M="x",A="y",S="x2",T="y2",I.attr("dy",L<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+L*i+"V0H"+_[1]+"V"+L*i)):(s=As,M="y",A="x",S="y2",T="x2",I.attr("dy",".32em").style("text-anchor",L<0?"end":"start"),w.attr("d","M"+L*i+","+_[0]+"H0V"+_[1]+"H"+L*i)),O.attr(T,L*r),k.attr(A,L*x),C.attr(S,0).attr(T,L*r),D.attr(M,0).attr(A,L*x),f.rangeBand){var E=f,P=E.rangeBand()/2;h=f=function(t){return E(t)+P}}else h.rangeBand?h=f:m.call(s,f,h);v.call(s,h,f),y.call(s,f,f)})}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in Ms?t+"":ws,c):n},c.ticks=function(){return arguments.length?(u=s(arguments),c):u},c.tickValues=function(t){return arguments.length?(l=t,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],c):r},c.innerTickSize=function(t){return arguments.length?(r=+t,c):r},c.outerTickSize=function(t){return arguments.length?(i=+t,c):i},c.tickPadding=function(t){return arguments.length?(a=+t,c):a},c.tickSubdivide=function(){return arguments.length&&c},c};var ws="bottom",Ms={top:1,right:1,bottom:1,left:1};function Ss(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function As(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}o.svg.brush=function(){var t,e,n=G(f,"brushstart","brush","brushend"),r=null,i=null,a=[0,0],s=[0,0],u=!0,l=!0,h=Os[0];function f(t){t.each(function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(h,N);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ts[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",f.empty()?"none":null);var a,s=o.transition(t),u=o.transition(e);r&&(a=ha(r),u.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),i&&(a=ha(i),u.attr("y",a[0]).attr("height",a[1]-a[0]),g(s)),d(s)})}function d(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+a[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function g(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function v(){var h,v,m=this,y=o.select(o.event.target),x=n.of(m,arguments),_=o.select(m),b=y.datum(),w=!/^(n|s)$/.test(b)&&r,M=!/^(e|w)$/.test(b)&&i,S=y.classed("extent"),A=Mt(m),T=o.mouse(m),O=o.select(c(m)).on("keydown.brush",function(){32==o.event.keyCode&&(S||(h=null,T[0]-=a[1],T[1]-=s[1],S=2),H())}).on("keyup.brush",function(){32==o.event.keyCode&&2==S&&(T[0]+=a[1],T[1]+=s[1],S=0,H())});if(o.event.changedTouches?O.on("touchmove.brush",k).on("touchend.brush",L):O.on("mousemove.brush",k).on("mouseup.brush",L),_.interrupt().selectAll("*").interrupt(),S)T[0]=a[0]-T[0],T[1]=s[0]-T[1];else if(b){var C=+/w$/.test(b),I=+/^n/.test(b);v=[a[1-C]-T[0],s[1-I]-T[1]],T[0]=a[C],T[1]=s[I]}else o.event.altKey&&(h=T.slice());function k(){var t=o.mouse(m),e=!1;v&&(t[0]+=v[0],t[1]+=v[1]),S||(o.event.altKey?(h||(h=[(a[0]+a[1])/2,(s[0]+s[1])/2]),T[0]=a[+(t[0]<h[0])],T[1]=s[+(t[1]<h[1])]):h=null),w&&D(t,r,0)&&(p(_),e=!0),M&&D(t,i,1)&&(g(_),e=!0),e&&(d(_),x({type:"brush",mode:S?"move":"resize"}))}function D(n,r,i){var o,c,f=ha(r),d=f[0],p=f[1],g=T[i],v=i?s:a,m=v[1]-v[0];if(S&&(d-=g,p-=m+g),o=(i?l:u)?Math.max(d,Math.min(p,n[i])):n[i],S?c=(o+=g)+m:(h&&(g=Math.max(d,Math.min(p,2*h[i]-o))),g<o?(c=o,o=g):c=g),v[0]!=o||v[1]!=c)return i?e=null:t=null,v[0]=o,v[1]=c,!0}function L(){k(),_.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),o.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),x({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),x({type:"brushstart"}),k()}return f.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:a,y:s,i:t,j:e},u=this.__chart__||i;this.__chart__=i,ps?o.select(this).transition().each("start.brush",function(){t=u.i,e=u.j,a=u.x,s=u.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=$i(a,i.x),o=$i(s,i.y);return t=e=null,function(t){a=i.x=n(t),s=i.y=o(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},f.x=function(t){return arguments.length?(h=Os[!(r=t)<<1|!i],f):r},f.y=function(t){return arguments.length?(h=Os[!r<<1|!(i=t)],f):i},f.clamp=function(t){return arguments.length?(r&&i?(u=!!t[0],l=!!t[1]):r?u=!!t:i&&(l=!!t),f):r&&i?[u,l]:r?u:i?l:null},f.extent=function(n){var o,u,l,c,h;return arguments.length?(r&&(o=n[0],u=n[1],i&&(o=o[0],u=u[0]),t=[o,u],r.invert&&(o=r(o),u=r(u)),u<o&&(h=o,o=u,u=h),o==a[0]&&u==a[1]||(a=[o,u])),i&&(l=n[0],c=n[1],r&&(l=l[1],c=c[1]),e=[l,c],i.invert&&(l=i(l),c=i(c)),c<l&&(h=l,l=c,c=h),l==s[0]&&c==s[1]||(s=[l,c])),f):(r&&(t?(o=t[0],u=t[1]):(o=a[0],u=a[1],r.invert&&(o=r.invert(o),u=r.invert(u)),u<o&&(h=o,o=u,u=h))),i&&(e?(l=e[0],c=e[1]):(l=s[0],c=s[1],i.invert&&(l=i.invert(l),c=i.invert(c)),c<l&&(h=l,l=c,c=h))),r&&i?[[o,l],[u,c]]:r?[o,u]:i&&[l,c])},f.clear=function(){return f.empty()||(a=[0,0],s=[0,0],t=e=null),f},f.empty=function(){return!!r&&a[0]==a[1]||!!i&&s[0]==s[1]},o.rebind(f,n,"on")};var Ts={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Os=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Cs=Re.format=fn.timeFormat,Is=Cs.utc,ks=Is("%Y-%m-%dT%H:%M:%S.%LZ");function Ds(t){return t.toISOString()}function Ls(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=o.bisect(Ps,r);return i==Ps.length?[e.year,xa(t.map(function(t){return t/31536e6}),n)[2]]:i?e[r/Ps[i-1]<Ps[i]/r?i-1:i]:[Rs,xa(t,n)[2]]}return r.invert=function(e){return Es(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Es)},r.nice=function(t,e){var n=r.domain(),o=ca(n),a=null==t?i(o,10):"number"==typeof t&&i(o,t);function s(n){return!isNaN(n)&&!t.range(n,Es(+n+1),e).length}return a&&(t=a[0],e=a[1]),r.domain(da(n,e>1?{floor:function(e){for(;s(e=t.floor(e));)e=Es(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=Es(+e+1);return e}}:t))},r.ticks=function(t,e){var n=ca(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Es(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Ls(t.copy(),e,n)},ma(r,t)}function Es(t){return new Date(t)}Cs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ds:ks,Ds.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ds.toString=ks.toString,Re.second=Fe(function(t){return new ze(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Re.seconds=Re.second.range,Re.seconds.utc=Re.second.utc.range,Re.minute=Fe(function(t){return new ze(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Re.minutes=Re.minute.range,Re.minutes.utc=Re.minute.utc.range,Re.hour=Fe(function(t){var e=t.getTimezoneOffset()/60;return new ze(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Re.hours=Re.hour.range,Re.hours.utc=Re.hour.utc.range,Re.month=Fe(function(t){return(t=Re.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Re.months=Re.month.range,Re.months.utc=Re.month.utc.range;var Ps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ns=[[Re.second,1],[Re.second,5],[Re.second,15],[Re.second,30],[Re.minute,1],[Re.minute,5],[Re.minute,15],[Re.minute,30],[Re.hour,1],[Re.hour,3],[Re.hour,6],[Re.hour,12],[Re.day,1],[Re.day,2],[Re.week,1],[Re.month,1],[Re.month,3],[Re.year,1]],js=Cs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Kn]]),Rs={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Es)},floor:N,ceil:N};Ns.year=Re.year,Re.scale=function(){return Ls(o.scale.linear(),Ns,js)};var zs=Ns.map(function(t){return[t[0].utc,t[1]]}),Bs=Is.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Kn]]);function Vs(t){return JSON.parse(t.responseText)}function Fs(t){var e=u.createRange();return e.selectNode(u.body),e.createContextualFragment(t.responseText)}zs.year=Re.year.utc,Re.scale.utc=function(){return Ls(o.scale.linear(),zs,Bs)},o.text=be(function(t){return t.responseText}),o.json=function(t,e){return we(t,"application/json",Vs,e)},o.html=function(t,e){return we(t,"text/html",Fs,e)},o.xml=be(function(t){return t.responseXML}),this.d3=o,void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)}()}]));
//# sourceMappingURL=4.ea01ccc5.js.map