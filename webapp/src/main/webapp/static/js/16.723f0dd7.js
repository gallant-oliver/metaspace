webpackJsonp([16],{2060:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(2061),s=a(2066),i=a(108)(n.a,s.a,null,null,null);e.default=i.exports},2061:function(t,e,a){"use strict";var n=a(65),s=a.n(n),i=a(779),r=a(781),o=a(2062),l=a(783),u=a(778),c=a(2065);a.n(c);e.a={components:{DataTable:r.a,ActionGroup:o.a,BreadCrumb:l.a},data:function(){return{page:1,pageSize:10,selecteds:[],formData:{},searchMode:!1}},computed:s()({},Object(i.c)("business",{management:"management"}),{tableData:function(){return this.management},tableProps:function(){var t=this.tableData;return{total:t.total,data:t.list}},paginationProps:function(){var t=this.tableProps.total||0;return{current:this.page,pageSize:this.pageSize,total:t}},isBusinessLoading:function(){return Object(u.d)(this.management.status)},isCompleted:function(){return"supplementalList"===this.$route.name},commonParams:function(){var t=this.page,e=this.pageSize;return{offset:(t-1)*e,limit:e,status:this.isCompleted?"added":"blank"}}}),watch:{isCompleted:function(t){this.queryList(),this.formData={}}},mounted:function(){this.queryList()},methods:s()({},Object(i.b)("business",["getManageTableList"]),{queryList:function(){this.searchMode&&(this.searchMode=!1,this.page=1),this.getManageTableList(s()({},this.commonParams))},findList:function(){this.getManageTableList(s()({},this.formData,this.commonParams))},handleSearch:function(t){this.formData=t,this.page=1,t.ticketNumber||t.name||t.level2CategoryId||t.submitter?(this.searchMode=!0,this.findList()):(this.searchMode=!1,this.queryList())},queryOrFindList:function(){this.searchMode?this.findList():this.queryList()},handlePageChange:function(t){this.page=t,this.queryOrFindList()},handlePageSizeChange:function(t){this.page=1,this.pageSize=t,this.queryOrFindList()},handleSelectionChange:function(t){this.selecteds=t},toDetail:function(t){var e=this.isCompleted;this.$router.push({path:e?"/main/business-manage/supplemental/detail/"+t.businessId:"/main/business-manage/unsupplemental/detail/"+t.businessId})}})}},2062:function(t,e,a){"use strict";var n=a(2063),s=a(2064),i=a(108)(n.a,s.a,null,null,null);e.a=i.exports},2063:function(t,e,a){"use strict";var n=a(65),s=a.n(n),i=a(779);e.a={props:{query:{type:Object,default:function(){return{}}}},data:function(){return{params:s()({},this.query)}},computed:s()({},Object(i.c)("business",{departments:"departments"})),watch:{query:{handler:function(){this.params=s()({},this.query)},deep:!0}},mounted:function(){this.getDepartments()},methods:s()({},Object(i.b)("business",["getDepartments"]),{handleSearch:function(){this.$emit("search",s()({},this.params))}})}},2064:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"query-form"},[a("gs-form",{ref:"queryForm",attrs:{model:t.params,inline:""}},[a("gs-form-item",{attrs:{label:"TicketNum",prop:"TickNum"}},[a("gs-input",{attrs:{placeholder:"请输入TicketNum"},model:{value:t.params.ticketNumber,callback:function(e){t.$set(t.params,"ticketNumber",e)},expression:"params.ticketNumber"}})],1),t._v(" "),a("gs-form-item",{attrs:{label:"业务对象名称",prop:"name"}},[a("gs-input",{attrs:{placeholder:"请输入业务对象名称"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}})],1),t._v(" "),a("gs-form-item",{attrs:{label:"所属二级部门",prop:"level2CategoryId"}},[a("gs-select",{attrs:{placeholder:"请选择所属二级部门",clearable:""},model:{value:t.params.level2CategoryId,callback:function(e){t.$set(t.params,"level2CategoryId",e)},expression:"params.level2CategoryId"}},t._l(t.departments.list,function(t){return a("gs-option",{key:t.guid,attrs:{label:t.name,value:t.guid}})}),1)],1),t._v(" "),a("gs-form-item",{attrs:{label:"提交人",prop:"submitter"}},[a("gs-input",{attrs:{placeholder:"请输入提交人"},model:{value:t.params.submitter,callback:function(e){t.$set(t.params,"submitter",e)},expression:"params.submitter"}})],1),t._v(" "),a("gs-form-item",[a("gs-button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")])],1)],1)],1)},staticRenderFns:[]};e.a=n},2065:function(t,e){},2066:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-list-page"},[a("div",{staticClass:"content-header"},[a("bread-crumb",{attrs:{"current-level":t.isCompleted?"已补充":"待补充"}})],1),t._v(" "),a("div",{staticClass:"content-body"},[a("div",{staticClass:"action-group"},[a("action-group",{attrs:{query:t.formData},on:{search:t.handleSearch}})],1),t._v(" "),a("data-table",{attrs:{loading:t.isBusinessLoading,"table-props":t.tableProps,"pagination-props":t.paginationProps},on:{"selection-change":t.handleSelectionChange,"page-change":t.handlePageChange,"page-size-change":t.handlePageSizeChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ticketNumber",label:"TicketNum"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"业务对象名称","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{title:"查看业务对象名称详情",href:"javascript:void(0);"},on:{click:function(a){return t.toDetail(e.row)}}},[t._v("\n            "+t._s(e.row.name)+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"level2Category",label:"所属二级部门","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.level2Category||"-")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"submitter",label:"提交人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"submissionTime",label:"提交时间","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"businessStatus",label:"业务信息状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{"status-text":!0,"status-finished":"1"===e.row.businessStatus}},[t._v("\n            "+t._s("1"===e.row.businessStatus?"已补充":"待补充")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"technicalStatus",label:"技术信息状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{"status-text":!0,"status-finished":"1"===e.row.technicalStatus}},[t._v("\n            "+t._s("1"===e.row.technicalStatus?"已补充":"待补充")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("gs-button",{attrs:{type:"text-primary"},on:{click:function(a){return t.toDetail(e.row)}}},[t._v("详情")])]}}])})],1)],1)])},staticRenderFns:[]};e.a=n},781:function(t,e,a){"use strict";var n=a(789);e.a=n.a},783:function(t,e,a){"use strict";var n=a(784),s=a(787);a.n(s);e.a=n.a},784:function(t,e,a){"use strict";var n=a(785),s=a(786),i=a(108)(n.a,s.a,null,null,null);e.a=i.exports},785:function(t,e,a){"use strict";e.a={name:"BreadCrumb",props:{currentLevel:{type:String,required:!0},upperLevel:{type:String,default:""},backPath:{type:String,default:""}},data:function(){return{}},computed:{isHideNav:function(){return!!this.$router.currentRoute.query.nav}},methods:{backBtnClick:function(){this.$emit("back")}}}},786:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return!t.upperLevel||t.isHideNav?a("div",{staticClass:"content-header-single"},[t._t("header",[t._v("\n    "+t._s(t.currentLevel)+"\n  ")])],2):a("div",{staticClass:"content-header-both"},[a("div",{staticClass:"back-link"},[a("router-link",{attrs:{to:t.backPath}},[a("gs-button",{staticClass:"back-btn",attrs:{type:"primary"},on:{click:t.backBtnClick}},[a("i",{staticClass:"gs-icon gs-icon-revoke"})])],1)],1),t._v(" "),a("div",{staticClass:"nav-name"},[a("div",{staticClass:"current-nav"},[t._v(t._s(t.currentLevel))]),t._v(" "),a("div",{staticClass:"upper-nav"},[t._v(t._s(t.upperLevel))])])])},staticRenderFns:[]};e.a=n},787:function(t,e){},789:function(t,e,a){"use strict";var n=a(790),s=a(791),i=a(108)(n.a,s.a,null,null,null);e.a=i.exports},790:function(t,e,a){"use strict";e.a={props:{tableProps:{type:Object,default:function(){return{}}},paginationProps:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1}},methods:{sortChange:function(t){var e=t.column,a=t.prop,n=t.order;this.$emit("sort-change",{column:e,prop:a,order:n})},handleSelectionChange:function(t){this.$emit("selection-change",t)},pageChange:function(t){this.$emit("page-change",t)},pageSizeChange:function(t){this.$emit("page-size-change",t)},clearSelection:function(){this.$refs.dataTable.clearSelection()},getTable:function(){return this.$refs.dataTable},doLayout:function(){this.$refs.dataTable.doLayout()}}}},791:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-list"},[a("el-table",t._b({directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataTable",on:{"sort-change":t.sortChange,"selection-change":t.handleSelectionChange}},"el-table",t.tableProps,!1),[t._t("default")],2),t._v(" "),a("gs-pagination",t._b({attrs:{"page-sizes":[10,20,30,40,50,100],layout:t.paginationProps.layout||"range,total,pagesizes,pager,jumper,jumpbtn"},on:{"page-change":t.pageChange,"page-size-change":t.pageSizeChange}},"gs-pagination",t.paginationProps,!1))],1)},staticRenderFns:[]};e.a=n}});
//# sourceMappingURL=16.723f0dd7.js.map