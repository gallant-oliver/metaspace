webpackJsonp([20],{1818:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1819),i=a(1821),s=a(366)(n.a,i.a,null,null,null);e.default=s.exports},1819:function(t,e,a){"use strict";var n=a(1820),i=(a.n(n),a(900));e.a={data:function(){return{keyword:"",tableData:[],pagination:{total:0,pageSize:10,pageSizes:[10,20,30],current:1},loading:!1}},computed:{},created:function(){this.fetchUserList(1)},methods:{fetchUserList:function(){var t=this;1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)&&(this.pagination.current=1),this.loading=!0,i.b({offset:(this.pagination.current-1)*this.pagination.pageSize,limit:this.pagination.pageSize,query:this.keyword}).then(function(e){e.lists.map(function(t){return t.roles=[t.roleName],t}),t.tableData=e.lists,t.pagination.total=e.sum,t.loading=!1}).catch(function(e){t.loading=!1})},pageChange:function(t){this.pagination.current=t,this.fetchUserList()},sizeChange:function(t){this.pagination.pageSize=t,this.fetchUserList(1)},checkDetail:function(t){var e=t.row;e.userId&&this.$router.push("/main/auth/userManagement/"+e.userId)}}}},1820:function(t,e){},1821:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-mangement"},[a("div",{staticClass:"search-box"},[a("gs-search",{attrs:{placeholder:"请输入姓名或帐号"},on:{clear:function(e){t.fetchUserList(1)},search:t.fetchUserList},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),a("gs-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,pagination:t.pagination,paging:""},on:{"size-change":t.sizeChange,"page-change":t.pageChange}},[a("gs-table-column",{attrs:{prop:"account",label:"帐号"}}),t._v(" "),a("gs-table-column",{attrs:{prop:"username",label:"姓名"}}),t._v(" "),a("gs-table-column",{attrs:{prop:"roles",label:"角色"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("gs-table-tags",{attrs:{tags:t.row.roles,"show-count":2}})]}}])}),t._v(" "),a("gs-table-column",{attrs:{label:"操作",width:"100",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("gs-button",{attrs:{type:"text-primary"},on:{click:function(a){t.checkDetail(e)}}},[t._v("详情")])]}}])})],1)],1)},staticRenderFns:[]};e.a=n},900:function(t,e,a){"use strict";e.b=function(t){return n.a.post("/privilege/users",t)},e.a=function(t){return n.a.get("/privilege/users/"+t)};var n=a(733)}});
//# sourceMappingURL=20.412992cc.js.map