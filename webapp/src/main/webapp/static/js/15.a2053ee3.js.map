{"version":3,"sources":["webpack:///./src/views/metadata-management/index.vue","webpack:///index.vue?a59a","webpack:///./src/views/metadata-management/table-filter.vue","webpack:///table-filter.vue","webpack:///./src/views/metadata-management/table-filter.vue?762b","webpack:///./src/views/metadata-management/field-filter.vue","webpack:///field-filter.vue","webpack:///./src/views/metadata-management/field-filter.vue?5003","webpack:///./src/views/metadata-management/index.vue?71c3","webpack:///./src/components/breadcrumb/index.js","webpack:///./src/components/breadcrumb/breadcrumb.vue","webpack:///breadcrumb.vue","webpack:///./src/components/breadcrumb/breadcrumb.vue?60a3"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4f614c97_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","Component","normalizeComponent","keepAlive","name","components","TableFilter","__WEBPACK_IMPORTED_MODULE_1__table_filter_vue__","FieldFilter","__WEBPACK_IMPORTED_MODULE_2__field_filter_vue__","BreadCrumb","__WEBPACK_IMPORTED_MODULE_3_src_components_breadcrumb__","data","refreshCache","showViewType","filter","keyword","type","options","label","table","isLoading","total","currentPage","pageSize","pageSizes","showAllTable","job","updateStatus","updateError","updateInfo","updatePercent","computed","isUpdating","this","isUpdateError","isUpdateSuccess","beforeRouteEnter","to","from","next","meta","beforeRouteLeave","__WEBPACK_IMPORTED_MODULE_6_timers__","activated","init","mounted","methods","getMetaList","getProgress","supplementData","_this","$Modal","confirm","title","content","onOk","__WEBPACK_IMPORTED_MODULE_4_src_service_metadata_management_metadata_management_list__","then","res","that","updateProgress","updated","error","startTime","num","percent","parseFloat","toFixed","getClassName","_ref","row","status","closeAll","_this2","forEach","item","$refs","toggleRowExpansion","toCreateView","$router","push","path","toDetail","tableId","handleExpandShow","_this3","$nextTick","trs","slice","call","$el","querySelectorAll","index","tableList","length","querySelector","style","visibility","refreshData","_this4","__WEBPACK_IMPORTED_MODULE_5_src_service_cache__","handleSearch","catch","_this5","getListByTable","getListByField","reload","_this6","queryKeyword","query","offset","limit","sum","lists","map","i","loading","showMore","rows","$index","databaseId","concat","count","pageChange","newPage","pageSizeChange","newPageSize","expandChange","expandedRows","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_table_filter_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_122442bc_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_table_filter_vue__","props","Boolean","default","searchText","allTableVisible","getStyle","_ref2","virtualTable","display","toTableDetail","getList","arguments","undefined","__WEBPACK_IMPORTED_MODULE_1_src_service_metadata_management_metadata_management_list__","esExports","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","ref","attrs","row-class-name","row-style","class-name","scopedSlots","_u","key","fn","scope","on","click","$event","_v","staticStyle","margin-left","_s","tableName","databaseName","transform","current","page-size","page-sizes","layout","page-change","page-size-change","staticRenderFns","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_field_filter_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0db6c5f6_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_field_filter_vue__","toTableFieldDetail","module","columnName","_e","placement","disabled","current-level","slot","model","callback","$$v","placeholder","search","$set","_l","stripe","expand-change","show-header","prop","show-overflow-tooltip","align","width","show-all-table","refresh-cache","__WEBPACK_IMPORTED_MODULE_0__breadcrumb__","__WEBPACK_IMPORTED_MODULE_1__style__","n","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_breadcrumb_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2fc8051c_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_breadcrumb_vue__","currentLevel","String","required","upperLevel","backPath","isHideNav","currentRoute","nav","backBtnClick","$emit","_t"],"mappings":"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","file":"static/js/15.a2053ee3.js","sourcesContent":["var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f614c97\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/metadata-management/index.vue\n// module id = 1293\n// module chunks = 15","<template>\r\n  <div class=\"metadata-management-page\">\r\n    <!-- atlas的bug，暂时隐藏 -->\r\n    <div class=\"header-action-button\">\r\n      <span\r\n        v-if=\"isLoading\"\r\n        class=\"progress-info\"\r\n      >(同步启动中...)</span>\r\n      <span\r\n        v-if=\"isUpdating\"\r\n        class=\"progress-info\"\r\n      >(同步进度...{{ updateInfo }})</span>\r\n      <span\r\n        v-if=\"isUpdateSuccess\"\r\n        class=\"progress-info\"\r\n      >(同步已完成<gs-icon name=\"check-circle\" />)</span>\r\n      <span\r\n        v-if=\"isUpdateError\"\r\n        class=\"progress-info\"\r\n      >\r\n        (同步发生错误...{{ updateInfo }}\r\n        <gs-tooltip\r\n          :title=\"updateError\"\r\n          placement=\"left\"\r\n        >\r\n          <gs-icon name=\"exclamation-circle\" />\r\n        </gs-tooltip>\r\n        )\r\n      </span>\r\n      <gs-button\r\n        :disabled=\"!!updateInfo && !updateStatus\"\r\n        class=\"supplement-data\"\r\n        type=\"primary\"\r\n        @click=\"supplementData\"\r\n      >增量同步元数据</gs-button>\r\n    </div>\r\n    <div class=\"content-header\">\r\n      <bread-crumb current-level=\"元数据管理\">\r\n        <div\r\n          slot=\"header\"\r\n          class=\"bread-crumb-metadata-header\"\r\n        >元数据管理\r\n          <!-- <span class=\"refresh-data\">\r\n            <a\r\n              @click=\"refreshData\"\r\n            >\r\n              <i\r\n                :class=\"{'animation-rotate': refreshCache}\"\r\n                class=\"iconfont icon-shuaxin2\"\r\n              />\r\n            </a>\r\n          </span> -->\r\n        </div>\r\n      </bread-crumb>\r\n    </div>\r\n    <div class=\"content-body\">\r\n      <div class=\"filter-content\">\r\n        <!-- <gs-button\r\n          type=\"primary\"\r\n          @click=\"toCreateView\"\r\n        >新建离线表</gs-button> -->\r\n        <div class=\"filter\">\r\n          <gs-checkbox\r\n            v-model=\"showAllTable\"\r\n          >显示所有表和库</gs-checkbox>\r\n        </div>\r\n        <div class=\"search-filter\">\r\n          <gs-search\r\n            :disabled=\"refreshCache\"\r\n            v-model=\"filter.keyword\"\r\n            placeholder=\"请输入搜索内容...\"\r\n            @search=\"handleSearch\"\r\n          >\r\n            <template slot=\"prepend\">\r\n              <gs-select\r\n                v-model=\"filter.type\"\r\n                :disabled=\"refreshCache\"\r\n              >\r\n                <gs-option\r\n                  v-for=\"item in options\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                />\r\n              </gs-select>\r\n            </template>\r\n          </gs-search>\r\n        </div>\r\n        <gs-button\r\n          class=\"pull-right expand-all\"\r\n          type=\"text-primary\"\r\n          @click=\"closeAll\"\r\n        >全部收起</gs-button>\r\n      </div>\r\n      <div\r\n        v-loading=\"table.isLoading || refreshCache\"\r\n        v-show=\"showViewType === 0\"\r\n        class=\"relative db-list\"\r\n      >\r\n        <el-table\r\n          ref=\"table\"\r\n          :row-class-name=\"getClassName\"\r\n          :data=\"table.data\"\r\n          stripe\r\n          @expand-change=\"expandChange\"\r\n        >\r\n          <el-table-column type=\"expand\">\r\n            <template slot-scope=\"props\">\r\n              <el-table\r\n                v-loading=\"props.row.loading\"\r\n                :show-header=\"false\"\r\n                :row-class-name=\"getClassName\"\r\n                :data=\"props.row.tableList\"\r\n                stripe\r\n              >\r\n                <el-table-column\r\n                  prop=\"filename\"\r\n                  label=\"数据名称\"\r\n                  show-overflow-tooltip\r\n                >\r\n                  <template\r\n                    slot-scope=\"scope\"\r\n                    class=\"cell el-tooltip\"\r\n                  >\r\n                    <span\r\n                      class=\"title\"\r\n                      @click=\"toDetail(scope.row.tableId)\"\r\n                    >\r\n                      <i\r\n                        class=\"iconfont icon-biaoge icon-item\"\r\n                      />\r\n                      {{ scope.row.tableName }}\r\n                    </span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"description\"\r\n                  label=\"描述\"\r\n                  class-name=\"expand-second-column\"\r\n                  show-overflow-tooltip\r\n                />\r\n                <el-table-column\r\n                  align=\"center\"\r\n                  prop=\"user\"\r\n                  label=\"操作\"\r\n                  width=\"80\"\r\n                >\r\n                  <template slot-scope=\"scope\">\r\n                    <gs-button\r\n                      type=\"text-primary\"\r\n                      @click=\"toDetail(scope.row.tableId)\"\r\n                    >详情</gs-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n              <div\r\n                v-if=\"props.row.tableList.length < props.row.sum\"\r\n                class=\"text-center show-more\"\r\n              >\r\n                <gs-button\r\n                  :loading=\"props.row.loading\"\r\n                  @click=\"showMore(props.row, props.$index)\"\r\n                >点击加载更多</gs-button>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"数据名称\"\r\n            show-overflow-tooltip\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <i\r\n                class=\"iconfont icon-yuanshuju\"\r\n              />\r\n              <span style=\"margin-left: 4px\">{{ scope.row.databaseName }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"描述\"\r\n            prop=\"databaseDescription\"\r\n            show-overflow-tooltip\r\n          />\r\n          <el-table-column\r\n            align=\"center\"\r\n            label=\"操作\"\r\n            width=\"80\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <span>-</span>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <gs-pagination\r\n          v-show=\"table.total>0\"\r\n          :current=\"table.currentPage\"\r\n          :total=\"table.total\"\r\n          :page-size=\"table.pageSize\"\r\n          :page-sizes=\"table.pageSizes\"\r\n          layout=\"range,total,pagesizes,pager,jumper,jumpbtn\"\r\n          @page-change=\"pageChange\"\r\n          @page-size-change=\"pageSizeChange\"\r\n        />\r\n      </div>\r\n      <table-filter\r\n        v-show=\"showViewType === 1\"\r\n        ref=\"table-filter\"\r\n        :show-all-table=\"showAllTable\"\r\n        :refresh-cache=\"refreshCache\"\r\n      />\r\n      <field-filter\r\n        v-show=\"showViewType === 2\"\r\n        ref=\"field-filter\"\r\n        :refresh-cache=\"refreshCache\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport './style';\r\nimport TableFilter from './table-filter.vue';\r\nimport FieldFilter from './field-filter.vue';\r\nimport BreadCrumb from 'src/components/breadcrumb';\r\nimport * as metadataManagementService from 'src/service/metadata-management/metadata-management-list';\r\nimport * as cacheService from 'src/service/cache';\r\nimport { setTimeout, clearTimeout } from 'timers';\r\n// 表每次限制展示的最大行数\r\nconst LIMIT_LINES = 10;\r\n// 是否需要显示缓存界面\r\nlet keepAlive = false;\r\nexport default {\r\n  name: 'MetadataManagement',\r\n  components: {\r\n    TableFilter,\r\n    FieldFilter,\r\n    BreadCrumb\r\n  },\r\n  data() {\r\n    return {\r\n      refreshCache: false, // 强制刷新缓存\r\n      showViewType: 0, // 0 库列表  1 按表搜索列表 2 按字段搜索列表\r\n      filter: {\r\n        // 搜索关键词\r\n        keyword: '',\r\n        // 类型\r\n        type: 0\r\n      },\r\n      options: [\r\n        {\r\n          value: 0,\r\n          label: '库'\r\n        },\r\n        {\r\n          value: 1,\r\n          label: '表'\r\n        },\r\n        {\r\n          value: 2,\r\n          label: '字段'\r\n        }\r\n      ],\r\n      table: {\r\n        isLoading: false,\r\n        data: [],\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        pageSizes: [10, 20, 30, 40, 50, 100]\r\n      },\r\n      showAllTable: true,\r\n      job: null,\r\n      updateStatus: '',\r\n      updateError: '',\r\n      updateInfo: '',\r\n      updatePercent: 0,\r\n      isLoading: false\r\n    };\r\n  },\r\n  computed: {\r\n    isUpdating() {\r\n      const {\r\n        updateInfo,\r\n        updateStatus,\r\n        isLoading\r\n      } = this;\r\n      return updateInfo && updateStatus !== 'error' && updateStatus !== 'success' && !isLoading;\r\n    },\r\n    isUpdateError() {\r\n      return this.updateStatus === 'error';\r\n    },\r\n    isUpdateSuccess() {\r\n      return this.updateStatus === 'success';\r\n    }\r\n  },\r\n  /**\r\n   * 进入页面触发\r\n   */\r\n  beforeRouteEnter(to, from, next) {\r\n    // 获取当前访问是否需要显示缓存页面\r\n    keepAlive = to.meta.keepAlive;\r\n    next();\r\n  },\r\n  /**\r\n   * 路由跳转前触发\r\n   */\r\n  beforeRouteLeave(to, from, next) {\r\n    // 设置不需要缓存\r\n    from.meta.keepAlive = false;\r\n    clearTimeout(this.job);\r\n    next();\r\n  },\r\n  /**\r\n   *keep-alive的钩子函数\r\n   */\r\n  activated() {\r\n    // 判断不需要缓存情况下刷新\r\n    if (keepAlive === false) {\r\n      this.showViewType = 0;\r\n      this.filter.keyword = '';\r\n      this.filter.type = 0;\r\n      this.table.data = [];\r\n      this.table.total = 0;\r\n      this.table.currentPage = 1;\r\n      this.table.pageSize = 10;\r\n      this.init();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    /**\r\n     * 初始化\r\n     */\r\n    init() {\r\n      this.getMetaList(true);\r\n      this.getProgress();\r\n    },\r\n    /**\r\n     * 补全元数据\r\n     */\r\n    supplementData() {\r\n      this.$Modal.confirm({\r\n        title: '提示',\r\n        content: '增量同步元数据需要花费较长时间，确认开始同步吗？',\r\n        onOk: () => {\r\n          metadataManagementService.synchronizeData().then(res => {\r\n            this.getProgress();\r\n          });\r\n        }\r\n      });\r\n    },\r\n    getProgress() {\r\n      const that = this;\r\n      function updateProgress() {\r\n        metadataManagementService.getProgress().then(res => {\r\n          const {total, updated, error, startTime} = res;\r\n          if (!total && !startTime) {\r\n            that.updateInfo = '';\r\n            return;\r\n          }\r\n          if (!error) {\r\n            const num = updated / total * 100;\r\n            const percent = parseFloat(num.toFixed(1));\r\n            that.updatePercent = percent;\r\n            that.updateInfo = updated + '/' + total;\r\n            if (num === 100) {\r\n              that.isLoading = false;\r\n              that.updateStatus = 'success';\r\n              clearTimeout(that.job);\r\n            } else {\r\n              if (!total) {\r\n                that.isLoading = true;\r\n                that.updateStatus = '';\r\n                that.job = setTimeout(updateProgress, 10000);\r\n              } else {\r\n                that.isLoading = false;\r\n                that.updateStatus = '';\r\n                that.job = setTimeout(updateProgress, 10000);\r\n              }\r\n            }\r\n          } else {\r\n            that.isLoading = false;\r\n            that.updateStatus = 'error';\r\n            that.updateError = error;\r\n            clearTimeout(that.job);\r\n          }\r\n        });\r\n      }\r\n      that.job = setTimeout(updateProgress, 0);\r\n    },\r\n    /**\r\n     * 获取列类名\r\n     */\r\n    getClassName({row}) {\r\n      if (row.status === 'DELETED') {\r\n        return this.showAllTable ? 'delete-status' : 'hide-row';\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    /**\r\n     * 收起全部表格\r\n     */\r\n    closeAll() {\r\n      this.table.data.forEach(item => {\r\n        this.$refs['table'].toggleRowExpansion(item, false);\r\n      });\r\n    },\r\n    /**\r\n     * 跳转到新建页面\r\n     */\r\n    toCreateView() {\r\n      this.$router.push({\r\n        path: '/main/metadata/create'\r\n      });\r\n    },\r\n    /**\r\n     * 跳转到详情界面\r\n     */\r\n    toDetail(tableId) {\r\n      this.$router.push({\r\n        path: `/main/metadata/detail/${tableId}`\r\n      });\r\n    },\r\n    /**\r\n     * 处理没有子元素的不展示展开图标\r\n     */\r\n    handleExpandShow() {\r\n      this.$nextTick(() => {\r\n        // 判断节点是否存在（快速切换路由，会导致页面销毁，该方法才执行的情况）\r\n        if (!this.$refs['table']) {\r\n          return;\r\n        }\r\n        const trs = [].slice.call(this.$refs['table'].$el.querySelectorAll('.el-table__row'));\r\n        this.table.data.forEach((row, index) => {\r\n          if (!row.tableList.length) {\r\n            trs[index].querySelector('.el-table__expand-column .cell').style.visibility = 'hidden';\r\n          } else {\r\n            trs[index].querySelector('.el-table__expand-column .cell').style.visibility = 'visible';\r\n          }\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 强制刷新页面\r\n     */\r\n    refreshData() {\r\n      if (this.refreshCache) {\r\n        return;\r\n      }\r\n      this.refreshCache = true;\r\n      cacheService.refreshDataCache().then((res) => {\r\n        this.handleSearch();\r\n      }).catch((res) => {\r\n        this.refreshCache = false;\r\n      });\r\n    },\r\n    /**\r\n     * 搜索逻辑处理\r\n     */\r\n    handleSearch() {\r\n      switch (this.filter.type) {\r\n        // 按库搜索列表\r\n        case 0:\r\n          this.showViewType = 0;\r\n          this.getMetaList(!this.refreshCache, this.refreshCache).then(res => {\r\n            this.refreshCache = false;\r\n          });\r\n          break;\r\n        // 按表搜索列表\r\n        case 1:\r\n          this.showViewType = 1;\r\n          this.$nextTick(() => {\r\n            this.$refs['table-filter'].getListByTable(this.filter.keyword, this.refreshCache).then(res => {\r\n              this.refreshCache = false;\r\n            });\r\n          });\r\n          break;\r\n        // 按字段搜索列表\r\n        case 2:\r\n          this.showViewType = 2;\r\n          this.$nextTick(() => {\r\n            this.$refs['field-filter'].getListByField(this.filter.keyword, this.refreshCache).then(res => {\r\n              this.refreshCache = false;\r\n            });\r\n          });\r\n          break;\r\n      }\r\n    },\r\n    /**\r\n     * 查询列表\r\n     * reload 是否重新加载，将查询页数置为1\r\n     */\r\n    getMetaList(reload, refreshCache) {\r\n      this.table.isLoading = true;\r\n      if (reload) {\r\n        this.table.currentPage = 1;\r\n      }\r\n      const queryKeyword = this.filter.keyword;\r\n      return metadataManagementService.getMetadataList({\r\n        query: this.filter.keyword,\r\n        offset: (this.table.currentPage - 1) * this.table.pageSize,\r\n        limit: this.table.pageSize\r\n      }).then((res) => {\r\n        // 重复请求处理\r\n        if (this.filter.keyword !== queryKeyword) {\r\n          return;\r\n        }\r\n        this.table.isLoading = false;\r\n        // 设置总条数，根据返回数组数量是否等于页面选择显示数量+1，判断是否还有下一页\r\n        this.table.total = res.sum;\r\n        // 处理数据表前端分页逻辑\r\n        res.lists.forEach(row => {\r\n          row.tableList = [];\r\n        });\r\n\r\n        this.table.data = res.lists.map(i => {\r\n          i.tableList = [];\r\n          i.loading = false;\r\n          return i;\r\n        });\r\n        // this.handleExpandShow();\r\n      }).catch((res) => {\r\n        this.table.isLoading = false;\r\n      });\r\n    },\r\n    /**\r\n     * 点击展开更多逻辑处理\r\n     */\r\n    showMore(rows, $index) {\r\n      // if (row.showTableList.length < row.tableList.length) {\r\n      //   row.showTableList.push(...row.tableList.slice(row.showTableList.length, row.showTableList.length + LIMIT_LINES));\r\n      // }\r\n      rows.loading = true;\r\n      metadataManagementService.getTables({\r\n        databaseId: rows.databaseId,\r\n        offset: rows.offset + LIMIT_LINES,\r\n        limit: 10\r\n      }).then(res => {\r\n        rows.tableList = rows.tableList.concat(res.lists);\r\n        rows.offset = res.offset;\r\n        rows.count = res.count;\r\n        rows.sum = res.sum;\r\n        rows.loading = false;\r\n      });\r\n    },\r\n    /**\r\n     * 当前页改变事件\r\n     */\r\n    pageChange(newPage) {\r\n      this.table.currentPage = newPage;\r\n      this.getMetaList();\r\n    },\r\n    /**\r\n     * 每页显示条数改变事件\r\n     */\r\n    pageSizeChange(newPageSize) {\r\n      this.table.pageSize = newPageSize;\r\n      this.table.currentPage = 1;\r\n      this.getMetaList();\r\n    },\r\n    expandChange(rows, expandedRows) {\r\n      if (rows.tableList && rows.tableList.length) {\r\n      } else {\r\n        rows.loading = true;\r\n        metadataManagementService.getTables({\r\n          databaseId: rows.databaseId,\r\n          offset: 0,\r\n          limit: 10\r\n        }).then(res => {\r\n          rows.tableList = res.lists;\r\n          rows.offset = res.offset;\r\n          rows.count = res.count;\r\n          rows.sum = res.sum;\r\n          rows.loading = false;\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?5d086a50","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./table-filter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-122442bc\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./table-filter.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/metadata-management/table-filter.vue\n// module id = 1296\n// module chunks = 15","<template>\r\n  <div class=\"metadata-management-table-filter-page\">\r\n    <div\r\n      v-loading=\"table.isLoading || refreshCache\"\r\n      class=\"relative\"\r\n    >\r\n      <el-table\r\n        ref=\"table\"\r\n        :row-class-name=\"getClassName\"\r\n        :data=\"table.data\"\r\n        :row-style=\"getStyle\"\r\n      >\r\n        <el-table-column class-name=\"cell-filter-item\">\r\n          <template\r\n            slot-scope=\"scope\"\r\n          >\r\n            <div>\r\n              <a @click=\"toTableDetail(scope.row.tableId)\">\r\n                <i\r\n                  class=\"iconfont icon-biaoge icon-item\"\r\n                />\r\n                <span style=\"margin-left: 4px\">{{ scope.row.tableName }}</span>\r\n              </a>\r\n            </div>\r\n            <div>\r\n              <i\r\n                class=\"iconfont icon-yuanshuju\"\r\n              />\r\n              <span style=\"margin-left: 4px\">{{ scope.row.databaseName }}</span>\r\n              <i\r\n                :style=\"{transform: 'rotate(-90deg)'}\"\r\n                class=\"gs-icon-down\"\r\n              />\r\n              <i\r\n                class=\"iconfont icon-biaoge icon-item\"\r\n              />\r\n              <span style=\"margin-left: 4px\">{{ scope.row.tableName }}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <gs-pagination\r\n        v-show=\"table.total>0\"\r\n        :current=\"table.currentPage\"\r\n        :total=\"table.total\"\r\n        :page-size=\"table.pageSize\"\r\n        :page-sizes=\"table.pageSizes\"\r\n        layout=\"range,total,pagesizes,pager,jumper,jumpbtn\"\r\n        @page-change=\"pageChange\"\r\n        @page-size-change=\"pageSizeChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport './table-filter.scss';\r\nimport * as metadataManagementService from 'src/service/metadata-management/metadata-management-list';\r\nexport default {\r\n  props: {\r\n    refreshCache: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    showAllTable: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      searchText: this.searchText,\r\n      table: {\r\n        isLoading: false,\r\n        data: [\r\n        ],\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        pageSizes: [10, 20, 30, 40, 50, 100]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    allTableVisible() {\r\n      return this.showAllTable;\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 获取列类名\r\n     */\r\n    getClassName({row}) {\r\n      return row.status === 'DELETED' ? 'delete-status' : '';\r\n    },\r\n    getStyle({row}) {\r\n      if (!this.allTableVisible && (row.status === 'DELETED' || row.virtualTable)) {\r\n        return {'display': 'none'};\r\n      }\r\n    },\r\n    /**\r\n     * 跳转到表详情\r\n     */\r\n    toTableDetail(tableId) {\r\n      this.$router.push({\r\n        path: `/main/metadata/detail/${tableId}`\r\n      });\r\n    },\r\n    /**\r\n     * 供父组件调用查询方法\r\n     */\r\n    getListByTable(searchText, refreshCache) {\r\n      this.searchText = searchText;\r\n      return this.getList(!refreshCache, refreshCache);\r\n    },\r\n    /**\r\n     * 获取列表\r\n     * @reload 是否重新加载，将查询页数置为1\r\n     */\r\n    getList(reload, refreshCache = false) {\r\n      this.table.isLoading = true;\r\n      if (reload) {\r\n        this.table.currentPage = 1;\r\n      }\r\n      const queryKeyword = this.searchText;\r\n      return metadataManagementService.getMetadataTable({\r\n        query: this.searchText,\r\n        offset: (this.table.currentPage - 1) * this.table.pageSize,\r\n        limit: this.table.pageSize\r\n      }).then((res) => {\r\n        // 重复请求处理\r\n        if (this.searchText !== queryKeyword) {\r\n          return;\r\n        }\r\n        this.table.isLoading = false;\r\n        this.table.total = res.sum;\r\n        this.table.data = res.lists;\r\n      }).catch((res) => {\r\n        this.table.isLoading = false;\r\n      });\r\n    },\r\n    /**\r\n     * 当前页改变事件\r\n     */\r\n    pageChange(newPage) {\r\n      this.table.currentPage = newPage;\r\n      this.getList();\r\n    },\r\n    /**\r\n     * 每页显示条数改变事件\r\n     */\r\n    pageSizeChange(newPageSize) {\r\n      this.table.pageSize = newPageSize;\r\n      this.table.currentPage = 1;\r\n      this.getList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// table-filter.vue?6f41d39e","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"metadata-management-table-filter-page\"\n  }, [_c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.table.isLoading || _vm.refreshCache),\n      expression: \"table.isLoading || refreshCache\"\n    }],\n    staticClass: \"relative\"\n  }, [_c('el-table', {\n    ref: \"table\",\n    attrs: {\n      \"row-class-name\": _vm.getClassName,\n      \"data\": _vm.table.data,\n      \"row-style\": _vm.getStyle\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"class-name\": \"cell-filter-item\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_c('a', {\n          on: {\n            \"click\": function($event) {\n              return _vm.toTableDetail(scope.row.tableId)\n            }\n          }\n        }, [_c('i', {\n          staticClass: \"iconfont icon-biaoge icon-item\"\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"4px\"\n          }\n        }, [_vm._v(_vm._s(scope.row.tableName))])])]), _vm._v(\" \"), _c('div', [_c('i', {\n          staticClass: \"iconfont icon-yuanshuju\"\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"4px\"\n          }\n        }, [_vm._v(_vm._s(scope.row.databaseName))]), _vm._v(\" \"), _c('i', {\n          staticClass: \"gs-icon-down\",\n          style: ({\n            transform: 'rotate(-90deg)'\n          })\n        }), _vm._v(\" \"), _c('i', {\n          staticClass: \"iconfont icon-biaoge icon-item\"\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"4px\"\n          }\n        }, [_vm._v(_vm._s(scope.row.tableName))])])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('gs-pagination', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.table.total > 0),\n      expression: \"table.total>0\"\n    }],\n    attrs: {\n      \"current\": _vm.table.currentPage,\n      \"total\": _vm.table.total,\n      \"page-size\": _vm.table.pageSize,\n      \"page-sizes\": _vm.table.pageSizes,\n      \"layout\": \"range,total,pagesizes,pager,jumper,jumpbtn\"\n    },\n    on: {\n      \"page-change\": _vm.pageChange,\n      \"page-size-change\": _vm.pageSizeChange\n    }\n  })], 1)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-122442bc\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/metadata-management/table-filter.vue\n// module id = 1298\n// module chunks = 15","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./field-filter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0db6c5f6\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./field-filter.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/metadata-management/field-filter.vue\n// module id = 1299\n// module chunks = 15","<template>\r\n  <div class=\"metadata-management-field-filter-page\">\r\n    <div\r\n      v-loading=\"table.isLoading || refreshCache\"\r\n      class=\"relative\"\r\n    >\r\n      <el-table\r\n        ref=\"table\"\r\n        :row-class-name=\"getClassName\"\r\n        :data=\"table.data\"\r\n      >\r\n        <el-table-column class-name=\"cell-filter-item\">\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <a @click=\"toTableFieldDetail(scope.row.tableId)\">\r\n                <i\r\n                  class=\"iconfont icon-ziduantubiao\"\r\n                />\r\n                <span style=\"margin-left: 4px\">{{ scope.row.columnName }}</span>\r\n              </a>\r\n            </div>\r\n            <div>\r\n              <i\r\n                class=\"iconfont icon-yuanshuju\"\r\n              />\r\n              <span style=\"margin-left: 4px\">{{ scope.row.databaseName }}</span>\r\n              <i\r\n                :style=\"{transform: 'rotate(-90deg)'}\"\r\n                class=\"gs-icon-down\"\r\n              />\r\n              <i\r\n                class=\"iconfont icon-biaoge icon-item\"\r\n              />\r\n              <span style=\"margin-left: 4px\">{{ scope.row.tableName }}</span>\r\n              <i\r\n                :style=\"{transform: 'rotate(-90deg)'}\"\r\n                class=\"gs-icon-down\"\r\n              />\r\n              <i\r\n                class=\"iconfont icon-ziduantubiao icon-item\"\r\n              />\r\n              <span style=\"margin-left: 4px\">{{ scope.row.columnName }}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <gs-pagination\r\n        v-show=\"table.total>0\"\r\n        :current=\"table.currentPage\"\r\n        :total=\"table.total\"\r\n        :page-size=\"table.pageSize\"\r\n        :page-sizes=\"table.pageSizes\"\r\n        layout=\"range,total,pagesizes,pager,jumper,jumpbtn\"\r\n        @page-change=\"pageChange\"\r\n        @page-size-change=\"pageSizeChange\"\r\n      />\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport './table-filter.scss';\r\nimport * as metadataManagementService from 'src/service/metadata-management/metadata-management-list';\r\nexport default {\r\n  props: {\r\n    refreshCache: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      searchText: null,\r\n      table: {\r\n        isLoading: false,\r\n        data: [],\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        pageSizes: [10, 20, 30, 40, 50, 100]\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    /**\r\n     * 获取列类名\r\n     */\r\n    getClassName({row}) {\r\n      return row.status === 'DELETED' ? 'delete-status' : '';\r\n    },\r\n    /**\r\n     * 跳转到表详情\r\n     */\r\n    toTableFieldDetail(tableId) {\r\n      this.$router.push({\r\n        path: `/main/metadata/detail/${tableId}`,\r\n        query: {\r\n          module: 'field'\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 供父组件调用查询方法\r\n     */\r\n    getListByField(searchText, refreshCache) {\r\n      this.searchText = searchText;\r\n      return this.getList(!refreshCache, refreshCache);\r\n    },\r\n    /**\r\n     * 获取列表\r\n     * @reload 是否重新加载，将查询页数置为1\r\n     */\r\n    getList(reload, refreshCache = false) {\r\n      this.table.isLoading = true;\r\n      if (reload) {\r\n        this.table.currentPage = 1;\r\n      }\r\n      const queryKeyword = this.searchText;\r\n      return metadataManagementService.getColumnList({\r\n        query: this.searchText,\r\n        offset: (this.table.currentPage - 1) * this.table.pageSize,\r\n        limit: this.table.pageSize\r\n      }).then((res) => {\r\n        // 重复请求处理\r\n        if (this.searchText !== queryKeyword) {\r\n          return;\r\n        }\r\n        this.table.isLoading = false;\r\n        this.table.total = res.sum;\r\n        this.table.data = res.lists;\r\n      }).catch((res) => {\r\n        this.table.isLoading = false;\r\n      });\r\n    },\r\n    /**\r\n     * 当前页改变事件\r\n     */\r\n    pageChange(newPage) {\r\n      this.table.currentPage = newPage;\r\n      this.getList();\r\n    },\r\n    /**\r\n     * 每页显示条数改变事件\r\n     */\r\n    pageSizeChange(newPageSize) {\r\n      this.table.pageSize = newPageSize;\r\n      this.table.currentPage = 1;\r\n      this.getList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// field-filter.vue?1d9c957b","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"metadata-management-field-filter-page\"\n  }, [_c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.table.isLoading || _vm.refreshCache),\n      expression: \"table.isLoading || refreshCache\"\n    }],\n    staticClass: \"relative\"\n  }, [_c('el-table', {\n    ref: \"table\",\n    attrs: {\n      \"row-class-name\": _vm.getClassName,\n      \"data\": _vm.table.data\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"class-name\": \"cell-filter-item\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_c('a', {\n          on: {\n            \"click\": function($event) {\n              return _vm.toTableFieldDetail(scope.row.tableId)\n            }\n          }\n        }, [_c('i', {\n          staticClass: \"iconfont icon-ziduantubiao\"\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"4px\"\n          }\n        }, [_vm._v(_vm._s(scope.row.columnName))])])]), _vm._v(\" \"), _c('div', [_c('i', {\n          staticClass: \"iconfont icon-yuanshuju\"\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"4px\"\n          }\n        }, [_vm._v(_vm._s(scope.row.databaseName))]), _vm._v(\" \"), _c('i', {\n          staticClass: \"gs-icon-down\",\n          style: ({\n            transform: 'rotate(-90deg)'\n          })\n        }), _vm._v(\" \"), _c('i', {\n          staticClass: \"iconfont icon-biaoge icon-item\"\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"4px\"\n          }\n        }, [_vm._v(_vm._s(scope.row.tableName))]), _vm._v(\" \"), _c('i', {\n          staticClass: \"gs-icon-down\",\n          style: ({\n            transform: 'rotate(-90deg)'\n          })\n        }), _vm._v(\" \"), _c('i', {\n          staticClass: \"iconfont icon-ziduantubiao icon-item\"\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"4px\"\n          }\n        }, [_vm._v(_vm._s(scope.row.columnName))])])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('gs-pagination', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.table.total > 0),\n      expression: \"table.total>0\"\n    }],\n    attrs: {\n      \"current\": _vm.table.currentPage,\n      \"total\": _vm.table.total,\n      \"page-size\": _vm.table.pageSize,\n      \"page-sizes\": _vm.table.pageSizes,\n      \"layout\": \"range,total,pagesizes,pager,jumper,jumpbtn\"\n    },\n    on: {\n      \"page-change\": _vm.pageChange,\n      \"page-size-change\": _vm.pageSizeChange\n    }\n  })], 1)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0db6c5f6\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/metadata-management/field-filter.vue\n// module id = 1301\n// module chunks = 15","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"metadata-management-page\"\n  }, [_c('div', {\n    staticClass: \"header-action-button\"\n  }, [(_vm.isLoading) ? _c('span', {\n    staticClass: \"progress-info\"\n  }, [_vm._v(\"(同步启动中...)\")]) : _vm._e(), _vm._v(\" \"), (_vm.isUpdating) ? _c('span', {\n    staticClass: \"progress-info\"\n  }, [_vm._v(\"(同步进度...\" + _vm._s(_vm.updateInfo) + \")\")]) : _vm._e(), _vm._v(\" \"), (_vm.isUpdateSuccess) ? _c('span', {\n    staticClass: \"progress-info\"\n  }, [_vm._v(\"(同步已完成\"), _c('gs-icon', {\n    attrs: {\n      \"name\": \"check-circle\"\n    }\n  }), _vm._v(\")\")], 1) : _vm._e(), _vm._v(\" \"), (_vm.isUpdateError) ? _c('span', {\n    staticClass: \"progress-info\"\n  }, [_vm._v(\"\\n      (同步发生错误...\" + _vm._s(_vm.updateInfo) + \"\\n      \"), _c('gs-tooltip', {\n    attrs: {\n      \"title\": _vm.updateError,\n      \"placement\": \"left\"\n    }\n  }, [_c('gs-icon', {\n    attrs: {\n      \"name\": \"exclamation-circle\"\n    }\n  })], 1), _vm._v(\"\\n      )\\n    \")], 1) : _vm._e(), _vm._v(\" \"), _c('gs-button', {\n    staticClass: \"supplement-data\",\n    attrs: {\n      \"disabled\": !!_vm.updateInfo && !_vm.updateStatus,\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.supplementData\n    }\n  }, [_vm._v(\"增量同步元数据\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"content-header\"\n  }, [_c('bread-crumb', {\n    attrs: {\n      \"current-level\": \"元数据管理\"\n    }\n  }, [_c('div', {\n    staticClass: \"bread-crumb-metadata-header\",\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_vm._v(\"元数据管理\\n        \")])])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"content-body\"\n  }, [_c('div', {\n    staticClass: \"filter-content\"\n  }, [_c('div', {\n    staticClass: \"filter\"\n  }, [_c('gs-checkbox', {\n    model: {\n      value: (_vm.showAllTable),\n      callback: function($$v) {\n        _vm.showAllTable = $$v\n      },\n      expression: \"showAllTable\"\n    }\n  }, [_vm._v(\"显示所有表和库\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"search-filter\"\n  }, [_c('gs-search', {\n    attrs: {\n      \"disabled\": _vm.refreshCache,\n      \"placeholder\": \"请输入搜索内容...\"\n    },\n    on: {\n      \"search\": _vm.handleSearch\n    },\n    model: {\n      value: (_vm.filter.keyword),\n      callback: function($$v) {\n        _vm.$set(_vm.filter, \"keyword\", $$v)\n      },\n      expression: \"filter.keyword\"\n    }\n  }, [_c('template', {\n    slot: \"prepend\"\n  }, [_c('gs-select', {\n    attrs: {\n      \"disabled\": _vm.refreshCache\n    },\n    model: {\n      value: (_vm.filter.type),\n      callback: function($$v) {\n        _vm.$set(_vm.filter, \"type\", $$v)\n      },\n      expression: \"filter.type\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _c('gs-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  }), 1)], 1)], 2)], 1), _vm._v(\" \"), _c('gs-button', {\n    staticClass: \"pull-right expand-all\",\n    attrs: {\n      \"type\": \"text-primary\"\n    },\n    on: {\n      \"click\": _vm.closeAll\n    }\n  }, [_vm._v(\"全部收起\")])], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.table.isLoading || _vm.refreshCache),\n      expression: \"table.isLoading || refreshCache\"\n    }, {\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showViewType === 0),\n      expression: \"showViewType === 0\"\n    }],\n    staticClass: \"relative db-list\"\n  }, [_c('el-table', {\n    ref: \"table\",\n    attrs: {\n      \"row-class-name\": _vm.getClassName,\n      \"data\": _vm.table.data,\n      \"stripe\": \"\"\n    },\n    on: {\n      \"expand-change\": _vm.expandChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"expand\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(props) {\n        return [_c('el-table', {\n          directives: [{\n            name: \"loading\",\n            rawName: \"v-loading\",\n            value: (props.row.loading),\n            expression: \"props.row.loading\"\n          }],\n          attrs: {\n            \"show-header\": false,\n            \"row-class-name\": _vm.getClassName,\n            \"data\": props.row.tableList,\n            \"stripe\": \"\"\n          }\n        }, [_c('el-table-column', {\n          attrs: {\n            \"prop\": \"filename\",\n            \"label\": \"数据名称\",\n            \"show-overflow-tooltip\": \"\"\n          },\n          scopedSlots: _vm._u([{\n            key: \"default\",\n            fn: function(scope) {\n              return [_c('span', {\n                staticClass: \"title\",\n                on: {\n                  \"click\": function($event) {\n                    return _vm.toDetail(scope.row.tableId)\n                  }\n                }\n              }, [_c('i', {\n                staticClass: \"iconfont icon-biaoge icon-item\"\n              }), _vm._v(\"\\n                    \" + _vm._s(scope.row.tableName) + \"\\n                  \")])]\n            }\n          }], null, true)\n        }), _vm._v(\" \"), _c('el-table-column', {\n          attrs: {\n            \"prop\": \"description\",\n            \"label\": \"描述\",\n            \"class-name\": \"expand-second-column\",\n            \"show-overflow-tooltip\": \"\"\n          }\n        }), _vm._v(\" \"), _c('el-table-column', {\n          attrs: {\n            \"align\": \"center\",\n            \"prop\": \"user\",\n            \"label\": \"操作\",\n            \"width\": \"80\"\n          },\n          scopedSlots: _vm._u([{\n            key: \"default\",\n            fn: function(scope) {\n              return [_c('gs-button', {\n                attrs: {\n                  \"type\": \"text-primary\"\n                },\n                on: {\n                  \"click\": function($event) {\n                    return _vm.toDetail(scope.row.tableId)\n                  }\n                }\n              }, [_vm._v(\"详情\")])]\n            }\n          }], null, true)\n        })], 1), _vm._v(\" \"), (props.row.tableList.length < props.row.sum) ? _c('div', {\n          staticClass: \"text-center show-more\"\n        }, [_c('gs-button', {\n          attrs: {\n            \"loading\": props.row.loading\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.showMore(props.row, props.$index)\n            }\n          }\n        }, [_vm._v(\"点击加载更多\")])], 1) : _vm._e()]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"数据名称\",\n      \"show-overflow-tooltip\": \"\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('i', {\n          staticClass: \"iconfont icon-yuanshuju\"\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"4px\"\n          }\n        }, [_vm._v(_vm._s(scope.row.databaseName))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"databaseDescription\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"label\": \"操作\",\n      \"width\": \"80\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', [_vm._v(\"-\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('gs-pagination', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.table.total > 0),\n      expression: \"table.total>0\"\n    }],\n    attrs: {\n      \"current\": _vm.table.currentPage,\n      \"total\": _vm.table.total,\n      \"page-size\": _vm.table.pageSize,\n      \"page-sizes\": _vm.table.pageSizes,\n      \"layout\": \"range,total,pagesizes,pager,jumper,jumpbtn\"\n    },\n    on: {\n      \"page-change\": _vm.pageChange,\n      \"page-size-change\": _vm.pageSizeChange\n    }\n  })], 1), _vm._v(\" \"), _c('table-filter', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showViewType === 1),\n      expression: \"showViewType === 1\"\n    }],\n    ref: \"table-filter\",\n    attrs: {\n      \"show-all-table\": _vm.showAllTable,\n      \"refresh-cache\": _vm.refreshCache\n    }\n  }), _vm._v(\" \"), _c('field-filter', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showViewType === 2),\n      expression: \"showViewType === 2\"\n    }],\n    ref: \"field-filter\",\n    attrs: {\n      \"refresh-cache\": _vm.refreshCache\n    }\n  })], 1)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f614c97\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/metadata-management/index.vue\n// module id = 1302\n// module chunks = 15","import BreadCrumb from './breadcrumb';\r\nimport './style';\r\n\r\nexport default BreadCrumb;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/breadcrumb/index.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./breadcrumb.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2fc8051c\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./breadcrumb.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/breadcrumb/breadcrumb.vue\n// module id = 777\n// module chunks = 5 6 7 8 9 10 12 15 16 18 21 22","<template>\r\n  <div\r\n    v-if=\"!upperLevel || isHideNav\"\r\n    class=\"content-header-single\"\r\n  >\r\n    <slot name=\"header\">\r\n      {{ currentLevel }}\r\n    </slot>\r\n  </div>\r\n  <div\r\n    v-else\r\n    class=\"content-header-both\"\r\n  >\r\n    <div class=\"back-link\">\r\n      <router-link :to=\"backPath\">\r\n        <gs-button\r\n          class=\"back-btn\"\r\n          type=\"primary\"\r\n          @click=\"backBtnClick\"\r\n        >\r\n          <i class=\"gs-icon gs-icon-revoke\" />\r\n        </gs-button>\r\n      </router-link>\r\n    </div>\r\n    <div class=\"nav-name\">\r\n      <div class=\"current-nav\">{{ currentLevel }}</div>\r\n      <div class=\"upper-nav\">{{ upperLevel }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BreadCrumb',\r\n  props: {\r\n    currentLevel: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    upperLevel: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    backPath: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    isHideNav() {\r\n      return !!this.$router.currentRoute.query.nav;\r\n    }\r\n  },\r\n  methods: {\r\n    backBtnClick() {\r\n      this.$emit('back');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// breadcrumb.vue?6b5ee331","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (!_vm.upperLevel || _vm.isHideNav) ? _c('div', {\n    staticClass: \"content-header-single\"\n  }, [_vm._t(\"header\", [_vm._v(\"\\n    \" + _vm._s(_vm.currentLevel) + \"\\n  \")])], 2) : _c('div', {\n    staticClass: \"content-header-both\"\n  }, [_c('div', {\n    staticClass: \"back-link\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": _vm.backPath\n    }\n  }, [_c('gs-button', {\n    staticClass: \"back-btn\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.backBtnClick\n    }\n  }, [_c('i', {\n    staticClass: \"gs-icon gs-icon-revoke\"\n  })])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"nav-name\"\n  }, [_c('div', {\n    staticClass: \"current-nav\"\n  }, [_vm._v(_vm._s(_vm.currentLevel))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"upper-nav\"\n  }, [_vm._v(_vm._s(_vm.upperLevel))])])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2fc8051c\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/breadcrumb/breadcrumb.vue\n// module id = 779\n// module chunks = 5 6 7 8 9 10 12 15 16 18 21 22"],"sourceRoot":""}