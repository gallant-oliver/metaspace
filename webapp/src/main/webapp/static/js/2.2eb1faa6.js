webpackJsonp([2],{1274:function(t,e,s){"use strict";var a=s(610),n=s(1275),r=s(619),i=s(1279),l=s(1282),o=s(1285),c=s(1291),u=s(1297),d=s(1303);s.n(d);e.a={components:{SideTree:a.a,StepsEnhancer:n.a,TwoColumnLayout:r.a,DataUpload:i.a,TargetTable:l.a,TableSetting:o.a,ActionSumary:c.a,Excution:u.a},data:function(){return{current:0,steps:["1.上传文件","2.选择目标表","3.设置表结构","4.操作汇总","5.执行"]}},methods:{toTableList:function(){this.$router.push({path:"/main/data"})},handleStepChange:function(t){}}}},1275:function(t,e,s){"use strict";var a=s(1276);e.a=a.a},1276:function(t,e,s){"use strict";var a=s(1277),n=s(1278),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1277:function(t,e,s){"use strict";e.a={props:{value:{type:Number,default:0},steps:{type:Array,default:function(){return[]}},stepsProps:{type:Object,default:function(){}}},data:function(){return{active:this.value}},computed:{total:function(){return this.steps.length-1}},watch:{value:function(t){this.active=t}},methods:{handleChange:function(t){this.active=this.active+t,this.$emit("input",this.active),this.$emit("change",this.active)}}}},1278:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("gs-steps",t._b({attrs:{active:t.active,"align-center":""}},"gs-steps",t.stepsProps,!1),[s("template",{slot:"header"},t._l(t.steps,function(t,e){return s("gs-step",{key:e,attrs:{title:t.title||t}})})),t._v(" "),t._t("default",null,{slot:"content"}),t._v(" "),s("template",{slot:"footer"},[s("gs-button",{staticClass:"gs-steps-prev-step",on:{click:function(e){t.handleChange(-1)}}},[t._v("上一步")]),t._v(" "),s("gs-button",{staticClass:"gs-steps-next-step",attrs:{type:"primary"},on:{click:function(e){t.handleChange(1)}}},[t._v("下一步")])],1)],2)},staticRenderFns:[]};e.a=a},1279:function(t,e,s){"use strict";var a=s(1280),n=s(1281),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1280:function(t,e,s){"use strict";e.a={data:function(){return{loading:!1}}}},1281:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"content-analysis-upload"},[e("gs-upload",{attrs:{type:"dragger",multiple:"",action:"http://gs-ui.gridsum.com:8888/upload"}},[e("gs-icon",{attrs:{name:"cloud-upload"}}),this._v(" "),e("div",{staticClass:"gs-upload-dragger-tip"},[this._v("\n      （可点击或拖拽文件至此，支持.csv, .xls, .xlsx格式，最大100M）\n    ")])],1)],1)},staticRenderFns:[]};e.a=a},1282:function(t,e,s){"use strict";var a=s(1283),n=s(1284),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1283:function(t,e,s){"use strict";e.a={data:function(){return{dataSources:[{source:"数据源1",target:"",targetTable:"",action:""}],databases:[]}},methods:{handleColumnInput:function(){}}}},1284:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-analysis-target"},[s("h3",{staticClass:"target-title"},[t._v("设置目标表")]),t._v(" "),s("el-table",{attrs:{data:t.dataSources}},[s("el-table-column",{attrs:{prop:"source",label:"数据源",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"target",label:"目标库",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-select",{attrs:{placeholder:"请选择数据库"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.target,callback:function(s){t.$set(e.row,"target",s)},expression:"scope.row.target"}},t._l(t.databases,function(t,e){return s("gs-option",{key:e,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"targetTable",label:"目标表"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-input",{attrs:{placeholder:"请输入字段描述"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.targetTable,callback:function(s){t.$set(e.row,"targetTable",s)},expression:"scope.row.targetTable"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"action",label:"数据库操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-select",{attrs:{placeholder:"请选择数据库"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.action,callback:function(s){t.$set(e.row,"action",s)},expression:"scope.row.action"}},t._l(t.databases,function(t,e){return s("gs-option",{key:e,attrs:{label:t,value:t}})}))]}}])})],1),t._v(" "),s("gs-alert",{attrs:{closable:!1,"show-icon":!1}},[t._v("\n    说明：在这里配置对上传文件的操作，包括创建新表和更新现有表。系统会根据输入的目标表名自动判断操作类型。\n    更新操作具体包括追加（不影响现有数据）和覆盖（删除现有数据）。对一个目标表， 目前仅支持意向操作。\n  ")])],1)},staticRenderFns:[]};e.a=a},1285:function(t,e,s){"use strict";var a=s(1286),n=s(1290),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1286:function(t,e,s){"use strict";var a=s(1287);e.a={components:{TableSettingItem:a.a},data:function(){return{active:"0",dataSources:[{label:"数据源1"},{label:"数据源2",isNew:!0}]}}}},1287:function(t,e,s){"use strict";var a=s(1288),n=s(1289),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1288:function(t,e,s){"use strict";e.a={data:function(){return{dataSources:[{source:"数据源1",target:"",targetTable:"",action:""}],databases:[]}},methods:{handleColumnInput:function(){}}}},1289:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-analysis-setting-item"},[s("div",{staticClass:"setting-row"},[s("strong",{staticClass:"setting-row-label"},[t._v("是否包含标题：")]),t._v(" "),s("gs-switch")],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),s("el-table",{staticClass:"table-struct-list",attrs:{"show-header":!1,data:t.dataSources}},[s("el-table-column",{attrs:{width:55,type:"selection"}}),t._v(" "),s("el-table-column",{attrs:{prop:"target",label:"列名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-select",{attrs:{placeholder:"请选择数据库"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.target,callback:function(s){t.$set(e.row,"target",s)},expression:"scope.row.target"}},t._l(t.databases,function(t,e){return s("gs-option",{key:e,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"targetTable",label:"目标表"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-input",{attrs:{placeholder:"请输入字段描述"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.targetTable,callback:function(s){t.$set(e.row,"targetTable",s)},expression:"scope.row.targetTable"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"action",label:"数据库操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-select",{attrs:{placeholder:"请选择数据库"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.action,callback:function(s){t.$set(e.row,"action",s)},expression:"scope.row.action"}},t._l(t.databases,function(t,e){return s("gs-option",{key:e,attrs:{label:t,value:t}})}))]}}])})],1),t._v(" "),t._m(2),t._v(" "),s("el-table",{attrs:{data:t.dataSources}},[s("el-table-column",{attrs:{prop:"target",label:"列名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-select",{attrs:{placeholder:"请选择数据库"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.target,callback:function(s){t.$set(e.row,"target",s)},expression:"scope.row.target"}},t._l(t.databases,function(t,e){return s("gs-option",{key:e,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"targetTable",label:"目标表"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-input",{attrs:{placeholder:"请输入字段描述"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.targetTable,callback:function(s){t.$set(e.row,"targetTable",s)},expression:"scope.row.targetTable"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"action",label:"数据库操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("gs-select",{attrs:{placeholder:"请选择数据库"},on:{change:function(s){t.handleColumnInput(e)}},model:{value:e.row.action,callback:function(s){t.$set(e.row,"action",s)},expression:"scope.row.action"}},t._l(t.databases,function(t,e){return s("gs-option",{key:e,attrs:{label:t,value:t}})}))]}}])})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("目标库：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("db_database1")]),this._v(" "),e("strong",{staticClass:"setting-row-label is-right"},[this._v("目标表：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("test_1（表不存在， 需要设计表结构）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("目标表结构：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("请勾选所需列")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("数据源概览：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("只显示前 100 条数据")])])}]};e.a=a},1290:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-analysis-setting"},[s("gs-tabs",{attrs:{type:"content-tab"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.dataSources,function(e,a){return s("gs-tab-pane",{key:a,attrs:{name:""+a}},[s("div",{attrs:{slot:"label"},slot:"label"},[t._v("\n        "+t._s(e.label)+"\n        "),e.isNew?s("el-tag",{attrs:{type:"success",size:"mini"}},[t._v("新建表")]):t._e()],1),t._v(" "),s("table-setting-item")],1)}))],1)},staticRenderFns:[]};e.a=a},1291:function(t,e,s){"use strict";var a=s(1292),n=s(1296),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1292:function(t,e,s){"use strict";var a=s(1293);e.a={components:{ActionSumaryItem:a.a},data:function(){return{dataSources:[{label:"数据源1"},{label:"数据源2",isNew:!0}]}}}},1293:function(t,e,s){"use strict";var a=s(1294),n=s(1295),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1294:function(t,e,s){"use strict";e.a={data:function(){return{dataSources:[{columnName:"column1",targetName:"STRING",originName:"源文件字段1"}]}}}},1295:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-analysis-sumary-item"},[s("el-tag",{attrs:{type:"success"}},[t._v("1.新建表")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("el-table",{attrs:{data:t.dataSources}},[s("el-table-column",{attrs:{prop:"columnName",label:"目标表字段",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"targetName",label:"目标表字段类型"}}),t._v(" "),s("el-table-column",{attrs:{prop:"originName",label:"源文件字段"}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("数据源：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("db_database1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("目标库：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("db_database1")]),this._v(" "),e("strong",{staticClass:"setting-row-label is-right"},[this._v("目标表：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("test_1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("表结构：")])])}]};e.a=a},1296:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-analysis-sumary"},this._l(this.dataSources,function(t,s){return e("action-sumary-item",{key:s})}))},staticRenderFns:[]};e.a=a},1297:function(t,e,s){"use strict";var a=s(1298),n=s(1302),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1298:function(t,e,s){"use strict";var a=s(1299);e.a={components:{ExcutionItem:a.a},data:function(){return{dataSources:[{label:"数据源1"},{label:"数据源2",isNew:!0}]}}}},1299:function(t,e,s){"use strict";var a=s(1300),n=s(1301),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},1300:function(t,e,s){"use strict";e.a={}},1301:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-analysis-excution-item"},[this._m(0),this._v(" "),this._m(1),this._v(" "),this._m(2),this._v(" "),e("gs-progress",{attrs:{percent:82}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("数据源：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("db_database1")]),this._v(" "),e("strong",{staticClass:"setting-row-label is-right"},[this._v("操作：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("新建表")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("目标库：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("db_database1")]),this._v(" "),e("strong",{staticClass:"setting-row-label is-right"},[this._v("目标表：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("test_1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-row"},[e("strong",{staticClass:"setting-row-label"},[this._v("目标库：")]),this._v(" "),e("span",{staticClass:"setting-row-val"},[this._v("db_database1")])])}]};e.a=a},1302:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-analysis-excution"},[this._l(this.dataSources,function(t,s){return e("excution-item",{key:s})}),this._v(" "),e("gs-alert",{attrs:{closable:!1,type:"warning"}},[this._v("\n    请保持当前页面在操作过程中打开\n  ")])],2)},staticRenderFns:[]};e.a=a},1303:function(t,e){},1304:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-analysis-page"},[s("two-column-layout",[s("side-tree",{attrs:{slot:"left"},slot:"left"}),t._v(" "),s("template",{slot:"right"},[s("h3",{staticClass:"analysis-title"},[t._v("内容解析")]),t._v(" "),s("steps-enhancer",{attrs:{steps:t.steps},on:{change:t.handleStepChange},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},[0===t.current?s("data-upload"):t._e(),t._v(" "),1===t.current?s("target-table"):t._e(),t._v(" "),2===t.current?s("table-setting"):t._e(),t._v(" "),3===t.current?s("action-sumary"):t._e(),t._v(" "),4===t.current?s("excution"):t._e()],1)],1)],2)],1)},staticRenderFns:[]};e.a=a},472:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(1274),n=s(1304),r=s(47)(a.a,n.a,null,null,null);e.default=r.exports},610:function(t,e,s){"use strict";var a=s(611),n=s(614);s.n(n);e.a=a.a},611:function(t,e,s){"use strict";var a=s(612),n=s(613),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},612:function(t,e,s){"use strict";e.a={props:{loading:{type:Boolean,default:!1},searchProps:{type:Object,default:function(){return{}}},treeProps:{type:Object,default:function(){return{}}},keyword:{type:String,default:""},actions:{type:[Array,Function],default:function(){return[]}},active:{type:Object,default:function(){return{}}}},data:function(){return{searchVal:this.keyword}},computed:{isEmpty:function(){return this.loading||0===this.treeProps.data.length}},watch:{keyword:function(t){this.searchVal=t},searchVal:function(t){this.$emit("search",t)}},methods:{renderTreeNode:function(t,e){e.node;var s=e.data,a=this.actions,n=this.treeProps,r=this.active,i=n.props,l=i.label,o=i.value,c=i.deleting,u=void 0===c?"deleting":c,d="side-tree-node-label";return"function"==typeof a&&(a=a(s)),d+=r[o]===s[o]?" is-active":"",d+=s[u]?" is-deleting":"",t("div",{class:"side-tree-node-content"},[s[u]?t("span",{class:d},[t("gs-icon",{class:"side-tree-node-icon",attrs:{title:"正在删除",name:"loading"}}),s[l]]):t("span",{attrs:{title:s[l]},class:d,on:{click:this.handleClick.bind(this,s)}},[t("gs-icon",{class:"side-tree-node-icon",attrs:{name:" iconfont icon-wenjianjia1"}}),s[l]]),t("gs-dropdown",{class:"side-tree-action",attrs:{trigger:"click"},on:{select:this.handleAction.bind(this,s)}},[t("gs-icon",{class:"gs-dropdown-link",attrs:{name:"ellipsis",mode:"button"}}),t("gs-dropdown-menu",{attrs:{align:"right"},slot:"dropdown"},[t("gs-dropdown-items",{attrs:{options:a}})])])])},handleNodeToggle:function(t,e){this.$emit("node-toggle",t.data,e)},handleClick:function(t){this.$emit("node-click",t)},handleAction:function(t,e){this.$emit("node-action",t,e)},createCategory:function(){this.$emit("create-category")}}}},613:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"side-tree"},[t.isEmpty?t._e():s("gs-search",t._b({ref:"search",attrs:{placeholder:"请输入目录名称"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}},"gs-search",t.searchProps,!1)),t._v(" "),t.isEmpty?t._e():s("gs-tree",t._b({ref:"tree",attrs:{"render-content":t.renderTreeNode},on:{"node-toggle":t.handleNodeToggle}},"gs-tree",t.treeProps,!1)),t._v(" "),!t.loading&&t.isEmpty?s("gs-button",{attrs:{type:"primary"},on:{click:t.createCategory}},[t._v("点击添加目录")]):t._e()],1)},staticRenderFns:[]};e.a=a},614:function(t,e){},619:function(t,e,s){"use strict";var a=s(620),n=s(623);s.n(n);e.a=a.a},620:function(t,e,s){"use strict";var a=s(621),n=s(622),r=s(47)(a.a,n.a,null,null,null);e.a=r.exports},621:function(t,e,s){"use strict";e.a={props:{leftProps:{type:Object,default:function(){return{span:6,xs:{span:24}}}},rightProps:{type:Object,default:function(){return{span:18,xs:{span:24}}}}}}},622:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"two-column-layout"},[e("div",{staticClass:"left-col"},[this._t("left")],2),this._v(" "),e("div",{staticClass:"right-col"},[this._t("right")],2)])},staticRenderFns:[]};e.a=a},623:function(t,e){}});
//# sourceMappingURL=2.2eb1faa6.js.map