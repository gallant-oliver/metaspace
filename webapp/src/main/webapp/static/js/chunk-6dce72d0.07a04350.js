(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dce72d0"],{"3b1c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"api-publish-page"},[a("div",{staticClass:"content-header"},[a("bread-crumb",{attrs:{"current-level":"API发布","upper-level":"数据分享","back-path":"/main/data-share"}})],1),a("div",{staticClass:"api-publish-body"},[a("div",{staticClass:"publish-content"},[a("div",{staticClass:"title-text"},[t._v("\n        发布API列表：\n      ")]),a("el-table",{staticClass:"api-table",attrs:{data:t.list}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{label:"名称",prop:"name"}}),a("el-table-column",{attrs:{label:"分组",prop:"groupName"}}),a("el-table-column",{attrs:{label:"版本",prop:"version"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("gs-button",{attrs:{type:"text-primary",icon:"close"},on:{click:function(a){return t.delApi(e)}}})]}}])})],1),a("hr",{staticClass:"split-line"}),a("gs-checkbox",{staticClass:"confirm-checkbox",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("\n        我已检查以上内容并了解发布影响，确认操作\n      ")]),a("div",{staticClass:"btn-group"},[a("gs-button",{attrs:{disabled:!t.checked||!t.list.length,loading:t.loading,type:"primary"},on:{click:t.publishApi}},[t._v("\n          确定\n        ")]),a("gs-button",{attrs:{type:"default"},on:{click:t.back}},[t._v("\n          取消\n        ")])],1)],1)])])},s=[],i=a("acc6"),c=a("f63f"),l=(a("c435"),{components:{BreadCrumb:i["a"]},data:function(){return{list:[],loading:!1,checked:!1}},mounted:function(){var t=localStorage&&localStorage.getItem("SELECTED_API");this.list=t?JSON.parse(t):[]},methods:{delApi:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确定移除该API吗？",onOk:function(){e.list.splice(t.$index,1),localStorage&&localStorage.setItem("SELECTED_API",JSON.stringify(e.list)),e.$Message.success("移除成功")}})},publishApi:function(){var t=this;this.loading=!0;var e=this.list.map(function(t){return t.guid});c["publishApi"]({ids:e,status:1}).then(function(e){t.loading=!1,t.$Message.success("发布成功"),localStorage&&localStorage.removeItem("SELECTED_API"),t.back()}).catch(function(){t.loading=!1})},back:function(){this.$router.push("/main/data-share")}}}),r=l,o=a("2877"),u=Object(o["a"])(r,n,s,!1,null,null,null);e["default"]=u.exports},acc6:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!t.upperLevel||t.isHideNav?a("div",{staticClass:"content-header-single"},[t._t("header",[t._v("\n    "+t._s(t.currentLevel)+"\n  ")])],2):a("div",{staticClass:"content-header-both"},[a("div",{staticClass:"back-link"},[a("router-link",{attrs:{to:t.backPath}},[a("gs-button",{staticClass:"back-btn",attrs:{type:"primary"},on:{click:t.backBtnClick}},[a("i",{staticClass:"gs-icon gs-icon-revoke"})])],1)],1),a("div",{staticClass:"nav-name"},[a("div",{staticClass:"current-nav"},[t._v("\n      "+t._s(t.currentLevel)+"\n    ")]),a("div",{staticClass:"upper-nav"},[t._v("\n      "+t._s(t.upperLevel)+"\n    ")])])])},s=[],i={name:"BreadCrumb",props:{currentLevel:{type:String,required:!0},upperLevel:{type:String,default:""},backPath:{type:String,default:""}},data:function(){return{}},computed:{isHideNav:function(){return!!this.$router.currentRoute.query.nav}},methods:{backBtnClick:function(){this.$emit("back")}}},c=i,l=a("2877"),r=Object(l["a"])(c,n,s,!1,null,null,null),o=r.exports;a("d12e"),e["a"]=o},c435:function(t,e,a){},d12e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6dce72d0.07a04350.js.map