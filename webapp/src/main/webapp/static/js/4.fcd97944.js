webpackJsonp([4],Array(741).concat([function(t,e,n){"use strict";n.d(e,"i",function(){return r}),n.d(e,"j",function(){return i}),n.d(e,"o",function(){return o}),n.d(e,"l",function(){return a}),n.d(e,"q",function(){return s}),n.d(e,"w",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"r",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return d}),n.d(e,"g",function(){return p}),n.d(e,"f",function(){return g}),n.d(e,"k",function(){return v}),n.d(e,"n",function(){return m}),n.d(e,"p",function(){return y}),n.d(e,"t",function(){return x}),n.d(e,"s",function(){return _}),n.d(e,"u",function(){return b}),n.d(e,"v",function(){return w}),e.b=function(t){return t>1?0:t<-1?o:Math.acos(t)},e.c=function(t){return t>1?a:t<-1?-a:Math.asin(t)},e.m=function(t){return(t=x(t/2))*t};var r=1e-6,i=1e-12,o=Math.PI,a=o/2,s=o/4,u=2*o,c=180/o,l=o/180,f=Math.abs,h=Math.atan,d=Math.atan2,p=Math.cos,g=Math.ceil,v=Math.exp,m=(Math.floor,Math.log),y=Math.pow,x=Math.sin,_=Math.sign||function(t){return t>0?1:t<0?-1:0},b=Math.sqrt,w=Math.tan},,,,function(t,e,n){var r;try{r={cloneDeep:n(1488),constant:n(904),defaults:n(1040),each:n(905),filter:n(1014),find:n(1489),flatten:n(1042),forEach:n(1012),forIn:n(1493),has:n(911),isUndefined:n(1025),last:n(1494),map:n(1026),mapValues:n(1495),max:n(1496),merge:n(1498),min:n(1503),minBy:n(1504),now:n(403),pick:n(1047),range:n(1048),reduce:n(1028),sortBy:n(1511),uniqueId:n(1049),values:n(1033),zipObject:n(1516)}}catch(t){}r||(r=window._),t.exports=r},,,,,,,,,,function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1570);n.d(e,"create",function(){return r.a});var i=n(864);n.d(e,"creator",function(){return i.a});var o=n(1600);n.d(e,"local",function(){return o.a});var a=n(1070);n.d(e,"matcher",function(){return a.a});var s=n(1601);n.d(e,"mouse",function(){return s.a});var u=n(916);n.d(e,"namespace",function(){return u.a});var c=n(917);n.d(e,"namespaces",function(){return c.a});var l=n(865);n.d(e,"clientPoint",function(){return l.a});var f=n(1068);n.d(e,"select",function(){return f.a});var h=n(1602);n.d(e,"selectAll",function(){return h.a});var d=n(775);n.d(e,"selection",function(){return d.b});var p=n(918);n.d(e,"selector",function(){return p.a});var g=n(1069);n.d(e,"selectorAll",function(){return g.a});var v=n(1073);n.d(e,"style",function(){return v.b});var m=n(1603);n.d(e,"touch",function(){return m.a});var y=n(1604);n.d(e,"touches",function(){return y.a});var x=n(919);n.d(e,"window",function(){return x.a});var _=n(920);n.d(e,"event",function(){return _.c}),n.d(e,"customEvent",function(){return _.a})},,,function(t,e,n){"use strict";var r=n(1674);n.d(e,"b",function(){return r.a});var i=n(869);n.d(e,"c",function(){return i.a});var o=n(1703);n.d(e,"f",function(){return o.a});var a=n(1092);n.d(e,"g",function(){return a.a});var s=n(1704);n.d(e,"h",function(){return s.a});var u=n(931);n.d(e,"i",function(){return u.a});var c=n(932);n.d(e,"j",function(){return c.a});var l=n(870);n.d(e,"a",function(){return l.a});var f=n(1090);n.d(e,"k",function(){return f.a});var h=n(1705);n.d(e,"l",function(){return h.a});var d=n(776);n.d(e,"m",function(){return d.b});var p=n(933);n.d(e,"n",function(){return p.a});var g=n(1091);n.d(e,"o",function(){return g.a});var v=n(1095);n.d(e,"p",function(){return v.b});var m=n(1706);n.d(e,"q",function(){return m.a});var y=n(1707);n.d(e,"r",function(){return y.a});var x=n(934);n.d(e,"s",function(){return x.a});var _=n(935);n.d(e,"e",function(){return _.c}),n.d(e,"d",function(){return _.a})},function(t,e,n){"use strict";e.a=function t(e,n,o,a){function s(t){return e(t=new Date(+t)),t}s.floor=s;s.ceil=function(t){return e(t=new Date(t-1)),n(t,1),e(t),t};s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n};s.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t};s.range=function(t,r,i){var o,a=[];if(t=s.ceil(t),i=null==i?1:Math.floor(i),!(t<r&&i>0))return a;do{a.push(o=new Date(+t)),n(t,i),e(t)}while(o<t&&t<r);return a};s.filter=function(r){return t(function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););})};o&&(s.count=function(t,n){return r.setTime(+t),i.setTime(+n),e(r),e(i),Math.floor(o(r,i))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null});return s};var r=new Date,i=new Date},function(t,e,n){"use strict";var r=n(745),i=n(774).Graph;function o(t,e,n,i){var o;do{o=r.uniqueId(i)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function a(t){return r.max(r.map(t.nodes(),function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n}))}t.exports={addDummyNode:o,simplify:function(t){var e=(new i).setGraph(t.graph());return r.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),r.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),r.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=r.map(t.nodes(),function(e){var n={};return r.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),function(e){var n={};return r.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),function(){return[]});return r.forEach(t.nodes(),function(n){var i=t.node(n),o=i.rank;r.isUndefined(o)||(e[o][i.order]=n)}),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),function(e){return t.node(e).rank}));r.forEach(t.nodes(),function(n){var i=t.node(n);r.has(i,"rank")&&(i.rank-=e)})},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),function(e){return t.node(e).rank})),n=[];r.forEach(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var i=0,o=t.graph().nodeRankFactor;r.forEach(n,function(e,n){r.isUndefined(e)&&n%o!=0?--i:i&&r.forEach(e,function(e){t.node(e).rank+=i})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return o(t,"border",i,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){r.now();try{return e()}finally{}},notime:function(t,e){return e()}}},function(t,e,n){"use strict";var r=n(1055);n.d(e,"b",function(){return r.c}),n.d(e,"d",function(){return r.b}),n.d(e,"c",function(){return r.a});var i=n(815);n.d(e,"a",function(){return i.a});var o=n(1056);n.d(e,"e",function(){return o.a});var a=n(1546);n.d(e,"f",function(){return a.a});var s=n(1547);n.d(e,"g",function(){return s.a});var u=n(1058);n.d(e,"h",function(){return u.a});var c=n(1060);n.d(e,"i",function(){return c.a});var l=n(1548);n.d(e,"j",function(){return l.a});var f=n(1551);n.d(e,"w",function(){return f.a});var h=n(1552);n.d(e,"x",function(){return h.a});var d=n(1064);n.d(e,"y",function(){return d.a});var p=n(1553);n.d(e,"k",function(){return p.a});var g=n(1554);n.d(e,"l",function(){return g.a});var v=n(1555);n.d(e,"m",function(){return v.a});var m=n(1556);n.d(e,"n",function(){return m.a});var y=n(1065);n.d(e,"o",function(){return y.a});var x=n(1057);n.d(e,"p",function(){return x.a});var _=n(1557);n.d(e,"q",function(){return _.a});var b=n(915);n.d(e,"r",function(){return b.a});var w=n(1062);n.d(e,"s",function(){return w.a});var M=n(1558);n.d(e,"t",function(){return M.a});var S=n(1559);n.d(e,"u",function(){return S.a});var A=n(1560);n.d(e,"v",function(){return A.a});var T=n(1063);n.d(e,"B",function(){return T.a}),n.d(e,"z",function(){return T.b}),n.d(e,"A",function(){return T.c});var O=n(1066);n.d(e,"C",function(){return O.a});var I=n(1059);n.d(e,"D",function(){return I.a});var C=n(1561);n.d(e,"E",function(){return C.a})},,,function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return d}),e.g=function(t,e){var n=p(t,e);if(n.state>s)throw new Error("too late; already scheduled");return n},e.h=function(t,e){var n=p(t,e);if(n.state>l)throw new Error("too late; already running");return n},e.f=p;var r=n(816),i=n(926),o=Object(r.a)("start","end","cancel","interrupt"),a=[],s=0,u=1,c=2,l=3,f=4,h=5,d=6;function p(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}e.e=function(t,e,n,r,p,g){var v=t.__transition;if(v){if(n in v)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function a(h){var g,v,m,y;if(n.state!==u)return p();for(g in o)if((y=o[g]).name===n.name){if(y.state===l)return Object(i.b)(a);y.state===f?(y.state=d,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete o[g]):+g<e&&(y.state=d,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete o[g])}if(Object(i.b)(function(){n.state===l&&(n.state=f,n.timer.restart(s,n.delay,n.time),s(h))}),n.state=c,n.on.call("start",t,t.__data__,n.index,n.group),n.state===c){for(n.state=l,r=new Array(m=n.tween.length),g=0,v=-1;g<m;++g)(y=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(r[++v]=y);r.length=v+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(p),n.state=h,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===h&&(n.on.call("end",t,t.__data__,n.index,n.group),p())}function p(){for(var r in n.state=d,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Object(i.c)(function(t){n.state=u,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:p,on:o,tween:a,time:g.time,delay:g.delay,duration:g.duration,ease:g.ease,timer:null,state:s})}},,function(t,e,n){var r;try{r={clone:n(1377),constant:n(904),each:n(905),filter:n(1014),has:n(911),isArray:n(755),isEmpty:n(1451),isFunction:n(810),isUndefined:n(1025),keys:n(795),map:n(1026),reduce:n(1028),size:n(1454),transform:n(1460),union:n(1461),values:n(1033)}}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){var r=n(814);t.exports={isSubgraph:function(t,e){return!!t.children(e).length},edgeToId:function(t){return o(t.v)+":"+o(t.w)+":"+o(t.name)},applyStyle:function(t,e){e&&t.attr("style",e)},applyClass:function(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))},applyTransition:function(t,e){var n=e.graph();if(r.isPlainObject(n)){var i=n.transition;if(r.isFunction(i))return i(t)}return t}};var i=/:/g;function o(t){return t?String(t).replace(i,"\\:"):""}},,,,,,function(t,e,n){var r;try{r=n(994)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){"use strict";n.d(e,"c",function(){return P}),e.a=N;var r=n(1571),i=n(1572),o=n(1573),a=n(1574),s=n(1071),u=n(1576),c=n(1577),l=n(1578),f=n(1579),h=n(1580),d=n(1581),p=n(1582),g=n(1583),v=n(1584),m=n(1585),y=n(1586),x=n(1587),_=n(1073),b=n(1588),w=n(1589),M=n(1590),S=n(1591),A=n(1592),T=n(1593),O=n(1594),I=n(1595),C=n(1596),k=n(1597),D=n(1598),L=n(920),E=n(1599),P=[null];function N(t,e){this._groups=t,this._parents=e}function j(){return new N([[document.documentElement]],P)}N.prototype=j.prototype={constructor:N,select:r.a,selectAll:i.a,filter:o.a,data:a.a,enter:s.b,exit:u.a,join:c.a,merge:l.a,order:f.a,sort:h.a,call:d.a,nodes:p.a,node:g.a,size:v.a,empty:m.a,each:y.a,attr:x.a,style:_.a,property:b.a,classed:w.a,text:M.a,html:S.a,raise:A.a,lower:T.a,append:O.a,insert:I.a,remove:C.a,clone:k.a,datum:D.a,on:L.b,dispatch:E.a},e.b=j},function(t,e,n){"use strict";n.d(e,"c",function(){return E}),e.a=P;var r=n(1675),i=n(1676),o=n(1677),a=n(1678),s=n(1093),u=n(1680),c=n(1681),l=n(1682),f=n(1683),h=n(1684),d=n(1685),p=n(1686),g=n(1687),v=n(1688),m=n(1689),y=n(1690),x=n(1095),_=n(1691),b=n(1692),w=n(1693),M=n(1694),S=n(1695),A=n(1696),T=n(1697),O=n(1698),I=n(1699),C=n(1700),k=n(1701),D=n(935),L=n(1702),E=[null];function P(t,e){this._groups=t,this._parents=e}function N(){return new P([[document.documentElement]],E)}P.prototype=N.prototype={constructor:P,select:r.a,selectAll:i.a,filter:o.a,data:a.a,enter:s.b,exit:u.a,merge:c.a,order:l.a,sort:f.a,call:h.a,nodes:d.a,node:p.a,size:g.a,empty:v.a,each:m.a,attr:y.a,style:x.a,property:_.a,classed:b.a,text:w.a,html:M.a,raise:S.a,lower:A.a,append:T.a,insert:O.a,remove:I.a,clone:C.a,datum:k.a,on:D.b,dispatch:L.a},e.b=N},function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return d}),e.g=function(t,e){var n=p(t,e);if(n.state>s)throw new Error("too late; already scheduled");return n},e.h=function(t,e){var n=p(t,e);if(n.state>c)throw new Error("too late; already started");return n},e.f=p;var r=n(868),i=n(962),o=Object(r.a)("start","end","interrupt"),a=[],s=0,u=1,c=2,l=3,f=4,h=5,d=6;function p(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}e.e=function(t,e,n,r,p,g){var v=t.__transition;if(v){if(n in v)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function a(h){var g,v,m,y;if(n.state!==u)return p();for(g in o)if((y=o[g]).name===n.name){if(y.state===l)return Object(i.c)(a);y.state===f?(y.state=d,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete o[g]):+g<e&&(y.state=d,y.timer.stop(),delete o[g])}if(Object(i.c)(function(){n.state===l&&(n.state=f,n.timer.restart(s,n.delay,n.time),s(h))}),n.state=c,n.on.call("start",t,t.__data__,n.index,n.group),n.state===c){for(n.state=l,r=new Array(m=n.tween.length),g=0,v=-1;g<m;++g)(y=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(r[++v]=y);r.length=v+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(p),n.state=h,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===h&&(n.on.call("end",t,t.__data__,n.index,n.group),p())}function p(){for(var r in n.state=d,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Object(i.d)(function(t){n.state=u,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:p,on:o,tween:a,time:g.time,delay:g.delay,duration:g.duration,ease:g.ease,timer:null,state:s})}},,,function(t,e,n){"use strict";var r=n(922);n.d(e,"a",function(){return r.a});n(1080),n(925),n(1078),n(1081),n(1609),n(1610);var i=n(866);n.d(e,"c",function(){return i.a});n(1082);var o=n(1611);n.d(e,"e",function(){return o.a});var a=n(1083);n.d(e,"f",function(){return a.a});var s=n(1612);n.d(e,"g",function(){return s.a}),n.d(e,"h",function(){return s.b});var u=n(1615);n.d(e,"i",function(){return u.a});var c=n(1077);n.d(e,"d",function(){return c.a});n(1616),n(1617),n(1618);var l=n(1619);n.d(e,"b",function(){return l.a});n(1620),n(1621)},function(t,e,n){"use strict";e.a=function(t){return p(function(){return t})()},e.b=p;var r=n(1107),i=n(1113),o=n(873),a=n(1106),s=n(944),u=n(741),c=n(872),l=n(874),f=n(947),h=n(1767),d=Object(l.b)({point:function(t,e){this.stream.point(t*u.r,e*u.r)}});function p(t){var e,n,p,g,v,m,y,x,_,b,w=150,M=480,S=250,A=0,T=0,O=0,I=0,C=0,k=null,D=r.a,L=null,E=s.a,P=.5,N=Object(h.a)(R,P);function j(t){return[(t=v(t[0]*u.r,t[1]*u.r))[0]*w+n,p-t[1]*w]}function z(t){return(t=v.invert((t[0]-n)/w,(p-t[1])/w))&&[t[0]*u.h,t[1]*u.h]}function R(t,r){return[(t=e(t,r))[0]*w+n,p-t[1]*w]}function B(){v=Object(a.a)(g=Object(c.b)(O,I,C),e);var t=e(A,T);return n=M-t[0]*w,p=S+t[1]*w,V()}function V(){return _=b=null,j}return j.stream=function(t){return _&&b===t?_:_=d(function(t){return Object(l.b)({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(g)(D(N(E(b=t)))))},j.preclip=function(t){return arguments.length?(D=t,k=void 0,V()):D},j.postclip=function(t){return arguments.length?(E=t,L=m=y=x=null,V()):E},j.clipAngle=function(t){return arguments.length?(D=+t?Object(i.a)(k=t*u.r):(k=null,r.a),V()):k*u.h},j.clipExtent=function(t){return arguments.length?(E=null==t?(L=m=y=x=null,s.a):Object(o.a)(L=+t[0][0],m=+t[0][1],y=+t[1][0],x=+t[1][1]),V()):null==L?null:[[L,m],[y,x]]},j.scale=function(t){return arguments.length?(w=+t,B()):w},j.translate=function(t){return arguments.length?(M=+t[0],S=+t[1],B()):[M,S]},j.center=function(t){return arguments.length?(A=t[0]%360*u.r,T=t[1]%360*u.r,B()):[A*u.h,T*u.h]},j.rotate=function(t){return arguments.length?(O=t[0]%360*u.r,I=t[1]%360*u.r,C=t.length>2?t[2]%360*u.r:0,B()):[O*u.h,I*u.h,C*u.h]},j.precision=function(t){return arguments.length?(N=Object(h.a)(R,P=t*t),V()):Object(u.u)(P)},j.fitExtent=function(t,e){return Object(f.a)(j,t,e)},j.fitSize=function(t,e){return Object(f.c)(j,t,e)},j.fitWidth=function(t,e){return Object(f.d)(j,t,e)},j.fitHeight=function(t,e){return Object(f.b)(j,t,e)},function(){return e=t.apply(this,arguments),j.invert=e.invert&&z,B()}}},function(t,e,n){var r=n(810),i=n(898);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(1431),i=n(1441),o=n(802),a=n(755),s=n(1448);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){"use strict";var r=n(923);n.d(e,"a",function(){return r.e}),n.d(e,"f",function(){return r.g}),n.d(e,"d",function(){return r.f});var i=n(1607);n.d(e,"e",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(1608);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s});var r=1e3,i=6e4,o=36e5,a=864e5,s=6048e5},,,,,,,,,,function(t,e,n){var r=n(998),i=n(900),o=n(782);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r;if(!r)try{r=n(1544)}catch(t){}r||(r=window.d3),t.exports=r},function(t,e,n){"use strict";e.a=M,e.b=function(){return++w};var r=n(756),i=n(1627),o=n(1628),a=n(1629),s=n(1630),u=n(1631),c=n(1632),l=n(1633),f=n(1634),h=n(1635),d=n(1636),p=n(1637),g=n(1638),v=n(1639),m=n(1640),y=n(1641),x=n(1642),_=n(867),b=n(1643),w=0;function M(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}var S=r.selection.prototype;M.prototype=function(t){return Object(r.selection)().transition(t)}.prototype={constructor:M,select:d.a,selectAll:p.a,filter:c.a,merge:l.a,selection:g.a,transition:x.a,call:S.call,nodes:S.nodes,node:S.node,size:S.size,empty:S.empty,each:S.each,on:f.a,attr:i.a,attrTween:o.a,style:v.a,styleTween:m.a,text:y.a,remove:h.a,tween:_.a,delay:a.a,duration:s.a,ease:u.a,end:b.a}},function(t,e,n){"use strict";var r=n(929);n.d(e,"a",function(){return r.e}),n.d(e,"f",function(){return r.g}),n.d(e,"d",function(){return r.f});var i=n(1670);n.d(e,"e",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(1671);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";e.a=w,e.b=M,e.c=function(){return++b};var r=n(759),i=n(1897),o=n(1898),a=n(1899),s=n(1900),u=n(1901),c=n(1902),l=n(1903),f=n(1904),h=n(1905),d=n(1906),p=n(1907),g=n(1908),v=n(1909),m=n(1910),y=n(1911),x=n(1912),_=n(884),b=0;function w(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function M(t){return Object(r.m)().transition(t)}var S=r.m.prototype;w.prototype=M.prototype={constructor:w,select:d.a,selectAll:p.a,filter:c.a,merge:l.a,selection:g.a,transition:x.a,call:S.call,nodes:S.nodes,node:S.node,size:S.size,empty:S.empty,each:S.each,on:f.a,attr:i.a,attrTween:o.a,style:v.a,styleTween:m.a,text:y.a,remove:h.a,tween:_.a,delay:a.a,duration:s.a,ease:u.a}},function(t,e,n){var r=n(1388),i=n(1391);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";var r=n(1664);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e){t&&o.hasOwnProperty(t.type)&&o[t.type](t,e)}var i={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)r(n[i].geometry,e)}},o={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){a(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)a(n[r],e,0)},Polygon:function(t,e){s(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)s(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)r(n[i],e)}};function a(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function s(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)a(t[n],e,1);e.polygonEnd()}e.a=function(t,e){t&&i.hasOwnProperty(t.type)?i[t.type](t,e):r(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},,,function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(381),i=n(153),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e,n){(function(t){var r=n(154),i=n(1407),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(e,n(382)(t))},function(t,e,n){var r=n(998),i=n(1411),o=n(782);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(1416),i=n(895),o=n(1417),a=n(1007),s=n(1418),u=n(381),c=n(996),l=c(r),f=c(i),h=c(o),d=c(a),p=c(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r;try{r={defaults:n(1040),each:n(905),isFunction:n(810),isPlainObject:n(1044),pick:n(1047),has:n(911),range:n(1048),uniqueId:n(1049)}}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){"use strict";e.a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";var r=n(1568);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";e.c=function(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(r.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?o:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(r.a)(isNaN(e)?n:e)}},e.a=o;var r=n(1079);function i(t,e){return function(n){return t+n*e}}function o(t,e){var n=e-t;return n?i(t,n):Object(r.a)(isNaN(t)?e:t)}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(){this.reset()}e.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){o(i,t,this.t),o(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new r;function o(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}},function(t,e,n){"use strict";e.a=function(){return Math.random()}},,,,function(t,e,n){var r=n(852),i=n(853);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(1406),i=n(379),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(1408),i=n(855),o=n(899),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(383),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){"use strict";e.a=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";var r=n(1665);n.d(e,"d",function(){return r.a});var i=n(1666);n.d(e,"e",function(){return i.a});var o=n(928);n.d(e,"c",function(){return o.a});var a=n(1667);n.d(e,"b",function(){return a.a});var s=n(1668);n.d(e,"f",function(){return s.a});var u=n(1669);n.d(e,"a",function(){return u.a})},function(t,e,n){"use strict";e.g=function(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]},e.a=function(t){var e=t[0],n=t[1],i=Object(r.g)(n);return[i*Object(r.g)(e),i*Object(r.t)(e),Object(r.t)(n)]},e.d=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},e.c=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},e.b=function(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]},e.f=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},e.e=function(t){var e=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e};var r=n(741)},function(t,e,n){"use strict";e.b=function(t){return function(e,n){var i=Object(r.g)(e),o=Object(r.g)(n),a=t(i*o);return[a*o*Object(r.t)(e),a*Object(r.t)(n)]}},e.a=function(t){return function(e,n){var i=Object(r.u)(e*e+n*n),o=t(i),a=Object(r.t)(o),s=Object(r.g)(o);return[Object(r.e)(e*a,i*s),Object(r.c)(i&&n*a/i)]}};var r=n(741)},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}},function(t,e,n){"use strict";var r=n(952);n.d(e,"a",function(){return r.a});var i=n(1126);n.d(e,"b",function(){return i.a});var o=n(953);n.d(e,"c",function(){return o.b});var a=n(1124);n.d(e,"d",function(){return a.a});var s=n(1127);n.d(e,"g",function(){return s.a});var u=n(876);n.d(e,"m",function(){return u.a});var c=n(1128);n.d(e,"n",function(){return c.a});var l=n(1802);n.d(e,"r",function(){return l.a});var f=n(1129);n.d(e,"s",function(){return f.a});var h=n(1803);n.d(e,"t",function(){return h.a}),n.d(e,"u",function(){return h.b});var d=n(1806);n.d(e,"v",function(){return d.a});var p=n(1123);n.d(e,"o",function(){return p.a}),n.d(e,"p",function(){return p.b}),n.d(e,"q",function(){return p.c});var g=n(1807);n.d(e,"j",function(){return g.a}),n.d(e,"k",function(){return g.b});var v=n(1808);n.d(e,"l",function(){return v.a});var m=n(1809);n.d(e,"h",function(){return m.a}),n.d(e,"i",function(){return m.b});var y=n(1810);n.d(e,"e",function(){return y.b}),n.d(e,"f",function(){return y.a});var x=n(1811);n.d(e,"w",function(){return x.a})},function(t,e,n){"use strict";e.c=function(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(r.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?o:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(r.a)(isNaN(e)?n:e)}},e.a=o;var r=n(1125);function i(t,e){return function(n){return t+n*e}}function o(t,e){var n=e-t;return n?i(t,n):Object(r.a)(isNaN(t)?e:t)}},function(t,e,n){"use strict";e.b=s,e.a=function t(){var e=Object(o.b)(o.c,i.c);e.copy=function(){return Object(o.a)(e,t())};return s(e)};var r=n(762),i=n(780),o=n(878),a=n(1837);function s(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(r.B)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Object(a.a)(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s];return c<u&&(i=u,u=c,c=i,i=a,a=s,s=i),(i=Object(r.z)(u,c,n))>0?(u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i,i=Object(r.z)(u,c,n)):i<0&&(u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i,i=Object(r.z)(u,c,n)),i>0?(o[a]=Math.floor(u/i)*i,o[s]=Math.ceil(c/i)*i,e(o)):i<0&&(o[a]=Math.ceil(u*i)/i,o[s]=Math.floor(c*i)/i,e(o)),t},t}},function(t,e,n){"use strict";e.a=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"l",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"j",function(){return f}),n.d(e,"g",function(){return h}),n.d(e,"m",function(){return d}),e.b=function(t){return t>1?0:t<-1?f:Math.acos(t)},e.c=function(t){return t>=1?h:t<=-1?-h:Math.asin(t)};var r=Math.abs,i=Math.atan2,o=Math.cos,a=Math.max,s=Math.min,u=Math.sin,c=Math.sqrt,l=1e-12,f=Math.PI,h=f/2,d=2*f},function(t,e,n){"use strict";e.a=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}},function(t,e,n){"use strict";n.d(e,"f",function(){return h}),n.d(e,"g",function(){return d}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),e.d=g;var r,i,o,a,s=n(1918),u=n(1156),c=n(1157),l=n(965),f=n(964),h=1e-6,d=1e-12;function p(t,e){return e[1]-t[1]||e[0]-t[0]}function g(t,e){var n,h,d,g=t.sort(p).pop();for(a=[],i=new Array(t.length),r=new f.b,o=new f.b;;)if(d=c.c,g&&(!d||g[1]<d.y||g[1]===d.y&&g[0]<d.x))g[0]===n&&g[1]===h||(Object(s.a)(g),n=g[0],h=g[1]),g=t.pop();else{if(!d)break;Object(s.b)(d.arc)}if(Object(u.d)(),e){var v=+e[0][0],m=+e[0][1],y=+e[1][0],x=+e[1][1];Object(l.a)(v,m,y,x),Object(u.b)(v,m,y,x)}this.edges=a,this.cells=i,r=o=a=i=null}g.prototype={constructor:g,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Object(u.a)(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,c,l=n.site,f=-1,h=e[i[o-1]],d=h.left===l?h.right:h.left;++f<o;)a=d,d=(h=e[i[f]]).left===l?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(u=a,c=d,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<l&&(l=f,a=s.index)}})}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}}},,,,,,,function(t,e,n){var r=n(848),i=n(1383),o=n(1384),a=n(1385),s=n(1386),u=n(1387);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(1378),i=n(1379),o=n(1380),a=n(1381),s=n(1382);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(809);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(801)(Object,"create");t.exports=r},function(t,e,n){var r=n(1400);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(853),i=n(809),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(997);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(999)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(906),i=n(1429)(r);t.exports=i},function(t,e,n){var r=n(755),i=n(910),o=n(1443),a=n(1021);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(802),i=n(1029),o=n(1030);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(809),i=n(782),o=n(854),a=n(153);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";var r=n(745);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),function n(i){var o=t.node(i);if(r.has(e,i))return o.rank;e[i]=!0;var a=r.min(r.map(t.outEdges(i),function(e){return n(e.w)-t.edge(e).minlen}));a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0);return o.rank=a})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){"use strict";var r=n(916),i=n(917);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}})(e)}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){"use strict";e.b=function(t,e,n){var i=t._id;return t.each(function(){var t=Object(r.h)(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Object(r.f)(t,i).value[e]}};var r=n(765);e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=Object(r.f)(this.node(),n).tween,a=0,s=o.length;a<s;++a)if((i=o[a]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var o=Object(r.h)(this,t),a=o.tween;if(a!==n)for(var s=0,u=(i=n=a).length;s<u;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}o.tween=i}}:function(t,e,n){var i,o;if("function"!=typeof n)throw new Error;return function(){var a=Object(r.h)(this,t),s=a.tween;if(s!==i){o=(i=s).slice();for(var u={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=u;break}c===l&&o.push(u)}a.tween=o}})(n,t,e))}},function(t,e,n){"use strict";var r=n(1672);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(931),i=n(932);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}})(e)}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";var r=n(943);e.a=function(t){return(t=Object(r.a)(Math.abs(t)))?t[1]:NaN}},function(t,e,n){"use strict";e.b=a;var r=n(1106),i=n(741);function o(t,e){return[t>i.o?t-i.w:t<-i.o?t+i.w:t,e]}function a(t,e,n){return(t%=i.w)?e||n?Object(r.a)(u(t),c(e,n)):u(t):e||n?c(e,n):o}function s(t){return function(e,n){return[(e+=t)>i.o?e-i.w:e<-i.o?e+i.w:e,n]}}function u(t){var e=s(t);return e.invert=s(-t),e}function c(t,e){var n=Object(i.g)(t),r=Object(i.t)(t),o=Object(i.g)(e),a=Object(i.t)(e);function s(t,e){var s=Object(i.g)(e),u=Object(i.g)(t)*s,c=Object(i.t)(t)*s,l=Object(i.t)(e),f=l*n+u*r;return[Object(i.e)(c*o-f*a,u*n-l*r),Object(i.c)(f*o+c*a)]}return s.invert=function(t,e){var s=Object(i.g)(e),u=Object(i.g)(t)*s,c=Object(i.t)(t)*s,l=Object(i.t)(e),f=l*o-c*a;return[Object(i.e)(c*o+l*a,u*n+f*r),Object(i.c)(f*n-u*r)]},s}o.invert=o,e.a=function(t){function e(e){return(e=t(e[0]*i.r,e[1]*i.r))[0]*=i.h,e[1]*=i.h,e}return t=a(t[0]*i.r,t[1]*i.r,t.length>2?t[2]*i.r:0),e.invert=function(e){return(e=t.invert(e[0]*i.r,e[1]*i.r))[0]*=i.h,e[1]*=i.h,e},e}},function(t,e,n){"use strict";e.a=function(t,e,n,l){function f(r,i){return t<=r&&r<=n&&e<=i&&i<=l}function h(r,i,o,a){var s=0,u=0;if(null==r||(s=d(r,o))!==(u=d(i,o))||g(r,i)<0^o>0)do{a.point(0===s||3===s?t:n,s>1?l:e)}while((s=(s+o+4)%4)!==u);else a.point(i[0],i[1])}function d(i,o){return Object(r.a)(i[0]-t)<r.i?o>0?0:3:Object(r.a)(i[0]-n)<r.i?o>0?2:1:Object(r.a)(i[1]-e)<r.i?o>0?1:0:o>0?3:2}function p(t,e){return g(t.x,e.x)}function g(t,e){var n=d(t,1),r=d(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var d,g,v,m,y,x,_,b,w,M,S,A=r,T=Object(i.a)(),O={point:I,lineStart:function(){O.point=C,g&&g.push(v=[]);M=!0,w=!1,_=b=NaN},lineEnd:function(){d&&(C(m,y),x&&w&&T.rejoin(),d.push(T.result()));O.point=I,w&&A.lineEnd()},polygonStart:function(){A=T,d=[],g=[],S=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=g.length;n<r;++n)for(var i,o,a=g[n],s=1,u=a.length,c=a[0],f=c[0],h=c[1];s<u;++s)i=f,o=h,c=a[s],f=c[0],h=c[1],o<=l?h>l&&(f-i)*(l-o)>(h-o)*(t-i)&&++e:h<=l&&(f-i)*(l-o)<(h-o)*(t-i)&&--e;return e}(),n=S&&e,i=(d=Object(s.n)(d)).length;(n||i)&&(r.polygonStart(),n&&(r.lineStart(),h(null,null,1,r),r.lineEnd()),i&&Object(a.a)(d,p,e,h,r),r.polygonEnd());A=r,d=g=v=null}};function I(t,e){f(t,e)&&A.point(t,e)}function C(r,i){var a=f(r,i);if(g&&v.push([r,i]),M)m=r,y=i,x=a,M=!1,a&&(A.lineStart(),A.point(r,i));else if(a&&w)A.point(r,i);else{var s=[_=Math.max(c,Math.min(u,_)),b=Math.max(c,Math.min(u,b))],h=[r=Math.max(c,Math.min(u,r)),i=Math.max(c,Math.min(u,i))];Object(o.a)(s,h,t,e,n,l)?(w||(A.lineStart(),A.point(s[0],s[1])),A.point(h[0],h[1]),a||A.lineEnd(),S=!1):a&&(A.lineStart(),A.point(r,i),S=!1)}_=r,b=i,w=a}return O}};var r=n(741),i=n(1109),o=n(1757),a=n(1110),s=n(762),u=1e9,c=-u},function(t,e,n){"use strict";function r(t){return function(e){var n=new i;for(var r in t)n[r]=t[r];return n.stream=e,n}}function i(){}e.b=r,e.a=function(t){return{stream:r(t)}},i.prototype={constructor:i,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){"use strict";var r=n(954);e.a=function(t,e){return function(n,i){var o=Object(r.a)(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return o.get(i)}return o}}},function(t,e,n){"use strict";e.c=c,e.a=function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())},e.b=function(t,e){var n,r,a,h=u,d=u,p=i.a,g=!1;function v(){return n=Math.min(h.length,d.length)>2?f:l,r=a=null,m}function m(e){return(r||(r=n(h,d,g?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,p)))(+e)}return m.invert=function(t){return(a||(a=n(d,h,c,g?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},m.domain=function(t){return arguments.length?(h=o.a.call(t,s.a),v()):h.slice()},m.range=function(t){return arguments.length?(d=o.b.call(t),v()):d.slice()},m.rangeRound=function(t){return d=o.b.call(t),p=i.e,v()},m.clamp=function(t){return arguments.length?(g=!!t,v()):g},m.interpolate=function(t){return arguments.length?(p=t,v()):p},v()};var r=n(762),i=n(780),o=n(805),a=n(955),s=n(1134),u=[0,1];function c(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Object(a.a)(e)}function l(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function f(t,e,n,i){var o=Math.min(t.length,e.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<o;)a[u]=n(t[u],t[u+1]),s[u]=i(e[u],e[u+1]);return function(e){var n=Object(r.b)(t,e,1,o)-1;return s[n](a[n](e))}}},function(t,e,n){"use strict";var r=n(760);n.d(e,"g",function(){return r.a});var i=n(1843);n.d(e,"h",function(){return i.a}),n.d(e,"i",function(){return i.b}),n.d(e,"L",function(){return i.a}),n.d(e,"M",function(){return i.b});var o=n(1844);n.d(e,"r",function(){return o.a}),n.d(e,"s",function(){return o.b}),n.d(e,"V",function(){return o.a}),n.d(e,"W",function(){return o.b});var a=n(1845);n.d(e,"j",function(){return a.a}),n.d(e,"k",function(){return a.b});var s=n(1846);n.d(e,"e",function(){return s.a}),n.d(e,"f",function(){return s.b});var u=n(1847);n.d(e,"a",function(){return u.b}),n.d(e,"b",function(){return u.a});var c=n(1848);n.d(e,"B",function(){return c.g}),n.d(e,"C",function(){return c.h}),n.d(e,"t",function(){return c.g}),n.d(e,"u",function(){return c.h}),n.d(e,"l",function(){return c.c}),n.d(e,"m",function(){return c.d}),n.d(e,"x",function(){return c.k}),n.d(e,"y",function(){return c.l}),n.d(e,"z",function(){return c.m}),n.d(e,"A",function(){return c.n}),n.d(e,"v",function(){return c.i}),n.d(e,"w",function(){return c.j}),n.d(e,"c",function(){return c.a}),n.d(e,"d",function(){return c.b}),n.d(e,"p",function(){return c.e}),n.d(e,"q",function(){return c.f});var l=n(1849);n.d(e,"n",function(){return l.a}),n.d(e,"o",function(){return l.b});var f=n(1850);n.d(e,"D",function(){return f.a}),n.d(e,"E",function(){return f.b});var h=n(1851);n.d(e,"N",function(){return h.a}),n.d(e,"O",function(){return h.b});var d=n(1852);n.d(e,"J",function(){return d.a}),n.d(e,"K",function(){return d.b});var p=n(1853);n.d(e,"F",function(){return p.a}),n.d(e,"G",function(){return p.b});var g=n(1854);n.d(e,"_5",function(){return g.g}),n.d(e,"_6",function(){return g.h}),n.d(e,"X",function(){return g.g}),n.d(e,"Y",function(){return g.h}),n.d(e,"P",function(){return g.c}),n.d(e,"Q",function(){return g.d}),n.d(e,"_1",function(){return g.k}),n.d(e,"_2",function(){return g.l}),n.d(e,"_3",function(){return g.m}),n.d(e,"_4",function(){return g.n}),n.d(e,"Z",function(){return g.i}),n.d(e,"_0",function(){return g.j}),n.d(e,"H",function(){return g.a}),n.d(e,"I",function(){return g.b}),n.d(e,"T",function(){return g.e}),n.d(e,"U",function(){return g.f});var v=n(1855);n.d(e,"R",function(){return v.a}),n.d(e,"S",function(){return v.b});var m=n(1856);n.d(e,"_7",function(){return m.a}),n.d(e,"_8",function(){return m.b})},function(t,e,n){"use strict";function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i(t){this._context=t}e.c=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.b=function(t){return new i(t)}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function i(t,e){this._context=t,this._k=(1-e)/6}e.c=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:r(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";e.b=function(t,e,n){var i=t._id;return t.each(function(){var t=Object(r.h)(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Object(r.f)(t,i).value[e]}};var r=n(777);e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=Object(r.f)(this.node(),n).tween,a=0,s=o.length;a<s;++a)if((i=o[a]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var o=Object(r.h)(this,t),a=o.tween;if(a!==n)for(var s=0,u=(i=n=a).length;s<u;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}o.tween=i}}:function(t,e,n){var i,o;if("function"!=typeof n)throw new Error;return function(){var a=Object(r.h)(this,t),s=a.tween;if(s!==i){o=(i=s).slice();for(var u={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=u;break}c===l&&o.push(u)}a.tween=o}})(n,t,e))}},,,,,,,,function(t,e,n){n(6).__DEV__;var r=n(0),i=n(1239),o=n(8).parsePercent,a=n(45),s=a.createScaleByModel,u=a.niceScaleExtent,c=n(65),l=n(52).getStackedDimension;function f(t,e){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();r.each(e.mapDimension("radius",!0),function(t){o.scale.unionExtentFromData(e,l(e,t))}),r.each(e.mapDimension("angle",!0),function(t){i.scale.unionExtentFromData(e,l(e,t))})}}),u(i.scale,i.model),u(o.scale,o.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),s=360/i.scale.count();i.inverse?a[1]+=s:a[1]-=s,i.setExtent(a[0],a[1])}}function h(t,e){if(t.type=e.get("type"),t.scale=s(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}n(1242);var d={dimensions:i.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,r){var a=new i(r);a.update=f;var s=a.getRadiusAxis(),u=a.getAngleAxis(),c=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");h(s,c),h(u,l),function(t,e,n){var r=e.get("center"),i=n.getWidth(),a=n.getHeight();t.cx=o(r[0],i),t.cy=o(r[1],a);var s=t.getRadiusAxis(),u=Math.min(i,a)/2,c=o(e.get("radius"),u);s.inverse?s.setExtent(c,0):s.setExtent(0,c)}(a,t,e),n.push(a),t.coordinateSystem=a,a.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}};c.register("polar",d)},function(t,e,n){(function(t,r){var i;(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",h=1,d=2,p=4,g=1,v=2,m=1,y=2,x=4,_=8,b=16,w=32,M=64,S=128,A=256,T=512,O=30,I="...",C=800,k=16,D=1,L=2,E=1/0,P=9007199254740991,N=1.7976931348623157e308,j=NaN,z=4294967295,R=z-1,B=z>>>1,V=[["ary",S],["bind",m],["bindKey",y],["curry",_],["curryRight",b],["flip",T],["partial",w],["partialRight",M],["rearg",A]],F="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",G="[object Boolean]",q="[object Date]",U="[object DOMException]",Y="[object Error]",X="[object Function]",Z="[object GeneratorFunction]",$="[object Map]",K="[object Number]",J="[object Null]",Q="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",at="[object WeakMap]",st="[object WeakSet]",ut="[object ArrayBuffer]",ct="[object DataView]",lt="[object Float32Array]",ft="[object Float64Array]",ht="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",gt="[object Uint8Array]",vt="[object Uint8ClampedArray]",mt="[object Uint16Array]",yt="[object Uint32Array]",xt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,Mt=/[&<>"']/g,St=RegExp(wt.source),At=RegExp(Mt.source),Tt=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,It=/<%=([\s\S]+?)%>/g,Ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kt=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,Et=RegExp(Lt.source),Pt=/^\s+|\s+$/g,Nt=/^\s+/,jt=/\s+$/,zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,Yt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Qt+"]",ne="["+Jt+"]",re="\\d+",ie="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+Qt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",le="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",he="(?:"+oe+"|"+ae+")",de="(?:"+fe+"|"+ae+")",pe="(?:"+ne+"|"+se+")"+"?",ge="[\\ufe0e\\ufe0f]?"+pe+("(?:\\u200d(?:"+[ue,ce,le].join("|")+")[\\ufe0e\\ufe0f]?"+pe+")*"),ve="(?:"+[ie,ce,le].join("|")+")"+ge,me="(?:"+[ue+ne+"?",ne,ce,le,te].join("|")+")",ye=RegExp("[']","g"),xe=RegExp(ne,"g"),_e=RegExp(se+"(?="+se+")|"+me+ge,"g"),be=RegExp([fe+"?"+oe+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[ee,fe,"$"].join("|")+")",de+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[ee,fe+he,"$"].join("|")+")",fe+"?"+he+"+(?:['](?:d|ll|m|re|s|t|ve))?",fe+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,ve].join("|"),"g"),we=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),Me=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ae=-1,Te={};Te[lt]=Te[ft]=Te[ht]=Te[dt]=Te[pt]=Te[gt]=Te[vt]=Te[mt]=Te[yt]=!0,Te[F]=Te[H]=Te[ut]=Te[G]=Te[ct]=Te[q]=Te[Y]=Te[X]=Te[$]=Te[K]=Te[Q]=Te[et]=Te[nt]=Te[rt]=Te[at]=!1;var Oe={};Oe[F]=Oe[H]=Oe[ut]=Oe[ct]=Oe[G]=Oe[q]=Oe[lt]=Oe[ft]=Oe[ht]=Oe[dt]=Oe[pt]=Oe[$]=Oe[K]=Oe[Q]=Oe[et]=Oe[nt]=Oe[rt]=Oe[it]=Oe[gt]=Oe[vt]=Oe[mt]=Oe[yt]=!0,Oe[Y]=Oe[X]=Oe[at]=!1;var Ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ce=parseFloat,ke=parseInt,De="object"==typeof t&&t&&t.Object===Object&&t,Le="object"==typeof self&&self&&self.Object===Object&&self,Ee=De||Le||Function("return this")(),Pe="object"==typeof e&&e&&!e.nodeType&&e,Ne=Pe&&"object"==typeof r&&r&&!r.nodeType&&r,je=Ne&&Ne.exports===Pe,ze=je&&De.process,Re=function(){try{var t=Ne&&Ne.require&&Ne.require("util").types;return t||ze&&ze.binding&&ze.binding("util")}catch(t){}}(),Be=Re&&Re.isArrayBuffer,Ve=Re&&Re.isDate,Fe=Re&&Re.isMap,He=Re&&Re.isRegExp,We=Re&&Re.isSet,Ge=Re&&Re.isTypedArray;function qe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ue(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function $e(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ke(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Je(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Qe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var on=hn("length");function an(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function sn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):sn(t,ln,n)}function cn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function ln(t){return t!=t}function fn(t,e){var n=null==t?0:t.length;return n?gn(t,e)/n:j}function hn(t){return function(e){return null==e?o:e[t]}}function dn(t){return function(e){return null==t?o:t[e]}}function pn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function gn(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function vn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function mn(t){return function(e){return t(e)}}function yn(t,e){return Qe(e,function(e){return t[e]})}function xn(t,e){return t.has(e)}function _n(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function bn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var wn=dn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Mn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(t){return"\\"+Ie[t]}function An(t){return we.test(t)}function Tn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function On(t,e){return function(n){return t(e(n))}}function In(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==f||(t[n]=f,o[i++]=n)}return o}function Cn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function kn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Dn(t){return An(t)?function(t){var e=_e.lastIndex=0;for(;_e.test(t);)++e;return e}(t):on(t)}function Ln(t){return An(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.split("")}(t)}var En=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function t(e){var n,r=(e=null==e?Ee:Pn.defaults(Ee.Object(),e,Pn.pick(Ee,Se))).Array,i=e.Date,Jt=e.Error,Qt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,re=e.String,ie=e.TypeError,oe=r.prototype,ae=Qt.prototype,se=ee.prototype,ue=e["__core-js_shared__"],ce=ae.toString,le=se.hasOwnProperty,fe=0,he=(n=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",de=se.toString,pe=ce.call(ee),ge=Ee._,ve=ne("^"+ce.call(le).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=je?e.Buffer:o,_e=e.Symbol,we=e.Uint8Array,Ie=me?me.allocUnsafe:o,De=On(ee.getPrototypeOf,ee),Le=ee.create,Pe=se.propertyIsEnumerable,Ne=oe.splice,ze=_e?_e.isConcatSpreadable:o,Re=_e?_e.iterator:o,on=_e?_e.toStringTag:o,dn=function(){try{var t=Bo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Nn=e.clearTimeout!==Ee.clearTimeout&&e.clearTimeout,jn=i&&i.now!==Ee.Date.now&&i.now,zn=e.setTimeout!==Ee.setTimeout&&e.setTimeout,Rn=te.ceil,Bn=te.floor,Vn=ee.getOwnPropertySymbols,Fn=me?me.isBuffer:o,Hn=e.isFinite,Wn=oe.join,Gn=On(ee.keys,ee),qn=te.max,Un=te.min,Yn=i.now,Xn=e.parseInt,Zn=te.random,$n=oe.reverse,Kn=Bo(e,"DataView"),Jn=Bo(e,"Map"),Qn=Bo(e,"Promise"),tr=Bo(e,"Set"),er=Bo(e,"WeakMap"),nr=Bo(ee,"create"),rr=er&&new er,ir={},or=fa(Kn),ar=fa(Jn),sr=fa(Qn),ur=fa(tr),cr=fa(er),lr=_e?_e.prototype:o,fr=lr?lr.valueOf:o,hr=lr?lr.toString:o;function dr(t){if(Is(t)&&!ms(t)&&!(t instanceof mr)){if(t instanceof vr)return t;if(le.call(t,"__wrapped__"))return ha(t)}return new vr(t)}var pr=function(){function t(){}return function(e){if(!Os(e))return{};if(Le)return Le(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function gr(){}function vr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function mr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function yr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _r;++e<n;)this.add(t[e])}function wr(t){var e=this.__data__=new xr(t);this.size=e.size}function Mr(t,e){var n=ms(t),r=!n&&vs(t),i=!n&&!r&&bs(t),o=!n&&!r&&!i&&js(t),a=n||r||i||o,s=a?vn(t.length,re):[],u=s.length;for(var c in t)!e&&!le.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Uo(c,u))||s.push(c);return s}function Sr(t){var e=t.length;return e?t[bi(0,e-1)]:o}function Ar(t,e){return ua(no(t),Pr(e,0,t.length))}function Tr(t){return ua(no(t))}function Or(t,e,n){(n===o||ds(t[e],n))&&(n!==o||e in t)||Lr(t,e,n)}function Ir(t,e,n){var r=t[e];le.call(t,e)&&ds(r,n)&&(n!==o||e in t)||Lr(t,e,n)}function Cr(t,e){for(var n=t.length;n--;)if(ds(t[n][0],e))return n;return-1}function kr(t,e,n,r){return Br(t,function(t,i,o){e(r,t,n(t),o)}),r}function Dr(t,e){return t&&ro(e,iu(e),t)}function Lr(t,e,n){"__proto__"==e&&dn?dn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Er(t,e){for(var n=-1,i=e.length,a=r(i),s=null==t;++n<i;)a[n]=s?o:Qs(t,e[n]);return a}function Pr(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Nr(t,e,n,r,i,a){var s,u=e&h,c=e&d,l=e&p;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!Os(t))return t;var f=ms(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return no(t,s)}else{var g=Ho(t),v=g==X||g==Z;if(bs(t))return $i(t,u);if(g==Q||g==F||v&&!i){if(s=c||v?{}:Go(t),!u)return c?function(t,e){return ro(t,Fo(t),e)}(t,function(t,e){return t&&ro(e,ou(e),t)}(s,t)):function(t,e){return ro(t,Vo(t),e)}(t,Dr(s,t))}else{if(!Oe[g])return i?t:{};s=function(t,e,n){var r,i,o,a=t.constructor;switch(e){case ut:return Ki(t);case G:case q:return new a(+t);case ct:return function(t,e){var n=e?Ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case lt:case ft:case ht:case dt:case pt:case gt:case vt:case mt:case yt:return Ji(t,n);case $:return new a;case K:case rt:return new a(t);case et:return(o=new(i=t).constructor(i.source,Wt.exec(i))).lastIndex=i.lastIndex,o;case nt:return new a;case it:return r=t,fr?ee(fr.call(r)):{}}}(t,g,u)}}a||(a=new wr);var m=a.get(t);if(m)return m;if(a.set(t,s),Es(t))return t.forEach(function(r){s.add(Nr(r,e,n,r,t,a))}),s;if(Cs(t))return t.forEach(function(r,i){s.set(i,Nr(r,e,n,i,t,a))}),s;var y=f?o:(l?c?Lo:Do:c?ou:iu)(t);return Ye(y||t,function(r,i){y&&(r=t[i=r]),Ir(s,i,Nr(r,e,n,i,t,a))}),s}function jr(t,e,n){var r=n.length;if(null==t)return!r;for(t=ee(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function zr(t,e,n){if("function"!=typeof t)throw new ie(u);return ia(function(){t.apply(o,n)},e)}function Rr(t,e,n,r){var i=-1,o=Ke,s=!0,u=t.length,c=[],l=e.length;if(!u)return c;n&&(e=Qe(e,mn(n))),r?(o=Je,s=!1):e.length>=a&&(o=xn,s=!1,e=new br(e));t:for(;++i<u;){var f=t[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,s&&h==h){for(var d=l;d--;)if(e[d]===h)continue t;c.push(f)}else o(e,h,r)||c.push(f)}return c}dr.templateSettings={escape:Tt,evaluate:Ot,interpolate:It,variable:"",imports:{_:dr}},dr.prototype=gr.prototype,dr.prototype.constructor=dr,vr.prototype=pr(gr.prototype),vr.prototype.constructor=vr,mr.prototype=pr(gr.prototype),mr.prototype.constructor=mr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yr.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===c?o:n}return le.call(e,t)?e[t]:o},yr.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==o:le.call(e,t)},yr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===o?c:e,this},xr.prototype.clear=function(){this.__data__=[],this.size=0},xr.prototype.delete=function(t){var e=this.__data__,n=Cr(e,t);return!(n<0||(n==e.length-1?e.pop():Ne.call(e,n,1),--this.size,0))},xr.prototype.get=function(t){var e=this.__data__,n=Cr(e,t);return n<0?o:e[n][1]},xr.prototype.has=function(t){return Cr(this.__data__,t)>-1},xr.prototype.set=function(t,e){var n=this.__data__,r=Cr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},_r.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Jn||xr),string:new yr}},_r.prototype.delete=function(t){var e=zo(this,t).delete(t);return this.size-=e?1:0,e},_r.prototype.get=function(t){return zo(this,t).get(t)},_r.prototype.has=function(t){return zo(this,t).has(t)},_r.prototype.set=function(t,e){var n=zo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},br.prototype.add=br.prototype.push=function(t){return this.__data__.set(t,c),this},br.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.clear=function(){this.__data__=new xr,this.size=0},wr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},wr.prototype.get=function(t){return this.__data__.get(t)},wr.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xr){var r=n.__data__;if(!Jn||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _r(r)}return n.set(t,e),this.size=n.size,this};var Br=ao(Yr),Vr=ao(Xr,!0);function Fr(t,e){var n=!0;return Br(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Hr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s==s&&!Ns(s):n(s,u)))var u=s,c=a}return c}function Wr(t,e){var n=[];return Br(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Gr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=qo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Gr(s,e-1,n,r,i):tn(i,s):r||(i[i.length]=s)}return i}var qr=so(),Ur=so(!0);function Yr(t,e){return t&&qr(t,e,iu)}function Xr(t,e){return t&&Ur(t,e,iu)}function Zr(t,e){return $e(e,function(e){return Ss(t[e])})}function $r(t,e){for(var n=0,r=(e=Ui(e,t)).length;null!=t&&n<r;)t=t[la(e[n++])];return n&&n==r?t:o}function Kr(t,e,n){var r=e(t);return ms(t)?r:tn(r,n(t))}function Jr(t){return null==t?t===o?ot:J:on&&on in ee(t)?function(t){var e=le.call(t,on),n=t[on];try{t[on]=o;var r=!0}catch(t){}var i=de.call(t);return r&&(e?t[on]=n:delete t[on]),i}(t):function(t){return de.call(t)}(t)}function Qr(t,e){return t>e}function ti(t,e){return null!=t&&le.call(t,e)}function ei(t,e){return null!=t&&e in ee(t)}function ni(t,e,n){for(var i=n?Je:Ke,a=t[0].length,s=t.length,u=s,c=r(s),l=1/0,f=[];u--;){var h=t[u];u&&e&&(h=Qe(h,mn(e))),l=Un(h.length,l),c[u]=!n&&(e||a>=120&&h.length>=120)?new br(u&&h):o}h=t[0];var d=-1,p=c[0];t:for(;++d<a&&f.length<l;){var g=h[d],v=e?e(g):g;if(g=n||0!==g?g:0,!(p?xn(p,v):i(f,v,n))){for(u=s;--u;){var m=c[u];if(!(m?xn(m,v):i(t[u],v,n)))continue t}p&&p.push(v),f.push(g)}}return f}function ri(t,e,n){var r=null==(t=ea(t,e=Ui(e,t)))?t:t[la(Ma(e))];return null==r?o:qe(r,t,n)}function ii(t){return Is(t)&&Jr(t)==F}function oi(t,e,n,r,i){return t===e||(null==t||null==e||!Is(t)&&!Is(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var s=ms(t),u=ms(e),c=s?H:Ho(t),l=u?H:Ho(e),f=(c=c==F?Q:c)==Q,h=(l=l==F?Q:l)==Q,d=c==l;if(d&&bs(t)){if(!bs(e))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new wr),s||js(t)?Co(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new we(t),new we(e)));case G:case q:case K:return ds(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case $:var s=Tn;case nt:var u=r&g;if(s||(s=Cn),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=v,a.set(t,e);var l=Co(s(t),s(e),r,i,o,a);return a.delete(t),l;case it:if(fr)return fr.call(t)==fr.call(e)}return!1}(t,e,c,n,r,i,a);if(!(n&g)){var p=f&&le.call(t,"__wrapped__"),m=h&&le.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,x=m?e.value():e;return a||(a=new wr),i(y,x,n,r,a)}}return!!d&&(a||(a=new wr),function(t,e,n,r,i,a){var s=n&g,u=Do(t),c=u.length,l=Do(e).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var h=u[f];if(!(s?h in e:le.call(e,h)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var p=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<c;){h=u[f];var m=t[h],y=e[h];if(r)var x=s?r(y,m,h,e,t,a):r(m,y,h,t,e,a);if(!(x===o?m===y||i(m,y,n,r,a):x)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,r,i,a))}(t,e,n,r,oi,i))}function ai(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=ee(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var c=(u=n[i])[0],l=t[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in t))return!1}else{var h=new wr;if(r)var d=r(l,f,c,t,e,h);if(!(d===o?oi(f,l,g|v,r,h):d))return!1}}return!0}function si(t){return!(!Os(t)||he&&he in t)&&(Ss(t)?ve:Ut).test(fa(t))}function ui(t){return"function"==typeof t?t:null==t?ku:"object"==typeof t?ms(t)?pi(t[0],t[1]):di(t):Bu(t)}function ci(t){if(!Ko(t))return Gn(t);var e=[];for(var n in ee(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function li(t){if(!Os(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Ko(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function fi(t,e){return t<e}function hi(t,e){var n=-1,i=xs(t)?r(t.length):[];return Br(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function di(t){var e=Ro(t);return 1==e.length&&e[0][2]?Qo(e[0][0],e[0][1]):function(n){return n===t||ai(n,t,e)}}function pi(t,e){return Xo(t)&&Jo(e)?Qo(la(t),e):function(n){var r=Qs(n,t);return r===o&&r===e?tu(n,t):oi(e,r,g|v)}}function gi(t,e,n,r,i){t!==e&&qr(e,function(a,s){if(Os(a))i||(i=new wr),function(t,e,n,r,i,a,s){var u=na(t,n),c=na(e,n),l=s.get(c);if(l)Or(t,n,l);else{var f=a?a(u,c,n+"",t,e,s):o,h=f===o;if(h){var d=ms(c),p=!d&&bs(c),g=!d&&!p&&js(c);f=c,d||p||g?ms(u)?f=u:_s(u)?f=no(u):p?(h=!1,f=$i(c,!0)):g?(h=!1,f=Ji(c,!0)):f=[]:Ds(c)||vs(c)?(f=u,vs(u)?f=Gs(u):Os(u)&&!Ss(u)||(f=Go(c))):h=!1}h&&(s.set(c,f),i(f,c,r,a,s),s.delete(c)),Or(t,n,f)}}(t,e,s,n,gi,r,i);else{var u=r?r(na(t,s),a,s+"",t,e,i):o;u===o&&(u=a),Or(t,s,u)}},ou)}function vi(t,e){var n=t.length;if(n)return Uo(e+=e<0?n:0,n)?t[e]:o}function mi(t,e,n){var r=-1;return e=Qe(e.length?e:[ku],mn(jo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(hi(t,function(t,n,i){return{criteria:Qe(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Qi(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function yi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=$r(t,a);n(s,a)&&Ti(o,Ui(a,t),s)}return o}function xi(t,e,n,r){var i=r?cn:un,o=-1,a=e.length,s=t;for(t===e&&(e=no(e)),n&&(s=Qe(t,mn(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Ne.call(s,u,1),Ne.call(t,u,1);return t}function _i(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Uo(i)?Ne.call(t,i,1):Ri(t,i)}}return t}function bi(t,e){return t+Bn(Zn()*(e-t+1))}function wi(t,e){var n="";if(!t||e<1||e>P)return n;do{e%2&&(n+=t),(e=Bn(e/2))&&(t+=t)}while(e);return n}function Mi(t,e){return oa(ta(t,e,ku),t+"")}function Si(t){return Sr(du(t))}function Ai(t,e){var n=du(t);return ua(n,Pr(e,0,n.length))}function Ti(t,e,n,r){if(!Os(t))return t;for(var i=-1,a=(e=Ui(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var c=la(e[i]),l=n;if(i!=s){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=Os(f)?f:Uo(e[i+1])?[]:{})}Ir(u,c,l),u=u[c]}return t}var Oi=rr?function(t,e){return rr.set(t,e),t}:ku,Ii=dn?function(t,e){return dn(t,"toString",{configurable:!0,enumerable:!1,value:Ou(e),writable:!0})}:ku;function Ci(t){return ua(du(t))}function ki(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Di(t,e){var n;return Br(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Li(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=B){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ns(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ei(t,e,ku,n)}function Ei(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,s=e!=e,u=null===e,c=Ns(e),l=e===o;i<a;){var f=Bn((i+a)/2),h=n(t[f]),d=h!==o,p=null===h,g=h==h,v=Ns(h);if(s)var m=r||g;else m=l?g&&(r||d):u?g&&d&&(r||!p):c?g&&d&&!p&&(r||!v):!p&&!v&&(r?h<=e:h<e);m?i=f+1:a=f}return Un(a,R)}function Pi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!ds(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Ni(t){return"number"==typeof t?t:Ns(t)?j:+t}function ji(t){if("string"==typeof t)return t;if(ms(t))return Qe(t,ji)+"";if(Ns(t))return hr?hr.call(t):"";var e=t+"";return"0"==e&&1/t==-E?"-0":e}function zi(t,e,n){var r=-1,i=Ke,o=t.length,s=!0,u=[],c=u;if(n)s=!1,i=Je;else if(o>=a){var l=e?null:Mo(t);if(l)return Cn(l);s=!1,i=xn,c=new br}else c=e?[]:u;t:for(;++r<o;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),u.push(f)}else i(c,h,n)||(c!==u&&c.push(h),u.push(f))}return u}function Ri(t,e){return null==(t=ea(t,e=Ui(e,t)))||delete t[la(Ma(e))]}function Bi(t,e,n,r){return Ti(t,e,n($r(t,e)),r)}function Vi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ki(t,r?0:o,r?o+1:i):ki(t,r?o+1:0,r?i:o)}function Fi(t,e){var n=t;return n instanceof mr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Hi(t,e,n){var i=t.length;if(i<2)return i?zi(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Rr(a[o]||s,t[u],e,n));return zi(Gr(a,1),e,n)}function Wi(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function Gi(t){return _s(t)?t:[]}function qi(t){return"function"==typeof t?t:ku}function Ui(t,e){return ms(t)?t:Xo(t,e)?[t]:ca(qs(t))}var Yi=Mi;function Xi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:ki(t,e,n)}var Zi=Nn||function(t){return Ee.clearTimeout(t)};function $i(t,e){if(e)return t.slice();var n=t.length,r=Ie?Ie(n):new t.constructor(n);return t.copy(r),r}function Ki(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function Ji(t,e){var n=e?Ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Qi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=Ns(t),s=e!==o,u=null===e,c=e==e,l=Ns(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function to(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=qn(a-s,0),f=r(c+l),h=!i;++u<c;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}function eo(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,f=qn(a-u,0),h=r(f+l),d=!i;++o<f;)h[o]=t[o];for(var p=o;++c<l;)h[p+c]=e[c];for(;++s<u;)(d||o<a)&&(h[p+n[s]]=t[o++]);return h}function no(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function ro(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=r?r(n[u],t[u],u,n,t):o;c===o&&(c=t[u]),i?Lr(n,u,c):Ir(n,u,c)}return n}function io(t,e){return function(n,r){var i=ms(n)?Ue:kr,o=e?e():{};return i(n,t,jo(r,2),o)}}function oo(t){return Mi(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&Yo(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=ee(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}function ao(t,e){return function(n,r){if(null==n)return n;if(!xs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=ee(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function so(t){return function(e,n,r){for(var i=-1,o=ee(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function uo(t){return function(e){var n=An(e=qs(e))?Ln(e):o,r=n?n[0]:e.charAt(0),i=n?Xi(n,1).join(""):e.slice(1);return r[t]()+i}}function co(t){return function(e){return en(Su(vu(e).replace(ye,"")),t,"")}}function lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pr(t.prototype),r=t.apply(n,e);return Os(r)?r:n}}function fo(t){return function(e,n,r){var i=ee(e);if(!xs(e)){var a=jo(n,3);e=iu(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function ho(t){return ko(function(e){var n=e.length,r=n,i=vr.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new ie(u);if(i&&!s&&"wrapper"==Po(a))var s=new vr([],!0)}for(r=s?r:n;++r<n;){var c=Po(a=e[r]),l="wrapper"==c?Eo(a):o;s=l&&Zo(l[0])&&l[1]==(S|_|w|A)&&!l[4].length&&1==l[9]?s[Po(l[0])].apply(s,l[3]):1==a.length&&Zo(a)?s[c]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&ms(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function po(t,e,n,i,a,s,u,c,l,f){var h=e&S,d=e&m,p=e&y,g=e&(_|b),v=e&T,x=p?o:lo(t);return function m(){for(var y=arguments.length,_=r(y),b=y;b--;)_[b]=arguments[b];if(g)var w=No(m),M=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,w);if(i&&(_=to(_,i,a,g)),s&&(_=eo(_,s,u,g)),y-=M,g&&y<f){var S=In(_,w);return bo(t,e,po,m.placeholder,n,_,S,c,l,f-y)}var A=d?n:this,T=p?A[t]:t;return y=_.length,c?_=function(t,e){for(var n=t.length,r=Un(e.length,n),i=no(t);r--;){var a=e[r];t[r]=Uo(a,n)?i[a]:o}return t}(_,c):v&&y>1&&_.reverse(),h&&l<y&&(_.length=l),this&&this!==Ee&&this instanceof m&&(T=x||lo(T)),T.apply(A,_)}}function go(t,e){return function(n,r){return function(t,e,n,r){return Yr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function vo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ji(n),r=ji(r)):(n=Ni(n),r=Ni(r)),i=t(n,r)}return i}}function mo(t){return ko(function(e){return e=Qe(e,mn(jo())),Mi(function(n){var r=this;return t(e,function(t){return qe(t,r,n)})})})}function yo(t,e){var n=(e=e===o?" ":ji(e)).length;if(n<2)return n?wi(e,t):e;var r=wi(e,Rn(t/Dn(e)));return An(e)?Xi(Ln(r),0,t).join(""):r.slice(0,t)}function xo(t){return function(e,n,i){return i&&"number"!=typeof i&&Yo(e,n,i)&&(n=i=o),e=Vs(e),n===o?(n=e,e=0):n=Vs(n),function(t,e,n,i){for(var o=-1,a=qn(Rn((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=i===o?e<n?1:-1:Vs(i),t)}}function _o(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ws(e),n=Ws(n)),t(e,n)}}function bo(t,e,n,r,i,a,s,u,c,l){var f=e&_;e|=f?w:M,(e&=~(f?M:w))&x||(e&=~(m|y));var h=[t,e,i,f?a:o,f?s:o,f?o:a,f?o:s,u,c,l],d=n.apply(o,h);return Zo(t)&&ra(d,h),d.placeholder=r,aa(d,t,e)}function wo(t){var e=te[t];return function(t,n){if(t=Ws(t),n=null==n?0:Un(Fs(n),292)){var r=(qs(t)+"e").split("e");return+((r=(qs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Mo=tr&&1/Cn(new tr([,-0]))[1]==E?function(t){return new tr(t)}:Nu;function So(t){return function(e){var n=Ho(e);return n==$?Tn(e):n==nt?kn(e):function(t,e){return Qe(e,function(e){return[e,t[e]]})}(e,t(e))}}function Ao(t,e,n,i,a,s,c,l){var h=e&y;if(!h&&"function"!=typeof t)throw new ie(u);var d=i?i.length:0;if(d||(e&=~(w|M),i=a=o),c=c===o?c:qn(Fs(c),0),l=l===o?l:Fs(l),d-=a?a.length:0,e&M){var p=i,g=a;i=a=o}var v=h?o:Eo(t),T=[t,e,n,i,a,p,g,s,c,l];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(m|y|S),a=r==S&&n==_||r==S&&n==A&&t[7].length<=e[8]||r==(S|A)&&e[7].length<=e[8]&&n==_;if(!o&&!a)return t;r&m&&(t[2]=e[2],i|=n&m?0:x);var s=e[3];if(s){var u=t[3];t[3]=u?to(u,s,e[4]):s,t[4]=u?In(t[3],f):e[4]}(s=e[5])&&(u=t[5],t[5]=u?eo(u,s,e[6]):s,t[6]=u?In(t[5],f):e[6]),(s=e[7])&&(t[7]=s),r&S&&(t[8]=null==t[8]?e[8]:Un(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(T,v),t=T[0],e=T[1],n=T[2],i=T[3],a=T[4],!(l=T[9]=T[9]===o?h?0:t.length:qn(T[9]-d,0))&&e&(_|b)&&(e&=~(_|b)),e&&e!=m)O=e==_||e==b?function(t,e,n){var i=lo(t);return function a(){for(var s=arguments.length,u=r(s),c=s,l=No(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:In(u,l);return(s-=f.length)<n?bo(t,e,po,a.placeholder,o,u,f,o,o,n-s):qe(this&&this!==Ee&&this instanceof a?i:t,this,u)}}(t,e,l):e!=w&&e!=(m|w)||a.length?po.apply(o,T):function(t,e,n,i){var o=e&m,a=lo(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==Ee&&this instanceof e?a:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return qe(h,o?n:this,f)}}(t,e,n,i);else var O=function(t,e,n){var r=e&m,i=lo(t);return function e(){return(this&&this!==Ee&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return aa((v?Oi:ra)(O,T),t,e)}function To(t,e,n,r){return t===o||ds(t,se[n])&&!le.call(r,n)?e:t}function Oo(t,e,n,r,i,a){return Os(t)&&Os(e)&&(a.set(e,t),gi(t,e,o,Oo,a),a.delete(e)),t}function Io(t){return Ds(t)?o:t}function Co(t,e,n,r,i,a){var s=n&g,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var f=-1,h=!0,d=n&v?new br:o;for(a.set(t,e),a.set(e,t);++f<u;){var p=t[f],m=e[f];if(r)var y=s?r(m,p,f,e,t,a):r(p,m,f,t,e,a);if(y!==o){if(y)continue;h=!1;break}if(d){if(!rn(e,function(t,e){if(!xn(d,e)&&(p===t||i(p,t,n,r,a)))return d.push(e)})){h=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function ko(t){return oa(ta(t,o,ya),t+"")}function Do(t){return Kr(t,iu,Vo)}function Lo(t){return Kr(t,ou,Fo)}var Eo=rr?function(t){return rr.get(t)}:Nu;function Po(t){for(var e=t.name+"",n=ir[e],r=le.call(ir,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function No(t){return(le.call(dr,"placeholder")?dr:t).placeholder}function jo(){var t=dr.iteratee||Du;return t=t===Du?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function zo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ro(t){for(var e=iu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Jo(i)]}return e}function Bo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return si(n)?n:o}var Vo=Vn?function(t){return null==t?[]:(t=ee(t),$e(Vn(t),function(e){return Pe.call(t,e)}))}:Hu,Fo=Vn?function(t){for(var e=[];t;)tn(e,Vo(t)),t=De(t);return e}:Hu,Ho=Jr;function Wo(t,e,n){for(var r=-1,i=(e=Ui(e,t)).length,o=!1;++r<i;){var a=la(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ts(i)&&Uo(a,i)&&(ms(t)||vs(t))}function Go(t){return"function"!=typeof t.constructor||Ko(t)?{}:pr(De(t))}function qo(t){return ms(t)||vs(t)||!!(ze&&t&&t[ze])}function Uo(t,e){var n=typeof t;return!!(e=null==e?P:e)&&("number"==n||"symbol"!=n&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function Yo(t,e,n){if(!Os(n))return!1;var r=typeof e;return!!("number"==r?xs(n)&&Uo(e,n.length):"string"==r&&e in n)&&ds(n[e],t)}function Xo(t,e){if(ms(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ns(t))||kt.test(t)||!Ct.test(t)||null!=e&&t in ee(e)}function Zo(t){var e=Po(t),n=dr[e];if("function"!=typeof n||!(e in mr.prototype))return!1;if(t===n)return!0;var r=Eo(n);return!!r&&t===r[0]}(Kn&&Ho(new Kn(new ArrayBuffer(1)))!=ct||Jn&&Ho(new Jn)!=$||Qn&&"[object Promise]"!=Ho(Qn.resolve())||tr&&Ho(new tr)!=nt||er&&Ho(new er)!=at)&&(Ho=function(t){var e=Jr(t),n=e==Q?t.constructor:o,r=n?fa(n):"";if(r)switch(r){case or:return ct;case ar:return $;case sr:return"[object Promise]";case ur:return nt;case cr:return at}return e});var $o=ue?Ss:Wu;function Ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Jo(t){return t==t&&!Os(t)}function Qo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in ee(n))}}function ta(t,e,n){return e=qn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=qn(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),qe(t,this,u)}}function ea(t,e){return e.length<2?t:$r(t,ki(e,0,-1))}function na(t,e){if("__proto__"!=e)return t[e]}var ra=sa(Oi),ia=zn||function(t,e){return Ee.setTimeout(t,e)},oa=sa(Ii);function aa(t,e,n){var r=e+"";return oa(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(zt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ye(V,function(n){var r="_."+n[0];e&n[1]&&!Ke(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Rt);return e?e[1].split(Bt):[]}(r),n)))}function sa(t){var e=0,n=0;return function(){var r=Yn(),i=k-(r-n);if(n=r,i>0){if(++e>=C)return arguments[0]}else e=0;return t.apply(o,arguments)}}function ua(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=bi(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var ca=function(t){var e=ss(t,function(t){return n.size===l&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Dt,function(t,n,r,i){e.push(r?i.replace(Ft,"$1"):n||t)}),e});function la(t){if("string"==typeof t||Ns(t))return t;var e=t+"";return"0"==e&&1/t==-E?"-0":e}function fa(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ha(t){if(t instanceof mr)return t.clone();var e=new vr(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var da=Mi(function(t,e){return _s(t)?Rr(t,Gr(e,1,_s,!0)):[]}),pa=Mi(function(t,e){var n=Ma(e);return _s(n)&&(n=o),_s(t)?Rr(t,Gr(e,1,_s,!0),jo(n,2)):[]}),ga=Mi(function(t,e){var n=Ma(e);return _s(n)&&(n=o),_s(t)?Rr(t,Gr(e,1,_s,!0),o,n):[]});function va(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Fs(n);return i<0&&(i=qn(r+i,0)),sn(t,jo(e,3),i)}function ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Fs(n),i=n<0?qn(r+i,0):Un(i,r-1)),sn(t,jo(e,3),i,!0)}function ya(t){return null!=t&&t.length?Gr(t,1):[]}function xa(t){return t&&t.length?t[0]:o}var _a=Mi(function(t){var e=Qe(t,Gi);return e.length&&e[0]===t[0]?ni(e):[]}),ba=Mi(function(t){var e=Ma(t),n=Qe(t,Gi);return e===Ma(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ni(n,jo(e,2)):[]}),wa=Mi(function(t){var e=Ma(t),n=Qe(t,Gi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ni(n,o,e):[]});function Ma(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Sa=Mi(Aa);function Aa(t,e){return t&&t.length&&e&&e.length?xi(t,e):t}var Ta=ko(function(t,e){var n=null==t?0:t.length,r=Er(t,e);return _i(t,Qe(e,function(t){return Uo(t,n)?+t:t}).sort(Qi)),r});function Oa(t){return null==t?t:$n.call(t)}var Ia=Mi(function(t){return zi(Gr(t,1,_s,!0))}),Ca=Mi(function(t){var e=Ma(t);return _s(e)&&(e=o),zi(Gr(t,1,_s,!0),jo(e,2))}),ka=Mi(function(t){var e=Ma(t);return e="function"==typeof e?e:o,zi(Gr(t,1,_s,!0),o,e)});function Da(t){if(!t||!t.length)return[];var e=0;return t=$e(t,function(t){if(_s(t))return e=qn(t.length,e),!0}),vn(e,function(e){return Qe(t,hn(e))})}function La(t,e){if(!t||!t.length)return[];var n=Da(t);return null==e?n:Qe(n,function(t){return qe(e,o,t)})}var Ea=Mi(function(t,e){return _s(t)?Rr(t,e):[]}),Pa=Mi(function(t){return Hi($e(t,_s))}),Na=Mi(function(t){var e=Ma(t);return _s(e)&&(e=o),Hi($e(t,_s),jo(e,2))}),ja=Mi(function(t){var e=Ma(t);return e="function"==typeof e?e:o,Hi($e(t,_s),o,e)}),za=Mi(Da);var Ra=Mi(function(t){var e=t.length,n=e>1?t[e-1]:o;return La(t,n="function"==typeof n?(t.pop(),n):o)});function Ba(t){var e=dr(t);return e.__chain__=!0,e}function Va(t,e){return e(t)}var Fa=ko(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Er(e,t)};return!(e>1||this.__actions__.length)&&r instanceof mr&&Uo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Va,args:[i],thisArg:o}),new vr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Ha=io(function(t,e,n){le.call(t,n)?++t[n]:Lr(t,n,1)});var Wa=fo(va),Ga=fo(ma);function qa(t,e){return(ms(t)?Ye:Br)(t,jo(e,3))}function Ua(t,e){return(ms(t)?Xe:Vr)(t,jo(e,3))}var Ya=io(function(t,e,n){le.call(t,n)?t[n].push(e):Lr(t,n,[e])});var Xa=Mi(function(t,e,n){var i=-1,o="function"==typeof e,a=xs(t)?r(t.length):[];return Br(t,function(t){a[++i]=o?qe(e,t,n):ri(t,e,n)}),a}),Za=io(function(t,e,n){Lr(t,n,e)});function $a(t,e){return(ms(t)?Qe:hi)(t,jo(e,3))}var Ka=io(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Ja=Mi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Yo(t,e[0],e[1])?e=[]:n>2&&Yo(e[0],e[1],e[2])&&(e=[e[0]]),mi(t,Gr(e,1),[])}),Qa=jn||function(){return Ee.Date.now()};function ts(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Ao(t,S,o,o,o,o,e)}function es(t,e){var n;if("function"!=typeof e)throw new ie(u);return t=Fs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var ns=Mi(function(t,e,n){var r=m;if(n.length){var i=In(n,No(ns));r|=w}return Ao(t,r,e,n,i)}),rs=Mi(function(t,e,n){var r=m|y;if(n.length){var i=In(n,No(rs));r|=w}return Ao(e,r,t,n,i)});function is(t,e,n){var r,i,a,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new ie(u);function g(e){var n=r,a=i;return r=i=o,f=e,s=t.apply(a,n)}function v(t){var n=t-l;return l===o||n>=e||n<0||d&&t-f>=a}function m(){var t=Qa();if(v(t))return y(t);c=ia(m,function(t){var n=e-(t-l);return d?Un(n,a-(t-f)):n}(t))}function y(t){return c=o,p&&r?g(t):(r=i=o,s)}function x(){var t=Qa(),n=v(t);if(r=arguments,i=this,l=t,n){if(c===o)return function(t){return f=t,c=ia(m,e),h?g(t):s}(l);if(d)return c=ia(m,e),g(l)}return c===o&&(c=ia(m,e)),s}return e=Ws(e)||0,Os(n)&&(h=!!n.leading,a=(d="maxWait"in n)?qn(Ws(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),x.cancel=function(){c!==o&&Zi(c),f=0,r=l=i=c=o},x.flush=function(){return c===o?s:y(Qa())},x}var os=Mi(function(t,e){return zr(t,1,e)}),as=Mi(function(t,e,n){return zr(t,Ws(e)||0,n)});function ss(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(u);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ss.Cache||_r),n}function us(t){if("function"!=typeof t)throw new ie(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ss.Cache=_r;var cs=Yi(function(t,e){var n=(e=1==e.length&&ms(e[0])?Qe(e[0],mn(jo())):Qe(Gr(e,1),mn(jo()))).length;return Mi(function(r){for(var i=-1,o=Un(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return qe(t,this,r)})}),ls=Mi(function(t,e){var n=In(e,No(ls));return Ao(t,w,o,e,n)}),fs=Mi(function(t,e){var n=In(e,No(fs));return Ao(t,M,o,e,n)}),hs=ko(function(t,e){return Ao(t,A,o,o,o,e)});function ds(t,e){return t===e||t!=t&&e!=e}var ps=_o(Qr),gs=_o(function(t,e){return t>=e}),vs=ii(function(){return arguments}())?ii:function(t){return Is(t)&&le.call(t,"callee")&&!Pe.call(t,"callee")},ms=r.isArray,ys=Be?mn(Be):function(t){return Is(t)&&Jr(t)==ut};function xs(t){return null!=t&&Ts(t.length)&&!Ss(t)}function _s(t){return Is(t)&&xs(t)}var bs=Fn||Wu,ws=Ve?mn(Ve):function(t){return Is(t)&&Jr(t)==q};function Ms(t){if(!Is(t))return!1;var e=Jr(t);return e==Y||e==U||"string"==typeof t.message&&"string"==typeof t.name&&!Ds(t)}function Ss(t){if(!Os(t))return!1;var e=Jr(t);return e==X||e==Z||e==W||e==tt}function As(t){return"number"==typeof t&&t==Fs(t)}function Ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=P}function Os(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Is(t){return null!=t&&"object"==typeof t}var Cs=Fe?mn(Fe):function(t){return Is(t)&&Ho(t)==$};function ks(t){return"number"==typeof t||Is(t)&&Jr(t)==K}function Ds(t){if(!Is(t)||Jr(t)!=Q)return!1;var e=De(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==pe}var Ls=He?mn(He):function(t){return Is(t)&&Jr(t)==et};var Es=We?mn(We):function(t){return Is(t)&&Ho(t)==nt};function Ps(t){return"string"==typeof t||!ms(t)&&Is(t)&&Jr(t)==rt}function Ns(t){return"symbol"==typeof t||Is(t)&&Jr(t)==it}var js=Ge?mn(Ge):function(t){return Is(t)&&Ts(t.length)&&!!Te[Jr(t)]};var zs=_o(fi),Rs=_o(function(t,e){return t<=e});function Bs(t){if(!t)return[];if(xs(t))return Ps(t)?Ln(t):no(t);if(Re&&t[Re])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Re]());var e=Ho(t);return(e==$?Tn:e==nt?Cn:du)(t)}function Vs(t){return t?(t=Ws(t))===E||t===-E?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}function Fs(t){var e=Vs(t),n=e%1;return e==e?n?e-n:e:0}function Hs(t){return t?Pr(Fs(t),0,z):0}function Ws(t){if("number"==typeof t)return t;if(Ns(t))return j;if(Os(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Os(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pt,"");var n=qt.test(t);return n||Yt.test(t)?ke(t.slice(2),n?2:8):Gt.test(t)?j:+t}function Gs(t){return ro(t,ou(t))}function qs(t){return null==t?"":ji(t)}var Us=oo(function(t,e){if(Ko(e)||xs(e))ro(e,iu(e),t);else for(var n in e)le.call(e,n)&&Ir(t,n,e[n])}),Ys=oo(function(t,e){ro(e,ou(e),t)}),Xs=oo(function(t,e,n,r){ro(e,ou(e),t,r)}),Zs=oo(function(t,e,n,r){ro(e,iu(e),t,r)}),$s=ko(Er);var Ks=Mi(function(t,e){t=ee(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Yo(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=ou(a),u=-1,c=s.length;++u<c;){var l=s[u],f=t[l];(f===o||ds(f,se[l])&&!le.call(t,l))&&(t[l]=a[l])}return t}),Js=Mi(function(t){return t.push(o,Oo),qe(su,o,t)});function Qs(t,e,n){var r=null==t?o:$r(t,e);return r===o?n:r}function tu(t,e){return null!=t&&Wo(t,e,ei)}var eu=go(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=n},Ou(ku)),nu=go(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]},jo),ru=Mi(ri);function iu(t){return xs(t)?Mr(t):ci(t)}function ou(t){return xs(t)?Mr(t,!0):li(t)}var au=oo(function(t,e,n){gi(t,e,n)}),su=oo(function(t,e,n,r){gi(t,e,n,r)}),uu=ko(function(t,e){var n={};if(null==t)return n;var r=!1;e=Qe(e,function(e){return e=Ui(e,t),r||(r=e.length>1),e}),ro(t,Lo(t),n),r&&(n=Nr(n,h|d|p,Io));for(var i=e.length;i--;)Ri(n,e[i]);return n});var cu=ko(function(t,e){return null==t?{}:function(t,e){return yi(t,e,function(e,n){return tu(t,n)})}(t,e)});function lu(t,e){if(null==t)return{};var n=Qe(Lo(t),function(t){return[t]});return e=jo(e),yi(t,n,function(t,n){return e(t,n[0])})}var fu=So(iu),hu=So(ou);function du(t){return null==t?[]:yn(t,iu(t))}var pu=co(function(t,e,n){return e=e.toLowerCase(),t+(n?gu(e):e)});function gu(t){return Mu(qs(t).toLowerCase())}function vu(t){return(t=qs(t))&&t.replace(Zt,wn).replace(xe,"")}var mu=co(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yu=co(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),xu=uo("toLowerCase");var _u=co(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var bu=co(function(t,e,n){return t+(n?" ":"")+Mu(e)});var wu=co(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Mu=uo("toUpperCase");function Su(t,e,n){return t=qs(t),(e=n?o:e)===o?function(t){return Me.test(t)}(t)?function(t){return t.match(be)||[]}(t):function(t){return t.match(Vt)||[]}(t):t.match(e)||[]}var Au=Mi(function(t,e){try{return qe(t,o,e)}catch(t){return Ms(t)?t:new Jt(t)}}),Tu=ko(function(t,e){return Ye(e,function(e){e=la(e),Lr(t,e,ns(t[e],t))}),t});function Ou(t){return function(){return t}}var Iu=ho(),Cu=ho(!0);function ku(t){return t}function Du(t){return ui("function"==typeof t?t:Nr(t,h))}var Lu=Mi(function(t,e){return function(n){return ri(n,t,e)}}),Eu=Mi(function(t,e){return function(n){return ri(t,n,e)}});function Pu(t,e,n){var r=iu(e),i=Zr(e,r);null!=n||Os(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Zr(e,iu(e)));var o=!(Os(n)&&"chain"in n&&!n.chain),a=Ss(t);return Ye(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Nu(){}var ju=mo(Qe),zu=mo(Ze),Ru=mo(rn);function Bu(t){return Xo(t)?hn(la(t)):function(t){return function(e){return $r(e,t)}}(t)}var Vu=xo(),Fu=xo(!0);function Hu(){return[]}function Wu(){return!1}var Gu=vo(function(t,e){return t+e},0),qu=wo("ceil"),Uu=vo(function(t,e){return t/e},1),Yu=wo("floor");var Xu,Zu=vo(function(t,e){return t*e},1),$u=wo("round"),Ku=vo(function(t,e){return t-e},0);return dr.after=function(t,e){if("function"!=typeof e)throw new ie(u);return t=Fs(t),function(){if(--t<1)return e.apply(this,arguments)}},dr.ary=ts,dr.assign=Us,dr.assignIn=Ys,dr.assignInWith=Xs,dr.assignWith=Zs,dr.at=$s,dr.before=es,dr.bind=ns,dr.bindAll=Tu,dr.bindKey=rs,dr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ms(t)?t:[t]},dr.chain=Ba,dr.chunk=function(t,e,n){e=(n?Yo(t,e,n):e===o)?1:qn(Fs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=r(Rn(i/e));a<i;)u[s++]=ki(t,a,a+=e);return u},dr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},dr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(ms(n)?no(n):[n],Gr(e,1))},dr.cond=function(t){var e=null==t?0:t.length,n=jo();return t=e?Qe(t,function(t){if("function"!=typeof t[1])throw new ie(u);return[n(t[0]),t[1]]}):[],Mi(function(n){for(var r=-1;++r<e;){var i=t[r];if(qe(i[0],this,n))return qe(i[1],this,n)}})},dr.conforms=function(t){return function(t){var e=iu(t);return function(n){return jr(n,t,e)}}(Nr(t,h))},dr.constant=Ou,dr.countBy=Ha,dr.create=function(t,e){var n=pr(t);return null==e?n:Dr(n,e)},dr.curry=function t(e,n,r){var i=Ao(e,_,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},dr.curryRight=function t(e,n,r){var i=Ao(e,b,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},dr.debounce=is,dr.defaults=Ks,dr.defaultsDeep=Js,dr.defer=os,dr.delay=as,dr.difference=da,dr.differenceBy=pa,dr.differenceWith=ga,dr.drop=function(t,e,n){var r=null==t?0:t.length;return r?ki(t,(e=n||e===o?1:Fs(e))<0?0:e,r):[]},dr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ki(t,0,(e=r-(e=n||e===o?1:Fs(e)))<0?0:e):[]},dr.dropRightWhile=function(t,e){return t&&t.length?Vi(t,jo(e,3),!0,!0):[]},dr.dropWhile=function(t,e){return t&&t.length?Vi(t,jo(e,3),!0):[]},dr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Yo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Fs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Fs(r))<0&&(r+=i),r=n>r?0:Hs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},dr.filter=function(t,e){return(ms(t)?$e:Wr)(t,jo(e,3))},dr.flatMap=function(t,e){return Gr($a(t,e),1)},dr.flatMapDeep=function(t,e){return Gr($a(t,e),E)},dr.flatMapDepth=function(t,e,n){return n=n===o?1:Fs(n),Gr($a(t,e),n)},dr.flatten=ya,dr.flattenDeep=function(t){return null!=t&&t.length?Gr(t,E):[]},dr.flattenDepth=function(t,e){return null!=t&&t.length?Gr(t,e=e===o?1:Fs(e)):[]},dr.flip=function(t){return Ao(t,T)},dr.flow=Iu,dr.flowRight=Cu,dr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},dr.functions=function(t){return null==t?[]:Zr(t,iu(t))},dr.functionsIn=function(t){return null==t?[]:Zr(t,ou(t))},dr.groupBy=Ya,dr.initial=function(t){return null!=t&&t.length?ki(t,0,-1):[]},dr.intersection=_a,dr.intersectionBy=ba,dr.intersectionWith=wa,dr.invert=eu,dr.invertBy=nu,dr.invokeMap=Xa,dr.iteratee=Du,dr.keyBy=Za,dr.keys=iu,dr.keysIn=ou,dr.map=$a,dr.mapKeys=function(t,e){var n={};return e=jo(e,3),Yr(t,function(t,r,i){Lr(n,e(t,r,i),t)}),n},dr.mapValues=function(t,e){var n={};return e=jo(e,3),Yr(t,function(t,r,i){Lr(n,r,e(t,r,i))}),n},dr.matches=function(t){return di(Nr(t,h))},dr.matchesProperty=function(t,e){return pi(t,Nr(e,h))},dr.memoize=ss,dr.merge=au,dr.mergeWith=su,dr.method=Lu,dr.methodOf=Eu,dr.mixin=Pu,dr.negate=us,dr.nthArg=function(t){return t=Fs(t),Mi(function(e){return vi(e,t)})},dr.omit=uu,dr.omitBy=function(t,e){return lu(t,us(jo(e)))},dr.once=function(t){return es(2,t)},dr.orderBy=function(t,e,n,r){return null==t?[]:(ms(e)||(e=null==e?[]:[e]),ms(n=r?o:n)||(n=null==n?[]:[n]),mi(t,e,n))},dr.over=ju,dr.overArgs=cs,dr.overEvery=zu,dr.overSome=Ru,dr.partial=ls,dr.partialRight=fs,dr.partition=Ka,dr.pick=cu,dr.pickBy=lu,dr.property=Bu,dr.propertyOf=function(t){return function(e){return null==t?o:$r(t,e)}},dr.pull=Sa,dr.pullAll=Aa,dr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?xi(t,e,jo(n,2)):t},dr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?xi(t,e,o,n):t},dr.pullAt=Ta,dr.range=Vu,dr.rangeRight=Fu,dr.rearg=hs,dr.reject=function(t,e){return(ms(t)?$e:Wr)(t,us(jo(e,3)))},dr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=jo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return _i(t,i),n},dr.rest=function(t,e){if("function"!=typeof t)throw new ie(u);return Mi(t,e=e===o?e:Fs(e))},dr.reverse=Oa,dr.sampleSize=function(t,e,n){return e=(n?Yo(t,e,n):e===o)?1:Fs(e),(ms(t)?Ar:Ai)(t,e)},dr.set=function(t,e,n){return null==t?t:Ti(t,e,n)},dr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Ti(t,e,n,r)},dr.shuffle=function(t){return(ms(t)?Tr:Ci)(t)},dr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Yo(t,e,n)?(e=0,n=r):(e=null==e?0:Fs(e),n=n===o?r:Fs(n)),ki(t,e,n)):[]},dr.sortBy=Ja,dr.sortedUniq=function(t){return t&&t.length?Pi(t):[]},dr.sortedUniqBy=function(t,e){return t&&t.length?Pi(t,jo(e,2)):[]},dr.split=function(t,e,n){return n&&"number"!=typeof n&&Yo(t,e,n)&&(e=n=o),(n=n===o?z:n>>>0)?(t=qs(t))&&("string"==typeof e||null!=e&&!Ls(e))&&!(e=ji(e))&&An(t)?Xi(Ln(t),0,n):t.split(e,n):[]},dr.spread=function(t,e){if("function"!=typeof t)throw new ie(u);return e=null==e?0:qn(Fs(e),0),Mi(function(n){var r=n[e],i=Xi(n,0,e);return r&&tn(i,r),qe(t,this,i)})},dr.tail=function(t){var e=null==t?0:t.length;return e?ki(t,1,e):[]},dr.take=function(t,e,n){return t&&t.length?ki(t,0,(e=n||e===o?1:Fs(e))<0?0:e):[]},dr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ki(t,(e=r-(e=n||e===o?1:Fs(e)))<0?0:e,r):[]},dr.takeRightWhile=function(t,e){return t&&t.length?Vi(t,jo(e,3),!1,!0):[]},dr.takeWhile=function(t,e){return t&&t.length?Vi(t,jo(e,3)):[]},dr.tap=function(t,e){return e(t),t},dr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ie(u);return Os(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),is(t,e,{leading:r,maxWait:e,trailing:i})},dr.thru=Va,dr.toArray=Bs,dr.toPairs=fu,dr.toPairsIn=hu,dr.toPath=function(t){return ms(t)?Qe(t,la):Ns(t)?[t]:no(ca(qs(t)))},dr.toPlainObject=Gs,dr.transform=function(t,e,n){var r=ms(t),i=r||bs(t)||js(t);if(e=jo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Os(t)&&Ss(o)?pr(De(t)):{}}return(i?Ye:Yr)(t,function(t,r,i){return e(n,t,r,i)}),n},dr.unary=function(t){return ts(t,1)},dr.union=Ia,dr.unionBy=Ca,dr.unionWith=ka,dr.uniq=function(t){return t&&t.length?zi(t):[]},dr.uniqBy=function(t,e){return t&&t.length?zi(t,jo(e,2)):[]},dr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?zi(t,o,e):[]},dr.unset=function(t,e){return null==t||Ri(t,e)},dr.unzip=Da,dr.unzipWith=La,dr.update=function(t,e,n){return null==t?t:Bi(t,e,qi(n))},dr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Bi(t,e,qi(n),r)},dr.values=du,dr.valuesIn=function(t){return null==t?[]:yn(t,ou(t))},dr.without=Ea,dr.words=Su,dr.wrap=function(t,e){return ls(qi(e),t)},dr.xor=Pa,dr.xorBy=Na,dr.xorWith=ja,dr.zip=za,dr.zipObject=function(t,e){return Wi(t||[],e||[],Ir)},dr.zipObjectDeep=function(t,e){return Wi(t||[],e||[],Ti)},dr.zipWith=Ra,dr.entries=fu,dr.entriesIn=hu,dr.extend=Ys,dr.extendWith=Xs,Pu(dr,dr),dr.add=Gu,dr.attempt=Au,dr.camelCase=pu,dr.capitalize=gu,dr.ceil=qu,dr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Ws(n))==n?n:0),e!==o&&(e=(e=Ws(e))==e?e:0),Pr(Ws(t),e,n)},dr.clone=function(t){return Nr(t,p)},dr.cloneDeep=function(t){return Nr(t,h|p)},dr.cloneDeepWith=function(t,e){return Nr(t,h|p,e="function"==typeof e?e:o)},dr.cloneWith=function(t,e){return Nr(t,p,e="function"==typeof e?e:o)},dr.conformsTo=function(t,e){return null==e||jr(t,e,iu(e))},dr.deburr=vu,dr.defaultTo=function(t,e){return null==t||t!=t?e:t},dr.divide=Uu,dr.endsWith=function(t,e,n){t=qs(t),e=ji(e);var r=t.length,i=n=n===o?r:Pr(Fs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},dr.eq=ds,dr.escape=function(t){return(t=qs(t))&&At.test(t)?t.replace(Mt,Mn):t},dr.escapeRegExp=function(t){return(t=qs(t))&&Et.test(t)?t.replace(Lt,"\\$&"):t},dr.every=function(t,e,n){var r=ms(t)?Ze:Fr;return n&&Yo(t,e,n)&&(e=o),r(t,jo(e,3))},dr.find=Wa,dr.findIndex=va,dr.findKey=function(t,e){return an(t,jo(e,3),Yr)},dr.findLast=Ga,dr.findLastIndex=ma,dr.findLastKey=function(t,e){return an(t,jo(e,3),Xr)},dr.floor=Yu,dr.forEach=qa,dr.forEachRight=Ua,dr.forIn=function(t,e){return null==t?t:qr(t,jo(e,3),ou)},dr.forInRight=function(t,e){return null==t?t:Ur(t,jo(e,3),ou)},dr.forOwn=function(t,e){return t&&Yr(t,jo(e,3))},dr.forOwnRight=function(t,e){return t&&Xr(t,jo(e,3))},dr.get=Qs,dr.gt=ps,dr.gte=gs,dr.has=function(t,e){return null!=t&&Wo(t,e,ti)},dr.hasIn=tu,dr.head=xa,dr.identity=ku,dr.includes=function(t,e,n,r){t=xs(t)?t:du(t),n=n&&!r?Fs(n):0;var i=t.length;return n<0&&(n=qn(i+n,0)),Ps(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},dr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Fs(n);return i<0&&(i=qn(r+i,0)),un(t,e,i)},dr.inRange=function(t,e,n){return e=Vs(e),n===o?(n=e,e=0):n=Vs(n),function(t,e,n){return t>=Un(e,n)&&t<qn(e,n)}(t=Ws(t),e,n)},dr.invoke=ru,dr.isArguments=vs,dr.isArray=ms,dr.isArrayBuffer=ys,dr.isArrayLike=xs,dr.isArrayLikeObject=_s,dr.isBoolean=function(t){return!0===t||!1===t||Is(t)&&Jr(t)==G},dr.isBuffer=bs,dr.isDate=ws,dr.isElement=function(t){return Is(t)&&1===t.nodeType&&!Ds(t)},dr.isEmpty=function(t){if(null==t)return!0;if(xs(t)&&(ms(t)||"string"==typeof t||"function"==typeof t.splice||bs(t)||js(t)||vs(t)))return!t.length;var e=Ho(t);if(e==$||e==nt)return!t.size;if(Ko(t))return!ci(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},dr.isEqual=function(t,e){return oi(t,e)},dr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?oi(t,e,o,n):!!r},dr.isError=Ms,dr.isFinite=function(t){return"number"==typeof t&&Hn(t)},dr.isFunction=Ss,dr.isInteger=As,dr.isLength=Ts,dr.isMap=Cs,dr.isMatch=function(t,e){return t===e||ai(t,e,Ro(e))},dr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,ai(t,e,Ro(e),n)},dr.isNaN=function(t){return ks(t)&&t!=+t},dr.isNative=function(t){if($o(t))throw new Jt(s);return si(t)},dr.isNil=function(t){return null==t},dr.isNull=function(t){return null===t},dr.isNumber=ks,dr.isObject=Os,dr.isObjectLike=Is,dr.isPlainObject=Ds,dr.isRegExp=Ls,dr.isSafeInteger=function(t){return As(t)&&t>=-P&&t<=P},dr.isSet=Es,dr.isString=Ps,dr.isSymbol=Ns,dr.isTypedArray=js,dr.isUndefined=function(t){return t===o},dr.isWeakMap=function(t){return Is(t)&&Ho(t)==at},dr.isWeakSet=function(t){return Is(t)&&Jr(t)==st},dr.join=function(t,e){return null==t?"":Wn.call(t,e)},dr.kebabCase=mu,dr.last=Ma,dr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Fs(n))<0?qn(r+i,0):Un(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):sn(t,ln,i,!0)},dr.lowerCase=yu,dr.lowerFirst=xu,dr.lt=zs,dr.lte=Rs,dr.max=function(t){return t&&t.length?Hr(t,ku,Qr):o},dr.maxBy=function(t,e){return t&&t.length?Hr(t,jo(e,2),Qr):o},dr.mean=function(t){return fn(t,ku)},dr.meanBy=function(t,e){return fn(t,jo(e,2))},dr.min=function(t){return t&&t.length?Hr(t,ku,fi):o},dr.minBy=function(t,e){return t&&t.length?Hr(t,jo(e,2),fi):o},dr.stubArray=Hu,dr.stubFalse=Wu,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=Zu,dr.nth=function(t,e){return t&&t.length?vi(t,Fs(e)):o},dr.noConflict=function(){return Ee._===this&&(Ee._=ge),this},dr.noop=Nu,dr.now=Qa,dr.pad=function(t,e,n){t=qs(t);var r=(e=Fs(e))?Dn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return yo(Bn(i),n)+t+yo(Rn(i),n)},dr.padEnd=function(t,e,n){t=qs(t);var r=(e=Fs(e))?Dn(t):0;return e&&r<e?t+yo(e-r,n):t},dr.padStart=function(t,e,n){t=qs(t);var r=(e=Fs(e))?Dn(t):0;return e&&r<e?yo(e-r,n)+t:t},dr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Xn(qs(t).replace(Nt,""),e||0)},dr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Yo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Vs(t),e===o?(e=t,t=0):e=Vs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zn();return Un(t+i*(e-t+Ce("1e-"+((i+"").length-1))),e)}return bi(t,e)},dr.reduce=function(t,e,n){var r=ms(t)?en:pn,i=arguments.length<3;return r(t,jo(e,4),n,i,Br)},dr.reduceRight=function(t,e,n){var r=ms(t)?nn:pn,i=arguments.length<3;return r(t,jo(e,4),n,i,Vr)},dr.repeat=function(t,e,n){return e=(n?Yo(t,e,n):e===o)?1:Fs(e),wi(qs(t),e)},dr.replace=function(){var t=arguments,e=qs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},dr.result=function(t,e,n){var r=-1,i=(e=Ui(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[la(e[r])];a===o&&(r=i,a=n),t=Ss(a)?a.call(t):a}return t},dr.round=$u,dr.runInContext=t,dr.sample=function(t){return(ms(t)?Sr:Si)(t)},dr.size=function(t){if(null==t)return 0;if(xs(t))return Ps(t)?Dn(t):t.length;var e=Ho(t);return e==$||e==nt?t.size:ci(t).length},dr.snakeCase=_u,dr.some=function(t,e,n){var r=ms(t)?rn:Di;return n&&Yo(t,e,n)&&(e=o),r(t,jo(e,3))},dr.sortedIndex=function(t,e){return Li(t,e)},dr.sortedIndexBy=function(t,e,n){return Ei(t,e,jo(n,2))},dr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Li(t,e);if(r<n&&ds(t[r],e))return r}return-1},dr.sortedLastIndex=function(t,e){return Li(t,e,!0)},dr.sortedLastIndexBy=function(t,e,n){return Ei(t,e,jo(n,2),!0)},dr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Li(t,e,!0)-1;if(ds(t[n],e))return n}return-1},dr.startCase=bu,dr.startsWith=function(t,e,n){return t=qs(t),n=null==n?0:Pr(Fs(n),0,t.length),e=ji(e),t.slice(n,n+e.length)==e},dr.subtract=Ku,dr.sum=function(t){return t&&t.length?gn(t,ku):0},dr.sumBy=function(t,e){return t&&t.length?gn(t,jo(e,2)):0},dr.template=function(t,e,n){var r=dr.templateSettings;n&&Yo(t,e,n)&&(e=o),t=qs(t),e=Xs({},e,r,To);var i,a,s=Xs({},e.imports,r.imports,To),u=iu(s),c=yn(s,u),l=0,f=e.interpolate||$t,h="__p += '",d=ne((e.escape||$t).source+"|"+f.source+"|"+(f===It?Ht:$t).source+"|"+(e.evaluate||$t).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ae+"]")+"\n";t.replace(d,function(e,n,r,o,s,u){return r||(r=o),h+=t.slice(l,u).replace(Kt,Sn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var g=e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(xt,""):h).replace(_t,"$1").replace(bt,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Au(function(){return Qt(u,p+"return "+h).apply(o,c)});if(v.source=h,Ms(v))throw v;return v},dr.times=function(t,e){if((t=Fs(t))<1||t>P)return[];var n=z,r=Un(t,z);e=jo(e),t-=z;for(var i=vn(r,e);++n<t;)e(n);return i},dr.toFinite=Vs,dr.toInteger=Fs,dr.toLength=Hs,dr.toLower=function(t){return qs(t).toLowerCase()},dr.toNumber=Ws,dr.toSafeInteger=function(t){return t?Pr(Fs(t),-P,P):0===t?t:0},dr.toString=qs,dr.toUpper=function(t){return qs(t).toUpperCase()},dr.trim=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(Pt,"");if(!t||!(e=ji(e)))return t;var r=Ln(t),i=Ln(e);return Xi(r,_n(r,i),bn(r,i)+1).join("")},dr.trimEnd=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(jt,"");if(!t||!(e=ji(e)))return t;var r=Ln(t);return Xi(r,0,bn(r,Ln(e))+1).join("")},dr.trimStart=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(Nt,"");if(!t||!(e=ji(e)))return t;var r=Ln(t);return Xi(r,_n(r,Ln(e))).join("")},dr.truncate=function(t,e){var n=O,r=I;if(Os(e)){var i="separator"in e?e.separator:i;n="length"in e?Fs(e.length):n,r="omission"in e?ji(e.omission):r}var a=(t=qs(t)).length;if(An(t)){var s=Ln(t);a=s.length}if(n>=a)return t;var u=n-Dn(r);if(u<1)return r;var c=s?Xi(s,0,u).join(""):t.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),Ls(i)){if(t.slice(u).search(i)){var l,f=c;for(i.global||(i=ne(i.source,qs(Wt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?u:h)}}else if(t.indexOf(ji(i),u)!=u){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},dr.unescape=function(t){return(t=qs(t))&&St.test(t)?t.replace(wt,En):t},dr.uniqueId=function(t){var e=++fe;return qs(t)+e},dr.upperCase=wu,dr.upperFirst=Mu,dr.each=qa,dr.eachRight=Ua,dr.first=xa,Pu(dr,(Xu={},Yr(dr,function(t,e){le.call(dr.prototype,e)||(Xu[e]=t)}),Xu),{chain:!1}),dr.VERSION="4.17.11",Ye(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dr[t].placeholder=dr}),Ye(["drop","take"],function(t,e){mr.prototype[t]=function(n){n=n===o?1:qn(Fs(n),0);var r=this.__filtered__&&!e?new mr(this):this.clone();return r.__filtered__?r.__takeCount__=Un(n,r.__takeCount__):r.__views__.push({size:Un(n,z),type:t+(r.__dir__<0?"Right":"")}),r},mr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ye(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==D||3==n;mr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:jo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Ye(["head","last"],function(t,e){var n="take"+(e?"Right":"");mr.prototype[t]=function(){return this[n](1).value()[0]}}),Ye(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");mr.prototype[t]=function(){return this.__filtered__?new mr(this):this[n](1)}}),mr.prototype.compact=function(){return this.filter(ku)},mr.prototype.find=function(t){return this.filter(t).head()},mr.prototype.findLast=function(t){return this.reverse().find(t)},mr.prototype.invokeMap=Mi(function(t,e){return"function"==typeof t?new mr(this):this.map(function(n){return ri(n,t,e)})}),mr.prototype.reject=function(t){return this.filter(us(jo(t)))},mr.prototype.slice=function(t,e){t=Fs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new mr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Fs(e))<0?n.dropRight(-e):n.take(e-t)),n)},mr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},mr.prototype.toArray=function(){return this.take(z)},Yr(mr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=dr[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(dr.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof mr,c=s[0],l=u||ms(e),f=function(t){var e=i.apply(dr,tn([t],s));return r&&h?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,g=u&&!d;if(!a&&l){e=g?e:new mr(this);var v=t.apply(e,s);return v.__actions__.push({func:Va,args:[f],thisArg:o}),new vr(v,h)}return p&&g?t.apply(this,s):(v=this.thru(f),p?r?v.value()[0]:v.value():v)})}),Ye(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);dr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ms(i)?i:[],t)}return this[n](function(n){return e.apply(ms(n)?n:[],t)})}}),Yr(mr.prototype,function(t,e){var n=dr[e];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:e,func:n})}}),ir[po(o,y).name]=[{name:"wrapper",func:o}],mr.prototype.clone=function(){var t=new mr(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},mr.prototype.reverse=function(){if(this.__filtered__){var t=new mr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},mr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ms(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Un(e,t+a);break;case"takeRight":t=qn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=Un(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return Fi(t,this.__actions__);var p=[];t:for(;u--&&h<d;){for(var g=-1,v=t[c+=e];++g<f;){var m=l[g],y=m.iteratee,x=m.type,_=y(v);if(x==L)v=_;else if(!_){if(x==D)continue t;break t}}p[h++]=v}return p},dr.prototype.at=Fa,dr.prototype.chain=function(){return Ba(this)},dr.prototype.commit=function(){return new vr(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===o&&(this.__values__=Bs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},dr.prototype.plant=function(t){for(var e,n=this;n instanceof gr;){var r=ha(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},dr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof mr){var e=t;return this.__actions__.length&&(e=new mr(this)),(e=e.reverse()).__actions__.push({func:Va,args:[Oa],thisArg:o}),new vr(e,this.__chain__)}return this.thru(Oa)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return Fi(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,Re&&(dr.prototype[Re]=function(){return this}),dr}();Ee._=Pn,(i=function(){return Pn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(e,n(41),n(382)(t))},function(t,e,n){"use strict";var r=n(767);t.exports=s;var i="\0",o="\0",a="";function s(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(t,e){t[e]?t[e]++:t[e]=1}function c(t,e){--t[e]||delete t[e]}function l(t,e,n,o){var s=""+e,u=""+n;if(!t&&s>u){var c=s;s=u,u=c}return s+a+u+a+(r.isUndefined(o)?i:o)}function f(t,e){return l(t,e.v,e.w,e.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(t){return this._label=t,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var t=this;return r.filter(this.nodes(),function(e){return r.isEmpty(t._in[e])})},s.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),function(e){return r.isEmpty(t._out[e])})},s.prototype.setNodes=function(t,e){var n=arguments,i=this;return r.each(t,function(t){n.length>1?i.setNode(t,e):i.setNode(t)}),this},s.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children[o][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},s.prototype.node=function(t){return this._nodes[t]},s.prototype.hasNode=function(t){return r.has(this._nodes,t)},s.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},s.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=o;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},s.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},s.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==o)return e}},s.prototype.children=function(t){if(r.isUndefined(t)&&(t=o),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},s.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},s.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},s.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},s.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},s.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),r.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var i={};return this._isCompound&&r.each(e.nodes(),function(t){e.setParent(t,function t(r){var o=n.parent(r);return void 0===o||e.hasNode(o)?(i[r]=o,o):o in i?i[o]:t(o)}(t))}),e},s.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(t,e){var n=this,i=arguments;return r.reduce(t,function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r}),this},s.prototype.setEdge=function(){var t,e,n,i,o=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(t=a.v,e=a.w,n=a.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=a,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var s=l(this._isDirected,t,e,n);if(r.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=o?i:this._defaultEdgeLabelFn(t,e,n);var c=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,t,e,n);return t=c.v,e=c.w,Object.freeze(c),this._edgeObjs[s]=c,u(this._preds[e],t),u(this._sucs[t],e),this._in[e][s]=c,this._out[t][s]=c,this._edgeCount++,this},s.prototype.edge=function(t,e,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return r.has(this._edgeLabels,i)},s.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):l(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],c(this._preds[e],t),c(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},s.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=r.values(n);return e?r.filter(i,function(t){return t.v===e}):i}},s.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=r.values(n);return e?r.filter(i,function(t){return t.w===e}):i}},s.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r=n(801)(n(154),"Map");t.exports=r},function(t,e,n){var r=n(1392),i=n(1399),o=n(1401),a=n(1402),s=n(1403);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){(function(t){var r=n(404),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(e,n(382)(t))},function(t,e,n){var r=n(856),i=n(1409),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(1002),i=n(1003),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(1008);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){t.exports=n(1012)},function(t,e,n){var r=n(907),i=n(795);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(1428)();t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(859),i=n(827);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(755),i=n(383),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(1450),i=n(1023);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(902),i=n(1462);t.exports=function t(e,n,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){var r=n(383);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===u?s==s&&!r(s):n(s,u)))var u=s,c=a}return c}},function(t,e){t.exports=function(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,u=Math.sqrt(e*e*s*s+n*n*a*a),c=Math.abs(e*n*a/u);r.x<i&&(c=-c);var l=Math.abs(e*n*s/u);r.y<o&&(l=-l);return{x:i+c,y:o+l}}},function(t,e,n){"use strict";var r=n(828);e.a=function(t,e,n){if(null==n&&(n=r.a),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),s=+n(t[a],a,t);return s+(+n(t[a+1],a+1,t)-s)*(o-a)}}},function(t,e,n){"use strict";var r=n(917);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),e.a=function(t,e,n,r){var o=i;t.sourceEvent=i,i=t;try{return e.apply(n,r)}finally{i=o}};var r={},i=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"}));function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(t,e,n){return function(r){var o=i;i=r;try{t.call(this,this.__data__,e,n)}finally{i=o}}}function s(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function u(t,e,n){var i=r.hasOwnProperty(t.type)?o:a;return function(r,o,a){var s,u=this.__on,c=i(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}e.b=function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(c=e?u:s,null==n&&(n=!1),r=0;r<a;++r)this.each(c(o[r],e,n));return this}var c=this.node().__on;if(c)for(var l,f=0,h=c.length;f<h;++f)for(r=0,l=c[f];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value}},function(t,e,n){"use strict";var r=n(920);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";var r=n(784),i=n(1077),o=n(1080),a=n(1081),s=n(866),u=n(1082),c=n(1083),l=n(1079);e.a=function(t,e){var n,f=typeof e;return null==e||"boolean"===f?Object(l.a)(e):("number"===f?s.a:"string"===f?(n=Object(r.a)(e))?(e=n,i.a):c.a:e instanceof r.a?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";e.a=i,n.d(e,"d",function(){return o}),n.d(e,"c",function(){return a}),e.e=x,e.h=w,e.g=M,e.b=S,e.f=O;var r=n(924);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3})$/,f=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),g=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),m=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(t){var e;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?new S((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=f.exec(t))?_(parseInt(e[1],16)):(e=h.exec(t))?new S(e[1],e[2],e[3],1):(e=d.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?b(e[1],e[2],e[3],e[4]):(e=g.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?T(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?T(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?_(y[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function _(t){return new S(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,r){return r<=0&&(t=e=n=NaN),new S(t,e,n,r)}function w(t){return t instanceof i||(t=x(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function M(t,e,n,r){return 1===arguments.length?w(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function A(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function T(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new I(t,e,n,r)}function O(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof I)return new I(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=x(t)),!t)return new I;if(t instanceof I)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,c=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new I(s,u,c,t.opacity)}(t):new I(t,e,n,null==r?1:r)}function I(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function C(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(r.a)(i,x,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Object(r.a)(S,M,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+A(this.r)+A(this.g)+A(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(r.a)(I,O,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new I(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new I(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new S(C(t>=240?t-240:t+120,i,r),C(t,i,r),C(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";var r=n(927);n.d(e,"a",function(){return r.b}),n.d(e,"c",function(){return r.c});var i=n(1624);n.d(e,"b",function(){return i.a});n(1625)},function(t,e,n){"use strict";e.b=p,e.a=v,e.c=m;var r,i,o=0,a=0,s=0,u=1e3,c=0,l=0,f=0,h="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return l||(d(g),l=h.now()+f)}function g(){l=0}function v(){this._call=this._time=this._next=null}function m(t,e,n){var r=new v;return r.restart(t,e,n),r}function y(){l=(c=h.now())+f,o=a=0;try{!function(){p(),++o;for(var t,e=r;e;)(t=l-e._time)>=0&&e._call.call(null,t),e=e._next;--o}()}finally{o=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,_(o)}(),l=0}}function x(){var t=h.now(),e=t-c;e>u&&(f-=e,c=t)}function _(t){o||(a&&(a=clearTimeout(a)),t-l>24?(t<1/0&&(a=setTimeout(y,t-h.now()-f)),s&&(s=clearInterval(s))):(s||(c=h.now(),s=setInterval(x,u)),o=1,d(y)))}v.prototype=m.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,_()},stop:function(){this._call&&(this._call=null,this._time=1/0,_())}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="$";function i(){}function o(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(r=t[o],o,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}i.prototype=o.prototype={constructor:i,has:function(t){return r+t in this},get:function(t){return this[r+t]},set:function(t,e){return this[r+t]=e,this},remove:function(t){var e=r+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===r&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===r&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===r&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===r&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===r&&++t;return t},empty:function(){for(var t in this)if(t[0]===r)return!1;return!0},each:function(t){for(var e in this)e[0]===r&&t(this[e],e.slice(1),this)}},e.a=o},function(t,e,n){"use strict";e.a=i,n.d(e,"d",function(){return o}),n.d(e,"c",function(){return a}),e.e=x,e.h=w,e.g=M,e.b=S,e.f=T;var r=n(930);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3})$/,f=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),g=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),m=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(t){var e;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?new S((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=f.exec(t))?_(parseInt(e[1],16)):(e=h.exec(t))?new S(e[1],e[2],e[3],1):(e=d.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?b(e[1],e[2],e[3],e[4]):(e=g.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?_(y[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function _(t){return new S(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,r){return r<=0&&(t=e=n=NaN),new S(t,e,n,r)}function w(t){return t instanceof i||(t=x(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function M(t,e,n,r){return 1===arguments.length?w(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new O(t,e,n,r)}function T(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof O)return new O(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=x(t)),!t)return new O;if(t instanceof O)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,c=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new O(s,u,c,t.opacity)}(t):new O(t,e,n,null==r?1:r)}function O(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function I(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(r.a)(i,x,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(r.a)(S,M,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(r.a)(O,T,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new O(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new O(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new S(I(t>=240?t-240:t+120,i,r),I(t,i,r),I(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";var r=n(932);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),e.a=function(t,e,n,r){var o=i;t.sourceEvent=i,i=t;try{return e.apply(n,r)}finally{i=o}};var r={},i=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"}));function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(t,e,n){return function(r){var o=i;i=r;try{t.call(this,this.__data__,e,n)}finally{i=o}}}function s(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function u(t,e,n){var i=r.hasOwnProperty(t.type)?o:a;return function(r,o,a){var s,u=this.__on,c=i(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}e.b=function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(c=e?u:s,null==n&&(n=!1),r=0;r<a;++r)this.each(c(o[r],e,n));return this}var c=this.node().__on;if(c)for(var l,f=0,h=c.length;f<h;++f)for(r=0,l=c[f];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value}},function(t,e,n){"use strict";var r=n(935);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";var r=n(938);n.d(e,"e",function(){return r.a});var i=n(1710);n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b});var o=n(1711);n.d(e,"h",function(){return o.c}),n.d(e,"i",function(){return o.d}),n.d(e,"f",function(){return o.a}),n.d(e,"g",function(){return o.b})},function(t,e,n){"use strict";var r={},i={},o=34,a=10,s=13;function u(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}e.a=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function c(t,e){var u,c=[],l=t.length,f=0,h=0,d=l<=0,p=!1;function g(){if(d)return i;if(p)return p=!1,r;var e,u,c=f;if(t.charCodeAt(c)===o){for(;f++<l&&t.charCodeAt(f)!==o||t.charCodeAt(++f)===o;);return(e=f)>=l?d=!0:(u=t.charCodeAt(f++))===a?p=!0:u===s&&(p=!0,t.charCodeAt(f)===a&&++f),t.slice(c+1,e-1).replace(/""/g,'"')}for(;f<l;){if((u=t.charCodeAt(e=f++))===a)p=!0;else if(u===s)p=!0,t.charCodeAt(f)===a&&++f;else if(u!==n)continue;return t.slice(c,e)}return d=!0,t.slice(c,l)}for(t.charCodeAt(l-1)===a&&--l,t.charCodeAt(l-1)===s&&--l;(u=g())!==i;){for(var v=[];u!==r&&u!==i;)v.push(u),u=g();e&&null==(v=e(v,h++))||c.push(v)}return c}function l(e){return e.map(f).join(t)}function f(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,i=c(t,function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=u(t);return function(r,i){return e(n(r),i,t)}}(t,e):u(t)});return i.columns=r||[],i},parseRows:c,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(f).join(t)].concat(e.map(function(e){return n.map(function(t){return f(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(l).join("\n")}}}},function(t,e,n){"use strict";e.a=function(){return 1e-6*(Math.random()-.5)}},function(t,e,n){"use strict";var r=n(1725);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}},function(t,e,n){"use strict";var r=n(1743);n.d(e,"b",function(){return r.a}),n.d(e,"a",function(){return r.b}),n.d(e,"d",function(){return r.c});var i=n(1100);n.d(e,"c",function(){return i.a});var o=n(1101);n.d(e,"e",function(){return o.a});var a=n(1749);n.d(e,"f",function(){return a.a});var s=n(1750);n.d(e,"g",function(){return s.a});var u=n(1751);n.d(e,"h",function(){return u.a})},function(t,e,n){"use strict";e.a=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";e.a=a;var r=n(741),i=n(946),o=n(1768);function a(t,e){var n=Object(r.t)(t),i=(n+Object(r.t)(e))/2;if(Object(r.a)(i)<r.i)return Object(o.a)(t);var a=1+n*(2*i-n),s=Object(r.u)(a)/i;function u(t,e){var n=Object(r.u)(a-2*i*Object(r.t)(e))/i;return[n*Object(r.t)(t*=i),s-n*Object(r.g)(t)]}return u.invert=function(t,e){var n=s-e;return[Object(r.e)(t,Object(r.a)(n))/i*Object(r.s)(n),Object(r.c)((a-(t*t+n*n)*i*i)/(2*i))]},u}e.b=function(){return Object(i.a)(a).scale(155.424).center([0,33.6442])}},function(t,e,n){"use strict";e.a=function(t){var e=0,n=r.o/3,o=Object(i.b)(t),a=o(e,n);return a.parallels=function(t){return arguments.length?o(e=t[0]*r.r,n=t[1]*r.r):[e*r.h,n*r.h]},a};var r=n(741),i=n(781)},function(t,e,n){"use strict";e.a=a,e.c=function(t,e,n){return a(t,[[0,0],e],n)},e.d=function(t,e,n){return o(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)},e.b=function(t,e,n){return o(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)};var r=n(804),i=n(1116);function o(t,e,n){var o=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Object(r.a)(n,t.stream(i.a)),e(i.a.result()),null!=o&&t.clipExtent(o),t}function a(t,e,n){return o(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}},function(t,e,n){"use strict";e.c=a,e.b=s;var r=n(741),i=n(872),o=n(781);function a(t,e){return[t,Object(r.n)(Object(r.v)((r.l+e)/2))]}function s(t){var e,n,s,u=Object(o.a)(t),c=u.center,l=u.scale,f=u.translate,h=u.clipExtent,d=null;function p(){var o=r.o*l(),c=u(Object(i.a)(u.rotate()).invert([0,0]));return h(null==d?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:t===a?[[Math.max(c[0]-o,d),e],[Math.min(c[0]+o,n),s]]:[[d,Math.max(c[1]-o,e)],[n,Math.min(c[1]+o,s)]])}return u.scale=function(t){return arguments.length?(l(t),p()):l()},u.translate=function(t){return arguments.length?(f(t),p()):f()},u.center=function(t){return arguments.length?(c(t),p()):c()},u.clipExtent=function(t){return arguments.length?(null==t?d=e=n=s=null:(d=+t[0][0],e=+t[0][1],n=+t[1][0],s=+t[1][1]),p()):null==d?null:[[d,e],[n,s]]},p()}a.invert=function(t,e){return[t,2*Object(r.d)(Object(r.k)(e))-r.l]},e.a=function(){return s(a).scale(961/r.w)}},function(t,e,n){"use strict";e.c=p,e.b=m,e.a=y;var r=n(1782),i=n(1783),o=n(1784),a=n(1785),s=n(1786),u=n(1787),c=n(1788),l=n(1789),f=n(1790),h=n(1791),d=n(1792);function p(t,e){var n,r,i,o,a,s=new y(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=g);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new y(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(m)}function g(t){return t.children}function v(t){t.data=t.data.data}function m(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function y(t){this.data=t,this.depth=this.height=0,this.parent=null}y.prototype=p.prototype={constructor:y,count:r.a,each:i.a,eachAfter:a.a,eachBefore:o.a,sum:s.a,sort:u.a,path:c.a,ancestors:l.a,descendants:f.a,leaves:h.a,links:d.a,copy:function(){return p(this).eachBefore(v)}}},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new Error;return t}e.a=function(t){return null==t?null:r(t)},e.b=r},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),e.c=a;var r=n(832),i=n(875),o=(1+Math.sqrt(5))/2;function a(t,e,n,o,a,s){for(var u,c,l,f,h,d,p,g,v,m,y,x=[],_=e.children,b=0,w=0,M=_.length,S=e.value;b<M;){l=a-n,f=s-o;do{h=_[w++].value}while(!h&&w<M);for(d=p=h,y=h*h*(m=Math.max(f/l,l/f)/(S*t)),v=Math.max(p/y,y/d);w<M;++w){if(h+=c=_[w].value,c<d&&(d=c),c>p&&(p=c),y=h*h*m,(g=Math.max(p/y,y/d))>v){h-=c;break}v=g}x.push(u={value:h,dice:l<f,children:_.slice(b,w)}),u.dice?Object(r.a)(u,n,o,a,S?o+=f*h/S:s):Object(i.a)(u,n,o,S?n+=l*h/S:a,s),S-=h,b=w}return x}e.a=function t(e){function n(t,n,r,i,o){a(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(o)},function(t,e,n){"use strict";var r=n(798),i=n(1123),o=n(1126),a=n(1127),s=n(876),u=n(1128),c=n(1129),l=n(1125);e.a=function(t,e){var n,f=typeof e;return null==e||"boolean"===f?Object(l.a)(e):("number"===f?s.a:"string"===f?(n=Object(r.a)(e))?(e=n,i.a):c.a:e instanceof r.a?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){"use strict";var r=n(829),i=n(816);e.a=function(t,e){var n,o,a,s,u=Object(i.a)("beforesend","progress","load","error"),c=Object(r.c)(),l=new XMLHttpRequest,f=null,h=null,d=0;function p(t){var e,r=l.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||r>=200&&r<300||304===r){if(a)try{e=a.call(n,l)}catch(t){return void u.call("error",n,t)}else e=l;u.call("load",n,e)}else u.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=p:l.onreadystatechange=function(t){l.readyState>3&&p(t)},l.onprogress=function(t){u.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),n)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",n):o},responseType:function(t){return arguments.length?(s=t,n):s},timeout:function(t){return arguments.length?(d=+t,n):d},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",n)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",n)},response:function(t){return a=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,r,i){return l.open(e,t,!0,f,h),null==o||c.has("accept")||c.set("accept",o+",*/*"),l.setRequestHeader&&c.each(function(t,e){l.setRequestHeader(e,t)}),null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=s&&(l.responseType=s),d>0&&(l.timeout=d),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=function(t){return function(e,n){t(null==e?n:null)}}(i)),null!=i&&n.on("error",i).on("load",function(t){i(null,t)}),u.call("beforesend",n,l),l.send(null==r?null:r),n},abort:function(){return l.abort(),n},on:function(){var t=u.on.apply(u,arguments);return t===u?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(957);n.d(e,"d",function(){return r.a}),n.d(e,"c",function(){return r.b}),n.d(e,"f",function(){return r.c}),n.d(e,"g",function(){return r.d}),n.d(e,"h",function(){return r.e});var i=n(1137);n.d(e,"e",function(){return i.a});var o=n(1138);n.d(e,"a",function(){return o.a});var a=n(1857);n.d(e,"b",function(){return a.a})},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),e.a=c;var r,i,o,a,s,u=n(1137);function c(t){return r=Object(u.a)(t),i=r.format,o=r.parse,a=r.utcFormat,s=r.utcParse,r}c({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(t,e,n){"use strict";var r=n(803),i=n(806),o=n(880),a=n(959);e.a=function(){var t=a.a,e=a.b,n=Object(i.a)(!0),s=null,u=o.a,c=null;function l(i){var o,a,l,f=i.length,h=!1;for(null==s&&(c=u(l=Object(r.a)())),o=0;o<=f;++o)!(o<f&&n(a=i[o],o,i))===h&&((h=!h)?c.lineStart():c.lineEnd()),h&&c.point(+t(a,o,i),+e(a,o,i));if(l)return c=null,l+""||null}return l.x=function(e){return arguments.length?(t="function"==typeof e?e:Object(i.a)(+e),l):t},l.y=function(t){return arguments.length?(e="function"==typeof t?t:Object(i.a)(+t),l):e},l.defined=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(!!t),l):n},l.curve=function(t){return arguments.length?(u=t,null!=s&&(c=u(s)),l):u},l.context=function(t){return arguments.length?(null==t?s=c=null:c=u(s=t),l):s},l}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";e.b=o;var r=n(837),i=n(883);function o(t,e,n){var i=t._x1,o=t._y1,a=t._x2,s=t._y2;if(t._l01_a>r.f){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,o=(o*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>r.f){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/f,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(i,o,a,s,t._x2,t._y2)}function a(t,e){this._context=t,this._alpha=e}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:o(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new a(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";e.b=i;var r=n(839);function i(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}e.a=function(t){var e=t.map(i);return Object(r.a)(t).sort(function(t,n){return e[t]-e[n]})}},function(t,e,n){"use strict";var r=n(963);n.d(e,"b",function(){return r.b}),n.d(e,"d",function(){return r.c}),n.d(e,"e",function(){return r.d});var i=n(1892);n.d(e,"c",function(){return i.a});var o=n(1893);n.d(e,"a",function(){return o.a})},function(t,e,n){"use strict";e.b=p,e.a=v,e.c=m,e.d=y;var r,i,o=0,a=0,s=0,u=1e3,c=0,l=0,f=0,h="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return l||(d(g),l=h.now()+f)}function g(){l=0}function v(){this._call=this._time=this._next=null}function m(t,e,n){var r=new v;return r.restart(t,e,n),r}function y(){p(),++o;for(var t,e=r;e;)(t=l-e._time)>=0&&e._call.call(null,t),e=e._next;--o}function x(){l=(c=h.now())+f,o=a=0;try{y()}finally{o=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,b(o)}(),l=0}}function _(){var t=h.now(),e=t-c;e>u&&(f-=e,c=t)}function b(t){o||(a&&(a=clearTimeout(a)),t-l>24?(t<1/0&&(a=setTimeout(x,t-h.now()-f)),s&&(s=clearInterval(s))):(s||(c=h.now(),s=setInterval(_,u)),o=1,d(x)))}v.prototype=m.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},function(t,e,n){"use strict";function r(){this._=null}function i(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function o(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function a(t){for(;t.L;)t=t.L;return t}e.a=function(t){t.U=t.C=t.L=t.R=t.P=t.N=null},r.prototype={constructor:r,insert:function(t,e){var n,r,s;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=a(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(s=r.R)&&s.C?(n.C=s.C=!1,r.C=!0,t=r):(t===n.R&&(i(this,n),n=(t=n).U),n.C=!1,r.C=!0,o(this,r)):(s=r.L)&&s.C?(n.C=s.C=!1,r.C=!0,t=r):(t===n.L&&(o(this,n),n=(t=n).U),n.C=!1,r.C=!0,i(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,s=t.U,u=t.L,c=t.R;if(n=u?c?a(c):u:c,s?s.L===t?s.L=n:s.R=n:this._=n,u&&c?(r=n.C,n.C=t.C,n.L=u,u.U=n,n!==c?(s=n.U,n.U=t.U,t=n.R,s.L=t,n.R=c,c.U=n):(n.U=s,s=n,t=n.R)):(r=t.C,t=n),t&&(t.U=s),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===s.L){if((e=s.R).C&&(e.C=!1,s.C=!0,i(this,s),e=s.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,o(this,e),e=s.R),e.C=s.C,s.C=e.R.C=!1,i(this,s),t=this._;break}}else if((e=s.L).C&&(e.C=!1,s.C=!0,o(this,s),e=s.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,i(this,e),e=s.L),e.C=s.C,s.C=e.L.C=!1,o(this,s),t=this._;break}e.C=!0,t=s,s=s.U}while(!t.C);t&&(t.C=!1)}}},e.b=r},function(t,e,n){"use strict";e.c=function(t,e,n,o){var a=[null,null],s=r.e.push(a)-1;a.left=t,a.right=e,n&&i(a,t,e,n);o&&i(a,e,t,o);return r.b[t.index].halfedges.push(s),r.b[e.index].halfedges.push(s),a},e.b=function(t,e,n){var r=[e,n];return r.left=t,r},e.d=i,e.a=function(t,e,n,i){var s,u=r.e.length;for(;u--;)a(s=r.e[u],t,e,n,i)&&o(s,t,e,n,i)&&(Math.abs(s[0][0]-s[1][0])>r.f||Math.abs(s[0][1]-s[1][1])>r.f)||delete r.e[u]};var r=n(840);function i(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function o(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,f=1,h=s[0]-u,d=s[1]-c;if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>l&&(l=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<f&&(f=o)}return!(l>0||f<1)||(l>0&&(t[0]=[u+l*h,c+l*d]),f<1&&(t[1]=[u+f*h,c+f*d]),!0)}}}}}function a(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,f=c[0],h=c[1],d=l[0],p=l[1],g=(f+d)/2,v=(h+p)/2;if(p===h){if(g<e||g>=r)return;if(f>d){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(s=v-(a=(f-d)/(p-h))*g,a<-1||a>1)if(f>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}},function(t,e,n){var r=n(1925),i=n(1926),o=n(1927);t.exports=function(t,e,n){var a=e.label,s=t.append("g");"svg"===e.labelType?o(s,e):"string"!=typeof a||"html"===e.labelType?i(s,e):r(s,e);var u,c=s.node().getBBox();switch(n){case"top":u=-e.height/2;break;case"bottom":u=e.height/2-c.height;break;default:u=-c.height/2}return s.attr("transform","translate("+-c.width/2+","+u+")"),s}},,,,,,,,,,,,,,function(t,e,n){(function(e){var n;n=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}function n(t){if(null==t||"object"!=typeof t)return t;var e=t,r=qu.call(t);if("[object Array]"===r){if(!f(t)){e=[];for(var i=0,o=t.length;i<o;i++)e[i]=n(t[i])}}else if(Gu[r]){if(!f(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(i=0,o=t.length;i<o;i++)e[i]=n(t[i])}}}else if(!Wu[r]&&!f(t)&&!l(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=n(t[s]));return e}function r(t,e,i){if(!u(e)||!u(t))return i?n(e):t;for(var o in e)if(e.hasOwnProperty(o)){var a=t[o],h=e[o];!u(h)||!u(a)||s(h)||s(a)||l(h)||l(a)||c(h)||c(a)||f(h)||f(a)?!i&&o in t||(t[o]=n(e[o])):r(a,h,i)}return t}function i(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}function o(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Yu)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function a(t,e){var n=Zu.call(arguments,2);return function(){return t.apply(e,n.concat(Zu.call(arguments)))}}function s(t){return"[object Array]"===qu.call(t)}function u(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function c(t){return!!Wu[qu.call(t)]}function l(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function f(t){return t[ec]}function h(t){function e(t,e){n?r.set(t,e):r.set(e,t)}var n=s(t),r=this;t instanceof h?t.each(e):t&&o(t,e)}function d(t){return Math.sqrt(p(t))}function p(t){return t[0]*t[0]+t[1]*t[1]}function g(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function v(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function m(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function y(t,e){return{target:t,topTarget:e&&e.topTarget}}function x(){}function _(){var t=new hc(6);return b(t),t}function b(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function M(t){return t>gc||t<-gc}function S(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function A(t){return(t=Math.round(t))<0?0:t>255?255:t}function T(t){return t<0?0:t>1?1:t}function O(t){return A(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function I(t){return T(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function C(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function k(t,e,n){return t+(e-t)*n}function D(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function L(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function E(t,e){Dc&&L(Dc,e),Dc=kc.put(t,Dc||e.slice())}function P(t,e){if(t){e=e||[];var n=kc.get(t);if(n)return L(e,n);var r=(t+="").replace(/ /g,"").toLowerCase();if(r in Cc)return L(e,Cc[r]),E(t,e),e;if("#"!==r.charAt(0)){var i=r.indexOf("("),o=r.indexOf(")");if(-1!==i&&o+1===r.length){var a=r.substr(0,i),s=r.substr(i+1,o-(i+1)).split(","),u=1;switch(a){case"rgba":if(4!==s.length)return void D(e,0,0,0,1);u=I(s.pop());case"rgb":return 3!==s.length?void D(e,0,0,0,1):(D(e,O(s[0]),O(s[1]),O(s[2]),u),E(t,e),e);case"hsla":return 4!==s.length?void D(e,0,0,0,1):(s[3]=I(s[3]),N(s,e),E(t,e),e);case"hsl":return 3!==s.length?void D(e,0,0,0,1):(N(s,e),E(t,e),e);default:return}}D(e,0,0,0,1)}else{if(4===r.length)return(c=parseInt(r.substr(1),16))>=0&&c<=4095?(D(e,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1),E(t,e),e):void D(e,0,0,0,1);if(7===r.length){var c=parseInt(r.substr(1),16);return c>=0&&c<=16777215?(D(e,(16711680&c)>>16,(65280&c)>>8,255&c,1),E(t,e),e):void D(e,0,0,0,1)}}}}function N(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=I(t[1]),i=I(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return D(e=e||[],A(255*C(a,o,n+1/3)),A(255*C(a,o,n)),A(255*C(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function j(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],u=r-i;return n[0]=A(k(a[0],s[0],u)),n[1]=A(k(a[1],s[1],u)),n[2]=A(k(a[2],s[2],u)),n[3]=T(k(a[3],s[3],u)),n}}function z(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=P(e[i]),s=P(e[o]),u=r-i,c=R([A(k(a[0],s[0],u)),A(k(a[1],s[1],u)),A(k(a[2],s[2],u)),T(k(a[3],s[3],u))],"rgba");return n?{color:c,leftIndex:i,rightIndex:o,value:r}:c}}function R(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function B(t,e,n){return(e-t)*n+t}function V(t,e,n){return n>.5?e:t}function F(t,e,n,r,i){var o=t.length;if(1==i)for(s=0;s<o;s++)r[s]=B(t[s],e[s],n);else for(var a=o&&t[0].length,s=0;s<o;s++)for(var u=0;u<a;u++)r[s][u]=B(t[s][u],e[s][u],n)}function H(t,e,n){var r=t.length,i=e.length;if(r!==i)if(r>i)t.length=i;else for(a=r;a<i;a++)t.push(1===n?e[a]:Pc.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function W(t,e,n,r,i,o,a,s,u){var c=t.length;if(1==u)for(f=0;f<c;f++)s[f]=G(t[f],e[f],n[f],r[f],i,o,a);else for(var l=t[0].length,f=0;f<c;f++)for(var h=0;h<l;h++)s[f][h]=G(t[f][h],e[f][h],n[f][h],r[f][h],i,o,a)}function G(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}function q(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function U(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}function Y(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;!function(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function X(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o,a=t[r],s=e,u=r;s<u;)i(a,t[o=s+u>>>1])<0?u=o:s=o+1;var c=r-s;switch(c){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;c>0;)t[s+c]=t[s+c-1],c--}t[s]=a}}function Z(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])>0){for(s=r-i;u<s&&o(t,e[n+i+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}else{for(s=i+1;u<s&&o(t,e[n+i-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var c=a;a=i-u,u=i-c}for(a++;a<u;){var l=a+(u-a>>>1);o(t,e[n+l])>0?a=l+1:u=l}return u}function $(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])<0){for(s=i+1;u<s&&o(t,e[n+i-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var c=a;a=i-u,u=i-c}else{for(s=r-i;u<s&&o(t,e[n+i+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}for(a++;a<u;){var l=a+(u-a>>>1);o(t,e[n+l])<0?u=l:a=l+1}return u}function K(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function J(t,e,n){var r=nc.createCanvas(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=o*n,r}function Q(t){return t&&t.width&&t.height}function tt(t,e){var n=t+":"+(e=e||Ll);if(Il[n])return Il[n];for(var r=(t+"").split("\n"),i=0,o=0,a=r.length;o<a;o++)i=Math.max(st(r[o],e).width,i);return Cl>kl&&(Cl=0,Il={}),Cl++,Il[n]=i,i}function et(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function nt(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function rt(t,e,n,r,i){if(!e)return"";var o=(t+"").split("\n");i=it(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=ot(o[a],i);return o.join("\n")}function it(t,e,n,r){(r=Sl({},r)).font=e,n=Al(n,"..."),r.maxIterations=Al(r.maxIterations,2);var i=r.minChar=Al(r.minChar,0);r.cnCharWidth=tt("",e);var o=r.ascCharWidth=tt("a",e);r.placeholder=Al(r.placeholder,"");for(var a=t=Math.max(0,t-1),s=0;s<i&&a>=o;s++)a-=o;var u=tt(n);return u>a&&(n="",u=0),a=t-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=a,r.containerWidth=t,r}function ot(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var o=tt(t,r);if(o<=n)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?function(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=tt(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function at(t){return tt("",t)}function st(t,e){return El.measureText(t,e)}function ut(t,e,n,r){null!=t&&(t+="");var i=at(e),o=t?t.split("\n"):[],a=o.length*i,s=a;if(n&&(s+=n[0]+n[2]),t&&r){var u=r.outerHeight,c=r.outerWidth;if(null!=u&&s>u)t="",o=[];else if(null!=c)for(var l=it(c-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),f=0,h=o.length;f<h;f++)o[f]=ot(o[f],l)}return{lines:o,height:a,outerHeight:s,lineHeight:i}}function ct(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,i=Dl.lastIndex=0;null!=(r=Dl.exec(t));){var o=r.index;o>i&&lt(n,t.substring(i,o)),lt(n,r[2],r[1]),i=Dl.lastIndex}i<t.length&&lt(n,t.substring(i,t.length));var a=n.lines,s=0,u=0,c=[],l=e.textPadding,f=e.truncate,h=f&&f.outerWidth,d=f&&f.outerHeight;for(l&&(null!=h&&(h-=l[1]+l[3]),null!=d&&(d-=l[0]+l[2])),I=0;I<a.length;I++){for(var p=a[I],g=0,v=0,m=0;m<p.tokens.length;m++){var y=(C=p.tokens[m]).styleName&&e.rich[C.styleName]||{},x=C.textPadding=y.textPadding,_=C.font=y.font||e.font,b=C.textHeight=Al(y.textHeight,at(_));if(x&&(b+=x[0]+x[2]),C.height=b,C.lineHeight=Tl(y.textLineHeight,e.textLineHeight,b),C.textAlign=y&&y.textAlign||e.textAlign,C.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=d&&s+C.lineHeight>d)return{lines:[],width:0,height:0};C.textWidth=tt(C.text,_);var w=y.textWidth,M=null==w||"auto"===w;if("string"==typeof w&&"%"===w.charAt(w.length-1))C.percentWidth=w,c.push(C),w=0;else{if(M){w=C.textWidth;var S=y.textBackgroundColor,A=S&&S.image;A&&(A=wl.findExistImage(A),wl.isImageReady(A)&&(w=Math.max(w,A.width*b/A.height)))}var T=x?x[1]+x[3]:0;w+=T;var O=null!=h?h-v:null;null!=O&&O<w&&(!M||O<T?(C.text="",C.textWidth=w=0):(C.text=rt(C.text,O-T,_,f.ellipsis,{minChar:f.minChar}),C.textWidth=tt(C.text,_),w=C.textWidth+T))}v+=C.width=w,y&&(g=Math.max(g,C.lineHeight))}p.width=v,p.lineHeight=g,s+=g,u=Math.max(u,v)}n.outerWidth=n.width=Al(e.textWidth,u),n.outerHeight=n.height=Al(e.textHeight,s),l&&(n.outerWidth+=l[1]+l[3],n.outerHeight+=l[0]+l[2]);for(var I=0;I<c.length;I++){var C=c[I],k=C.percentWidth;C.width=parseInt(k,10)/100*u}return n}function lt(t,e,n){for(var r=""===e,i=e.split("\n"),o=t.lines,a=0;a<i.length;a++){var s=i[a],u={styleName:n,text:s,isLineHolder:!s&&!r};if(a)o.push({tokens:[u]});else{var c=(o[o.length-1]||(o[0]={tokens:[]})).tokens,l=c.length;1===l&&c[0].isLineHolder?c[0]=u:(s||!l||r)&&c.push(u)}}}function ft(t){if(t){t.font=Pl.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||Hl[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||Wl[n]?n:"top",t.textPadding&&(t.textPadding=Bl(t.textPadding))}}function ht(t,e,n,r,i){if(n&&e.textRotation){var o=e.textOrigin;"center"===o?(r=n.width/2+n.x,i=n.height/2+n.y):o&&(r=o[0]+n.x,i=o[1]+n.y),t.translate(r,i),t.rotate(-e.textRotation),t.translate(-r,-i)}}function dt(t,e,n,r,i,o,a,s){var u=r.rich[n.styleName]||{},c=n.textVerticalAlign,l=o+i/2;"top"===c?l=o+n.height/2:"bottom"===c&&(l=o+i-n.height/2),!n.isLineHolder&&pt(u)&&gt(t,e,u,"right"===s?a-n.width:"center"===s?a-n.width/2:a,l-n.height/2,n.width,n.height);var f=n.textPadding;f&&(a=bt(a,s,f),l-=n.height/2-f[2]-n.textHeight/2),mt(e,"shadowBlur",zl(u.textShadowBlur,r.textShadowBlur,0)),mt(e,"shadowColor",u.textShadowColor||r.textShadowColor||"transparent"),mt(e,"shadowOffsetX",zl(u.textShadowOffsetX,r.textShadowOffsetX,0)),mt(e,"shadowOffsetY",zl(u.textShadowOffsetY,r.textShadowOffsetY,0)),mt(e,"textAlign",s),mt(e,"textBaseline","middle"),mt(e,"font",n.font||Pl.DEFAULT_FONT);var h=yt(u.textStroke||r.textStroke,p),d=xt(u.textFill||r.textFill),p=jl(u.textStrokeWidth,r.textStrokeWidth);h&&(mt(e,"lineWidth",p),mt(e,"strokeStyle",h),e.strokeText(n.text,a,l)),d&&(mt(e,"fillStyle",d),e.fillText(n.text,a,l))}function pt(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function gt(t,e,n,r,i,o,a){var s=n.textBackgroundColor,u=n.textBorderWidth,c=n.textBorderColor,l=Vl(s);if(mt(e,"shadowBlur",n.textBoxShadowBlur||0),mt(e,"shadowColor",n.textBoxShadowColor||"transparent"),mt(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),mt(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),l||u&&c){e.beginPath();var f=n.textBorderRadius;f?Nl.buildPath(e,{x:r,y:i,width:o,height:a,r:f}):e.rect(r,i,o,a),e.closePath()}if(l)mt(e,"fillStyle",s),e.fill();else if(Fl(s)){var h=s.image;(h=wl.createOrUpdateImage(h,null,t,function(t,e){e.image=t},s))&&wl.isImageReady(h)&&e.drawImage(h,r,i,o,a)}u&&c&&(mt(e,"lineWidth",u),mt(e,"strokeStyle",c),e.stroke())}function vt(t,e,n){var r=e.x||0,i=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)r=n.x+_t(s[0],n.width),i=n.y+_t(s[1],n.height);else{var u=Pl.adjustTextPositionOnRect(s,n,e.textDistance);r=u.x,i=u.y,o=o||u.textAlign,a=a||u.textVerticalAlign}var c=e.textOffset;c&&(r+=c[0],i+=c[1])}return{baseX:r,baseY:i,textAlign:o,textVerticalAlign:a}}function mt(t,e,n){return t[e]=ul(t,e,n),t[e]}function yt(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function xt(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function _t(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function bt(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function wt(t){for(var e in t=t||{},$c.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new pl(t.style,this),this._rect=null,this.__clipPaths=[]}function Mt(t){Xl.call(this,t)}function St(t){return parseInt(t,10)}function At(t,e,n,r){return n=n||{},r||!Hu.canvasSupported?Tt(t,e,n):Hu.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Tt(t,e,n),n}function Tt(t,e,n){var r=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top}function Ot(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function It(t){return"mousewheel"===t&&Hu.browser.firefox?"DOMMouseScroll":t}function Ct(t,e,n){var r=t._gestureMgr;"start"===n&&r.clear();var i=r.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===n&&r.clear(),i){var o=i.type;e.gestureEvent=o,t.handler.dispatchToElement({target:i.target},o,i.event)}}function kt(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function Dt(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Lt(t){function e(e,n){nc.each(e,function(e){hf(t,It(e),n._handlers[e])},n)}uc.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new ff,this._handlers={},function(t){nc.each(vf,function(e){t._handlers[e]=nc.bind(xf[e],t)}),nc.each(yf,function(e){t._handlers[e]=nc.bind(xf[e],t)}),nc.each(gf,function(e){t._handlers[e]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(xf[e],t)})}(this),Hu.pointerEventsSupported?e(yf,this):(Hu.touchEventsSupported&&e(vf,this),e(gf,this))}function Et(t){return t instanceof Array?t:null==t?[]:[t]}function Pt(t){return If(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function Nt(t,e){return t&&t.hasOwnProperty(e)}function jt(t){var e={main:"",sub:""};return t&&(t=t.split(Ef),e.main=t[0]||"",e.sub=t[1]||""),e}function zt(t){return t>-Zf&&t<Zf}function Rt(t){return t>Zf||t<-Zf}function Bt(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function Vt(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function Ft(t,e,n,r,i){for(var o=0,a=0,s=0,u=0,c=0,l=0;l<t.length;){var f=t[l++];switch(f===Hh.M&&l>1&&(n||(o+=Vh(a,s,u,c,r,i))),1==l&&(u=a=t[l],c=s=t[l+1]),f){case Hh.M:a=u=t[l++],s=c=t[l++];break;case Hh.L:if(n){if(Dh.containStroke(a,s,t[l],t[l+1],e,r,i))return!0}else o+=Vh(a,s,t[l],t[l+1],r,i)||0;a=t[l++],s=t[l++];break;case Hh.C:if(n){if(Lh.containStroke(a,s,t[l++],t[l++],t[l++],t[l++],t[l],t[l+1],e,r,i))return!0}else o+=function(t,e,n,r,i,o,a,s,u,c){if(c>e&&c>r&&c>o&&c>s||c<e&&c<r&&c<o&&c<s)return 0;var l=th.cubicRootAt(e,r,o,s,c,qh);if(0===l)return 0;for(var f,h,d=0,p=-1,g=0;g<l;g++){var v=qh[g],m=0===v||1===v?.5:1;th.cubicAt(t,n,i,a,v)<u||(p<0&&(p=th.cubicExtrema(e,r,o,s,Uh),Uh[1]<Uh[0]&&p>1&&function(){var t=Uh[0];Uh[0]=Uh[1],Uh[1]=t}(),f=th.cubicAt(e,r,o,s,Uh[0]),p>1&&(h=th.cubicAt(e,r,o,s,Uh[1]))),2==p?v<Uh[0]?d+=f<e?m:-m:v<Uh[1]?d+=h<f?m:-m:d+=s<h?m:-m:v<Uh[0]?d+=f<e?m:-m:d+=s<f?m:-m)}return d}(a,s,t[l++],t[l++],t[l++],t[l++],t[l],t[l+1],r,i)||0;a=t[l++],s=t[l++];break;case Hh.Q:if(n){if(Ph.containStroke(a,s,t[l++],t[l++],t[l],t[l+1],e,r,i))return!0}else o+=function(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var u=th.quadraticRootAt(e,r,o,s,qh);if(0===u)return 0;var c=th.quadraticExtremum(e,r,o);if(c>=0&&c<=1){for(var l=0,f=th.quadraticAt(e,r,o,c),h=0;h<u;h++)d=0===qh[h]||1===qh[h]?.5:1,(p=th.quadraticAt(t,n,i,qh[h]))<a||(qh[h]<c?l+=f<e?d:-d:l+=o<f?d:-d);return l}var d=0===qh[0]||1===qh[0]?.5:1,p=th.quadraticAt(t,n,i,qh[0]);return p<a?0:o<e?d:-d}(a,s,t[l++],t[l++],t[l],t[l+1],r,i)||0;a=t[l++],s=t[l++];break;case Hh.A:var h=t[l++],d=t[l++],p=t[l++],g=t[l++],v=t[l++],m=t[l++],y=(t[l++],1-t[l++]),x=Math.cos(v)*p+h,_=Math.sin(v)*g+d;l>1?o+=Vh(a,s,x,_,r,i):(u=x,c=_);var b=(r-h)*g/p+h;if(n){if(Bh.containStroke(h,d,g,v,v+m,y,e,b,i))return!0}else o+=function(t,e,n,r,i,o,a,s){if((s-=e)>n||s<-n)return 0;c=Math.sqrt(n*n-s*s),qh[0]=-c,qh[1]=c;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u%Wh<1e-4)return r=0,i=Wh,p=o?1:-1,a>=qh[0]+t&&a<=qh[1]+t?p:0;if(o){var c=r;r=Fh(i),i=Fh(c)}else r=Fh(r),i=Fh(i);r>i&&(i+=Wh);for(var l=0,f=0;f<2;f++){var h=qh[f];if(h+t>a){var d=Math.atan2(s,h),p=o?1:-1;d<0&&(d=Wh+d),(d>=r&&d<=i||d+Wh>=r&&d+Wh<=i)&&(d>Math.PI/2&&d<1.5*Math.PI&&(p=-p),l+=p)}}return l}(h,d,g,v,v+m,y,b,i);a=Math.cos(v+m)*p+h,s=Math.sin(v+m)*g+d;break;case Hh.R:u=a=t[l++],c=s=t[l++];x=u+t[l++],_=c+t[l++];if(n){if(Dh.containStroke(u,c,x,c,e,r,i)||Dh.containStroke(x,c,x,_,e,r,i)||Dh.containStroke(x,_,u,_,e,r,i)||Dh.containStroke(u,_,u,c,e,r,i))return!0}else o+=Vh(x,c,x,_,r,i),o+=Vh(u,_,u,c,r,i);break;case Hh.Z:if(n){if(Dh.containStroke(a,s,u,c,e,r,i))return!0}else o+=Vh(a,s,u,c,r,i);a=u,s=c}}return n||function(t,e){return Math.abs(t-e)<Gh}(s,c)||(o+=Vh(a,s,u,c,r,i)||0),0!==o}function Ht(t){Xl.call(this,t),this.path=null}function Wt(t,e,n,r,i,o,a,s,u,c,l){var f=u*(cd/180),h=ud(f)*(t-n)/2+sd(f)*(e-r)/2,d=-1*sd(f)*(t-n)/2+ud(f)*(e-r)/2,p=h*h/(a*a)+d*d/(s*s);p>1&&(a*=ad(p),s*=ad(p));var g=(i===o?-1:1)*ad((a*a*(s*s)-a*a*(d*d)-s*s*(h*h))/(a*a*(d*d)+s*s*(h*h)))||0,v=g*a*d/s,m=g*-s*h/a,y=(t+n)/2+ud(f)*v-sd(f)*m,x=(e+r)/2+sd(f)*v+ud(f)*m,_=hd([1,0],[(h-v)/a,(d-m)/s]),b=[(h-v)/a,(d-m)/s],w=[(-1*h-v)/a,(-1*d-m)/s],M=hd(b,w);fd(b,w)<=-1&&(M=cd),fd(b,w)>=1&&(M=0),0===o&&M>0&&(M-=2*cd),1===o&&M<0&&(M+=2*cd),l.addData(c,y,x,a,s,_,M,f,o)}function Gt(t,e){var n=function(t){if(!t)return[];var e,n=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<od.length;e++)n=n.replace(new RegExp(od[e],"g"),"|"+od[e]);var r,i=n.split("|"),o=0,a=0,s=new kh,u=kh.CMD;for(e=1;e<i.length;e++){var c,l=i[e],f=l.charAt(0),h=0,d=l.slice(1).replace(/e,-/g,"e-").split(",");d.length>0&&""===d[0]&&d.shift();for(var p=0;p<d.length;p++)d[p]=parseFloat(d[p]);for(;h<d.length&&!isNaN(d[h])&&!isNaN(d[0]);){var g,v,m,y,x,_,b,w=o,M=a;switch(f){case"l":o+=d[h++],a+=d[h++],c=u.L,s.addData(c,o,a);break;case"L":o=d[h++],a=d[h++],c=u.L,s.addData(c,o,a);break;case"m":o+=d[h++],a+=d[h++],c=u.M,s.addData(c,o,a),f="l";break;case"M":o=d[h++],a=d[h++],c=u.M,s.addData(c,o,a),f="L";break;case"h":o+=d[h++],c=u.L,s.addData(c,o,a);break;case"H":o=d[h++],c=u.L,s.addData(c,o,a);break;case"v":a+=d[h++],c=u.L,s.addData(c,o,a);break;case"V":a=d[h++],c=u.L,s.addData(c,o,a);break;case"C":c=u.C,s.addData(c,d[h++],d[h++],d[h++],d[h++],d[h++],d[h++]),o=d[h-2],a=d[h-1];break;case"c":c=u.C,s.addData(c,d[h++]+o,d[h++]+a,d[h++]+o,d[h++]+a,d[h++]+o,d[h++]+a),o+=d[h-2],a+=d[h-1];break;case"S":g=o,v=a;var S=s.len(),A=s.data;r===u.C&&(g+=o-A[S-4],v+=a-A[S-3]),c=u.C,w=d[h++],M=d[h++],o=d[h++],a=d[h++],s.addData(c,g,v,w,M,o,a);break;case"s":g=o,v=a;S=s.len(),A=s.data;r===u.C&&(g+=o-A[S-4],v+=a-A[S-3]),c=u.C,w=o+d[h++],M=a+d[h++],o+=d[h++],a+=d[h++],s.addData(c,g,v,w,M,o,a);break;case"Q":w=d[h++],M=d[h++],o=d[h++],a=d[h++],c=u.Q,s.addData(c,w,M,o,a);break;case"q":w=d[h++]+o,M=d[h++]+a,o+=d[h++],a+=d[h++],c=u.Q,s.addData(c,w,M,o,a);break;case"T":g=o,v=a;S=s.len(),A=s.data;r===u.Q&&(g+=o-A[S-4],v+=a-A[S-3]),o=d[h++],a=d[h++],c=u.Q,s.addData(c,g,v,o,a);break;case"t":g=o,v=a;S=s.len(),A=s.data;r===u.Q&&(g+=o-A[S-4],v+=a-A[S-3]),o+=d[h++],a+=d[h++],c=u.Q,s.addData(c,g,v,o,a);break;case"A":m=d[h++],y=d[h++],x=d[h++],_=d[h++],b=d[h++],Wt(w=o,M=a,o=d[h++],a=d[h++],_,b,m,y,x,c=u.A,s);break;case"a":m=d[h++],y=d[h++],x=d[h++],_=d[h++],b=d[h++],Wt(w=o,M=a,o+=d[h++],a+=d[h++],_,b,m,y,x,c=u.A,s)}}"z"!==f&&"Z"!==f||(c=u.Z,s.addData(c)),r=c}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){id(n,t),this.dirty(!0)},e}function qt(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}function Ut(t,e,n){var r=t.cpx2,i=t.cpy2;return null===r||null===i?[(n?Bd:zd)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Bd:zd)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Rd:jd)(t.x1,t.cpx1,t.x2,e),(n?Rd:jd)(t.y1,t.cpy1,t.y2,e)]}function Yt(t){Xl.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Xt(t,e,n,r){var i=dd.createFromString(t,e),o=i.getBoundingRect();return n&&("center"===r&&(n=Zt(n,o)),$t(i,n)),i}function Zt(t,e){var n,r=e.width/e.height,i=t.height*r;return n=i<=t.width?t.height:(i=t.width)/r,{x:t.x+t.width/2-i/2,y:t.y+t.height/2-n/2,width:i,height:n}}function $t(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function Kt(t,e,n){var r=vp(2*t);return(r+vp(e))%2==0?r/2:(r+(n?1:-1))/2}function Jt(t){return null!=t&&"none"!=t}function Qt(t){return"string"==typeof t?Lc.lift(t,-.1):t}function te(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,r=t.__hoverStl;r.fill=r.fill||(Jt(n)?Qt(n):null),r.stroke=r.stroke||(Jt(e)?Qt(e):null);var i={};for(var o in r)null!=r[o]&&(i[o]=t.style[o]);t.__normalStl=i,t.__hoverStlDirty=!1}}function ee(t){if(!t.__isHover){if(te(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,n=e.insideRollbackOpt;n&&function(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth)}(e),e.extendFrom(t.__hoverStl),n&&(le(e,e.insideOriginalTextPosition,n),null==e.textFill&&(e.textFill=n.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function ne(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function re(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&ee(t)}):ee(t)}function ie(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&ne(t)}):ne(t)}function oe(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&te(t)}function ae(t,e,n,r,i){return se(t,e,r,i),n&&nc.extend(t,n),t.host&&t.host.dirty&&t.host.dirty(!1),t}function se(t,e,n,r){if((n=n||xp).isRectText){var i=e.getShallow("position")||(r?null:"inside");"outside"===i&&(i="top"),t.textPosition=i,t.textOffset=e.getShallow("offset");var o=e.getShallow("rotate");null!=o&&(o*=Math.PI/180),t.textRotation=o,t.textDistance=nc.retrieve2(e.getShallow("distance"),r?null:5)}var a,s=e.ecModel,u=s&&s.option.textStyle,c=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||xp).rich;if(n)for(var r in e=e||{},n)n.hasOwnProperty(r)&&(e[r]=1);t=t.parentModel}return e}(e);if(c)for(var l in a={},c)if(c.hasOwnProperty(l)){var f=e.getModel(["rich",l]);ue(a[l]={},f,u,n,r)}return t.rich=a,ue(t,e,u,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function ue(t,e,n,r,i,o){if(n=!i&&n||xp,t.textFill=ce(e.getShallow("color"),r)||n.color,t.textStroke=ce(e.getShallow("textBorderColor"),r)||n.textBorderColor,t.textStrokeWidth=nc.retrieve2(e.getShallow("textBorderWidth"),n.textBorderWidth),!i){if(o){var a=t.textPosition;t.insideRollback=le(t,a,r),t.insideOriginalTextPosition=a,t.insideRollbackOpt=r}null==t.textFill&&(t.textFill=r.autoColor)}t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),o&&r.disableBox||(t.textBackgroundColor=ce(e.getShallow("backgroundColor"),r),t.textPadding=e.getShallow("padding"),t.textBorderColor=ce(e.getShallow("borderColor"),r),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function ce(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function le(t,e,n){var r,i=n.useInsideStyle;return null==t.textFill&&!1!==i&&(!0===i||n.isRectText&&e&&"string"==typeof e&&e.indexOf("inside")>=0)&&(r={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=n.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),r}function fe(t,e,n,r,i,o){if("function"==typeof i&&(o=i,i=null),r&&r.isAnimationEnabled()){var a=t?"Update":"",s=r.getShallow("animationDuration"+a),u=r.getShallow("animationEasing"+a),c=r.getShallow("animationDelay"+a);"function"==typeof c&&(c=c(i,r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null)),"function"==typeof s&&(s=s(i)),s>0?e.animateTo(n,s,c||0,u,o,!!o):(e.stopAnimation(),e.attr(n),o&&o())}else e.stopAnimation(),e.attr(n),o&&o()}function he(t,e,n,r,i){fe(!0,t,e,n,r,i)}function de(t,e,n){return e&&!nc.isArrayLike(e)&&(e=xc.getLocalTransform(e)),n&&(e=dc.invert([],e)),ic.applyTransform([],t,e)}function pe(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function ge(t,e,n){for(var r=0;r<e.length&&(!e[r]||null!=(t=t&&"object"==typeof t?t[e[r]]:null));r++);return null==t&&n&&(t=n.get(e)),t}function ve(t,e){var n=Cp(t).getParent;return n?n.call(t,e):t.parentModel}function me(t){return Math.floor(Math.log(t)/Math.LN10)}function ye(t){return null==t?"":(t+"").replace(jp,function(t,e){return zp[e]})}function xe(t,e){return"0000".substr(0,e-(t+="").length)+t}function _e(t,e,n,r,i){var o=0,a=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(u,c){var l,f,h=u.position,d=u.getBoundingRect(),p=e.childAt(c+1),g=p&&p.getBoundingRect();if("horizontal"===t){var v=d.width+(g?-g.x+d.x:0);(l=o+v)>r||u.newline?(o=0,l=v,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var m=d.height+(g?-g.y+d.y:0);(f=a+m)>i||u.newline?(o+=s+n,a=0,f=m,s=d.width):s=Math.max(s,d.width)}u.newline||(h[0]=o,h[1]=a,"horizontal"===t?o=l+n:a=f+n)})}function be(t,e,n){n=Vp.normalizeCssArray(n||0);var r=e.width,i=e.height,o=Fp(t.left,r),a=Fp(t.top,i),s=Fp(t.right,r),u=Fp(t.bottom,i),c=Fp(t.width,r),l=Fp(t.height,i),f=n[2]+n[0],h=n[1]+n[3],d=t.aspect;switch(isNaN(c)&&(c=r-s-h-o),isNaN(l)&&(l=i-u-f-a),null!=d&&(isNaN(c)&&isNaN(l)&&(d>r/i?c=.8*r:l=.8*i),isNaN(c)&&(c=d*l),isNaN(l)&&(l=c/d)),isNaN(o)&&(o=r-s-c-h),isNaN(a)&&(a=i-u-l-f),t.left||t.right){case"center":o=r/2-c/2-n[3];break;case"right":o=r-c-h}switch(t.top||t.bottom){case"middle":case"center":a=i/2-l/2-n[0];break;case"bottom":a=i-l-f}o=o||0,a=a||0,isNaN(c)&&(c=r-h-o-(s||0)),isNaN(l)&&(l=i-f-a-(u||0));var p=new tl(o+n[3],a+n[0],c,l);return p.margin=n,p}function we(t,e){return e&&t&&Hp(Wp,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function Me(t){return"category"===t.get("type")}function Se(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===Ag?{}:[]),this.sourceFormat=t.sourceFormat||Mg,this.seriesLayoutBy=t.seriesLayoutBy||wg,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&yg(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function Ae(t){if(t){var e=kg();return Lg(t,function(t,n){if(null==(t=Rg({},Ng(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var r=e.get(t.name);return r?t.name+="-"+r.count++:e.set(t.name,{count:1}),t})}}function Te(t,e,n,r){if(null==r&&(r=1/0),e===qg)for(o=0;o<n.length&&o<r;o++)t(n[o]?n[o][0]:null,o);else for(var i=n[0]||[],o=0;o<i.length&&o<r;o++)t(i[o],o)}function Oe(t,e,n,r,i,o){function a(t){return(null==t||!isFinite(t)||""===t)&&(!(!Pg(t)||"-"===t)||void 0)}var s,u;if(jg(t))return!1;if(r&&(u=r[o],u=Ng(u)?u.name:u),e===Vg)if(n===qg){for(var c=t[o],l=0;l<(c||[]).length&&l<5;l++)if(null!=(s=a(c[i+l])))return s}else for(l=0;l<t.length&&l<5;l++){var f=t[i+l];if(f&&null!=(s=a(f[o])))return s}else if(e===Fg){if(!u)return;for(l=0;l<t.length&&l<5;l++)if((h=t[l])&&null!=(s=a(h[u])))return s}else if(e===Hg){if(!u)return;if(!(c=t[u])||jg(c))return!1;for(l=0;l<c.length&&l<5;l++)if(null!=(s=a(c[l])))return s}else if(e===Bg)for(l=0;l<t.length&&l<5;l++){var h=t[l],d=Ig(h);if(!Eg(d))return!1;if(null!=(s=a(d[o])))return s}return!1}function Ie(t,e){t._seriesIndicesMap=ov(t._seriesIndices=tv(e,function(t){return t.componentIndex})||[])}function Ce(t,e){return e.hasOwnProperty("subType")?Qg(t,function(t){return t.subType===e.subType}):t}function ke(){this._coordinateSystems=[]}function De(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Le(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=Ov.length;n<r;n++){var i=Ov[n],o=e.normal,a=e.emphasis;o&&o[i]&&(t[i]=t[i]||{},t[i].normal?nc.merge(t[i].normal,o[i]):t[i].normal=o[i],o[i]=null),a&&a[i]&&(t[i]=t[i]||{},t[i].emphasis?nc.merge(t[i].emphasis,a[i]):t[i].emphasis=a[i],a[i]=null)}}function Ee(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,nc.defaults(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i)}}function Pe(t){Ee(t,"itemStyle"),Ee(t,"lineStyle"),Ee(t,"areaStyle"),Ee(t,"label"),Ee(t,"labelLine"),Ee(t,"upperLabel"),Ee(t,"edgeLabel")}function Ne(t,e){var n=Tv(t)&&t[e],r=Tv(n)&&n.textStyle;if(r)for(var i=0,o=Lf.TEXT_STYLE_OPTIONS.length;i<o;i++)e=Lf.TEXT_STYLE_OPTIONS[i],r.hasOwnProperty(e)&&(n[e]=r[e])}function je(t){t&&(Pe(t),Ne(t,"label"),t.emphasis&&Ne(t.emphasis,"label"))}function ze(t){return nc.isArray(t)?t:t?[t]:[]}function Re(t){return(nc.isArray(t)?t[0]:t)||{}}function Be(t){Iv(Lv,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}function Ve(t,e){Tg.isInstance(t)||(t=Tg.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,r=t.sourceFormat;r===Gv&&(this._offset=0,this._dimSize=e,this._data=n);var i=Zv[r===qv?r+"_"+t.seriesLayoutBy:r];Rv(this,i)}function Fe(){return this._data.length}function He(t){return this._data[t]}function We(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Ge(t,e,n,r){return null!=n?t[n]:t}function qe(t,e,n,r){return Ue(t[r],this._dimensionInfos[e])}function Ue(t,e){var n=e&&e.type;if("ordinal"===n){var r=e&&e.ordinalMeta;return r?r.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Wv(t)),null==t||""===t?NaN:+t}function Ye(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function Xe(t,e,n,r,i,o){om.reset(n,r,i,o),t._callingProgress=e,t._callingProgress({start:n,end:r,count:r-n,next:om.next},t.context)}function Ze(t){var e=t.name;Lf.isNameSpecified(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimension("seriesName",!0),r=[];return nc.each(n,function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)}),r.join(" ")}(t)||e)}function $e(t,e){nc.each(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,nc.curry(function(t){var e=Ke(t);e&&e.setOutputEnd(this.count())},e))})}function Ke(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}function Je(){this.group=new nl,this.uid=Ep.getUID("viewChart"),this.renderTask=Tm({plan:function(t){return Im(t.model)},reset:function(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=i&&Om(i).updateMethod,u=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==u&&a[u](e,n,r,i),km[u]}}),this.renderTask.context={view:this}}function Qe(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)Qe(t.childAt(n),e)}function tn(t,e,n){var r=Lf.queryDataIndex(t,e);null!=r?Am(Lf.normalizeToArray(r),function(e){Qe(t.getItemGraphicEl(e),n)}):t.eachItemGraphicEl(function(t){Qe(t,n)})}function en(t,e,n){function r(){l=(new Date).getTime(),f=null,t.apply(a,s||[])}var i,o,a,s,u,c=0,l=0,f=null;e=e||0;var h=function(){i=(new Date).getTime(),a=this,s=arguments;var t=u||e,h=u||n;u=null,o=i-(h?c:l)-t,clearTimeout(f),h?f=setTimeout(r,t):o>=0?r():f=setTimeout(r,-o),c=i};return h.clear=function(){f&&(clearTimeout(f),f=null)},h.debounceNextCall=function(t){u=t},h}function nn(t,e,n,r){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice();this._allHandlers=n.concat(r),this._stageTaskMap=qm()}function rn(t,e,n,r,i){function o(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var a;i=i||{},Hm(e,function(e,s){if(!i.visualType||i.visualType===e.visualType){var u=t._stageTaskMap.get(e.uid),c=u.seriesTaskMap,l=u.overallTask;if(l){var f,h=l.agentStubMap;h.each(function(t){o(i,t)&&(t.dirty(),f=!0)}),f&&l.dirty(),Km(l,r);var d=t.getPerformArgs(l,i.block);h.each(function(t){t.perform(d)}),a|=l.perform(d)}else c&&c.each(function(s,u){o(i,s)&&s.dirty();var c=t.getPerformArgs(s,i.block);c.skip=!e.performRawSeries&&n.isSeriesFiltered(s.context.model),Km(s,r),a|=s.perform(c)})}}),t.unfinished|=a}function on(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function an(t,e,n){var r=e.uid,i=t._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i}function sn(t,e){for(var n in e.prototype)t[n]=Um}function un(t){return t}function cn(t,e,n,r,i){this._old=t,this._new=e,this._oldKeyGetter=n||un,this._newKeyGetter=r||un,this.context=i}function ln(t,e,n,r,i){for(var o=0;o<t.length;o++){var a="_ec_"+i[r](t[o],o),s=e[a];null==s?(n.push(a),e[a]=o):(s.length||(e[a]=s=[s]),s.push(o))}}function fn(t){return t._rawCount>65535?by:wy}function hn(t,e){nc.each(My.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,nc.each(Sy,function(n){t[n]=nc.clone(e[n])}),t._calculationInfo=nc.extend(e._calculationInfo)}function dn(t,e,n){var r;if(null!=e){var i=t._chunkSize,o=Math.floor(n/i),a=n%i,s=t.dimensions[e],u=t._storage[s][o];if(u){r=u[a];var c=t._dimensionInfos[s].ordinalMeta;c&&c.categories.length&&(r=c.categories[r])}}return r}function pn(t){return t}function gn(t){return t<this._count&&t>=0?this._indices[t]:-1}function vn(t,e){var n=t._idList[e];return null==n&&(n=dn(t,t._idDimIdx,e)),null==n&&(n=xy+e),n}function mn(t){return nc.isArray(t)||(t=[t]),t}function yn(t,e){var n=t.dimensions,r=new Ay(nc.map(n,t.getDimensionInfo,t),t.hostModel);hn(r,t);for(var i=r._storage={},o=t._storage,a=0;a<n.length;a++){var s=n[a];o[s]&&(nc.indexOf(e,s)>=0?(i[s]=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=function(t){var e=t.constructor;return e===Array?t.slice():new e(t)}(t[n]);return e}(o[s]),r._rawExtent[s]=[1/0,-1/0],r._extent[s]=null):i[s]=o[s])}return r}function xn(t,e,n){if(n||null!=e.get(t)){for(var r=0;null!=e.get(t+r);)r++;t+=r}return e.set(t,!0),t}function _n(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function bn(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function wn(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function Mn(t){return t._map||(t._map=$y(t.categories))}function Sn(t){return Np.getPrecisionSafe(t)+2}function An(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Tn(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),An(t,0,e),An(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function On(t){return t.get("stack")||fx+t.seriesIndex}function In(t){return t.dim+t.index}function Cn(t,e){var n=[];return e.eachSeriesByType(t,function(t){En(t)&&!Pn(t)&&n.push(t)}),n}function kn(t){var e=[];return nc.each(t,function(t){var n=t.getData(),r=t.coordinateSystem.getBaseAxis(),i=r.getExtent(),o="category"===r.type?r.getBandWidth():Math.abs(i[1]-i[0])/n.count(),a=cx(t.get("barWidth"),o),s=cx(t.get("barMaxWidth"),o),u=t.get("barGap"),c=t.get("barCategoryGap");e.push({bandWidth:o,barWidth:a,barMaxWidth:s,barGap:u,barCategoryGap:c,axisKey:In(r),stackId:On(t)})}),Dn(e)}function Dn(t){var e={};nc.each(t,function(t,n){var r=t.axisKey,i=t.bandWidth,o=e[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},a=o.stacks;e[r]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var u=t.barWidth;u&&!a[s].width&&(a[s].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var c=t.barMaxWidth;c&&(a[s].maxWidth=c);var l=t.barGap;null!=l&&(o.gap=l);var f=t.barCategoryGap;null!=f&&(o.categoryGap=f)});var n={};return nc.each(e,function(t,e){n[e]={};var r=t.stacks,i=t.bandWidth,o=cx(t.categoryGap,i),a=cx(t.gap,1),s=t.remainedWidth,u=t.autoWidthCount,c=(s-o)/(u+(u-1)*a);c=Math.max(c,0),nc.each(r,function(t,e){var n=t.maxWidth;n&&n<c&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,u--)}),c=(s-o)/(u+(u-1)*a),c=Math.max(c,0);var l,f=0;nc.each(r,function(t,e){t.width||(t.width=c),l=t,f+=t.width*(1+a)}),l&&(f-=l.width*a);var h=-f/2;nc.each(r,function(t,r){n[e][r]=n[e][r]||{offset:h,width:t.width},h+=t.width*(1+a)})}),n}function Ln(t,e,n){if(t&&e){var r=t[In(e)];return null!=r&&null!=n&&(r=r[On(n)]),r}}function En(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Pn(t){return t.pipelineContext&&t.pipelineContext.large}function Nn(t,e,n){return nc.indexOf(t.getAxesOnZeroOf(),e)>=0||n?e.toGlobalCoord(e.dataToCoord(0)):e.getGlobalExtent()[0]}function jn(t,e){return Mx(t,bx(e))}function zn(t,e){var n,r,i,o=t.type,a=e.getMin(),s=e.getMax(),u=null!=a,c=null!=s,l=t.getExtent();"ordinal"===o?n=e.getCategories().length:(r=e.get("boundaryGap"),nc.isArray(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=Np.parsePercent(r[0],1),r[1]=Np.parsePercent(r[1],1),i=l[1]-l[0]||Math.abs(l[0])),null==a&&(a="ordinal"===o?n?0:NaN:l[0]-r[0]*i),null==s&&(s="ordinal"===o?n?n-1:NaN:l[1]+r[1]*i),"dataMin"===a?a=l[0]:"function"==typeof a&&(a=a({min:l[0],max:l[1]})),"dataMax"===s?s=l[1]:"function"==typeof s&&(s=s({min:l[0],max:l[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(nc.eqNaN(a)||nc.eqNaN(s)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(a>0&&s>0&&!u&&(a=0),a<0&&s<0&&!c&&(s=0));var f=e.ecModel;if(f&&"time"===o){var h,d=Cx("bar",f);if(nc.each(d,function(t){h|=t.getBaseAxis()===e.axis}),h){var p=kx(d),g=function(t,e,n,r){var i=n.axis.getExtent(),o=i[1]-i[0],a=Dx(r,n.axis);if(void 0===a)return{min:t,max:e};var s=1/0;nc.each(a,function(t){s=Math.min(t.offset,s)});var u=-1/0;nc.each(a,function(t){u=Math.max(t.offset+t.width,u)}),s=Math.abs(s),u=Math.abs(u);var c=s+u,l=e-t,f=l/(1-(s+u)/o)-l;return{min:t-=f*(s/c),max:e+=f*(u/c)}}(a,s,e,p);a=g.min,s=g.max}}return[a,s]}function Rn(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(t){return function(e){return t.replace("{value}",null!=e?e:"")}}(e):"function"==typeof e?function(r,i){return null!=n&&(i=r-n),e(Bn(t,r),i)}:function(e){return t.scale.getLabel(e)}}function Bn(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Vn(t,e){return Math.abs(t-e)<Xx}function Fn(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}function Hn(t,e,n){for(var r=[],i=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,u=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),i=s+=i,o=u+=o,r.push([s/n,u/n])}return r}function Wn(t,e){var n,r=Gn(t,"labels"),i=Zn(e),o=qn(r,i);return o||Un(r,i,{labels:nc.isFunction(i)?Xn(t,i):Yn(t,n="auto"===i?function(t){var e=t_(t).autoInterval;return null!=e?e:t_(t).autoInterval=t.calculateCategoryInterval()}(t):i),labelCategoryInterval:n})}function Gn(t,e){return t_(t)[e]||(t_(t)[e]=[])}function qn(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Un(t,e,n){return t.push({key:e,value:n}),n}function Yn(t,e,n){function r(t){u.push(n?t:{formattedLabel:i(t),rawLabel:o.getLabel(t),tickValue:t})}var i=Qx(t),o=t.scale,a=o.getExtent(),s=t.getLabelModel(),u=[],c=Math.max((e||0)+1,1),l=a[0],f=o.count();0!==l&&c>1&&f/c>2&&(l=Math.round(Math.ceil(l/c)*c));var h=s.get("showMinLabel"),d=s.get("showMaxLabel");h&&l!==a[0]&&r(a[0]);for(var p=l;p<=a[1];p+=c)r(p);return d&&p!==a[1]&&r(a[1]),u}function Xn(t,e,n){var r=t.scale,i=Qx(t),o=[];return nc.each(r.getTicks(),function(t){var a=r.getLabel(t);e(t,a)&&o.push(n?t:{formattedLabel:i(t),rawLabel:a,tickValue:t})}),o}function Zn(t){var e=t.get("interval");return null==e?"auto":e}function $n(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}function Kn(t,e,n){_p.Group.call(this),this.updateData(t,e,n)}function Jn(t){return[t[0]/2,t[1]/2]}function Qn(t){this.group=new _p.Group,this._symbolCtor=t||W_}function tr(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function er(t){return null==t||G_(t)||(t={isIgnore:t}),t||{}}function nr(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function rr(t){return isNaN(t[0])||isNaN(t[1])}function ir(t,e,n,r,i,o,a,s,u,c,l){return"none"!==c&&c?function(t,e,n,r,i,o,a,s,u,c,l){for(var f=0,h=n,d=0;d<r;d++){var p=e[h];if(h>=i||h<0)break;if(rr(p)){if(l){h+=o;continue}break}if(h===n)t[o>0?"moveTo":"lineTo"](p[0],p[1]);else if(u>0){var g=e[f],v="y"===c?1:0,m=(p[v]-g[v])*u;nb(ib,g),ib[v]=g[v]+m,nb(ob,p),ob[v]=p[v]-m,t.bezierCurveTo(ib[0],ib[1],ob[0],ob[1],p[0],p[1])}else t.lineTo(p[0],p[1]);f=h,h+=o}return d}.apply(this,arguments):function(t,e,n,r,i,o,a,s,u,c,l){for(var f=0,h=n,d=0;d<r;d++){var p=e[h];if(h>=i||h<0)break;if(rr(p)){if(l){h+=o;continue}break}if(h===n)t[o>0?"moveTo":"lineTo"](p[0],p[1]),nb(ib,p);else if(u>0){var g=h+o,v=e[g];if(l)for(;v&&rr(e[g]);)v=e[g+=o];var m=.5,y=e[f];if(!(v=e[g])||rr(v))nb(ob,p);else{var x,_;if(rr(v)&&!l&&(v=p),ic.sub(rb,v,y),"x"===c||"y"===c){var b="x"===c?0:1;x=Math.abs(p[b]-y[b]),_=Math.abs(p[b]-v[b])}else x=ic.dist(p,y),_=ic.dist(p,v);eb(ob,p,rb,-u*(1-(m=_/(_+x))))}Q_(ib,ib,s),tb(ib,ib,a),Q_(ob,ob,s),tb(ob,ob,a),t.bezierCurveTo(ib[0],ib[1],ob[0],ob[1],p[0],p[1]),eb(ib,p,rb,u*m)}else t.lineTo(p[0],p[1]);f=h,h+=o}return d}.apply(this,arguments)}function or(t,e){var n=[1/0,1/0],r=[-1/0,-1/0];if(e)for(var i=0;i<t.length;i++){var o=t[i];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>r[0]&&(r[0]=o[0]),o[1]>r[1]&&(r[1]=o[1])}return{min:e?n:r,max:e?r:n}}function ar(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r[0]!==i[0]||r[1]!==i[1])return}return!0}}function sr(t){return"number"==typeof t?t:t?.5:0}function ur(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,r=e[1]>e[0]?1:-1;e[0]+=r*n,e[1]-=r*n}return e}function cr(t,e,n,r){return"polar"===t.type?function(t,e,n,r){var i=t.getAngleAxis(),o=t.getRadiusAxis().getExtent().slice();o[0]>o[1]&&o.reverse();var a=i.getExtent(),s=Math.PI/180;n&&(o[0]-=.5,o[1]+=.5);var u=new _p.Sector({shape:{cx:cb(t.cx,1),cy:cb(t.cy,1),r0:cb(o[0],1),r:cb(o[1],1),startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:i.inverse}});return e&&(u.shape.endAngle=-a[0]*s,_p.initProps(u,{shape:{endAngle:-a[1]*s}},r)),u}(t,e,n,r):function(t,e,n,r){var i=ur(t.getAxis("x")),o=ur(t.getAxis("y")),a=t.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),u=Math.min(o[0],o[1]),c=Math.max(i[0],i[1])-s,l=Math.max(o[0],o[1])-u;if(n)s-=.5,c+=.5,u-=.5,l+=.5;else{var f=r.get("lineStyle.width")||2,h=r.get("clipOverflow")?f/2:Math.max(c,l);a?(u-=h,l+=2*h):(s-=h,c+=2*h)}var d=new _p.Rect({shape:{x:s,y:u,width:c,height:l}});return e&&(d.shape[a?"width":"height"]=0,_p.initProps(d,{shape:{width:c,height:l}},r)),d}(t,e,n,r)}function lr(t,e,n){for(var r=e.getBaseAxis(),i="x"===r.dim||"radius"===r.dim?0:1,o=[],a=0;a<t.length-1;a++){var s=t[a+1],u=t[a];o.push(u);var c=[];switch(n){case"end":c[i]=s[i],c[1-i]=u[1-i],o.push(c);break;case"middle":var l=(u[i]+s[i])/2,f=[];c[i]=f[i]=l,c[1-i]=u[1-i],f[1-i]=s[1-i],o.push(c),o.push(f);break;default:c[i]=u[i],c[1-i]=s[1-i],o.push(c)}}return t[a]&&o.push(t[a]),o}function fr(t){xb.call(this,t)}function hr(t,e){return e.type||(e.data?"category":"value")}function dr(t,e,n){return t.getCoordSysModel()===e}function pr(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function gr(t,e,n){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,i=t[e],o=n.model,a=o.get("axisLine.onZero"),s=o.get("axisLine.onZeroAxisIndex");if(a)if(null==s){for(var u in i)if(i.hasOwnProperty(u)&&vr(i[u])){r=i[u];break}}else vr(i[s])&&(r=i[s])}function vr(t){return t&&"category"!==t.type&&"time"!==t.type&&Rb(t)}function mr(t,e){return Pb(Wb,function(e){return t.getReferringComponents(e)[0]})}function yr(t){return"cartesian2d"===t.get("coordinateSystem")}function xr(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function _r(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function br(t){t&&(t.ignore=!0)}function wr(t,e,n){var r=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(r&&i){var o=dc.identity([]);return dc.rotate(o,o,-t.rotation),r.applyTransform(dc.mul([],o,t.getLocalTransform())),i.applyTransform(dc.mul([],o,e.getLocalTransform())),r.intersect(i)}}function Mr(t){return"middle"===t||"center"===t}function Sr(t,e){return"all"===t||nc.isArray(t)&&nc.indexOf(t,e)>=0||t===e}function Ar(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Or(t)]}function Tr(t){return!!t.get("handle.show")}function Or(t){return t.type+"||"+t.id}function Ir(t,e,n,r,i,o){var a=aw.getAxisPointerClass(t.axisPointerClass);if(a){var s=ow.getAxisPointerModel(e);s?(t._axisPointer||(t._axisPointer=new a)).render(e,s,r,o):Cr(t,r)}}function Cr(t,e,n){var r=t._axisPointer;r&&r.dispose(e,n),t._axisPointer=null}function kr(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function Dr(t,e,n){n.style.text=null,_p.updateProps(n,{shape:{width:0}},e,t,function(){n.parent&&n.parent.remove(n)})}function Lr(t,e,n){n.style.text=null,_p.updateProps(n,{shape:{r:n.shape.r0}},e,t,function(){n.parent&&n.parent.remove(n)})}function Er(t,e,n,r,i,o,a,s){var u=e.getItemVisual(n,"color"),c=e.getItemVisual(n,"opacity"),l=r.getModel("itemStyle"),f=r.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",l.get("barBorderRadius")||0),t.useStyle(nc.defaults({fill:u,opacity:c},l.getBarItemStyle()));var h=r.getShallow("cursor");h&&t.attr("cursor",h);var d=a?i.height>0?"bottom":"top":i.width>0?"left":"right";s||yw(t.style,f,r,u,o,n,d),_p.setHoverStyle(t,f)}function Pr(t,e,n){var r=t.getData(),i=[],o=r.getLayout("valueAxisHorizontal")?1:0;i[1-o]=r.getLayout("valueAxisStart");var a=new ww({shape:{points:r.getLayout("largePoints")},incremental:!!n,__startPoint:i,__valueIdx:o});e.add(a),function(t,e,n){var r=n.getVisual("borderColor")||n.getVisual("color"),i=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(i),t.style.fill=null,t.style.stroke=r,t.style.lineWidth=n.getLayout("barWidth")}(a,t,r)}function Nr(t,e,n,r,i){var o=(e.startAngle+e.endAngle)/2,a=Math.cos(o),s=Math.sin(o),u=n?r:0,c=[a*u,s*u];i?t.animate().when(200,{position:c}).start("bounceOut"):t.attr("position",c)}function jr(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function r(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}_p.Group.call(this);var i=new _p.Sector({z2:2}),o=new _p.Polyline,a=new _p.Text;this.add(i),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}function zr(t,e,n,r,i,o,a){function s(e,n){for(var r=e;r>=0&&(t[r].y-=n,!(r>0&&t[r].y>t[r-1].y+t[r-1].height));r--);}function u(t,e,n,r,i,o){for(var a=e?Number.MAX_VALUE:0,s=0,u=t.length;s<u;s++)if("center"!==t[s].position){var c=Math.abs(t[s].y-r),l=t[s].len,f=t[s].len2,h=c<i+l?Math.sqrt((i+l+f)*(i+l+f)-c*c):Math.abs(t[s].x-n);e&&h>=a&&(h=a-10),!e&&h<=a&&(h=a+10),t[s].x=n+h*o,a=h}}t.sort(function(t,e){return t.y-e.y});for(var c,l=0,f=t.length,h=[],d=[],p=0;p<f;p++)(c=t[p].y-l)<0&&function(e,n,r,i){for(var o=e;o<n;o++)if(t[o].y+=r,o>e&&o+1<n&&t[o+1].y>t[o].y+t[o].height)return void s(o,r/2);s(n-1,r/2)}(p,f,-c),l=t[p].y+t[p].height;for(a-l<0&&s(f-1,l-a),p=0;p<f;p++)t[p].y>=n?d.push(t[p]):h.push(t[p]);u(h,!1,e,n,r,i),u(d,!0,e,n,r,i)}function Rr(){this.group=new _p.Group}function Br(t,e,n){d_.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}function Vr(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=nc.map(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,r=new qw(n,new ux);return r.name=t.get("name"),r.model=t,t.axis=r,this.dimensions.push(n),r},this),this.resize(t,n),this.cx,this.cy,this.r,this.startAngle}function Fr(t,e){return nc.defaults({show:e},t)}function Hr(){xc.call(this)}function Wr(t){this.name=t,this.zoomLimit,xc.call(this),this._roamTransformable=new Hr,this._rawTransformable=new Hr,this._center,this._zoom}function Gr(t,e,n,r){var i=n.seriesModel,o=i?i.coordinateSystem:null;return o===this?o[t](r):null}function qr(t,e,n,r,i){tM.call(this,t),this.map=e,this._nameCoordMap=nc.createHashMap(),this.loadGeoJson(n,r,i)}function Ur(t,e,n,r){var i=n.geoModel,o=n.seriesModel,a=i?i.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[t](r):null}function Yr(t,e){var n=t.get("boundingCoords");if(null!=n){var r=n[0],i=n[1];isNaN(r[0])||isNaN(r[1])||isNaN(i[0])||isNaN(i[1])||this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}var o,a=this.getBoundingRect(),s=t.get("layoutCenter"),u=t.get("layoutSize"),c=e.getWidth(),l=e.getHeight(),f=t.get("aspectScale")||.75,h=a.width/a.height*f,d=!1;if(s&&u&&(s=[Np.parsePercent(s[0],c),Np.parsePercent(s[1],l)],u=Np.parsePercent(u,Math.min(c,l)),isNaN(s[0])||isNaN(s[1])||isNaN(u)||(d=!0)),d){var p={};h>1?(p.width=u,p.height=u/h):(p.height=u,p.width=u*h),p.y=s[1]-p.height/2,p.x=s[0]-p.width/2}else(o=t.getBoxLayoutParams()).aspect=h,p=Xp.getLayoutRect(o,{width:c,height:l});this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function Xr(t,e){nc.each(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}function Zr(t){return t[vM]||(t[vM]={})}function $r(t){this.pointerChecker,this._zr=t,this._opt={};var e=nc.bind,n=e(function(t){if(!(of.notLeftMouse(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}},this),r=e(function(t){if(!of.notLeftMouse(t)&&Jr(this,"moveOnMouseMove",t)&&this._dragging&&"pinch"!==t.gestureEvent&&!mM.isTaken(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,r=this._x,i=this._y,o=e-r,a=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&of.stop(t.event),this.trigger("pan",o,a,r,i,e,n)}},this),i=e(function(t){of.notLeftMouse(t)||(this._dragging=!1)},this),o=e(function(t){if(Jr(this,"zoomOnMouseWheel",t)&&0!==t.wheelDelta){var e=t.wheelDelta>0?1.1:1/1.1;Kr.call(this,t,e,t.offsetX,t.offsetY)}},this),a=e(function(t){if(!mM.isTaken(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;Kr.call(this,t,e,t.pinchX,t.pinchY)}},this);uc.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,s){this.disable(),this._opt=nc.defaults(nc.clone(s)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",r),t.on("mouseup",i)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",o),t.on("pinch",a))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",r),t.off("mouseup",i),t.off("mousewheel",o),t.off("pinch",a)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function Kr(t,e,n,r){this.pointerChecker&&this.pointerChecker(t,n,r)&&(of.stop(t.event),this.trigger("zoom",e,n,r))}function Jr(t,e,n){var r=t._opt[e];return r&&(!nc.isString(r)||n.event[r+"Key"])}function Qr(t,e){var n=t.getItemStyle(),r=t.get("areaColor");return null!=r&&(n.fill=r),n}function ti(t,e){e.eachChild(function(e){nc.each(e.__regions,function(n){e.trigger(t.isSelected(n.name)?"emphasis":"normal")})})}function ei(t,e){var n=new _p.Group;this._controller=new yM(t.getZr()),this._controllerHost={target:e?n:null},this.group=n,this._updateGroup=e,this._mouseDownFlag}function ni(t,e,n){t[IM]={},OM(e,function(e,r){ri(e,r,t,n)})}function ri(t,e,n,r){n[IM][e]=t,t[CM]=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=function(t){var e=this[CM];return null==t||null==e?e:e[IM][t]}}function ii(t,e,n){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=nc.map(e||[],function(e){return new kp(e,t,t.ecModel)}),this.leavesModel=new kp(n||{},t,t.ecModel)}function oi(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function ai(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function si(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==t.getItemVisual(e,"symbol")}function ui(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=e.getModel("lineStyle").getLineStyle(),n.labelModel=e.getModel("label"),n.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function ci(t,e,n,r,i,o){var a=!n,s=t.tree.getNodeByDataIndex(e),u=(o=ui(s,s.getModel(),o),t.tree.root),c=s.parentNode===u?s:s.parentNode||s,l=t.getItemGraphicEl(c.dataIndex),f=c.getLayout(),h=l?{x:l.position[0],y:l.position[1],rawX:l.__radialOldRawX,rawY:l.__radialOldRawY}:f,d=s.getLayout();a?(n=new W_(t,e,o)).attr("position",[h.x,h.y]):n.updateData(t,e,o),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=d.rawX,n.__radialRawY=d.rawY,r.add(n),t.setItemGraphicEl(e,n),_p.updateProps(n,{position:[d.x,d.y]},i);var p=n.getSymbolPath();if("radial"===o.layout){var g,v,m=u.children[0],y=m.getLayout(),x=m.children.length;if(d.x===y.x&&!0===s.isExpand){var _={};_.x=(m.children[0].getLayout().x+m.children[x-1].getLayout().x)/2,_.y=(m.children[0].getLayout().y+m.children[x-1].getLayout().y)/2,(g=Math.atan2(_.y-y.y,_.x-y.x))<0&&(g=2*Math.PI+g),(v=_.x<y.x)&&(g-=Math.PI)}else(g=Math.atan2(d.y-y.y,d.x-y.x))<0&&(g=2*Math.PI+g),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(v=d.x<y.x)&&(g-=Math.PI):(v=d.x>y.x)||(g-=Math.PI);var b=v?"left":"right";p.setStyle({textPosition:b,textRotation:-g,textOrigin:"center",verticalAlign:"middle"})}if(s.parentNode&&s.parentNode!==u){var w=n.__edge;w||(w=n.__edge=new _p.BezierCurve({shape:fi(o,h,h),style:nc.defaults({opacity:0},o.lineStyle)})),_p.updateProps(w,{shape:fi(o,f,d),style:{opacity:1}},i),r.add(w)}}function li(t,e,n,r,i,o){for(var a,s=t.tree.getNodeByDataIndex(e),u=t.tree.root,c=(o=ui(s,s.getModel(),o),s.parentNode===u?s:s.parentNode||s);null==(a=c.getLayout());)c=c.parentNode===u?c:c.parentNode||c;_p.updateProps(n,{position:[a.x+1,a.y+1]},i,function(){r.remove(n),t.setItemGraphicEl(e,null)}),n.fadeOut(null,{keepLabel:!0});var l=n.__edge;l&&_p.updateProps(l,{shape:fi(o,a,a),style:{opacity:0}},i,function(){r.remove(l)})}function fi(t,e,n){var r,i,o,a,s=t.orient;if("radial"===t.layout){var u=e.rawX,c=e.rawY,l=n.rawX,f=n.rawY,h=NM(u,c),d=NM(u,c+(f-c)*t.curvature),p=NM(l,f+(c-f)*t.curvature),g=NM(l,f);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y,cpx1:d.x,cpy1:d.y,cpx2:p.x,cpy2:p.y}}u=e.x,c=e.y,l=n.x,f=n.y;return"LR"!==s&&"RL"!==s||(r=u+(l-u)*t.curvature,i=c,o=l+(u-l)*t.curvature,a=f),"TB"!==s&&"BT"!==s||(r=u,i=c+(f-c)*t.curvature,o=l,a=f+(c-f)*t.curvature),{x1:u,y1:c,x2:l,y2:f,cpx1:r,cpy1:i,cpx2:o,cpy2:a}}function hi(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function di(t){this.group=new _p.Group,t.add(this.group)}function pi(t,e){var n=t.visual,r=[];nc.isObject(n)?fS(n,function(t){r.push(t)}):null!=n&&r.push(n),e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),wi(t,r)}function gi(t){return{applyVisual:function(e,n,r){e=this.mapValueToVisual(e),r("color",t(n("color"),e))},_doMap:_i([0,1])}}function vi(t){var e=this.option.visual;return e[Math.round(lS(t,[0,1],[0,e.length-1],!0))]||{}}function mi(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function yi(t){var e=this.option.visual;return e[this.option.loop&&t!==dS?t%e.length:t]}function xi(){return this.option.visual[0]}function _i(t){return{linear:function(e){return lS(e,t,this.option.visual,!0)},category:yi,piecewise:function(e,n){var r=bi.call(this,n);return null==r&&(r=lS(e,t,this.option.visual,!0)),r},fixed:xi}}function bi(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=n[pS.findPieceIndex(t,n)];if(r&&r.visual)return r.visual[this.type]}}function wi(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=nc.map(e,function(t){return Lc.parse(t)})),e}function Mi(t,e,n){return t?e<=n:e<n}function Si(t){var e=Ai(t,"color");if(e){var n=Ai(t,"colorAlpha"),r=Ai(t,"colorSaturation");return r&&(e=Lc.modifyHSL(e,null,null,r)),n&&(e=Lc.modifyAlpha(e,n)),e}}function Ai(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function Ti(t,e){var n=t.get(e);return yS(n)&&n.length?{name:e,range:n}:null}function Oi(t,e,n,r,i){var o=e===n.width?0:1,a=1-o,s=["x","y"],u=["width","height"],c=n[s[o]],l=e?t.area/e:0;(i||l>n[u[a]])&&(l=n[u[a]]);for(var f=0,h=t.length;f<h;f++){var d=t[f],p={},g=l?d.getLayout().area/l:0,v=p[u[a]]=MS(l-2*r,0),m=n[s[o]]+n[u[o]]-c,y=f===h-1||m<g?m:g,x=p[u[o]]=MS(y-2*r,0);p[s[a]]=n[s[a]]+SS(r,v/2),p[s[o]]=c+SS(r,x/2),c+=y,d.setLayout(p,!0)}n[s[a]]+=l,n[u[a]]-=l}function Ii(t){return t.get(CS)?t.get(kS):0}function Ci(t){return"_EC_"+t}function ki(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function Di(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}function Li(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function Ei(t){return"_"+t+"Type"}function Pi(t,e,n){var r=e.getItemVisual(n,"color"),i=e.getItemVisual(n,t),o=e.getItemVisual(n,t+"Size");if(i&&"none"!==i){nc.isArray(o)||(o=[o,o]);var a=Hx.createSymbol(i,-o[0]/2,-o[1]/2,o[0],o[1],r);return a.name=t,a}}function Ni(t,e){var n=e[0],r=e[1],i=e[2];t.x1=n[0],t.y1=n[1],t.x2=r[0],t.y2=r[1],t.percent=1,i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}function ji(t,e,n){_p.Group.call(this),this._createLine(t,e,n)}function zi(t){this._ctor=t||YS,this.group=new _p.Group}function Ri(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function Bi(t){return isNaN(t[0])||isNaN(t[1])}function Vi(t){return!Bi(t[0])&&!Bi(t[1])}function Fi(t,e,n){for(var r,i=t[0],o=t[1],a=t[2],s=1/0,u=n*n,c=.1,l=.1;l<=.9;l+=.1)$S[0]=QS(i[0],o[0],a[0],l),$S[1]=QS(i[1],o[1],a[1],l),(d=eA(tA($S,e)-u))<s&&(s=d,r=l);for(var f=0;f<32;f++){var h=r+c;KS[0]=QS(i[0],o[0],a[0],r),KS[1]=QS(i[1],o[1],a[1],r),JS[0]=QS(i[0],o[0],a[0],h),JS[1]=QS(i[1],o[1],a[1],h);var d=tA(KS,e)-u;if(eA(d)<.01)break;var p=tA(JS,e)-u;c/=2,d<0?p>=0?r+=c:r-=c:p>=0?r-=c:r+=c}return r}function Hi(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function Wi(t,e,n){var r=t.getGraphicEl(),i=Hi(t,e);null!=n&&(null==i&&(i=1),i*=n),r.downplay&&r.downplay(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",i)})}function Gi(t,e){var n=Hi(t,e),r=t.getGraphicEl();r.highlight&&r.highlight(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function qi(t){return t instanceof Array||(t=[t,t]),t}function Ui(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,n=ic.clone(t.node1.getLayout()),r=ic.clone(t.node2.getLayout()),i=[n,r];+e&&i.push([(n[0]+r[0])/2-(n[1]-r[1])*e,(n[1]+r[1])/2-(r[0]-n[0])*e]),t.setLayout(i)})}function Yi(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}function Xi(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function r(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}_p.Group.call(this);var i=new _p.Polygon,o=new _p.Polyline,a=new _p.Text;this.add(i),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}function Zi(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function $i(t,e){return Math.min(e[1],Math.max(e[0],t))}function Ki(t,e,n){this._axesMap=nc.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}function Ji(t,e){return NA(jA(t,e[0]),e[1])}function Qi(t){uc.call(this),this._zr=t,this.group=new _p.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+nT++,this._handlers={},GA(rT,function(t,e){this._handlers[e]=nc.bind(t,this)},this)}function to(t,e){var n=iT[e.brushType].createCover(t,e);return n.__brushOption=e,ro(n,e),t.group.add(n),n}function eo(t,e){var n=oo(e);return n.endCreating&&(n.endCreating(t,e),ro(e,e.__brushOption)),e}function no(t,e){var n=e.__brushOption;oo(e).updateCoverShape(t,e,n.range,n)}function ro(t,e){var n=e.z;null==n&&(n=ZA),t.traverse(function(t){t.z=n,t.z2=n})}function io(t,e){oo(e).updateCommon(t,e),no(t,e)}function oo(t){return iT[t.__brushOption.brushType]}function ao(t,e,n){var r=t._panels;if(!r)return!0;var i,o=t._transform;return GA(r,function(t){t.isTargetByCursor(e,n,o)&&(i=t)}),i}function so(t,e){var n=t._panels;if(!n)return!0;var r=e.__brushOption.panelId;return null==r||n[r]}function uo(t){var e=t._covers,n=e.length;return GA(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function co(t,e){var n=qA(t._covers,function(t){var e=t.__brushOption,n=nc.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function lo(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function fo(t,e,n,r){var i=new _p.Group;return i.add(new _p.Rect({name:"main",style:vo(n),silent:!0,draggable:!0,cursor:"move",drift:WA(t,e,i,"nswe"),ondragend:WA(co,e,{isEnd:!0})})),GA(r,function(n){i.add(new _p.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:WA(t,e,i,n),ondragend:WA(co,e,{isEnd:!0})}))}),i}function ho(t,e,n,r){var i=r.brushStyle.lineWidth||0,o=YA(i,KA),a=n[0][0],s=n[1][0],u=a-i/2,c=s-i/2,l=n[0][1],f=n[1][1],h=l-o+i/2,d=f-o+i/2,p=l-a,g=f-s,v=p+i,m=g+i;go(t,e,"main",a,s,p,g),r.transformable&&(go(t,e,"w",u,c,o,m),go(t,e,"e",h,c,o,m),go(t,e,"n",u,c,v,o),go(t,e,"s",u,d,v,o),go(t,e,"nw",u,c,o,o),go(t,e,"ne",h,c,o,o),go(t,e,"sw",u,d,o,o),go(t,e,"se",h,d,o,o))}function po(t,e){var n=e.__brushOption,r=n.transformable,i=e.childAt(0);i.useStyle(vo(n)),i.attr({silent:!r,cursor:r?"move":"default"}),GA(["w","e","n","s","se","sw","ne","nw"],function(n){var i=e.childOfName(n),o=function t(e,n){if(n.length>1)return("e"===(r=[t(e,(n=n.split(""))[0]),t(e,n[1])])[0]||"w"===r[0])&&r.reverse(),r.join("");var r=_p.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[n],function(t){return _p.getTransform(t.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[r]}(t,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?tT[o]+"-resize":null})})}function go(t,e,n,r,i,o,a){var s=e.childOfName(n);s&&s.setShape(function(t){var e=UA(t[0][0],t[1][0]),n=UA(t[0][1],t[1][1]);return{x:e,y:n,width:YA(t[0][0],t[1][0])-e,height:YA(t[0][1],t[1][1])-n}}(_o(t,e,[[r,i],[r+o,i+a]])))}function vo(t){return nc.defaults({strokeNoScale:!0},t.brushStyle)}function mo(t,e,n,r){var i=[UA(t,n),UA(e,r)],o=[YA(t,n),YA(e,r)];return[[i[0],o[0]],[i[1],o[1]]]}function yo(t,e,n,r,i,o,a,s){var u=r.__brushOption,c=t(u.range),l=xo(n,o,a);GA(i.split(""),function(t){var e=QA[t];c[e[0]][e[1]]+=l[e[0]]}),u.range=e(mo(c[0][0],c[1][0],c[0][1],c[1][1])),io(n,r),co(n,{isEnd:!1})}function xo(t,e,n){var r=t.group,i=r.transformCoordToLocal(e,n),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function _o(t,e,n){var r=so(t,e);return r&&!0!==r?r.clipPath(n,t._transform):nc.clone(n)}function bo(t){var e=t.event;e.preventDefault&&e.preventDefault()}function wo(t,e,n){return t.childOfName("main").contain(e,n)}function Mo(t,e,n,r){var i,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],i=n[0]-r[0],o=n[1]-r[1];return XA(i*i+o*o,.5)>$A}(t)||o){if(a&&!o){"single"===s.brushMode&&uo(t);var u=nc.clone(s);u.brushType=So(u.brushType,a),u.panelId=!0===a?null:a.panelId,o=t._creatingCover=to(t,u),t._covers.push(o)}if(o){var c=iT[So(t._brushType,a)];o.__brushOption.range=c.getCreatingRange(_o(t,o,t._track)),r&&(eo(t,o),c.updateCommon(t,o)),no(t,o),i={isEnd:r}}}else r&&"single"===s.brushMode&&s.removeOnClick&&ao(t,e,n)&&uo(t)&&(i={isEnd:r,removeOnClick:!0});return i}function So(t,e){return"auto"===t?e.defaultBrushType:t}function Ao(t){if(this._dragging){bo(t);var e=Mo(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&co(this,e)}}function To(t){return{createCover:function(e,n){return fo(WA(yo,function(e){var n=[e,[0,100]];return t&&n.reverse(),n},function(e){return e[t]}),e,n,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var n=lo(e);return[UA(n[0][t],n[1][t]),YA(n[0][t],n[1][t])]},updateCoverShape:function(e,n,r,i){var o,a=so(e,n);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[r,o];t&&u.reverse(),ho(e,n,u,i)},updateCommon:po,contain:wo}}function Oo(t){return tl.create(t)}function Io(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}function Co(t,e,n,r){for(var i=[],o=0;o<n.length;o++){var a=n[o],s=t.get(t.mapDimension(a),e);(function(t,e){return"category"===r.getAxis(a).type?null==t:null==t||isNaN(t)})(s)||i.push(r.dataToPoint(s,a))}return i}function ko(t,e,n,r,i){var o=Co(t,n,r,i),a=new _p.Polyline({shape:{points:o},silent:!0,z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function Do(t){var e=t.get("smooth",!0);return!0===e&&(e=gT),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:gT}}function Lo(t,e,n,r){var i=r.lineStyle;e.hasItemOption&&(i=e.getItemModel(n).getModel("lineStyle").getLineStyle()),t.useStyle(i);var o=t.style;o.fill=null,o.stroke=e.getItemVisual(n,"color"),o.opacity=e.getItemVisual(n,"opacity"),r.smooth&&(t.shape.smooth=r.smooth)}function Eo(t,e,n){nc.each(t,function(t){var r,i,o,a=0,s=t.length;for(t.sort(function(t,e){return t.getLayout().y-e.getLayout().y}),o=0;o<s;o++)(i=a-(r=t[o]).getLayout().y)>0&&(u=r.getLayout().y+i,r.setLayout({y:u},!0)),a=r.getLayout().y+r.getLayout().dy+e;if((i=a-e-n)>0){var u=r.getLayout().y-i;for(r.setLayout({y:u},!0),a=r.getLayout().y,o=s-2;o>=0;--o)(i=(r=t[o]).getLayout().y+r.getLayout().dy+e-a)>0&&(u=r.getLayout().y-i,r.setLayout({y:u},!0)),a=r.getLayout().y}})}function Po(t,e){for(var n=0,r=t.length,i=-1;++i<r;){var o=+e.call(t,t[i],i);isNaN(o)||(n+=o)}return n}function No(t){return t.getLayout().y+t.getLayout().dy/2}function jo(t){return t.getValue()}function zo(t,e,n,r,i){var o=t.ends,a=new IT({shape:{points:i?function(t,e,n){return nc.map(t,function(t){return(t=t.slice())[e]=n.initBaseline,t})}(o,r,t):o}});return Ro(t,a,e,n,i),a}function Ro(t,e,n,r,i){var o=n.hostModel;(0,_p[i?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,r);var a=n.getItemModel(r),s=a.getModel(TT),u=n.getItemVisual(r,"color"),c=s.getItemStyle(["borderColor"]);c.stroke=u,c.strokeNoScale=!0,e.useStyle(c),e.z2=100;var l=a.getModel(OT).getItemStyle();_p.setHoverStyle(e,l)}function Bo(t,e,n){var r=t.ends;return new zT({shape:{points:n?function(t,e){return nc.map(t,function(t){return(t=t.slice())[1]=e.initBaseline,t})}(r,t):r},z2:100})}function Vo(t,e,n,r){var i=e.getItemModel(n),o=i.getModel(PT),a=e.getItemVisual(n,"color"),s=e.getItemVisual(n,"borderColor")||a,u=o.getItemStyle(jT);t.useStyle(u),t.style.strokeNoScale=!0,t.style.fill=a,t.style.stroke=s,t.__simpleBox=r;var c=i.getModel(NT).getItemStyle();_p.setHoverStyle(t,c)}function Fo(t,e,n){var r=t.getData(),i=r.getLayout("largePoints"),o=new RT({shape:{points:i},__sign:1});e.add(o);var a=new RT({shape:{points:i},__sign:-1});e.add(a),Ho(1,o,t,r),Ho(-1,a,t,r),n&&(o.incremental=!0,a.incremental=!0)}function Ho(t,e,n,r){var i=t>0?"P":"N",o=r.getVisual("borderColor"+i)||r.getVisual("color"+i),a=n.getModel(PT).getItemStyle(jT);e.useStyle(a),e.style.fill=null,e.style.stroke=o}function Wo(t,e,n,r,i){return n>r?-1:n<r?1:e>0?t.get(i,e-1)<=r?1:-1:1}function Go(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})})}function qo(t,e){$T.call(this);var n=new W_(t,e),r=new $T;this.add(n),this.add(r),r.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}function Uo(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=nO(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),eO([e,t[0],t[1]])}))}function Yo(t,e,n){_p.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}function Xo(t,e,n){_p.Group.call(this),this._createPolyline(t,e,n)}function Zo(t,e,n){cO.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}function $o(){this.group=new _p.Group}function Ko(t){return t instanceof Array||(t=[t,t]),t}function Jo(){var t=nc.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function Qo(t,e,n,r){var i=t.getItemLayout(e),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,l=n.isAnimationEnabled(),f={dataIndex:e,layout:i,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:l?n:null,hoverAnimation:l&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};!function(t,e,n,r,i){var o,a=r.valueDim,s=t.get("symbolBoundingData"),u=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),c=u.toGlobalCoord(u.dataToCoord(0)),l=1-+(n[a.wh]<=0);if(nc.isArray(s)){var f=[ta(u,s[0])-c,ta(u,s[1])-c];f[1]<f[0]&&f.reverse(),o=f[l]}else o=null!=s?ta(u,s)-c:e?r.coordSysExtent[a.index][l]-c:n[a.wh];i.boundingLength=o,e&&(i.repeatCutLength=n[a.wh]),i.pxSign=o>0?1:o<0?-1:0}(n,o,i,r,f),function(t,e,n,r,i,o,a,s,u,c){var l=u.valueDim,f=u.categoryDim,h=Math.abs(n[f.wh]),d=t.getItemVisual(e,"symbolSize");nc.isArray(d)?d=d.slice():(null==d&&(d="100%"),d=[d,d]),d[f.index]=MO(d[f.index],h),d[l.index]=MO(d[l.index],r?h:Math.abs(o)),c.symbolSize=d,(c.symbolScale=[d[0]/s,d[1]/s])[l.index]*=(u.isHorizontal?-1:1)*a}(t,e,i,o,0,f.boundingLength,f.pxSign,c,r,f),function(t,e,n,r,i){var o=t.get(TO)||0;o&&(IO.attr({scale:e.slice(),rotation:n}),IO.updateTransform(),o/=IO.getLineScale(),o*=e[r.valueDim.index]),i.valueLineWidth=o}(n,f.symbolScale,u,r,f);var h=f.symbolSize,d=n.get("symbolOffset");return nc.isArray(d)&&(d=[MO(d[0],h[0]),MO(d[1],h[1])]),function(t,e,n,r,i,o,a,s,u,c,l,f){var h=l.categoryDim,d=l.valueDim,p=f.pxSign,g=Math.max(e[d.index]+s,0),v=g;if(r){var m=Math.abs(u),y=nc.retrieve(t.get("symbolMargin"),"15%")+"",x=!1;y.lastIndexOf("!")===y.length-1&&(x=!0,y=y.slice(0,y.length-1)),y=MO(y,e[d.index]);var _=Math.max(g+2*y,0),b=x?0:2*y,w=SO(r),M=w?r:pa((m+b)/_);_=g+2*(y=(m-M*g)/2/(x?M:M-1)),b=x?0:2*y,w||"fixed"===r||(M=c?pa((Math.abs(c)+b)/_):0),v=M*_-b,f.repeatTimes=M,f.symbolMargin=y}var S=p*(v/2),A=f.pathPosition=[];A[h.index]=n[h.wh]/2,A[d.index]="start"===a?S:"end"===a?u-S:u/2,o&&(A[0]+=o[0],A[1]+=o[1]);var T=f.bundlePosition=[];T[h.index]=n[h.xy],T[d.index]=n[d.xy];var O=f.barRectShape=nc.extend({},n);O[d.wh]=p*Math.max(Math.abs(n[d.wh]),Math.abs(A[d.index]+S)),O[h.wh]=n[h.wh];var I=f.clipShape={};I[h.xy]=-n[h.xy],I[h.wh]=l.ecSize[h.wh],I[d.xy]=0,I[d.wh]=n[d.wh]}(n,h,i,o,0,d,s,f.valueLineWidth,f.boundingLength,f.repeatCutLength,r,f),f}function ta(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function ea(t){var e=t.symbolPatternSize,n=wO(t.symbolType,-e/2,-e/2,e,e,t.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function na(t,e,n,r){function i(t){var e=u.slice(),r=n.pxSign,i=t;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(i=l-1-t),e[c.index]=h*(i-l/2+.5)+u[c.index],{position:e,scale:n.symbolScale.slice(),rotation:n.rotation}}var o=t.__pictorialBundle,a=n.symbolSize,s=n.valueLineWidth,u=n.pathPosition,c=e.valueDim,l=n.repeatTimes||0,f=0,h=a[e.valueDim.index]+s+2*n.symbolMargin;for(fa(t,function(t){t.__pictorialAnimationIndex=f,t.__pictorialRepeatTimes=l,f<l?ha(t,null,i(f),n,r):ha(t,null,{scale:[0,0]},n,r,function(){o.remove(t)}),sa(t,n),f++});f<l;f++){var d=ea(n);d.__pictorialAnimationIndex=f,d.__pictorialRepeatTimes=l,o.add(d);var p=i(f);ha(d,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},n,r),d.on("mouseover",function(){fa(t,function(t){t.trigger("emphasis")})}).on("mouseout",function(){fa(t,function(t){t.trigger("normal")})}),sa(d,n)}}function ra(t,e,n,r){var i=t.__pictorialBundle,o=t.__pictorialMainPath;o?ha(o,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,r):(o=t.__pictorialMainPath=ea(n),i.add(o),ha(o,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,r),o.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),sa(o,n)}function ia(t,e,n){var r=nc.extend({},e.barRectShape),i=t.__pictorialBarRect;i?ha(i,null,{shape:r},e,n):(i=t.__pictorialBarRect=new _p.Rect({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(i))}function oa(t,e,n,r){if(n.symbolClip){var i=t.__pictorialClipPath,o=nc.extend({},n.clipShape),a=e.valueDim,s=n.animationModel,u=n.dataIndex;if(i)_p.updateProps(i,{shape:o},s,u);else{o[a.wh]=0,i=new _p.Rect({shape:o}),t.__pictorialBundle.setClipPath(i),t.__pictorialClipPath=i;var c={};c[a.wh]=n.clipShape[a.wh],_p[r?"updateProps":"initProps"](i,{shape:c},s,u)}}}function aa(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=function(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}},n.isAnimationEnabled=function(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")},n}function sa(t,e){t.off("emphasis").off("normal");var n=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function ua(t,e,n,r){var i=new _p.Group,o=new _p.Group;return i.add(o),i.__pictorialBundle=o,o.attr("position",n.bundlePosition.slice()),n.symbolRepeat?na(i,e,n):ra(i,0,n),ia(i,n,r),oa(i,e,n,r),i.__pictorialShapeStr=la(t,n),i.__pictorialSymbolMeta=n,i}function ca(t,e,n,r){var i=r.__pictorialBarRect;i&&(i.style.text=null);var o=[];fa(r,function(t){o.push(t)}),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),nc.each(o,function(t){_p.updateProps(t,{scale:[0,0]},n,e,function(){r.parent&&r.parent.remove(r)})}),t.setItemGraphicEl(e,null)}function la(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function fa(t,e,n){nc.each(t.__pictorialBundle.children(),function(r){r!==t.__pictorialBarRect&&e.call(n,r)})}function ha(t,e,n,r,i,o){e&&t.attr(e),r.symbolClip&&!i?n&&t.attr(n):n&&_p[i?"updateProps":"initProps"](t,n,r.animationModel,r.dataIndex,o)}function da(t,e,n){var r=n.color,i=n.dataIndex,o=n.itemModel,a=o.getModel("itemStyle").getItemStyle(["color"]),s=o.getModel("emphasis.itemStyle").getItemStyle(),u=o.getShallow("cursor");fa(t,function(t){t.setColor(r),t.setStyle(nc.defaults({fill:r,opacity:n.opacity},a)),_p.setHoverStyle(t,s),u&&(t.cursor=u),t.z2=n.z2});var c={},l=e.valueDim.posDesc[+(n.boundingLength>0)],f=t.__pictorialBarRect;AO(f.style,c,o,r,e.seriesModel,i,l),_p.setHoverStyle(f,c)}function pa(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}function ga(t,e,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,n),this.model=t}function va(t,e,n,r,i){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var n=e.axis,r=n.dim,i=t,o=[],a=Number.MAX_VALUE,s=-1;return FO(e.seriesModels,function(e,u){var c,l,f=e.getData().mapDimension(r,!0);if(e.getAxisTooltipData){var h=e.getAxisTooltipData(f,t,n);l=h.dataIndices,c=h.nestestValue}else{if(!(l=e.getData().indicesOfNearest(f[0],t,"category"===n.type?.5:null)).length)return;c=e.getData().get(f[0],l[0])}if(null!=c&&isFinite(c)){var d=t-c,p=Math.abs(d);p<=a&&((p<a||d>=0&&s<0)&&(a=p,s=d,i=c,o.length=0),FO(l,function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:o,snapToValue:i}}(e,t),s=a.payloadBatch,u=a.snapToValue;s[0]&&null==i.seriesIndex&&nc.extend(i,s[0]),!r&&t.snap&&o.containData(u)&&null!=u&&(e=u),n.showPointer(t,e,s,i),n.showTooltip(t,a,u)}else n.showPointer(t,e)}function ma(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function ya(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function xa(t,e,n,r){e.handler(t,n,r)}function _a(){}function ba(t,e,n,r){(function t(e,n){if(nc.isObject(e)&&nc.isObject(n)){var r=!0;return nc.each(n,function(n,i){r=r&&t(e[i],n)}),!!r}return e===n})(ZO(n).lastProp,r)||(ZO(n).lastProp=r,e?_p.updateProps(n,r,t):(n.stopAnimation(),n.attr(r)))}function wa(t,e){t[e.get("label.show")?"show":"hide"]()}function Ma(t){return{position:t.position.slice(),rotation:t.rotation||0}}function Sa(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=i&&(t.zlevel=i),t.silent=n)})}function Aa(t,e,n,r,i){var o=Ta(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),a=n.getModel("label"),s=Vp.normalizeCssArray(a.get("padding")||0),u=a.getFont(),c=Pl.getBoundingRect(o,u),l=i.position,f=c.width+s[1]+s[3],h=c.height+s[0]+s[2],d=i.align;"right"===d&&(l[0]-=f),"center"===d&&(l[0]-=f/2);var p=i.verticalAlign;"bottom"===p&&(l[1]-=h),"middle"===p&&(l[1]-=h/2),function(t,e,n,r){var i=r.getWidth(),o=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(l,f,h,r);var g=a.get("backgroundColor");g&&"auto"!==g||(g=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:f,height:h,r:a.get("borderRadius")},position:l.slice(),style:{text:o,textFont:u,textFill:a.getTextColor(),textPosition:"inside",fill:g,stroke:a.get("borderColor")||"transparent",lineWidth:a.get("borderWidth")||0,shadowBlur:a.get("shadowBlur"),shadowColor:a.get("shadowColor"),shadowOffsetX:a.get("shadowOffsetX"),shadowOffsetY:a.get("shadowOffsetY")},z2:10}}function Ta(t,e,n,r,i){t=e.scale.parse(t);var o=e.scale.getLabel(t,{precision:i.precision}),a=i.formatter;if(a){var s={value:Lx.getAxisRawValue(e,t),seriesData:[]};nc.each(r,function(t){var e=n.getSeriesByIndex(t.seriesIndex),r=t.dataIndexInside,i=e&&e.getDataParams(r);i&&s.seriesData.push(i)}),nc.isString(a)?o=a.replace("{value}",o):nc.isFunction(a)&&(o=a(s))}return o}function Oa(t,e,n){var r=dc.create();return dc.rotate(r,r,n.rotation),dc.translate(r,r,n.position),_p.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function Ia(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}function Ca(t){return"x"===t.dim?0:1}function ka(t){return t.isHorizontal()?0:1}function Da(t,e){var n=t.getRect();return[n[nI[e]],n[nI[e]]+n[rI[e]]]}function La(t,e,n){if(t.count())for(var r,i=e.coordinateSystem,o=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),u=nc.map(o,function(e){return nc.map(e.indices,function(e){var n=i.dataToPoint(t.get(a,e));return n[1]=t.get(s,e),n})}),c=function(t){for(var e=t.length,n=t[0].length,r=[],i=[],o=0,a={},s=0;s<n;++s){for(var u=0,c=0;u<e;++u)c+=t[u][s][1];c>o&&(o=c),r.push(c)}for(var l=0;l<n;++l)i[l]=(o-r[l])/2;o=0;for(var f=0;f<n;++f){var h=r[f]+i[f];h>o&&(o=h)}return a.y0=i,a.max=o,a}(u),l=c.y0,f=n/c.max,h=o.length,d=o[0].indices.length,p=0;p<d;++p){r=l[p]*f,t.setItemLayout(o[0].indices[p],{layerIndex:0,x:u[0][p][0],y0:r,y:u[0][p][1]*f});for(var g=1;g<h;++g)r+=u[g-1][p][1]*f,t.setItemLayout(o[g].indices[p],{layerIndex:g,x:u[g][p][0],y0:r,y:u[g][p][1]*f})}}function Ea(t,e,n){function r(){a.ignore=a.hoverIgnore}function i(){a.ignore=a.normalIgnore}_p.Group.call(this);var o=new _p.Sector({z2:vI});o.seriesIndex=e.seriesIndex;var a=new _p.Text({z2:mI,silent:t.getModel("label").get("silent")});this.add(o),this.add(a),this.updateData(!0,t,"normal",e,n),this.on("emphasis",r).on("normal",i).on("mouseover",r).on("mouseout",i)}function Pa(t,e,n,r,i){null==n[t]||i||(e[t]=n[t],n[t]=r[t])}function Na(t,e,n,r){function i(t){null==t&&(t=u),g&&(c=e.getItemModel(t),l=c.getModel(II),f=c.getModel(CI),h=e.getItemVisual(t,"color"),g=!1)}var o=t.get("renderItem"),a=t.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms():DI[a.type](a));var u,c,l,f,h,d=nc.defaults({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(t,n){return null==n&&(n=u),e.get(e.getDimension(t||0),n)},style:function(n,r){null==r&&(r=u),i(r);var o=c.getModel(TI).getItemStyle();null!=h&&(o.fill=h);var a=e.getItemVisual(r,"opacity");return null!=a&&(o.opacity=a),_p.setTextStyle(o,l,null,{autoColor:h,isRectText:!0}),o.text=l.getShallow("show")?nc.retrieve2(t.getFormattedLabel(r,"normal"),SI(e,r)):null,n&&nc.extend(o,n),o},styleEmphasis:function(n,r){null==r&&(r=u),i(r);var o=c.getModel(OI).getItemStyle();return _p.setTextStyle(o,f,null,{isRectText:!0},!0),o.text=f.getShallow("show")?nc.retrieve3(t.getFormattedLabel(r,"emphasis"),t.getFormattedLabel(r,"normal"),SI(e,r)):null,n&&nc.extend(o,n),o},visual:function(t,n){return null==n&&(n=u),e.getItemVisual(n,t)},barLayout:function(t){if(a.getBaseAxis){var e=a.getBaseAxis();return AI(nc.defaults({axis:e},t),r)}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return _p.getFont(t,n)}},s.api||{}),p={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:function(t){var e={};return nc.each(t.dimensions,function(n,r){var i=t.getDimensionInfo(n);if(!i.isExtraCoord){var o=i.coordDim;(e[o]=e[o]||[])[i.coordDimIndex]=r}}),e}(t.getData())},g=!0;return function(t){return u=t,g=!0,o&&o(nc.defaults({dataIndexInside:t,dataIndex:e.getRawIndex(t)},p),d)||{}}}function ja(t,e,n,r,i,o){return(t=za(t,e,n,r,i,o))&&o.setItemGraphicEl(e,t),t}function za(t,e,n,r,i,o){var a=n.type;if(!t||a===t.__customGraphicType||"path"===a&&n.pathData===t.__customPathData||"image"===a&&n.style.image===t.__customImagePath||"text"===a&&n.style.text===t.__customText||(i.remove(t),t=null),null!=a){var s=!t;if(!t&&(t=function(t){var e,n=t.type;if("path"===n){var r=t.shape;(e=_p.makePath(r.pathData,null,{x:r.x||0,y:r.y||0,width:r.width||0,height:r.height||0},"center")).__customPathData=t.pathData}else"image"===n?(e=new _p.Image({})).__customImagePath=t.style.image:"text"===n?(e=new _p.Text({})).__customText=t.style.text:e=new(0,_p[n.charAt(0).toUpperCase()+n.slice(1)]);return e.__customGraphicType=n,e.name=t.name,e}(n)),function(t,e,n,r,i,o){var a={},s=n.style||{};if(n.shape&&(a.shape=nc.clone(n.shape)),n.position&&(a.position=n.position.slice()),n.scale&&(a.scale=n.scale.slice()),n.origin&&(a.origin=n.origin.slice()),n.rotation&&(a.rotation=n.rotation),"image"===t.type&&n.style&&(u=a.style={},nc.each(["x","y","width","height"],function(e){Pa(e,u,s,t.style,o)})),"text"===t.type&&n.style){var u=a.style={};nc.each(["x","y"],function(e){Pa(e,u,s,t.style,o)}),!s.hasOwnProperty("textFill")&&s.fill&&(s.textFill=s.fill),!s.hasOwnProperty("textStroke")&&s.stroke&&(s.textStroke=s.stroke)}if("group"!==t.type&&(t.useStyle(s),o)){t.style.opacity=0;var c=s.opacity;null==c&&(c=1),_p.initProps(t,{style:{opacity:c}},r,e)}o?t.attr(a):_p.updateProps(t,a,r,e),t.attr({z2:n.z2||0,silent:n.silent}),!1!==n.styleEmphasis&&_p.setHoverStyle(t,n.styleEmphasis)}(t,e,n,r,0,s),"group"===a){var u=t.children()||[],c=n.children||[];if(n.diffChildrenByName)!function(t){new ly(t.oldChildren,t.newChildren,Ra,Ra,t).add(Ba).update(Ba).remove(function(t){var e=this.context,n=e.oldChildren[t];n&&e.group.remove(n)}).execute()}({oldChildren:u,newChildren:c,dataIndex:e,animatableModel:r,group:t,data:o});else{for(var l=0;l<c.length;l++)za(t.childAt(l),e,c[l],r,t,o);for(;l<u.length;l++)u[l]&&t.remove(u[l])}}return i.add(t),t}}function Ra(t,e){var n=t&&t.name;return null!=n?n:kI+e}function Ba(t,e){var n=this.context,r=null!=t?n.newChildren[t]:null;za(null!=e?n.oldChildren[e]:null,n.dataIndex,r,n.animatableModel,n.group,n.data)}function Va(t,e,n,r){var i=n.type,o=new(0,_p[i.charAt(0).toUpperCase()+i.slice(1)])(n);e.add(o),r.set(t,o),o.__ecGraphicId=t}function Fa(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse(function(t){Fa(t,e)}),e.removeKey(t.__ecGraphicId),n.remove(t))}function Ha(t,e){var n;return nc.each(e,function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)}),n}function Wa(t,e,n){var r,i={},o="toggleSelected"===t;return n.eachComponent("legend",function(n){o&&null!=r?n[r?"select":"unSelect"](e.name):(n[t](e.name),r=n.isSelected(e.name));var a=n.getData();nc.each(a,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var r=n.isSelected(e);i.hasOwnProperty(e)?i[e]=i[e]&&r:i[e]=r}})}),{name:e.name,selected:i}}function Ga(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function qa(t,e,n,r){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t.name,name:e,excludeSeriesId:r})}function Ua(t,e,n,r){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t.name,name:e,excludeSeriesId:r})}function Ya(t,e,n){var r=[1,1];r[t.getOrient().index]=0,YI(e,n,{type:"box",ignoreSize:r})}function Xa(t,e){if(Hu.wxa)return null;var n=document.createElement("div"),r=this._zr=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var i=this;n.onmouseenter=function(){i._enterable&&(clearTimeout(i._hideTimeout),i._show=!0),i._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!i._enterable){var n=r.handler;of.normalizeEvent(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){i._enterable&&i._show&&i.hideLater(i._hideDelay),i._inContent=!1}}function Za(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(kp.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new kp(n,e,e.ecModel))}return e}function $a(t,e){return t.dispatchAction||nc.bind(e.dispatchAction,e)}function Ka(t){var e=t.clientWidth,n=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var r=document.defaultView.getComputedStyle(t);r&&(e+=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10)+parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10),n+=parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10))}return{width:e,height:n}}function Ja(t){return"center"===t||"middle"===t}function Qa(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function ts(t){return t.dim}function es(t,e){d_.call(this,"radius",t,e),this.type="category"}function ns(t,e){e=e||[0,360],d_.call(this,"angle",t,e),this.type="category"}function rs(t,e){return e.type||(e.data?"category":"value")}function is(t,e){if(t.type=e.get("type"),t.scale=mC(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}function os(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function as(t){return t.getRadiusAxis().inverse?0:1}function ss(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}function us(t,e){e.update="updateView",D_.registerAction(e,function(e,n){var r={};return n.eachComponent({mainType:"geo",query:e},function(n){n[t](e.name);var i=n.coordinateSystem;nc.each(i.regions,function(t){r[t.name]=n.isSelected(t.name)||!1})}),{selected:r,name:e.name}})}function cs(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function ls(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,r){if(e){var i=r.range;return fs(e[t],i)}},rect:function(r,i,o){if(r){var a=o.range,s=[r[e[t]],r[e[t]]+r[n[t]]];return s[1]<s[0]&&s.reverse(),fs(s[0],a)||fs(s[1],a)||fs(a[0],s)||fs(a[1],s)}}}}function fs(t,e){return e[0]<=t&&t<=e[1]}function hs(t,e,n,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(function(t,e,n,r,i,o,a,s){var u=ds(n-t,i-a,r-e,o-s);if(u<=1e-6&&u>=-1e-6)return!1;var c=ds(i-t,i-a,o-e,o-s)/u;if(c<0||c>1)return!1;var l=ds(n-t,i-t,r-e,o-e)/u;return!(l<0||l>1)}(t,e,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function ds(t,e,n,r){return t*r-e*n}function ps(t,e,n){var r=this._targetInfoList=[],i={},o=vs(e,t);PC(VC,function(t,e){(!n||!n.include||NC(n.include,e)>=0)&&t(o,r,i)})}function gs(t){return t[0]>t[1]&&t.reverse(),t}function vs(t,e){return Lf.parseFinder(t,e,{includeMainTypes:RC})}function ms(t,e,n,r){var i=n.getAxis(["x","y"][t]),o=gs(nc.map([0,1],function(t){return e?i.coordToData(i.toLocalCoord(r[t])):i.toGlobalCoord(i.dataToCoord(r[t]))})),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}function ys(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function xs(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function _s(t,e,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i];if(t[a.brushType](r,n,a.selectors,a))return!0}}function bs(t){var e=t.brushSelector;if(nc.isString(e)){var n=[];return nc.each(EC,function(t,r){n[r]=function(n,r,i,o){var a=r.getItemLayout(n);return t[e](a,i,o)}}),n}if(nc.isFunction(e)){var r={};return nc.each(EC,function(t,n){r[n]=e}),r}return e}function ws(t){return new tl(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function Ms(t,e){return nc.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new kp(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function Ss(t,e,n,r){(!r||r.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function As(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}function Ts(t,e,n){this._model=t}function Os(t,e,n,r){var i=n.calendarModel,o=n.seriesModel,a=i?i.coordinateSystem:o?o.coordinateSystem:null;return a===this?a[t](r):null}function Is(t,e){var n=t.cellSize;nc.isArray(n)?1===n.length&&(n[1]=n[0]):n=t.cellSize=[n,n];var r=nc.map([0,1],function(t){return rk(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]});ik(t,e,{type:"box",ignoreSize:r})}function Cs(t,e){t=t.slice();var n=nc.map(t,Vp.capitalFirst);e=(e||[]).slice();var r=nc.map(e,Vp.capitalFirst);return function(i,o){nc.each(t,function(t,a){for(var s={name:t,capital:n[a]},u=0;u<e.length;u++)s[e[u]]=t+r[u];i.call(o,s)})}}function ks(t,e){var n=t.getAxisModel(),r=t._percentWindow,i=t._valueWindow;if(r){var o=Np.getPixelPrecision(i,[0,500]);o=Math.min(o,20);var a=e||0===r[0]&&100===r[1];n.setRange(a?null:+i[0].toFixed(o),a?null:+i[1].toFixed(o))}}function Ds(t){var e={};return gk(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function Ls(t,e){var n=t._rangePropMode,r=t.get("rangeMode");gk([["start","startValue"],["end","endValue"]],function(t,i){var o=null!=e[t[0]],a=null!=e[t[1]];o&&!a?n[i]="percent":!o&&a?n[i]="value":r?n[i]=r[i]:o&&(n[i]="percent")})}function Es(t){return"vertical"===t?"ns-resize":"ew-resize"}function Ps(t){var e=t.getZr();return e[Ck]||(e[Ck]={})}function Ns(t){nc.each(t,function(e,n){e.count||(e.controller.dispose(),delete t[n])})}function js(t,e){var n=[];nc.each(t.dataZoomInfos,function(t){var r=e(t);!t.disabled&&r&&n.push({dataZoomId:t.dataZoomId,start:r[0],end:r[1]})}),n.length&&t.dispatchAction(n)}function zs(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}function Rs(t,e,n){if(n[0]===n[1])return n.slice();for(var r=(n[1]-n[0])/200,i=n[0],o=[],a=0;a<=200&&i<n[1];a++)o.push(i),i+=r;return o.push(n[1]),o}function Bs(t,e,n,r){return new _p.Polygon({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){of.stop(t.event)},ondragend:r})}function Vs(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function Fs(t){return"vertical"===t?"ns-resize":"ew-resize"}function Hs(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}function Ws(t){Lf.defaultEmphasis(t,"label",["show"])}function Gs(t,e,n,r,i,o){var a=[],s=vD(e,r)?e.getCalculationInfo("stackResultDimension"):r,u=Us(e,s,t),c=e.indicesOfNearest(s,u)[0];a[i]=e.get(n,c),a[o]=e.get(r,c);var l=Np.getPrecision(e.get(r,c));return(l=Math.min(l,20))>=0&&(a[o]=+a[o].toFixed(l)),a}function qs(t,e,n,r){var i={};return null!=t.valueIndex||null!=t.valueDim?(i.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,i.valueAxis=n.getAxis(function(t,e){var n=t.getData(),r=n.dimensions;e=n.getDimension(e);for(var i=0;i<r.length;i++){var o=n.getDimensionInfo(r[i]);if(o.name===e)return o.coordDim}}(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function Us(t,e,n){if("average"===n){var r=0,i=0;return t.each(e,function(t,e){isNaN(t)||(r+=t,i++)}),r/i}return"median"===n?t.getMedian(e):t.getDataExtent(e,!0)["max"===n?1:0]}function Ys(t,e,n){var r=e.coordinateSystem;t.each(function(i){var o,a=t.getItemModel(i),s=Np.parsePercent(a.get("x"),n.getWidth()),u=Np.parsePercent(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(u)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,i));else if(r){var c=t.get(r.dimensions[0],i),l=t.get(r.dimensions[1],i);o=r.dataToPoint([c,l])}}else o=[s,u];isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),t.setItemLayout(i,o)})}function Xs(t){return!isNaN(t)&&!isFinite(t)}function Zs(t,e,n,r){var i=1-t,o=r.dimensions[t];return Xs(e[i])&&Xs(n[i])&&e[t]===n[t]&&r.getAxis(o).containData(e[t])}function $s(t,e,n,r,i){var o,a=r.coordinateSystem,s=t.getItemModel(e),u=Np.parsePercent(s.get("x"),i.getWidth()),c=Np.parsePercent(s.get("y"),i.getHeight());if(isNaN(u)||isNaN(c)){if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var l=a.dimensions,f=t.get(l[0],e),h=t.get(l[1],e);o=a.dataToPoint([f,h])}if("cartesian2d"===a.type){var d=a.getAxis("x"),p=a.getAxis("y");l=a.dimensions;Xs(t.get(l[0],e))?o[0]=d.toGlobalCoord(d.getExtent()[n?0:1]):Xs(t.get(l[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(u)||(o[0]=u),isNaN(c)||(o[1]=c)}else o=[u,c];t.setItemLayout(e,o)}function Ks(t){return!isNaN(t)&&!isFinite(t)}function Js(t,e,n,r){var i=1-t;return Ks(e[i])&&Ks(n[i])}function Qs(t,e,n,r,i){var o,a=r.coordinateSystem,s=t.getItemModel(e),u=Np.parsePercent(s.get(n[0]),i.getWidth()),c=Np.parsePercent(s.get(n[1]),i.getHeight());if(isNaN(u)||isNaN(c)){if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(n,e));else{var l=[d=t.get(n[0],e),p=t.get(n[1],e)];a.clampData&&a.clampData(l,l),o=a.dataToPoint(l,!0)}if("cartesian2d"===a.type){var f=a.getAxis("x"),h=a.getAxis("y"),d=t.get(n[0],e),p=t.get(n[1],e);Ks(d)?o[0]=f.toGlobalCoord(f.getExtent()["x0"===n[0]?0:1]):Ks(p)&&(o[1]=h.toGlobalCoord(h.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(o[0]=u),isNaN(c)||(o[1]=c)}else o=[u,c];return o}function tu(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},i=r.normal||(r.normal={}),o={normal:1,emphasis:1};nc.each(r,function(t,e){o[e]||eu(i,e)||(i[e]=t)}),n.label&&!eu(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function eu(t,e){return t.hasOwnProperty(e)}function nu(t,e,n,r,i,o){var a=e.get("color");if(i)i.setColor(a),n.add(i),o&&o.onUpdate(i);else{var s=t.get("symbol");(i=kD(s,-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(i),o&&o.onCreate(i)}var u=e.getItemStyle(["color","symbol","symbolSize"]);i.setStyle(u),r=nc.merge({rectHover:!0,z2:100},r,!0);var c=t.get("symbolSize");(c=c instanceof Array?c.slice():[+c,+c])[0]/=2,c[1]/=2,r.scale=c;var l=t.get("symbolOffset");if(l){var f=r.position=r.position||[0,0];f[0]+=Np.parsePercent(l[0],c[0]),f[1]+=Np.parsePercent(l[1],c[1])}var h=t.get("symbolRotate");return r.rotation=(h||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function ru(t,e,n,r,i){if(!t.dragging){var o=r.getModel("checkpointStyle"),a=n.dataToCoord(r.getData().get(["value"],e));i||!o.get("animation",!0)?t.attr({position:[a,0]}):(t.stopAnimation(!0),t.animateTo({position:[a,0]},o.get("animationDuration",!0),o.get("animationEasing",!0)))}}function iu(t){this.model=t}function ou(t){this.model=t}function au(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function su(t){this._dom=null,this.model=t}function uu(t){var e=t[UD];return e||(e=t[UD]=[{}]),e}function cu(t,e,n){(this._brushController=new oT(n.getZr())).on("brush",nc.bind(this._onBrush,this)).mount(),this._isZoomActive}function lu(t){var e={};return nc.each(["xAxisIndex","yAxisIndex"],function(n){e[n]=t[n],null==e[n]&&(e[n]="all"),(!1===e[n]||"none"===e[n])&&(e[n]=[])}),e}function fu(t){this.model=t}function hu(t){return parseInt(t,10)}function du(t,e){uL.initVML(),this.root=t,this.storage=e;var n=document.createElement("div"),r=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",r.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=r,this._vmlViewport=n,this.resize();var i=e.delFromStorage,o=e.addToStorage;e.delFromStorage=function(t){i.call(e,t),t&&t.onRemove&&t.onRemove(r)},e.addToStorage=function(t){t.onAdd&&t.onAdd(r),o.call(e,t)},this._firstPaint=!0}function pu(t){return WL(1e4*t)/1e4}function gu(t){return t<ZL&&t>-ZL}function vu(t,e){e&&mu(t,"transform","matrix("+FL.call(e,",")+")")}function mu(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&("string"==typeof n&&n.indexOf("NaN"),t.setAttribute(e,n))}function yu(t,e,n){if(function(t,e){var n=e?t.textFill:t.fill;return null!=n&&n!==HL}(e,n)){var r=n?e.textFill:e.fill;r="transparent"===r?HL:r,"none"!==t.getAttribute("clip-path")&&r===HL&&(r="rgba(0, 0, 0, 0.002)"),mu(t,"fill",r),mu(t,"fill-opacity",e.opacity)}else mu(t,"fill",HL);if(function(t,e){var n=e?t.textStroke:t.stroke;return null!=n&&n!==HL}(e,n)){var i=n?e.textStroke:e.stroke;mu(t,"stroke",i="transparent"===i?HL:i),mu(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(!n&&e.strokeNoScale?e.host.getLineScale():1)),mu(t,"paint-order",n?"stroke":"fill"),mu(t,"stroke-opacity",e.opacity),e.lineDash?(mu(t,"stroke-dasharray",e.lineDash.join(",")),mu(t,"stroke-dashoffset",WL(e.lineDashOffset||0))):mu(t,"stroke-dasharray",""),e.lineCap&&mu(t,"stroke-linecap",e.lineCap),e.lineJoin&&mu(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&mu(t,"stroke-miterlimit",e.miterLimit)}else mu(t,"stroke",HL)}function xu(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}function _u(){}function bu(t,e,n,r,i){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=r,this._domName=i||"_dom",this.nextId=0}function wu(t,e){sE.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function Mu(t,e){sE.call(this,t,e,"clipPath","__clippath_in_use__")}function Su(t,e){sE.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function Au(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function Tu(t){return parseInt(t,10)}function Ou(t,e){return e&&t&&e.parentNode!==t}function Iu(t,e,n){if(Ou(t,e)&&n){var r=n.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}}function Cu(t,e){if(Ou(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function ku(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function Du(t){return t.__textSvgEl}function Lu(t){return t.__svgEl}function Eu(t,e){void 0===e&&(e={});var n=document.createElement(t);return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function Pu(t){if(!document.documentElement.contains(t))return{detached:!0,rendered:!1};for(var e=t;e!==document;){if("none"===getComputedStyle(e).display)return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}function Nu(){var t=this;zu(this),this.__resize_raf__&&function(t){VE||(VE=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),VE(t)}(this.__resize_raf__),this.__resize_raf__=function(t){return BE||(BE=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),BE(t)}(function(){var e=function(t){var e=t.__resize_last__,n=e.width,r=e.height,i=t.offsetWidth,o=t.offsetHeight;return i!==n||o!==r?{width:i,height:o}:null}(t);e&&(t.__resize_last__=e,ju(t))})}function ju(t){t.__resize_listeners__.forEach(function(e){e.call(t)})}function zu(t){var e=t.__resize_triggers__,n=e.expand,r=e.expandChild,i=e.contract,o=i.scrollWidth,a=i.scrollHeight,s=n.offsetWidth,u=n.offsetHeight,c=n.scrollWidth,l=n.scrollHeight;i.scrollLeft=o,i.scrollTop=a,r.style.width=s+1+"px",r.style.height=u+1+"px",n.scrollLeft=c,n.scrollTop=l}var Ru,Bu="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};"undefined"!=typeof window?Ru=window.__DEV__:void 0!==Bu&&(Ru=Bu),void 0===Ru&&(Ru=!0);var Vu=2311,Fu=function(){return Vu++},Hu="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(t){var e={},n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return n&&(e.firefox=!0,e.version=n[1]),r&&(e.ie=!0,e.version=r[1]),i&&(e.edge=!0,e.version=i[1]),o&&(e.weChat=!0),{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11)}}(navigator.userAgent),Wu={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Gu={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},qu=Object.prototype.toString,Uu=Array.prototype,Yu=Uu.forEach,Xu=Uu.filter,Zu=Uu.slice,$u=Uu.map,Ku=Uu.reduce,Ju={},Qu=function(){return Ju.createCanvas()};Ju.createCanvas=function(){return document.createElement("canvas")};var tc,ec="__ec_primitive__";h.prototype={constructor:h,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=a(t,e)),this)this.hasOwnProperty(n)&&t(this[n],n)},removeKey:function(t){delete this[t]}};var nc={$override:function(t,e){"createCanvas"===t&&(tc=null),Ju[t]=e},clone:n,merge:r,mergeAll:function(t,e){for(var n=t[0],i=1,o=t.length;i<o;i++)n=r(n,t[i],e);return n},extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:i,createCanvas:Qu,getContext:function(){return tc||(tc=Qu().getContext("2d")),tc},indexOf:function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1},inherits:function(t,e){function n(){}var r=t.prototype;for(var i in n.prototype=e.prototype,t.prototype=new n,r)t.prototype[i]=r[i];t.prototype.constructor=t,t.superClass=e},mixin:function(t,e,n){i(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)},isArrayLike:function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},each:o,map:function(t,e,n){if(t&&e){if(t.map&&t.map===$u)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}},reduce:function(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===Ku)return t.reduce(e,n,r);for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}},filter:function(t,e,n){if(t&&e){if(t.filter&&t.filter===Xu)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}},find:function(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},bind:a,curry:function(t){var e=Zu.call(arguments,1);return function(){return t.apply(this,e.concat(Zu.call(arguments)))}},isArray:s,isFunction:function(t){return"function"==typeof t},isString:function(t){return"[object String]"===qu.call(t)},isObject:u,isBuiltInObject:c,isTypedArray:function(t){return!!Gu[qu.call(t)]},isDom:l,eqNaN:function(t){return t!=t},retrieve:function(t){for(var e=arguments,n=0,r=arguments.length;n<r;n++)if(null!=e[n])return e[n]},retrieve2:function(t,e){return null!=t?t:e},retrieve3:function(t,e,n){return null!=t?t:null!=e?e:n},slice:function(){return Function.call.apply(Zu,arguments)},normalizeCssArray:function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},assert:function(t,e){if(!t)throw new Error(e)},trim:function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},setAsPrimitive:function(t){t[ec]=!0},isPrimitive:f,createHashMap:function(t){return new h(t)},concatArray:function(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n},noop:function(){}},rc="undefined"==typeof Float32Array?Array:Float32Array,ic={create:function(t,e){var n=new rc(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new rc(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},len:d,length:d,lenSquare:p,lengthSquare:p,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},normalize:function(t,e){var n=d(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},distance:g,dist:g,distanceSquare:v,distSquare:v,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t},applyTransform:function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}};m.prototype={constructor:m,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(y(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.dispatchToElement(y(e,t),"drag",t.event);var a=this.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.dispatchToElement(y(s,t),"dragleave",t.event),a&&a!==s&&this.dispatchToElement(y(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(y(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(y(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var oc=m,ac=Array.prototype.slice,sc=function(){this._$handlers={}};sc.prototype={constructor:sc,one:function(t,e,n){var r=this._$handlers;if(!e||!t)return this;r[t]||(r[t]=[]);for(var i=0;i<r[t].length;i++)if(r[t][i].h===e)return this;return r[t].push({h:e,one:!0,ctx:n||this}),this},on:function(t,e,n){var r=this._$handlers;if(!e||!t)return this;r[t]||(r[t]=[]);for(var i=0;i<r[t].length;i++)if(r[t][i].h===e)return this;return r[t].push({h:e,one:!1,ctx:n||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!=e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>3&&(e=ac.call(e,1));for(var r=this._$handlers[t],i=r.length,o=0;o<i;){switch(n){case 1:r[o].h.call(r[o].ctx);break;case 2:r[o].h.call(r[o].ctx,e[1]);break;case 3:r[o].h.call(r[o].ctx,e[1],e[2]);break;default:r[o].h.apply(r[o].ctx,e)}r[o].one?(r.splice(o,1),i--):o++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>4&&(e=ac.call(e,1,e.length-1));for(var r=e[e.length-1],i=this._$handlers[t],o=i.length,a=0;a<o;){switch(n){case 1:i[a].h.call(r);break;case 2:i[a].h.call(r,e[1]);break;case 3:i[a].h.call(r,e[1],e[2]);break;default:i[a].h.apply(r,e)}i[a].one?(i.splice(a,1),o--):a++}}return this}};var uc=sc;x.prototype.dispose=function(){};var cc=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],lc=function(t,e,n,r){uc.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new x,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,oc.call(this),this.setHandlerProxy(n)};lc.prototype={constructor:lc,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(nc.each(cc,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,r=this._hovered,i=r.target;i&&!i.__zr&&(i=(r=this.findHover(r.x,r.y)).target);var o=this._hovered=this.findHover(e,n),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),i&&a!==i&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==i&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do{n=n&&n.parentNode}while(n&&9!=n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}(e,t,n);r&&(r[i]&&(o.cancelBubble=r[i].call(r,o)),r.trigger(e,o),r=r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,n){for(var r=this.storage.getDisplayList(),i={x:t,y:e},o=r.length-1;o>=0;o--){var a;if(r[o]!==n&&!r[o].ignore&&(a=function(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,n))return!1;i.silent&&(r=!0),i=i.parent}return!r||"silent"}return!1}(r[o],t,e))&&(!i.topTarget&&(i.topTarget=r[o]),"silent"!==a)){i.target=r[o];break}}return i}},nc.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){lc.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),r=n.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||ic.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),nc.mixin(lc,uc),nc.mixin(lc,oc);var fc=lc,hc="undefined"==typeof Float32Array?Array:Float32Array,dc={create:_,identity:b,copy:w,mul:function(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t},translate:function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},rotate:function(t,e,n){var r=e[0],i=e[2],o=e[4],a=e[1],s=e[3],u=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*c,t[1]=-r*c+a*l,t[2]=i*l+s*c,t[3]=-i*c+l*s,t[4]=l*o+c*u,t[5]=l*u-c*o,t},scale:function(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t},invert:function(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],u=n*a-o*r;return u?(u=1/u,t[0]=a*u,t[1]=-o*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-a*i)*u,t[5]=(o*i-n*s)*u,t):null},clone:function(t){var e=_();return w(e,t),e}},pc=dc.identity,gc=5e-5,vc=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},mc=vc.prototype;mc.transform=null,mc.needLocalTransform=function(){return M(this.rotation)||M(this.position[0])||M(this.position[1])||M(this.scale[0]-1)||M(this.scale[1]-1)},mc.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;n||e?(r=r||dc.create(),n?this.getLocalTransform(r):pc(r),e&&(n?dc.mul(r,t.transform,r):dc.copy(r,t.transform)),this.transform=r,this.invTransform=this.invTransform||dc.create(),dc.invert(this.invTransform,r)):r&&pc(r)},mc.getLocalTransform=function(t){return vc.getLocalTransform(this,t)},mc.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},mc.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var yc=[];mc.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(dc.mul(yc,t.invTransform,e),e=yc);var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=this.position,o=this.scale;M(n-1)&&(n=Math.sqrt(n)),M(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(n=-n),e[3]<0&&(r=-r),i[0]=e[4],i[1]=e[5],o[0]=n,o[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/n)}},mc.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(n=-n),[e,n]},mc.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&ic.applyTransform(n,n,r),n},mc.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&ic.applyTransform(n,n,r),n},vc.getLocalTransform=function(t,e){pc(e=e||[]);var n=t.origin,r=t.scale||[1,1],i=t.rotation||0,o=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),dc.scale(e,e,r),i&&dc.rotate(e,e,i),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=o[0],e[5]+=o[1],e};var xc=vc,_c={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-_c.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*_c.bounceIn(2*t):.5*_c.bounceOut(2*t-1)+.5}},bc=_c;S.prototype={constructor:S,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,i="string"==typeof r?bc[r]:r,o="function"==typeof i?i(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var wc=S,Mc=function(){this.head=null,this.tail=null,this._len=0},Sc=Mc.prototype;Sc.insert=function(t){var e=new Ac(t);return this.insertEntry(e),e},Sc.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Sc.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Sc.len=function(){return this._len},Sc.clear=function(){this.head=this.tail=null,this._len=0};var Ac=function(t){this.value=t,this.next,this.prev},Tc=function(t){this._list=new Mc,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Oc=Tc.prototype;Oc.put=function(t,e){var n=this._list,r=this._map,i=null;if(null==r[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new Ac(e),a.key=t,n.insertEntry(a),r[t]=a}return i},Oc.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},Oc.clear=function(){this._list.clear(),this._map={}};var Ic=Tc,Cc={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},kc=new Ic(20),Dc=null,Lc={parse:P,lift:function(t,e){var n=P(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return R(n,4===n.length?"rgba":"rgb")}},toHex:function(t){var e=P(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},fastLerp:j,fastMapToColor:j,lerp:z,mapToColor:z,modifyHSL:function(t,e,n,r){if(t=P(t))return t=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a,c=(s+a)/2;if(0===u)e=0,n=0;else{n=c<.5?u/(s+a):u/(2-s-a);var l=((s-r)/6+u/2)/u,f=((s-i)/6+u/2)/u,h=((s-o)/6+u/2)/u;r===s?e=h-f:i===s?e=1/3+l-h:o===s&&(e=2/3+f-l),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,c];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=function(t){return(t=Math.round(t))<0?0:t>360?360:t}(e)),null!=n&&(t[1]=I(n)),null!=r&&(t[2]=I(r)),R(N(t),"rgba")},modifyAlpha:function(t,e){if((t=P(t))&&null!=e)return t[3]=T(e),R(t,"rgba")},stringify:R},Ec=nc.isArrayLike,Pc=Array.prototype.slice,Nc=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||function(t,e){return t[e]},this._setter=r||function(t,e,n){t[e]=n},this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Nc.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:function(t){if(Ec(t)){var e=t.length;if(Ec(t[0])){for(var n=[],r=0;r<e;r++)n.push(Pc.call(t[r]));return n}return Pc.call(t)}return t}(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var a=function(t,e,n,r,i,o){var a=t._getter,s=t._setter,u="spline"===e,c=r.length;if(c){var l,f=r[0].value,h=Ec(f),d=!1,p=!1,g=h?function(t){var e=r[r.length-1].value;return Ec(e&&e[0])?2:1}():0;r.sort(function(t,e){return t.time-e.time}),l=r[c-1].time;for(var v=[],m=[],y=r[0].value,x=!0,_=0;_<c;_++){v.push(r[_].time/l);var b=r[_].value;if(h&&function(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(o=0;o<r;o++)if(t[o]!==e[o])return!1}else for(var i=t[0].length,o=0;o<r;o++)for(var a=0;a<i;a++)if(t[o][a]!==e[o][a])return!1;return!0}(b,y,g)||!h&&b===y||(x=!1),y=b,"string"==typeof b){var w=Lc.parse(b);w?(b=w,d=!0):p=!0}m.push(b)}if(o||!x){var M=m[c-1];for(_=0;_<c-1;_++)h?H(m[_],M,g):!isNaN(m[_])||isNaN(M)||p||d||(m[_]=M);h&&H(a(t._target,i),M,g);var S,A,T,O,I,C=0,k=0;if(d)var D=[0,0,0,0];var L=new wc({target:t._target,life:l,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<k){for(n=Math.min(C+1,c-1);n>=0&&!(v[n]<=e);n--);n=Math.min(n,c-2)}else{for(n=C;n<c&&!(v[n]>e);n++);n=Math.min(n-1,c-2)}C=n,k=e;var r=v[n+1]-v[n];if(0!==r)if(S=(e-v[n])/r,u)if(T=m[n],A=m[0===n?n:n-1],O=m[n>c-2?c-1:n+1],I=m[n>c-3?c-1:n+2],h)W(A,T,O,I,S,S*S,S*S*S,a(t,i),g);else{if(d)o=W(A,T,O,I,S,S*S,S*S*S,D,1),o=q(D);else{if(p)return V(T,O,S);o=G(A,T,O,I,S,S*S,S*S*S)}s(t,i,o)}else if(h)F(m[n],m[n+1],S,a(t,i),g);else{var o;if(d)F(m[n],m[n+1],S,D,1),o=q(D);else{if(p)return V(m[n],m[n+1],S);o=B(m[n],m[n+1],S)}s(t,i,o)}},ondestroy:n});return e&&"spline"!==e&&(L.easing=e),L}}}(this,t,function(){--i||r._doneCallback()},this._tracks[o],o,e);a&&(this._clipList.push(a),i++,this.animation&&this.animation.addClip(a),n=a)}if(n){var s=n.onframe;n.onframe=function(t,e){s(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var jc=Nc,zc=1;"undefined"!=typeof window&&(zc=Math.max(window.devicePixelRatio||1,1));var Rc={debugMode:0,devicePixelRatio:zc},Bc=Rc.debugMode,Vc=function(){};1===Bc?Vc=function(){var t=arguments;for(var e in arguments)throw new Error(t[e])}:Bc>1&&(Vc=function(){for(var t in arguments);});var Fc=Vc,Hc=nc.isString,Wc=nc.isFunction,Gc=nc.isObject,qc=nc.isArrayLike,Uc=nc.indexOf,Yc=function(){this.animators=[]};Yc.prototype={constructor:Yc,animate:function(t,e){var n,r=!1,i=this,o=this.__zr;if(t){var a=t.split("."),s=i;r="shape"===a[0];for(var u=0,c=a.length;u<c;u++)s&&(s=s[a[u]]);s&&(n=s)}else n=i;if(n){var l=i.animators,f=new jc(n,e);return f.during(function(t){i.dirty(r)}).done(function(){l.splice(Uc(l,f),1)}),l.push(f),o&&o.animation.addAnimator(f),f}Fc('Property "'+t+'" is not existed in element '+i.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,i,o){Hc(n)?(i=r,r=n,n=0):Wc(r)?(i=r,r="linear",n=0):Wc(n)?(i=n,n=0):Wc(e)?(i=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,n);var a=this.animators.slice(),s=a.length;s||i&&i();for(var u=0;u<a.length;u++)a[u].done(function(){--s||i&&i()}).start(r,o)},_animateToShallow:function(t,e,n,r,i){var o={},a=0;for(var s in n)if(n.hasOwnProperty(s))if(null!=e[s])Gc(n[s])&&!qc(n[s])?this._animateToShallow(t?t+"."+s:s,e[s],n[s],r,i):(o[s]=n[s],a++);else if(null!=n[s])if(t){var u={};u[t]={},u[t][s]=n[s],this.attr(u)}else this.attr(s,n[s]);return a>0&&this.animate(t,!1).when(null==r?500:r,o).delay(i||0),this}};var Xc=Yc,Zc=function(t){xc.call(this,t),uc.call(this,t),Xc.call(this,t),this.id=t.id||Fu()};Zc.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(nc.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},nc.mixin(Zc,Xc),nc.mixin(Zc,xc),nc.mixin(Zc,uc);var $c=Zc,Kc=ic.applyTransform,Jc=Math.min,Qc=Math.max;U.prototype={constructor:U,union:function(t){var e=Jc(t.x,this.x),n=Jc(t.y,this.y);this.width=Qc(t.x+t.width,this.x+this.width)-e,this.height=Qc(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],r=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=r[1]=this.y,e[0]=r[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,Kc(t,t,i),Kc(e,e,i),Kc(n,n,i),Kc(r,r,i),this.x=Jc(t[0],e[0],n[0],r[0]),this.y=Jc(t[1],e[1],n[1],r[1]);var o=Qc(t[0],e[0],n[0],r[0]),a=Qc(t[1],e[1],n[1],r[1]);this.width=o-this.x,this.height=a-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=dc.create();return dc.translate(i,i,[-e.x,-e.y]),dc.scale(i,i,[n,r]),dc.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof U||(t=U.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,u=t.y,c=t.y+t.height;return!(r<a||s<n||o<u||c<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new U(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},U.create=function(t){return new U(t.x,t.y,t.width,t.height)};var tl=U,el=function(t){for(var e in t=t||{},$c.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};el.prototype={constructor:el,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof el&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,i=nc.indexOf(r,t);return i<0?this:(r.splice(i,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof el&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,r=this.__storage;for(e=0;e<n.length;e++)t=n[e],r&&(r.delFromStorage(t),t instanceof el&&t.delChildrenFromStorage(r)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof el&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof el&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new tl(0,0,0,0),r=t||this._children,i=[],o=0;o<r.length;o++){var a=r[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),u=a.getLocalTransform(i);u?(n.copy(s),n.applyTransform(u),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},nc.inherits(el,$c);var nl=el,rl=7,il=function(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<32)return void X(t,n,r,n+(o=Y(t,n,r,e)),e);var a=new function(t,e){function n(n){var u=r[n],c=i[n],l=r[n+1],f=i[n+1];i[n]=c+f,n===a-3&&(r[n+1]=r[n+2],i[n+1]=i[n+2]),a--;var h=$(t[l],t,u,c,0,e);u+=h,0!=(c-=h)&&0!==(f=Z(t[u+c-1],t,l,f,f-1,e))&&(c<=f?function(n,r,i,a){var u=0;for(u=0;u<r;u++)s[u]=t[n+u];var c=0,l=i,f=n;if(t[f++]=t[l++],0!=--a)if(1!==r){for(var h,d,p,g=o;;){h=0,d=0,p=!1;do{if(e(t[l],s[c])<0){if(t[f++]=t[l++],d++,h=0,0==--a){p=!0;break}}else if(t[f++]=s[c++],h++,d=0,1==--r){p=!0;break}}while((h|d)<g);if(p)break;do{if(0!==(h=$(t[l],s,c,r,0,e))){for(u=0;u<h;u++)t[f+u]=s[c+u];if(f+=h,c+=h,(r-=h)<=1){p=!0;break}}if(t[f++]=t[l++],0==--a){p=!0;break}if(0!==(d=Z(s[c],t,l,a,0,e))){for(u=0;u<d;u++)t[f+u]=t[l+u];if(f+=d,l+=d,0==(a-=d)){p=!0;break}}if(t[f++]=s[c++],1==--r){p=!0;break}g--}while(h>=rl||d>=rl);if(p)break;g<0&&(g=0),g+=2}if((o=g)<1&&(o=1),1===r){for(u=0;u<a;u++)t[f+u]=t[l+u];t[f+a]=s[c]}else{if(0===r)throw new Error;for(u=0;u<r;u++)t[f+u]=s[c+u]}}else{for(u=0;u<a;u++)t[f+u]=t[l+u];t[f+a]=s[c]}else for(u=0;u<r;u++)t[f+u]=s[c+u]}(u,c,l,f):function(n,r,i,a){var u=0;for(u=0;u<a;u++)s[u]=t[i+u];var c=n+r-1,l=a-1,f=i+a-1,h=0,d=0;if(t[f--]=t[c--],0!=--r)if(1!==a){for(var p=o;;){var g=0,v=0,m=!1;do{if(e(s[l],t[c])<0){if(t[f--]=t[c--],g++,v=0,0==--r){m=!0;break}}else if(t[f--]=s[l--],v++,g=0,1==--a){m=!0;break}}while((g|v)<p);if(m)break;do{if(0!=(g=r-$(s[l],t,n,r,r-1,e))){for(r-=g,d=1+(f-=g),h=1+(c-=g),u=g-1;u>=0;u--)t[d+u]=t[h+u];if(0===r){m=!0;break}}if(t[f--]=s[l--],1==--a){m=!0;break}if(0!=(v=a-Z(t[c],s,0,a,a-1,e))){for(a-=v,d=1+(f-=v),h=1+(l-=v),u=0;u<v;u++)t[d+u]=s[h+u];if(a<=1){m=!0;break}}if(t[f--]=t[c--],0==--r){m=!0;break}p--}while(g>=rl||v>=rl);if(m)break;p<0&&(p=0),p+=2}if((o=p)<1&&(o=1),1===a){for(d=1+(f-=r),h=1+(c-=r),u=r-1;u>=0;u--)t[d+u]=t[h+u];t[f]=s[l]}else{if(0===a)throw new Error;for(h=f-(a-1),u=0;u<a;u++)t[h+u]=s[u]}}else{for(d=1+(f-=r),h=1+(c-=r),u=r-1;u>=0;u--)t[d+u]=t[h+u];t[f]=s[l]}else for(h=f-(a-1),u=0;u<a;u++)t[h+u]=s[u]}(u,c,l,f))}var r,i,o=rl,a=0;t.length;var s=[];r=[],i=[],this.mergeRuns=function(){for(;a>1;){var t=a-2;if(t>=1&&i[t-1]<=i[t]+i[t+1]||t>=2&&i[t-2]<=i[t]+i[t-1])i[t-1]<i[t+1]&&t--;else if(i[t]>i[t+1])break;n(t)}},this.forceMergeRuns=function(){for(;a>1;){var t=a-2;t>0&&i[t-1]<i[t+1]&&t--,n(t)}},this.pushRun=function(t,e){r[a]=t,i[a]=e,a+=1}}(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(i);do{if((o=Y(t,n,r,e))<s){var u=i;u>s&&(u=s),X(t,n,n+u,n+o,e),o=u}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(0!==i);a.forceMergeRuns()}},ol=function(){this._roots=[],this._displayList=[],this._displayListLen=0};ol.prototype={constructor:ol,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Hu.canvasSupported&&il(n,K)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var u=a[s];t.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof nl&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(n=0;n<this._roots.length;n++){var e=this._roots[n];e instanceof nl&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);else{var i=nc.indexOf(this._roots,t);i>=0&&(this.delFromStorage(t),this._roots.splice(i,1),t instanceof nl&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:K};for(var al=ol,sl={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},ul=function(t,e,n){return sl.hasOwnProperty(e)?n*=t.dpr:n},cl=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ll=function(t,e){this.extendFrom(t,!1),this.host=e},fl=ll.prototype={constructor:ll,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){for(var r=n&&n.style,i=!r,o=0;o<cl.length;o++){var a=cl[o],s=a[0];(i||this[s]!==r[s])&&(t[s]=ul(t,s,this[s]||a[1]))}if((i||this.fill!==r.fill)&&(t.fillStyle=this.fill),(i||this.stroke!==r.stroke)&&(t.strokeStyle=this.stroke),(i||this.opacity!==r.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(i||this.blend!==r.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var u=this.lineWidth;t.lineWidth=u/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var r=("radial"===e.type?function(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(a=a*r+n.x,s=s*i+n.y,u*=o),t.createRadialGradient(a,s,0,a,s,u)}:function(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(r,o,i,a)})(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}},hl=0;hl<cl.length;hl++){var dl=cl[hl];dl[0]in fl||(fl[dl[0]]=dl[1])}ll.getGradient=fl.getGradient;var pl=ll,gl=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};gl.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var vl=gl,ml=Rc.devicePixelRatio,yl=function(t,e,n){var r;n=n||ml,"string"==typeof t?r=J(t,e,n):nc.isObject(t)&&(t=(r=t).id),this.id=t,this.dom=r;var i=r.style;i&&(r.onselectstart=function(){return!1},i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};yl.prototype={constructor:yl,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=J("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,r=this.dom,i=this.ctx,o=r.width,a=r.height,s=(e=e||this.clearColor,this.motionBlur&&!t),u=this.lastFrameAlpha,c=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,o/c,a/c)),i.clearRect(0,0,o,a),e&&"transparent"!==e)&&(e.colorStops?(n=e.__canvasGradient||pl.getGradient(i,e,{x:0,y:0,width:o,height:a}),e.__canvasGradient=n):e.image&&(n=vl.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=n||e,i.fillRect(0,0,o,a),i.restore());if(s){var l=this.domBack;i.save(),i.globalAlpha=u,i.drawImage(l,0,0,o,a),i.restore()}}};var xl=yl,_l="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},bl=new Ic(50),wl={findExistImage:function(t){if("string"==typeof t){var e=bl.get(t);return e&&e.image}return t},createOrUpdateImage:function(t,e,n,r,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=bl.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?!Q(e=o.image)&&o.pending.push(a):(!e&&(e=new Image),e.onload=function(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0},bl.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e},isImageReady:Q},Ml=nc.getContext,Sl=nc.extend,Al=nc.retrieve2,Tl=nc.retrieve3,Ol=nc.trim,Il={},Cl=0,kl=5e3,Dl=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Ll="12px sans-serif",El={measureText:function(t,e){var n=Ml();return n.font=e||Ll,n.measureText(t)}},Pl={DEFAULT_FONT:Ll,$override:function(t,e){El[t]=e},getWidth:tt,getBoundingRect:function(t,e,n,r,i,o,a){return o?function(t,e,n,r,i,o,a){var s=ct(t,{rich:o,truncate:a,font:e,textAlign:n,textPadding:i}),u=s.outerWidth,c=s.outerHeight,l=et(0,u,n),f=nt(0,c,r);return new tl(l,f,u,c)}(t,e,n,r,i,o,a):function(t,e,n,r,i,o){var a=ut(t,e,i,o),s=tt(t,e);i&&(s+=i[1]+i[3]);var u=a.outerHeight,c=et(0,s,n),l=nt(0,u,r),f=new tl(c,l,s,u);return f.lineHeight=a.lineHeight,f}(t,e,n,r,i,a)},adjustTextX:et,adjustTextY:nt,adjustTextPositionOnRect:function(t,e,n){var r=e.x,i=e.y,o=e.height,a=e.width,s=o/2,u="left",c="top";switch(t){case"left":r-=n,i+=s,u="right",c="middle";break;case"right":r+=n+a,i+=s,c="middle";break;case"top":r+=a/2,i-=n,u="center",c="bottom";break;case"bottom":r+=a/2,i+=o+n,u="center";break;case"inside":r+=a/2,i+=s,u="center",c="middle";break;case"insideLeft":r+=n,i+=s,c="middle";break;case"insideRight":r+=a-n,i+=s,u="right",c="middle";break;case"insideTop":r+=a/2,i+=n,u="center";break;case"insideBottom":r+=a/2,i+=o-n,u="center",c="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=a-n,i+=n,u="right";break;case"insideBottomLeft":r+=n,i+=o-n,c="bottom";break;case"insideBottomRight":r+=a-n,i+=o-n,u="right",c="bottom"}return{x:r,y:i,textAlign:u,textVerticalAlign:c}},truncateText:rt,getLineHeight:at,measureText:st,parsePlainText:ut,parseRichText:ct,makeFont:function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&Ol(e)||t.textFont||t.font}},Nl={buildPath:function(t,e){var n,r,i,o,a,s=e.x,u=e.y,c=e.width,l=e.height,f=e.r;c<0&&(s+=c,c=-c),l<0&&(u+=l,l=-l),"number"==typeof f?n=r=i=o=f:f instanceof Array?1===f.length?n=r=i=o=f[0]:2===f.length?(n=i=f[0],r=o=f[1]):3===f.length?(n=f[0],r=o=f[1],i=f[2]):(n=f[0],r=f[1],i=f[2],o=f[3]):n=r=i=o=0,n+r>c&&(n*=c/(a=n+r),r*=c/a),i+o>c&&(i*=c/(a=i+o),o*=c/a),r+i>l&&(r*=l/(a=r+i),i*=l/a),n+o>l&&(n*=l/(a=n+o),o*=l/a),t.moveTo(s+n,u),t.lineTo(s+c-r,u),0!==r&&t.arc(s+c-r,u+r,r,-Math.PI/2,0),t.lineTo(s+c,u+l-i),0!==i&&t.arc(s+c-i,u+l-i,i,0,Math.PI/2),t.lineTo(s+o,u+l),0!==o&&t.arc(s+o,u+l-o,o,Math.PI/2,Math.PI),t.lineTo(s,u+n),0!==n&&t.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}},jl=nc.retrieve2,zl=nc.retrieve3,Rl=nc.each,Bl=nc.normalizeCssArray,Vl=nc.isString,Fl=nc.isObject,Hl={left:1,right:1,center:1},Wl={top:1,bottom:1,middle:1},Gl={normalizeTextStyle:function(t){return ft(t),Rl(t.rich,ft),t},renderText:function(t,e,n,r,i){r.rich?function(t,e,n,r,i){var o=t.__textCotentBlock;o&&!t.__dirty||(o=t.__textCotentBlock=Pl.parseRichText(n,r)),function(t,e,n,r,i){var o=n.width,a=n.outerWidth,s=n.outerHeight,u=r.textPadding,c=vt(0,r,i),l=c.baseX,f=c.baseY,h=c.textAlign,d=c.textVerticalAlign;ht(e,r,i,l,f);var p=Pl.adjustTextX(l,a,h),g=Pl.adjustTextY(f,s,d),v=p,m=g;u&&(v+=u[3],m+=u[0]);var y=v+o;pt(r)&&gt(t,e,r,p,g,a,s);for(var x=0;x<n.lines.length;x++){for(var _,b=n.lines[x],w=b.tokens,M=w.length,S=b.lineHeight,A=b.width,T=0,O=v,I=y,C=M-1;T<M&&(!(_=w[T]).textAlign||"left"===_.textAlign);)dt(t,e,_,r,S,m,O,"left"),A-=_.width,O+=_.width,T++;for(;C>=0&&"right"===(_=w[C]).textAlign;)dt(t,e,_,r,S,m,I,"right"),A-=_.width,I-=_.width,C--;for(O+=(o-(O-v)-(y-I)-A)/2;T<=C;)dt(t,e,_=w[T],r,S,m,O+_.width/2,"center"),O+=_.width,T++;m+=S}}(t,e,o,r,i)}(t,e,n,r,i):function(t,e,n,r,i){var o=mt(e,"font",r.font||Pl.DEFAULT_FONT),a=r.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=Pl.parsePlainText(n,o,a,r.truncate));var u=s.outerHeight,c=s.lines,l=s.lineHeight,f=vt(0,r,i),h=f.baseX,d=f.baseY,p=f.textAlign,g=f.textVerticalAlign;ht(e,r,i,h,d);var v=Pl.adjustTextY(d,u,g),m=h,y=v,x=pt(r);if(x||a){var _=Pl.getWidth(n,o);a&&(_+=a[1]+a[3]);var b=Pl.adjustTextX(h,_,p);x&&gt(t,e,r,b,v,_,u),a&&(m=bt(h,p,a),y+=a[0])}mt(e,"textAlign",p||"left"),mt(e,"textBaseline","middle"),mt(e,"shadowBlur",r.textShadowBlur||0),mt(e,"shadowColor",r.textShadowColor||"transparent"),mt(e,"shadowOffsetX",r.textShadowOffsetX||0),mt(e,"shadowOffsetY",r.textShadowOffsetY||0),y+=l/2;var w=r.textStrokeWidth,M=yt(r.textStroke,w),S=xt(r.textFill);M&&(mt(e,"lineWidth",w),mt(e,"strokeStyle",M)),S&&mt(e,"fillStyle",S);for(var A=0;A<c.length;A++)M&&e.strokeText(c[A],m,y),S&&e.fillText(c[A],m,y),y+=l}(t,e,n,r,i)},getStroke:yt,getFill:xt,needDrawText:function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},ql=new tl,Ul=function(){};Ul.prototype={constructor:Ul,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&Gl.normalizeTextStyle(n,!0);var r=n.text;if(null!=r&&(r+=""),Gl.needDrawText(r,n)){t.save();var i=this.transform;n.transformText?this.setTransform(t):i&&(ql.copy(e),ql.applyTransform(i),e=ql),Gl.renderText(this,t,r,n,e),t.restore()}}};var Yl=Ul;wt.prototype={constructor:wt,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?$c.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new pl(t,this),this.dirty(!1),this}},nc.inherits(wt,$c),nc.mixin(wt,Yl);var Xl=wt;Mt.prototype={constructor:Mt,type:"image",brush:function(t,e){var n=this.style,r=n.image;n.bind(t,this,e);var i=this._image=wl.createOrUpdateImage(r,this._image,this,this.onload);if(i&&wl.isImageReady(i)){var o=n.x||0,a=n.y||0,s=n.width,u=n.height,c=i.width/i.height;if(null==s&&null!=u?s=u*c:null==u&&null!=s?u=s/c:null==s&&null==u&&(s=i.width,u=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var l=n.sx||0,f=n.sy||0;t.drawImage(i,l,f,n.sWidth,n.sHeight,o,a,s,u)}else if(n.sx&&n.sy){var h=s-(l=n.sx),d=u-(f=n.sy);t.drawImage(i,l,f,h,d,o,a,s,u)}else t.drawImage(i,o,a,s,u);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new tl(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},nc.inherits(Mt,Xl);var Zl=Mt,$l=Rc.devicePixelRatio,Kl=new tl(0,0,0,0),Jl=new tl(0,0,0,0),Ql=function(t,e,n){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=nc.extend({},n||{}),this.dpr=n.devicePixelRatio||$l,this._singleCanvas=r,this.root=t;var i=t.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var s=t.width,u=t.height;null!=n.width&&(s=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,t.width=s*this.dpr,t.height=u*this.dpr,this._width=s,this._height=u;var c=new xl(t,this,this.dpr);c.__builtin__=!0,c.initContext(),a[314159]=c,c.zlevel=314159,o.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var l=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(l)}this._hoverlayer=null,this._hoverElements=[]};Ql.prototype={constructor:Ql,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<n.length;r++){var i=n[r],o=this._layers[i];if(!o.__builtin__&&o.refresh){var a=0===r?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape});n.__from=t,t.__hoverMir=n,n.setStyle(e),this._hoverElements.push(n)}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,r=nc.indexOf(n,e);r>=0&&n.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var r=e[n].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){il(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<e;){var o=t[i],a=o.__from;a&&a.__zr?(i++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,r))):(t.splice(i,1),a.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var i=this;_l(function(){i._paintList(t,e,n)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},_doPaintList:function(t,e){for(var n=[],r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];(s=this._layers[i]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var o=!0,a=0;a<n.length;a++){var s=n[a],u=s.ctx,c={};u.save();var l=e?s.__startIndex:s.__drawIndex,f=!e&&s.incremental&&Date.now,h=f&&Date.now(),d=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,d);else if(l===s.__startIndex){var p=t[l];p.incremental&&p.notClear&&!e||s.clear(!1,d)}-1===l&&(l=s.__startIndex);for(var g=l;g<s.__endIndex;g++){var v=t[g];if(this._doPaintEl(v,s,e,c),v.__dirty=!1,f&&Date.now()-h>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(o=!1),c.prevElClipPaths&&u.restore(),u.restore()}return Hu.wxa&&nc.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,n,r){var i=e.ctx,o=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!function(t,e,n){return Kl.copy(t.getBoundingRect()),t.transform&&Kl.applyTransform(t.transform),Jl.width=e,Jl.height=n,!Kl.intersect(Jl)}(t,this._width,this._height))){var a=t.__clipPaths;r.prevElClipPaths&&!function(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}(a,r.prevElClipPaths)||(r.prevElClipPaths&&(e.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),a&&(i.save(),function(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}(a,i),r.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||((n=new xl("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&nc.merge(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,o=null,a=-1,s=this._domRoot;if(n[t])Fc("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>r[0]){for(a=0;a<i-1&&!(r[a]<t&&r[a+1]>t);a++);o=n[r[a]]}if(r.splice(a+1,0,t),n[t]=e,!e.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(e.dom,u.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Fc("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__&&t.call(e,n,r)},eachOtherLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__||t.call(e,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(i=1;i<t.length;i++)if((a=t[i]).zlevel!==t[i-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}for(var n=null,r=0,i=0;i<t.length;i++){var o,a=t[i],s=a.zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,r=1):o=this.getLayer(s+(r>0?.01:0),this._needsManuallyCompositing),o.__builtin__||Fc("ZLevel "+s+" has been used by unkown layer "+o.id),o!==n&&(o.__used=!0,o.__startIndex!==i&&(o.__dirty=!0),o.__startIndex=i,o.incremental?o.__drawIndex=-1:o.__drawIndex=i,e(i),n=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?nc.merge(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+.01){var o=this._layers[i];nc.merge(o,n[t],!0)}}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(nc.indexOf(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!=t||e!=this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);nc.each(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new xl("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height,i=e.ctx;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var u=a[s];this._doPaintEl(u,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||St(s[n])||St(a.style[n]))-(St(s[i])||0)-(St(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,u=o.shadowOffsetY*e,c=o.hasStroke()?o.lineWidth:0,l=Math.max(c/2,-s+a),f=Math.max(c/2,s+a),h=Math.max(c/2,-u+a),d=Math.max(c/2,u+a),p=i.width+l+f,g=i.height+h+d;n.width=p*e,n.height=g*e,r.scale(e,e),r.clearRect(0,0,p,g),r.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[l-i.x,h-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var m=new Zl({style:{x:0,y:0,image:n}});return null!=v.position&&(m.position=t.position=v.position),null!=v.rotation&&(m.rotation=t.rotation=v.rotation),null!=v.scale&&(m.scale=t.scale=v.scale),m}};var tf=Ql,ef=uc,nf="undefined"!=typeof window&&!!window.addEventListener,rf=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,of={Dispatcher:ef,clientToLocal:At,normalizeEvent:function(t,e,n){if(null!=(e=e||window.event).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!=r?e.targetTouches[0]:e.changedTouches[0];i&&At(t,i,e,n)}else At(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&rf.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e},addEventListener:function(t,e,n){nf?t.addEventListener(e,n):t.attachEvent("on"+e,n)},removeEventListener:function(t,e,n){nf?t.removeEventListener(e,n):t.detachEvent("on"+e,n)},stop:nf?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},notLeftMouse:function(t){return t.which>1}},af=of.Dispatcher,sf=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,af.call(this)};sf.prototype={constructor:sf,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=nc.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,r=n.length,i=[],o=[],a=0;a<r;a++){var s=n[a],u=s.step(t,e);u&&(i.push(u),o.push(s))}for(a=0;a<r;)n[a]._needsRemove?(n[a]=n[r-1],n.pop(),r--):a++;for(r=i.length,a=0;a<r;a++)o[a].fire(i[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,_l(function e(){t._running&&(_l(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new jc(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},nc.mixin(sf,af);var uf=sf,cf=function(){this._track=[]};cf.prototype={constructor:cf,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],u=of.clientToLocal(n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},_recognize:function(t){for(var e in lf)if(lf.hasOwnProperty(e)){var n=lf[e](this._track,t);if(n)return n}}};var lf={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=Ot(r)/Ot(i);!isFinite(o)&&(o=1),e.pinchScale=o;var a=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}},ff=cf,hf=of.addEventListener,df=of.removeEventListener,pf=of.normalizeEvent,gf=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],vf=["touchstart","touchend","touchmove"],mf={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},yf=nc.map(gf,function(t){var e=t.replace("mouse","pointer");return mf[e]?e:t}),xf={mousemove:function(t){t=pf(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=pf(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=pf(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,Ct(this,t,"start"),xf.mousemove.call(this,t),xf.mousedown.call(this,t),kt(this)},touchmove:function(t){(t=pf(this.dom,t)).zrByTouch=!0,Ct(this,t,"change"),xf.mousemove.call(this,t),kt(this)},touchend:function(t){(t=pf(this.dom,t)).zrByTouch=!0,Ct(this,t,"end"),xf.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&xf.click.call(this,t),kt(this)},pointerdown:function(t){xf.mousedown.call(this,t)},pointermove:function(t){Dt(t)||xf.mousemove.call(this,t)},pointerup:function(t){xf.mouseup.call(this,t)},pointerout:function(t){Dt(t)||xf.mouseout.call(this,t)}};nc.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){xf[t]=function(e){e=pf(this.dom,e),this.trigger(t,e)}});var _f=Lt.prototype;_f.dispose=function(){for(var t=gf.concat(vf),e=0;e<t.length;e++){var n=t[e];df(this.dom,It(n),this._handlers[n])}},_f.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},nc.mixin(Lt,uc);var bf=Lt,wf=!Hu.canvasSupported,Mf={canvas:tf},Sf={},Af=function(t,e,n){n=n||{},this.dom=e,this.id=t;var r=this,i=new al,o=n.renderer;if(wf){if(!Mf.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&Mf[o]||(o="canvas");var a=new Mf[o](e,i,n,t);this.storage=i,this.painter=a;var s=Hu.node||Hu.worker?null:new bf(a.getViewportRoot());this.handler=new fc(i,a,s,a.root),this.animation=new uf({stage:{update:nc.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var u=i.delFromStorage,c=i.addToStorage;i.delFromStorage=function(t){u.call(i,t),t&&t.removeSelfFromZr(r)},i.addToStorage=function(t){c.call(i,t),t.addSelfToZr(r)}};Af.prototype={constructor:Af,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Sf[t]}};var Tf={version:"4.0.4",init:function(t,e){var n=new Af(Fu(),t,e);return Sf[n.id]=n,n},dispose:function(t){if(t)t.dispose();else{for(var e in Sf)Sf.hasOwnProperty(e)&&Sf[e].dispose();Sf={}}return this},getInstance:function(t){return Sf[t]},registerPainter:function(t,e){Mf[t]=e}},Of=nc.each,If=nc.isObject,Cf=nc.isArray,kf="series\0",Df=0,Lf={normalizeToArray:Et,defaultEmphasis:function(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}},TEXT_STYLE_OPTIONS:["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],getDataItemValue:function(t){return!If(t)||Cf(t)||t instanceof Date?t:t.value},isDataItemOption:function(t){return If(t)&&!(t instanceof Array)},mappingToExists:function(t,e){e=(e||[]).slice();var n=nc.map(t||[],function(t,e){return{exist:t}});return Of(e,function(t,r){if(If(t)){for(i=0;i<n.length;i++)if(!n[i].option&&null!=t.id&&n[i].exist.id===t.id+"")return n[i].option=t,void(e[r]=null);for(var i=0;i<n.length;i++){var o=n[i].exist;if(!(n[i].option||null!=o.id&&null!=t.id||null==t.name||Pt(t)||Pt(o)||o.name!==t.name+""))return n[i].option=t,void(e[r]=null)}}}),Of(e,function(t,e){if(If(t)){for(var r=0;r<n.length;r++){var i=n[r].exist;if(!n[r].option&&!Pt(i)&&null==t.id){n[r].option=t;break}}r>=n.length&&n.push({option:t})}}),n},makeIdAndName:function(t){var e=nc.createHashMap();Of(t,function(t,n){var r=t.exist;r&&e.set(r.id,t)}),Of(t,function(t,n){var r=t.option;nc.assert(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),Of(t,function(t,n){var r=t.exist,i=t.option,o=t.keyInfo;if(If(i)){if(o.name=null!=i.name?i.name+"":r?r.name:kf+n,r)o.id=r.id;else if(null!=i.id)o.id=i.id+"";else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(e.get(o.id))}e.set(o.id,t)}})},isNameSpecified:function(t){var e=t.name;return!(!e||!e.indexOf(kf))},isIdInner:Pt,compressBatches:function(t,e){function n(t,e,n){for(var r=0,i=t.length;r<i;r++)for(var o=t[r].seriesId,a=Et(t[r].dataIndex),s=n&&n[o],u=0,c=a.length;u<c;u++){var l=a[u];s&&s[l]?s[l]=null:(e[o]||(e[o]={}))[l]=1}}function r(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var o=r(t[i],!0);o.length&&n.push({seriesId:i,dataIndex:o})}return n}var i={},o={};return n(t||[],i),n(e||[],o,i),[r(i),r(o)]},queryDataIndex:function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?nc.isArray(e.dataIndex)?nc.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?nc.isArray(e.name)?nc.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0},makeInner:function(){var t="__\0ec_inner_"+Df+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}},parseFinder:function(t,e,n){if(nc.isString(e)){var r={};r[e+"Index"]=0,e=r}var i=n&&n.defaultMainType;!i||Nt(e,i+"Index")||Nt(e,i+"Id")||Nt(e,i+"Name")||(e[i+"Index"]=0);var o={};return Of(e,function(r,i){if(r=e[i],"dataIndex"!==i&&"dataIndexInside"!==i){var a=i.match(/^(\w+)(Index|Id|Name)$/)||[],s=a[1],u=(a[2]||"").toLowerCase();if(!(!s||!u||null==r||"index"===u&&"none"===r||n&&n.includeMainTypes&&nc.indexOf(n.includeMainTypes,s)<0)){var c={mainType:s};"index"===u&&"all"===r||(c[u]=r);var l=t.queryComponents(c);o[s+"Models"]=l,o[s+"Model"]=l[0]}}else o[i]=r}),o},setAttribute:function(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n},getAttribute:function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}},Ef=".",Pf="___EC__COMPONENT__CONTAINER___",Nf=0,jf=jt,zf=function(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return nc.extend(n.prototype,t),n.extend=this.extend,n.superCall=function(t,e){var n=nc.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)},n.superApply=function(t,e,n){return this.superClass.prototype[e].apply(t,n)},nc.inherits(n,this),n.superClass=e,n}},Rf=function(t){var e=["__\0is_clz",Nf++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}},Bf=function(t,e){e=e||{};var n={};if(t.registerClass=function(t,e){return e&&(function(t){nc.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=jt(e)).sub?e.sub!==Pf&&((function(t){var e=n[t.main];return e&&e[Pf]||((e=n[t.main]={})[Pf]=!0),e}(e))[e.sub]=t):n[e.main]=t),t},t.getClass=function(t,e,r){var i=n[t];if(i&&i[Pf]&&(i=e?i[e]:null),r&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){t=jt(t);var e=[],r=n[t.main];return r&&r[Pf]?nc.each(r,function(t,n){n!==Pf&&e.push(t)}):e.push(r),e},t.hasClass=function(t){return t=jt(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return nc.each(n,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=jt(t);var e=n[t.main];return e&&e[Pf]},t.parseClassType=jt,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var n=r.call(this,e);return t.registerClass(n,e.type)})}return t},Vf=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o][1];if(!(n&&nc.indexOf(n,a)>=0||r&&nc.indexOf(r,a)<0)){var s=e.getShallow(a);null!=s&&(i[t[o][0]]=s)}}return i}},Ff=Vf([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Hf={getLineStyle:function(t){var e=Ff(this,t),n=this.getLineDash(e.lineWidth);return n&&(e.lineDash=n),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),r=4*t;return"solid"===e||null==e?null:"dashed"===e?[r,r]:[n,n]}},Wf=Vf([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Gf={getAreaStyle:function(t,e){return Wf(this,t,e)}},qf=ic.create,Uf=ic.distSquare,Yf=Math.pow,Xf=Math.sqrt,Zf=1e-8,$f=Xf(3),Kf=qf(),Jf=qf(),Qf=qf(),th={cubicAt:Bt,cubicDerivativeAt:function(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)},cubicRootAt:function(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-2*e+t),u=3*(e-t),c=t-i,l=s*s-3*a*u,f=s*u-9*a*c,h=u*u-3*s*c,d=0;if(zt(l)&&zt(f))zt(s)?o[0]=0:(S=-u/s)>=0&&S<=1&&(o[d++]=S);else{var p=f*f-4*l*h;if(zt(p)){var g=f/l,v=-g/2;(S=-s/a+g)>=0&&S<=1&&(o[d++]=S),v>=0&&v<=1&&(o[d++]=v)}else if(p>0){var m=Xf(p),y=l*s+1.5*a*(-f+m),x=l*s+1.5*a*(-f-m);(S=(-s-((y=y<0?-Yf(-y,1/3):Yf(y,1/3))+(x=x<0?-Yf(-x,1/3):Yf(x,1/3))))/(3*a))>=0&&S<=1&&(o[d++]=S)}else{var _=(2*l*s-3*a*f)/(2*Xf(l*l*l)),b=Math.acos(_)/3,w=Xf(l),M=Math.cos(b),S=(-s-2*w*M)/(3*a),A=(v=(-s+w*(M+$f*Math.sin(b)))/(3*a),(-s+w*(M-$f*Math.sin(b)))/(3*a));S>=0&&S<=1&&(o[d++]=S),v>=0&&v<=1&&(o[d++]=v),A>=0&&A<=1&&(o[d++]=A)}}return d},cubicExtrema:function(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,u=0;if(zt(a))Rt(o)&&(f=-s/o)>=0&&f<=1&&(i[u++]=f);else{var c=o*o-4*a*s;if(zt(c))i[0]=-o/(2*a);else if(c>0){var l=Xf(c),f=(-o+l)/(2*a),h=(-o-l)/(2*a);f>=0&&f<=1&&(i[u++]=f),h>=0&&h<=1&&(i[u++]=h)}}return u},cubicSubdivide:function(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,u=(r-n)*i+n,c=(s-a)*i+a,l=(u-s)*i+s,f=(l-c)*i+c;o[0]=t,o[1]=a,o[2]=c,o[3]=f,o[4]=f,o[5]=l,o[6]=u,o[7]=r},cubicProjectPoint:function(t,e,n,r,i,o,a,s,u,c,l){var f,h,d,p,g,v=.005,m=1/0;Kf[0]=u,Kf[1]=c;for(var y=0;y<1;y+=.05)Jf[0]=Bt(t,n,i,a,y),Jf[1]=Bt(e,r,o,s,y),(p=Uf(Kf,Jf))<m&&(f=y,m=p);m=1/0;for(var x=0;x<32&&!(v<1e-4);x++)h=f-v,d=f+v,Jf[0]=Bt(t,n,i,a,h),Jf[1]=Bt(e,r,o,s,h),p=Uf(Jf,Kf),h>=0&&p<m?(f=h,m=p):(Qf[0]=Bt(t,n,i,a,d),Qf[1]=Bt(e,r,o,s,d),g=Uf(Qf,Kf),d<=1&&g<m?(f=d,m=g):v*=.5);return l&&(l[0]=Bt(t,n,i,a,f),l[1]=Bt(e,r,o,s,f)),Xf(m)},quadraticAt:Vt,quadraticDerivativeAt:function(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))},quadraticRootAt:function(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,u=0;if(zt(o))Rt(a)&&(f=-s/a)>=0&&f<=1&&(i[u++]=f);else{var c=a*a-4*o*s;if(zt(c))(f=-a/(2*o))>=0&&f<=1&&(i[u++]=f);else if(c>0){var l=Xf(c),f=(-a+l)/(2*o),h=(-a-l)/(2*o);f>=0&&f<=1&&(i[u++]=f),h>=0&&h<=1&&(i[u++]=h)}}return u},quadraticExtremum:function(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r},quadraticSubdivide:function(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n},quadraticProjectPoint:function(t,e,n,r,i,o,a,s,u){var c,l=.005,f=1/0;Kf[0]=a,Kf[1]=s;for(var h=0;h<1;h+=.05)Jf[0]=Vt(t,n,i,h),Jf[1]=Vt(e,r,o,h),(v=Uf(Kf,Jf))<f&&(c=h,f=v);f=1/0;for(var d=0;d<32&&!(l<1e-4);d++){var p=c-l,g=c+l;Jf[0]=Vt(t,n,i,p),Jf[1]=Vt(e,r,o,p);var v=Uf(Jf,Kf);if(p>=0&&v<f)c=p,f=v;else{Qf[0]=Vt(t,n,i,g),Qf[1]=Vt(e,r,o,g);var m=Uf(Qf,Kf);g<=1&&m<f?(c=g,f=m):l*=.5}}return u&&(u[0]=Vt(t,n,i,c),u[1]=Vt(e,r,o,c)),Xf(f)}},eh=Math.min,nh=Math.max,rh=Math.sin,ih=Math.cos,oh=2*Math.PI,ah=ic.create(),sh=ic.create(),uh=ic.create(),ch=[],lh=[],fh=function(t,e,n){if(0!==t.length){var r,i=t[0],o=i[0],a=i[0],s=i[1],u=i[1];for(r=1;r<t.length;r++)i=t[r],o=eh(o,i[0]),a=nh(a,i[0]),s=eh(s,i[1]),u=nh(u,i[1]);e[0]=o,e[1]=s,n[0]=a,n[1]=u}},hh=function(t,e,n,r,i,o){i[0]=eh(t,n),i[1]=eh(e,r),o[0]=nh(t,n),o[1]=nh(e,r)},dh=function(t,e,n,r,i,o,a,s,u,c){var l,f=th.cubicExtrema,h=th.cubicAt,d=f(t,n,i,a,ch);for(u[0]=1/0,u[1]=1/0,c[0]=-1/0,c[1]=-1/0,l=0;l<d;l++){var p=h(t,n,i,a,ch[l]);u[0]=eh(p,u[0]),c[0]=nh(p,c[0])}for(d=f(e,r,o,s,lh),l=0;l<d;l++){var g=h(e,r,o,s,lh[l]);u[1]=eh(g,u[1]),c[1]=nh(g,c[1])}u[0]=eh(t,u[0]),c[0]=nh(t,c[0]),u[0]=eh(a,u[0]),c[0]=nh(a,c[0]),u[1]=eh(e,u[1]),c[1]=nh(e,c[1]),u[1]=eh(s,u[1]),c[1]=nh(s,c[1])},ph=function(t,e,n,r,i,o,a,s){var u=th.quadraticExtremum,c=th.quadraticAt,l=nh(eh(u(t,n,i),1),0),f=nh(eh(u(e,r,o),1),0),h=c(t,n,i,l),d=c(e,r,o,f);a[0]=eh(t,i,h),a[1]=eh(e,o,d),s[0]=nh(t,i,h),s[1]=nh(e,o,d)},gh=function(t,e,n,r,i,o,a,s,u){var c=ic.min,l=ic.max,f=Math.abs(i-o);if(f%oh<1e-4&&f>1e-4)return s[0]=t-n,s[1]=e-r,u[0]=t+n,void(u[1]=e+r);if(ah[0]=ih(i)*n+t,ah[1]=rh(i)*r+e,sh[0]=ih(o)*n+t,sh[1]=rh(o)*r+e,c(s,ah,sh),l(u,ah,sh),(i%=oh)<0&&(i+=oh),(o%=oh)<0&&(o+=oh),i>o&&!a?o+=oh:i<o&&a&&(i+=oh),a){var h=o;o=i,i=h}for(var d=0;d<o;d+=Math.PI/2)d>i&&(uh[0]=ih(d)*n+t,uh[1]=rh(d)*r+e,c(s,uh,s),l(u,uh,u))},vh=Rc.devicePixelRatio,mh={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},yh=[],xh=[],_h=[],bh=[],wh=Math.min,Mh=Math.max,Sh=Math.cos,Ah=Math.sin,Th=Math.sqrt,Oh=Math.abs,Ih="undefined"!=typeof Float32Array,Ch=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};Ch.prototype={constructor:Ch,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=Oh(1/vh/t)||0,this._uy=Oh(1/vh/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(mh.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=Oh(t-this._xi)>this._ux||Oh(e-this._yi)>this._uy||this._len<5;return this.addData(mh.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,i,o){return this.addData(mh.C,t,e,n,r,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,i,o):this._ctx.bezierCurveTo(t,e,n,r,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(t,e,n,r){return this.addData(mh.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,i,o){return this.addData(mh.A,t,e,n,n,r,i-r,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=Sh(i)*n+t,this._yi=Ah(i)*n+t,this},arcTo:function(t,e,n,r,i){return this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(mh.R,t,e,n,r),this},closePath:function(){this.addData(mh.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!Ih||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();for(Ih&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n)),i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},addData:function(t){var e=arguments;if(this._saveData){var n=this.data;this._len+arguments.length>n.length&&(this._expandData(),n=this.data);for(var r=0;r<arguments.length;r++)n[this._len++]=e[r];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,i=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,u=this._xi,c=this._yi,l=t-u,f=e-c,h=Th(l*l+f*f),d=u,p=c,g=a.length;for(l/=h,f/=h,o<0&&(o=i+o),d-=(o%=i)*l,p-=o*f;l>0&&d<=t||l<0&&d>=t||0==l&&(f>0&&p<=e||f<0&&p>=e);)d+=l*(n=a[r=this._dashIdx]),p+=f*n,this._dashIdx=(r+1)%g,l>0&&d<u||l<0&&d>u||f>0&&p<c||f<0&&p>c||s[r%2?"moveTo":"lineTo"](l>=0?wh(d,t):Mh(d,t),f>=0?wh(p,e):Mh(p,e));l=d-t,f=p-e,this._dashOffset=-Th(l*l+f*f)},_dashedBezierTo:function(t,e,n,r,i,o){var a,s,u,c,l,f=this._dashSum,h=this._dashOffset,d=this._lineDash,p=this._ctx,g=this._xi,v=this._yi,m=th.cubicAt,y=0,x=this._dashIdx,_=d.length,b=0;for(h<0&&(h=f+h),h%=f,a=0;a<1;a+=.1)s=m(g,t,n,i,a+.1)-m(g,t,n,i,a),u=m(v,e,r,o,a+.1)-m(v,e,r,o,a),y+=Th(s*s+u*u);for(;x<_&&!((b+=d[x])>h);x++);for(a=(b-h)/y;a<=1;)c=m(g,t,n,i,a),l=m(v,e,r,o,a),x%2?p.moveTo(c,l):p.lineTo(c,l),a+=d[x]/y,x=(x+1)%_;x%2!=0&&p.lineTo(i,o),s=i-c,u=o-l,this._dashOffset=-Th(s*s+u*u)},_dashedQuadraticTo:function(t,e,n,r){var i=n,o=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,i,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Ih&&(this.data=new Float32Array(t)))},getBoundingRect:function(){yh[0]=yh[1]=_h[0]=_h[1]=Number.MAX_VALUE,xh[0]=xh[1]=bh[0]=bh[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,r=0,i=0,o=0;o<t.length;){var a=t[o++];switch(1==o&&(r=e=t[o],i=n=t[o+1]),a){case mh.M:e=r=t[o++],n=i=t[o++],_h[0]=r,_h[1]=i,bh[0]=r,bh[1]=i;break;case mh.L:hh(e,n,t[o],t[o+1],_h,bh),e=t[o++],n=t[o++];break;case mh.C:dh(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],_h,bh),e=t[o++],n=t[o++];break;case mh.Q:ph(e,n,t[o++],t[o++],t[o],t[o+1],_h,bh),e=t[o++],n=t[o++];break;case mh.A:var s=t[o++],u=t[o++],c=t[o++],l=t[o++],f=t[o++],h=t[o++]+f,d=(t[o++],1-t[o++]);1==o&&(r=Sh(f)*c+s,i=Ah(f)*l+u),gh(s,u,c,l,f,h,d,_h,bh),e=Sh(h)*c+s,n=Ah(h)*l+u;break;case mh.R:r=e=t[o++],i=n=t[o++];var p=t[o++],g=t[o++];hh(r,i,r+p,i+g,_h,bh);break;case mh.Z:e=r,n=i}ic.min(yh,yh,_h),ic.max(xh,xh,bh)}return 0===o&&(yh[0]=yh[1]=xh[0]=xh[1]=0),new tl(yh[0],yh[1],xh[0]-yh[0],xh[1]-yh[1])},rebuildPath:function(t){for(var e,n,r,i,o,a,s=this.data,u=this._ux,c=this._uy,l=this._len,f=0;f<l;){var h=s[f++];switch(1==f&&(e=r=s[f],n=i=s[f+1]),h){case mh.M:e=r=s[f++],n=i=s[f++],t.moveTo(r,i);break;case mh.L:o=s[f++],a=s[f++],(Oh(o-r)>u||Oh(a-i)>c||f===l-1)&&(t.lineTo(o,a),r=o,i=a);break;case mh.C:t.bezierCurveTo(s[f++],s[f++],s[f++],s[f++],s[f++],s[f++]),r=s[f-2],i=s[f-1];break;case mh.Q:t.quadraticCurveTo(s[f++],s[f++],s[f++],s[f++]),r=s[f-2],i=s[f-1];break;case mh.A:var d=s[f++],p=s[f++],g=s[f++],v=s[f++],m=s[f++],y=s[f++],x=s[f++],_=s[f++],b=g>v?g:v,w=g>v?1:g/v,M=g>v?v/g:1,S=m+y;Math.abs(g-v)>.001?(t.translate(d,p),t.rotate(x),t.scale(w,M),t.arc(0,0,b,m,S,1-_),t.scale(1/w,1/M),t.rotate(-x),t.translate(-d,-p)):t.arc(d,p,b,m,S,1-_),1==f&&(e=Sh(m)*g+d,n=Ah(m)*v+p),r=Sh(S)*g+d,i=Ah(S)*v+p;break;case mh.R:e=r=s[f],n=i=s[f+1],t.rect(s[f++],s[f++],s[f++],s[f++]);break;case mh.Z:t.closePath(),r=e,i=n}}}},Ch.CMD=mh;var kh=Ch,Dh={containStroke:function(t,e,n,r,i,o,a){if(0===i)return!1;var s,u=i;if(a>e+u&&a>r+u||a<e-u&&a<r-u||o>t+u&&o>n+u||o<t-u&&o<n-u)return!1;if(t===n)return Math.abs(o-t)<=u/2;var c=(s=(e-r)/(t-n))*o-a+(t*r-n*e)/(t-n);return c*c/(s*s+1)<=u/2*u/2}},Lh={containStroke:function(t,e,n,r,i,o,a,s,u,c,l){if(0===u)return!1;var f=u;return!(l>e+f&&l>r+f&&l>o+f&&l>s+f||l<e-f&&l<r-f&&l<o-f&&l<s-f||c>t+f&&c>n+f&&c>i+f&&c>a+f||c<t-f&&c<n-f&&c<i-f&&c<a-f)&&th.cubicProjectPoint(t,e,n,r,i,o,a,s,c,l,null)<=f/2}},Eh=th.quadraticProjectPoint,Ph={containStroke:function(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var c=a;return!(u>e+c&&u>r+c&&u>o+c||u<e-c&&u<r-c&&u<o-c||s>t+c&&s>n+c&&s>i+c||s<t-c&&s<n-c&&s<i-c)&&Eh(t,e,n,r,i,o,s,u,null)<=c/2}},Nh=2*Math.PI,jh=function(t){return(t%=Nh)<0&&(t+=Nh),t},zh=jh,Rh=2*Math.PI,Bh={containStroke:function(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var c=a;s-=t,u-=e;var l=Math.sqrt(s*s+u*u);if(l-c>n||l+c<n)return!1;if(Math.abs(r-i)%Rh<1e-4)return!0;if(o){var f=r;r=zh(i),i=zh(f)}else r=zh(r),i=zh(i);r>i&&(i+=Rh);var h=Math.atan2(u,s);return h<0&&(h+=Rh),h>=r&&h<=i||h+Rh>=r&&h+Rh<=i}},Vh=function(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=r<e?1:-1,s=(o-e)/(r-e);1!==s&&0!==s||(a=r<e?.5:-.5);var u=s*(n-t)+t;return u===i?1/0:u>i?a:0},Fh=jh,Hh=kh.CMD,Wh=2*Math.PI,Gh=1e-4,qh=[-1,-1,-1],Uh=[-1,-1],Yh=function(t,e,n){return Ft(t,0,!1,e,n)},Xh=function(t,e,n,r){return Ft(t,e,!0,n,r)},Zh=vl.prototype.getCanvasPattern,$h=Math.abs,Kh=new kh(!0);Ht.prototype={constructor:Ht,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var n,r=this.style,i=this.path||Kh,o=r.hasStroke(),a=r.hasFill(),s=r.fill,u=r.stroke,c=a&&!!s.colorStops,l=o&&!!u.colorStops,f=a&&!!s.image,h=o&&!!u.image;(r.bind(t,this,e),this.setTransform(t),this.__dirty)&&(c&&(n=n||this.getBoundingRect(),this._fillGradient=r.getGradient(t,s,n)),l&&(n=n||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,u,n)));c?t.fillStyle=this._fillGradient:f&&(t.fillStyle=Zh.call(s,t)),l?t.strokeStyle=this._strokeGradient:h&&(t.strokeStyle=Zh.call(u,t));var d=r.lineDash,p=r.lineDashOffset,g=!!t.setLineDash,v=this.getGlobalScale();i.setScale(v[0],v[1]),this.__dirtyPath||d&&!g&&o?(i.beginPath(t),d&&!g&&(i.setLineDash(d),i.setLineDashOffset(p)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a&&i.fill(t),d&&g&&(t.setLineDash(d),t.lineDashOffset=p),o&&i.stroke(t),d&&g&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new kh},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var r=this.path;r||(r=this.path=new kh),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){i.copy(t);var o=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(i.width+=o/a,i.height+=o/a,i.x-=o/a/2,i.y-=o/a/2)}return i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path.data;if(i.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(i.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),Xh(o,a/s,t,e)))return!0}if(i.hasFill())return Yh(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Xl.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(nc.isObject(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&$h(t[0]-1)>1e-10&&$h(t[3]-1)>1e-10?Math.sqrt($h(t[0]*t[3]-t[2]*t[1])):1}},Ht.extend=function(t){var e=function(e){Ht.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var i in n)!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(r[i]=n[i])}t.init&&t.init.call(this,e)};for(var n in nc.inherits(e,Ht),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},nc.inherits(Ht,Xl);var Jh=Ht,Qh=ic.applyTransform,td=kh.CMD,ed=[[],[],[]],nd=Math.sqrt,rd=Math.atan2,id=function(t,e){var n,r,i,o,a,s=t.data,u=td.M,c=td.C,l=td.L,f=td.R,h=td.A,d=td.Q;for(i=0,o=0;i<s.length;){switch(n=s[i++],o=i,r=0,n){case u:case l:r=1;break;case c:r=3;break;case d:r=2;break;case h:var p=e[4],g=e[5],v=nd(e[0]*e[0]+e[1]*e[1]),m=nd(e[2]*e[2]+e[3]*e[3]),y=rd(-e[1]/m,e[0]/v);s[i]*=v,s[i++]+=p,s[i]*=m,s[i++]+=g,s[i++]*=v,s[i++]*=m,s[i++]+=y,s[i++]+=y,o=i+=2;break;case f:x[0]=s[i++],x[1]=s[i++],Qh(x,x,e),s[o++]=x[0],s[o++]=x[1],x[0]+=s[i++],x[1]+=s[i++],Qh(x,x,e),s[o++]=x[0],s[o++]=x[1]}for(a=0;a<r;a++){var x;(x=ed[a])[0]=s[i++],x[1]=s[i++],Qh(x,x,e),s[o++]=x[0],s[o++]=x[1]}}},od=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],ad=Math.sqrt,sd=Math.sin,ud=Math.cos,cd=Math.PI,ld=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},fd=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(ld(t)*ld(e))},hd=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(fd(t,e))},dd={createFromString:function(t,e){return new Jh(Gt(t,e))},extendFromString:function(t,e){return Jh.extend(Gt(t,e))},mergePath:function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new Jh(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},a}},pd=function(t){Xl.call(this,t)};pd.prototype={constructor:pd,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&Gl.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),n.bind(t,this,e),Gl.needDrawText(r,n)&&(this.setTransform(t),Gl.renderText(this,t,r,n),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&Gl.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var n=Pl.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,Gl.getStroke(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},nc.inherits(pd,Xl);var gd=pd,vd=Jh.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),md=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],yd=function(t){return Hu.browser.ie&&Hu.browser.version>=11?function(){var e,n=this.__clipPaths,r=this.style;if(n)for(var i=0;i<n.length;i++){var o=n[i],a=o&&o.shape,s=o&&o.type;if(a&&("sector"===s&&a.startAngle===a.endAngle||"rect"===s&&(!a.width||!a.height))){for(u=0;u<md.length;u++)md[u][2]=r[md[u][0]],r[md[u][0]]=md[u][1];e=!0;break}}if(t.apply(this,arguments),e)for(var u=0;u<md.length;u++)r[md[u][0]]=md[u][2]}:t},xd=Jh.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:yd(Jh.prototype.brush),buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,u=e.clockwise,c=Math.cos(a),l=Math.sin(a);t.moveTo(c*i+n,l*i+r),t.lineTo(c*o+n,l*o+r),t.arc(n,r,o,a,s,!u),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+r),0!==i&&t.arc(n,r,i,s,a,u),t.closePath()}}),_d=Jh.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)}}),bd=ic.distance,wd=ic.min,Md=ic.max,Sd=ic.scale,Ad=ic.distance,Td=ic.add,Od=ic.clone,Id=ic.sub,Cd=function(t,e,n){var r=e.points,i=e.smooth;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function(t,e,n,r){var i,o,a,s,u=[],c=[],l=[],f=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var h=0,d=t.length;h<d;h++)wd(a,a,t[h]),Md(s,s,t[h]);wd(a,a,r[0]),Md(s,s,r[1])}for(h=0,d=t.length;h<d;h++){var p=t[h];if(n)i=t[h?h-1:d-1],o=t[(h+1)%d];else{if(0===h||h===d-1){u.push(Od(t[h]));continue}i=t[h-1],o=t[h+1]}Id(c,o,i),Sd(c,c,e);var g=Ad(p,i),v=Ad(p,o),m=g+v;0!==m&&(g/=m,v/=m),Sd(l,c,-g),Sd(f,c,v);var y=Td([],p,l),x=Td([],p,f);r&&(Md(y,y,a),wd(y,y,s),Md(x,x,a),wd(x,x,s)),u.push(y),u.push(x)}return n&&u.push(u.shift()),u}(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var u=o[2*s],c=o[2*s+1],l=r[(s+1)%a];t.bezierCurveTo(u[0],u[1],c[0],c[1],l[0],l[1])}}else{"spline"===i&&(r=function(t,e){for(var n=t.length,r=[],i=0,o=1;o<n;o++)i+=bd(t[o-1],t[o]);var a=i/2;for(a=a<n?n:a,o=0;o<a;o++){var s,u,c,l=o/(a-1)*(e?n:n-1),f=Math.floor(l),h=l-f,d=t[f%n];e?(s=t[(f-1+n)%n],u=t[(f+1)%n],c=t[(f+2)%n]):(s=t[0===f?f:f-1],u=t[f>n-2?n-1:f+1],c=t[f>n-3?n-1:f+2]);var p=h*h,g=h*p;r.push([qt(s[0],d[0],u[0],c[0],h,p,g),qt(s[1],d[1],u[1],c[1],h,p,g)])}return r}(r,n)),t.moveTo(r[0][0],r[0][1]);s=1;for(var f=r.length;s<f;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}},kd=Jh.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Cd(t,e,!0)}}),Dd=Jh.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Cd(t,e,!1)}}),Ld=Jh.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height;e.r?Nl.buildPath(t,e):t.rect(n,r,i,o),t.closePath()}}),Ed=Jh.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.percent;0!==a&&(t.moveTo(n,r),a<1&&(i=n*(1-a)+i*a,o=r*(1-a)+o*a),t.lineTo(i,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Pd=th.quadraticSubdivide,Nd=th.cubicSubdivide,jd=th.quadraticAt,zd=th.cubicAt,Rd=th.quadraticDerivativeAt,Bd=th.cubicDerivativeAt,Vd=[],Fd=Jh.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,u=e.cpx2,c=e.cpy2,l=e.percent;0!==l&&(t.moveTo(n,r),null==u||null==c?(l<1&&(Pd(n,a,i,l,Vd),a=Vd[1],i=Vd[2],Pd(r,s,o,l,Vd),s=Vd[1],o=Vd[2]),t.quadraticCurveTo(a,s,i,o)):(l<1&&(Nd(n,a,u,i,l,Vd),a=Vd[1],u=Vd[2],i=Vd[3],Nd(r,s,c,o,l,Vd),s=Vd[1],c=Vd[2],o=Vd[3]),t.bezierCurveTo(a,s,u,c,i,o)))},pointAt:function(t){return Ut(this.shape,t,!1)},tangentAt:function(t){var e=Ut(this.shape,t,!0);return ic.normalize(e,e)}}),Hd=Jh.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,u=Math.cos(o),c=Math.sin(o);t.moveTo(u*i+n,c*i+r),t.arc(n,r,i,o,a,!s)}}),Wd=Jh.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Jh.prototype.getBoundingRect.call(this)}}),Gd=function(t){this.colorStops=t||[]};Gd.prototype={constructor:Gd,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var qd=Gd,Ud=function(t,e,n,r,i,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,qd.call(this,i)};Ud.prototype={constructor:Ud},nc.inherits(Ud,qd);var Yd=Ud,Xd=function(t,e,n,r,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,qd.call(this,r)};Xd.prototype={constructor:Xd},nc.inherits(Xd,qd);var Zd=Xd,$d=nc.inherits;Yt.prototype.incremental=!0,Yt.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Yt.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},Yt.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},Yt.prototype.eachPendingDisplayable=function(t){for(e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},Yt.prototype.update=function(){for(this.updateTransform(),t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},Yt.prototype.brush=function(t,e){for(n=this._cursor;n<this._displayables.length;n++)(r=this._displayables[n]).beforeBrush&&r.beforeBrush(t),r.brush(t,n===this._cursor?null:this._displayables[n-1]),r.afterBrush&&r.afterBrush(t);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.beforeBrush&&r.beforeBrush(t),r.brush(t,0===n?null:this._temporaryDisplayables[n-1]),r.afterBrush&&r.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var Kd=[];Yt.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new tl(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(Kd)),t.union(r)}this._rect=t}return this._rect},Yt.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++)if(this._displayables[r].contain(t,e))return!0;return!1},$d(Yt,Xl);var Jd=Yt,Qd=Zl,tp=nl,ep=gd,np=vd,rp=xd,ip=_d,op=kd,ap=Dd,sp=Ld,up=Ed,cp=Fd,lp=Hd,fp=Wd,hp=Yd,dp=Zd,pp=tl,gp=Jd,vp=Math.round,mp=Math.max,yp=Math.min,xp={},_p={Image:Qd,Group:tp,Text:ep,Circle:np,Sector:rp,Ring:ip,Polygon:op,Polyline:ap,Rect:sp,Line:up,BezierCurve:cp,Arc:lp,CompoundPath:fp,LinearGradient:hp,RadialGradient:dp,BoundingRect:pp,IncrementalDisplayable:gp,extendShape:function(t){return Jh.extend(t)},extendPath:function(t,e){return dd.extendFromString(t,e)},makePath:Xt,makeImage:function(t,e,n){var r=new Zl({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};r.setStyle(Zt(e,i))}}});return r},mergePath:dd.mergePath,resizePath:$t,subPixelOptimizeLine:function(t){var e=t.shape,n=t.style.lineWidth;return vp(2*e.x1)===vp(2*e.x2)&&(e.x1=e.x2=Kt(e.x1,n,!0)),vp(2*e.y1)===vp(2*e.y2)&&(e.y1=e.y2=Kt(e.y1,n,!0)),t},subPixelOptimizeRect:function(t){var e=t.shape,n=t.style.lineWidth,r=e.x,i=e.y,o=e.width,a=e.height;return e.x=Kt(e.x,n,!0),e.y=Kt(e.y,n,!0),e.width=Math.max(Kt(r+o,n,!1)-e.x,0===o?0:1),e.height=Math.max(Kt(i+a,n,!1)-e.y,0===a?0:1),t},subPixelOptimize:Kt,setHoverStyle:function(t,e,n){t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&oe(t,e)}):oe(t,e),t.on("mouseover",function(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&re(this)}).on("mouseout",function(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&ie(this)}),t.on("emphasis",function(){this.__isEmphasis=!0,re(this)}).on("normal",function(){this.__isEmphasis=!1,ie(this)})},setLabelStyle:function(t,e,n,r,i,o,a){var s,u=(i=i||xp).labelFetcher,c=i.labelDataIndex,l=i.labelDimIndex,f=n.getShallow("show"),h=r.getShallow("show");(f||h)&&(u&&(s=u.getFormattedLabel(c,"normal",null,l)),null==s&&(s=nc.isFunction(i.defaultText)?i.defaultText(c,i):i.defaultText));var d=f?s:null,p=h?nc.retrieve2(u?u.getFormattedLabel(c,"emphasis",null,l):null,s):null;null==d&&null==p||(ae(t,n,o,i),ae(e,r,a,i,!0)),t.text=d,e.text=p},setTextStyle:ae,setText:function(t,e,n){var r,i={isRectText:!0};!1===n?r=!0:i.autoColor=n,se(t,e,i,r),t.host&&t.host.dirty&&t.host.dirty(!1)},getFont:function(t,e){var n=e||e.getModel("textStyle");return nc.trim([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))},updateProps:he,initProps:function(t,e,n,r,i){fe(!1,t,e,n,r,i)},getTransform:function(t,e){for(var n=dc.identity([]);t&&t!==e;)dc.mul(n,t.getLocalTransform(),n),t=t.parent;return n},applyTransform:de,transformDirection:function(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-r:"right"===t?r:0,"top"===t?-i:"bottom"===t?i:0];return o=de(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},groupTransition:function(t,e,n,r){function i(t){var e={position:ic.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=nc.extend({},t.shape)),e}if(t&&e){var o=function(e){var n={};return t.traverse(function(t){!t.isGroup&&t.anid&&(n[t.anid]=t)}),n}();e.traverse(function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var r=i(t);t.attr(i(e)),he(t,r,n,t.dataIndex)}}})}},clipPointsByRect:function(t,e){return nc.map(t,function(t){var n=t[0];n=mp(n,e.x),n=yp(n,e.x+e.width);var r=t[1];return r=mp(r,e.y),[n,r=yp(r,e.y+e.height)]})},clipRectByRect:function(t,e){var n=mp(t.x,e.x),r=yp(t.x+t.width,e.x+e.width),i=mp(t.y,e.y),o=yp(t.y+t.height,e.y+e.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}},createIcon:function(t,e,n){var r=(e=nc.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),nc.defaults(r,n),new Zl(e)):Xt(t.replace("path://",""),e,n,"center")}},bp=["textStyle","color"],wp={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(bp):null)},getFont:function(){return _p.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return Pl.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},Mp=Vf([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Sp={getItemStyle:function(t,e){var n=Mp(this,t,e),r=this.getBorderLineDash();return r&&(n.lineDash=r),n},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},Ap=Lf.makeInner,Tp=zf,Op=Rf,Ip=nc.mixin,Cp=Ap();pe.prototype={constructor:pe,init:null,mergeOption:function(t){nc.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:ge(this.option,this.parsePath(t),!e&&ve(this,t))},getShallow:function(t,e){var n=this.option,r=null==n?n:n[t],i=!e&&ve(this,t);return null==r&&i&&(r=i.getShallow(t)),r},getModel:function(t,e){var n;return new pe(null==t?this.option:ge(this.option,t=this.parsePath(t)),e=e||(n=ve(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(nc.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){Cp(this).getParent=t},isAnimationEnabled:function(){if(!Hu.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Tp(pe),Op(pe),Ip(pe,Hf),Ip(pe,Gf),Ip(pe,wp),Ip(pe,Sp);var kp=pe,Dp=jf,Lp=0,Ep={getUID:function(t){return[t||"",Lp++,Math.random().toFixed(5)].join("_")},enableSubTypeDefaulter:function(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=Dp(t),e[t.main]=n},t.determineSubType=function(n,r){var i=r.type;if(!i){var o=Dp(n).main;t.hasSubTypes(n)&&e[o]&&(i=e[o](r))}return i},t},enableTopologicalTravel:function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,r,i,o){function a(t){u[t].entryCount--,0===u[t].entryCount&&c.push(t)}if(t.length){var s=function(t){var r={},i=[];return nc.each(t,function(o){var a=n(r,o),s=function(t,e){var n=[];return nc.each(t,function(t){nc.indexOf(e,t)>=0&&n.push(t)}),n}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&i.push(o),nc.each(s,function(t){nc.indexOf(a.predecessor,t)<0&&a.predecessor.push(t);var e=n(r,t);nc.indexOf(e.successor,t)<0&&e.successor.push(o)})}),{graph:r,noEntryList:i}}(r),u=s.graph,c=s.noEntryList,l={};for(nc.each(t,function(t){l[t]=!0});c.length;){var f=c.pop(),h=u[f],d=!!l[f];d&&(i.call(o,f,h.originalDeps.slice()),delete l[f]),nc.each(h.successor,d?function(t){l[t]=!0,a(t)}:a)}nc.each(l,function(){throw new Error("Circle dependency may exists")})}}}},Pp=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,Np={linearMap:function(t,e,n,r){var i=e[1]-e[0],o=n[1]-n[0];if(0===i)return 0===o?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*o+n[0]},parsePercent:function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?t.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},round:function(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t},asc:function(t){return t.sort(function(t,e){return t-e}),t},getPrecision:function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},getPrecisionSafe:function(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var i=e.indexOf(".");return i<0?0:e.length-1-i},getPixelPrecision:function(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),o=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20},getPercentWithPrecision:function(t,e,n){if(!t[e])return 0;var r=nc.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===r)return 0;for(var i=Math.pow(10,n),o=nc.map(t,function(t){return(isNaN(t)?0:t)/r*i*100}),a=100*i,s=nc.map(o,function(t){return Math.floor(t)}),u=nc.reduce(s,function(t,e){return t+e},0),c=nc.map(o,function(t,e){return t-s[e]});u<a;){for(var l=Number.NEGATIVE_INFINITY,f=null,h=0,d=c.length;h<d;++h)c[h]>l&&(l=c[h],f=h);++s[f],c[f]=0,++u}return s[e]/i},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(t){var e=2*Math.PI;return(t%e+e)%e},isRadianAroundZero:function(t){return t>-1e-4&&t<1e-4},parseDate:function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=Pp.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))},quantity:function(t){return Math.pow(10,me(t))},nice:function(t,e){var n=me(t),r=Math.pow(10,n),i=t/r;return t=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+t.toFixed(n<0?-n:0):t},reformIntervals:function(t){t.sort(function(t,e){return function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]==(r?-1:1)||!r&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,o=t[r].close,a=0;a<2;a++)i[a]<=e&&(i[a]=e,o[a]=a?1:1-n),e=i[a],n=o[a];i[0]===i[1]&&o[0]*o[1]!=1?t.splice(r,1):r++}return t},isNumeric:function(t){return t-parseFloat(t)>=0}},jp=/([&<>"'])/g,zp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rp=["a","b","c","d","e","f","g"],Bp=function(t,e){return"{"+t+(null==e?"":e)+"}"},Vp={addCommas:function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")},toCamelCase:function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},normalizeCssArray:nc.normalizeCssArray,encodeHTML:ye,formatTpl:function(t,e,n){nc.isArray(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],o=0;o<i.length;o++){var a=Rp[o];t=t.replace(Bp(a),Bp(a,0))}for(var s=0;s<r;s++)for(var u=0;u<i.length;u++){var c=e[s][i[u]];t=t.replace(Bp(Rp[u],s),n?ye(c):c)}return t},formatTplSimple:function(t,e,n){return nc.each(e,function(e,r){t=t.replace("{"+r+"}",n?ye(e):e)}),t},getTooltipMarker:function(t,e){var n=(t=nc.isString(t)?{color:t,extraCssText:e}:t||{}).color,r=t.type;e=t.extraCssText;return n?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ye(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+ye(n)+";"+(e||"")+'"></span>':""},formatTime:function(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=Np.parseDate(e),i=n?"UTC":"",o=r["get"+i+"FullYear"](),a=r["get"+i+"Month"]()+1,s=r["get"+i+"Date"](),u=r["get"+i+"Hours"](),c=r["get"+i+"Minutes"](),l=r["get"+i+"Seconds"](),f=r["get"+i+"Milliseconds"]();return t.replace("MM",xe(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100).replace("dd",xe(s,2)).replace("d",s).replace("hh",xe(u,2)).replace("h",u).replace("mm",xe(c,2)).replace("m",c).replace("ss",xe(l,2)).replace("s",l).replace("SSS",xe(f,3))},capitalFirst:function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},truncateText:Pl.truncateText,getTextRect:Pl.getBoundingRect},Fp=Np.parsePercent,Hp=nc.each,Wp=["left","right","top","bottom","width","height"],Gp=[["width","left","right"],["height","top","bottom"]],qp=_e,Up=nc.curry(_e,"vertical"),Yp=nc.curry(_e,"horizontal"),Xp={LOCATION_PARAMS:Wp,HV_NAMES:Gp,box:qp,vbox:Up,hbox:Yp,getAvailableSize:function(t,e,n){var r=e.width,i=e.height,o=Fp(t.x,r),a=Fp(t.y,i),s=Fp(t.x2,r),u=Fp(t.y2,i);return(isNaN(o)||isNaN(parseFloat(t.x)))&&(o=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=r),(isNaN(a)||isNaN(parseFloat(t.y)))&&(a=0),(isNaN(u)||isNaN(parseFloat(t.y2)))&&(u=i),n=Vp.normalizeCssArray(n||0),{width:Math.max(s-o-n[1]-n[3],0),height:Math.max(u-a-n[0]-n[2],0)}},getLayoutRect:be,positionElement:function(t,e,n,r,i){var o=!i||!i.hv||i.hv[0],a=!i||!i.hv||i.hv[1],s=i&&i.boundingMode||"all";if(o||a){var u;if("raw"===s)u="group"===t.type?new tl(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();(u=u.clone()).applyTransform(c)}e=be(nc.defaults({width:u.width,height:u.height},e),n,r);var l=t.position,f=o?e.x-u.x:0,h=a?e.y-u.y:0;t.attr("position","raw"===s?[f,h]:[l[0]+f,l[1]+h])}},sizeCalculable:function(t,e){return null!=t[Gp[e][0]]||null!=t[Gp[e][1]]&&null!=t[Gp[e][2]]},mergeLayoutParam:function(t,e,n){function r(n,r){var a={},u=0,c={},l=0;if(Hp(n,function(e){c[e]=t[e]}),Hp(n,function(t){i(e,t)&&(a[t]=c[t]=e[t]),o(a,t)&&u++,o(c,t)&&l++}),s[r])return o(e,n[1])?c[n[2]]=null:o(e,n[2])&&(c[n[1]]=null),c;if(2!==l&&u){if(u>=2)return a;for(var f=0;f<n.length;f++){var h=n[f];if(!i(a,h)&&i(t,h)){a[h]=t[h];break}}return a}return c}function i(t,e){return t.hasOwnProperty(e)}function o(t,e){return null!=t[e]&&"auto"!==t[e]}function a(t,e,n){Hp(t,function(t){e[t]=n[t]})}!nc.isObject(n)&&(n={});var s=n.ignoreSize;!nc.isArray(s)&&(s=[s,s]);var u=r(Gp[0],0),c=r(Gp[1],1);a(Gp[0],t,u),a(Gp[1],t,c)},getLayoutParams:function(t){return we({},t)},copyLayoutParams:we},Zp=Bf,$p=jf,Kp=(0,Lf.makeInner)(),Jp=kp.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,r){kp.call(this,t,e,n,r),this.uid=Ep.getUID("ec_cpt_model")},init:function(t,e,n,r){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?Xp.getLayoutParams(t):{},i=e.getTheme();nc.merge(t,i.get(this.mainType)),nc.merge(t,this.getDefaultOption()),n&&Xp.mergeLayoutParam(t,r,n)},mergeOption:function(t,e){nc.merge(this.option,t,!0);var n=this.layoutMode;n&&Xp.mergeLayoutParam(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=Kp(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var r=n.prototype.defaultOption;r&&e.push(r),n=n.superClass}for(var i={},o=e.length-1;o>=0;o--)i=nc.merge(i,e[o],!0);t.defaultOption=i}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});Zp(Jp,{registerWhenExtend:!0}),Ep.enableSubTypeDefaulter(Jp),Ep.enableTopologicalTravel(Jp,function(t){var e=[];return nc.each(Jp.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=nc.map(e,function(t){return $p(t).main}),"dataset"!==t&&nc.indexOf(e,"dataset")<=0&&e.unshift("dataset"),e}),nc.mixin(Jp,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var Qp=Jp,tg="";"undefined"!=typeof navigator&&(tg=navigator.platform||"");var eg={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:tg.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},ng=Lf.makeInner,rg=Lf.normalizeToArray,ig=ng(),og={clearColorPalette:function(){ig(this).colorIdx=0,ig(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var r=ig(e=e||this),i=r.colorIdx||0,o=r.colorNameMap=r.colorNameMap||{};if(o.hasOwnProperty(t))return o[t];var a=rg(this.get("color",!0)),s=this.get("colorLayer",!0),u=null!=n&&s?function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}(s,n):a;if((u=u||a)&&u.length){var c=u[i];return t&&(o[t]=c),r.colorIdx=(i+1)%u.length,c}}},ag=nc.createHashMap,sg=(nc.retrieve,nc.each),ug={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis")[0],o=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),Me(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),Me(o)&&(r.set("y",o),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",i),Me(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar")[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),Me(o)&&(r.set("radius",o),e.firstCategoryDimIndex=0),Me(a)&&(r.set("angle",a),e.firstCategoryDimIndex=1)},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,o=i.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();sg(o.parallelAxisIndex,function(t,o){var s=i.getComponent("parallelAxis",t),u=a[o];n.set(u,s),Me(s)&&null==e.firstCategoryDimIndex&&(r.set(u,s),e.firstCategoryDimIndex=o)})}},cg=function(t){var e=t.get("coordinateSystem"),n={coordSysName:e,coordSysDims:[],axisMap:ag(),categoryAxisMap:ag()},r=ug[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n},lg="original",fg="arrayRows",hg="objectRows",dg="keyedColumns",pg="unknown",gg="typedArray",vg="column",mg="row",yg=nc.createHashMap,xg=nc.isTypedArray,_g=Rf,bg=lg,wg=vg,Mg=pg,Sg=gg,Ag=dg;Se.seriesDataToSource=function(t){return new Se({data:t,sourceFormat:xg(t)?Sg:bg,fromDataset:!1})},_g(Se);var Tg=Se,Og=Lf.makeInner,Ig=Lf.getDataItemValue,Cg=cg,kg=nc.createHashMap,Dg=nc.each,Lg=nc.map,Eg=nc.isArray,Pg=nc.isString,Ng=nc.isObject,jg=nc.isTypedArray,zg=nc.isArrayLike,Rg=nc.extend,Bg=(nc.assert,lg),Vg=fg,Fg=hg,Hg=dg,Wg=pg,Gg=gg,qg=mg,Ug=Og(),Yg=function(t){var e=t.option.source,n=Wg;if(jg(e))n=Gg;else if(Eg(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];if(null!=o){if(Eg(o)){n=Vg;break}if(Ng(o)){n=Fg;break}}}else if(Ng(e)){for(var a in e)if(e.hasOwnProperty(a)&&zg(e[a])){n=Hg;break}}else if(null!=e)throw new Error("Invalid data");Ug(t).sourceFormat=n},Xg=function(t){return Ug(t).source},Zg=function(t){Ug(t).datasetMap=kg()},$g=function(t){var e=t.option,n=e.data,r=jg(n)?Gg:Bg,i=!1,o=e.seriesLayoutBy,a=e.sourceHeader,s=e.dimensions,u=function(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}(t);if(u){var c=u.option;n=c.source,r=Ug(u).sourceFormat,i=!0,o=o||c.seriesLayoutBy,null==a&&(a=c.sourceHeader),s=s||c.dimensions}var l=function(t,e,n,r,i){if(!t)return{dimensionsDefine:Ae(i)};var o,a,s,u;if(e===Vg)"auto"===r||null==r?Te(function(t){null!=t&&"-"!==t&&(Pg(t)?null==a&&(a=1):a=0)},n,t,10):a=r?1:0,i||1!==a||(i=[],Te(function(t,e){i[e]=null!=t?t:""},n,t)),o=i?i.length:n===qg?t.length:t[0]?t[0].length:null;else if(e===Fg)i||(i=function(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var r=[];return Dg(e,function(t,e){r.push(e)}),r}}(t),s=!0);else if(e===Hg)i||(i=[],s=!0,Dg(t,function(t,e){i.push(e)}));else if(e===Bg){var c=Ig(t[0]);o=Eg(c)&&c.length||1}return s&&Dg(i,function(t,e){"name"===(Ng(t)?t.name:t)&&(u=e)}),{startIndex:a,dimensionsDefine:Ae(i),dimensionsDetectCount:o,potentialNameDimIndex:u}}(n,r,o,a,s),f=e.encode;!f&&u&&(f=function(t,e,n,r,i,o){var a=Cg(t),s={},u=[],c=[],l=t.subType,f=kg(["pie","map","funnel"]),h=kg(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(a&&null!=h.get(l)){var d=t.ecModel,p=Ug(d).datasetMap,g=e.uid+"_"+i,v=p.get(g)||p.set(g,{categoryWayDim:1,valueWayDim:0});Dg(a.coordSysDims,function(t){if(null==a.firstCategoryDimIndex)e=v.valueWayDim++,s[t]=e,c.push(e);else if(a.categoryAxisMap.get(t))s[t]=0,u.push(0);else{var e=v.categoryWayDim++;s[t]=e,c.push(e)}})}else if(null!=f.get(l)){for(var m,y=0;y<5&&null==m;y++)Oe(n,r,i,o.dimensionsDefine,o.startIndex,y)||(m=y);if(null!=m){s.value=m;var x=o.potentialNameDimIndex||Math.max(m-1,0);c.push(x),u.push(x)}}return u.length&&(s.itemName=u),c.length&&(s.seriesName=c),s}(t,u,n,r,o,l)),Ug(t).source=new Tg({data:n,fromDataset:i,seriesLayoutBy:o,sourceFormat:r,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectCount:l.dimensionsDetectCount,encodeDefine:f})},Kg=function(t,e){return Oe(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)},Jg=nc.each,Qg=nc.filter,tv=nc.map,ev=nc.isArray,nv=nc.indexOf,rv=nc.isObject,iv=nc.isString,ov=nc.createHashMap,av=nc.assert,sv=nc.clone,uv=nc.merge,cv=nc.extend,lv=nc.mixin,fv=Zg,hv="\0_ec_inner",dv=kp.extend({init:function(t,e,n,r){n=n||{},this.option=null,this._theme=new kp(n),this._optionManager=r},setOption:function(t,e){av(!(hv in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var r=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(r)):function(t){t=t,this.option={},this.option[hv]=1,this._componentsMap=ov({series:[]}),this._seriesIndices,this._seriesIndicesMap,function(t,e){var n=t.color&&!t.colorLayer;Jg(e,function(e,r){"colorLayer"===r&&n||Qp.hasClass(r)||("object"==typeof e?t[r]=t[r]?uv(t[r],e,!1):sv(e):null==t[r]&&(t[r]=e))})}(t,this._theme.option),uv(t,eg,!1),this.mergeOption(t)}.call(this,r),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var i=n.getTimelineOption(this);i&&(this.mergeOption(i),e=!0)}if(!t||"recreate"===t||"media"===t){var o=n.getMediaOption(this,this._api);o.length&&Jg(o,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,n=this._componentsMap,r=[];fv(this),Jg(t,function(t,n){null!=t&&(Qp.hasClass(n)?n&&r.push(n):e[n]=null==e[n]?sv(t):uv(e[n],t,!0))}),Qp.topologicalTravel(r,Qp.getAllClassMainTypes(),function(r,i){var o=Lf.normalizeToArray(t[r]),a=Lf.mappingToExists(n.get(r),o);Lf.makeIdAndName(a),Jg(a,function(t,e){var n=t.option;rv(n)&&(t.keyInfo.mainType=r,t.keyInfo.subType=function(t,e,n){return e.type?e.type:n?n.subType:Qp.determineSubType(t,e)}(r,n,t.exist))});var s=function(t,e){ev(e)||(e=e?[e]:[]);var n={};return Jg(e,function(e){n[e]=(t.get(e)||[]).slice()}),n}(n,i);e[r]=[],n.set(r,[]),Jg(a,function(t,i){var o=t.exist,a=t.option;if(av(rv(a)||o,"Empty component definition"),a){var u=Qp.getClass(r,t.keyInfo.subType,!0);if(o&&o instanceof u)o.name=t.keyInfo.name,o.mergeOption(a,this),o.optionUpdated(a,!1);else{var c=cv({dependentModels:s,componentIndex:i},t.keyInfo);o=new u(a,this,this,c),cv(o,c),o.init(a,this,this,c),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);n.get(r)[i]=o,e[r][i]=o.option},this),"series"===r&&Ie(this,n.get("series"))},this),this._seriesIndicesMap=ov(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=sv(this.option);return Jg(t,function(e,n){if(Qp.hasClass(n)){for(var r=(e=Lf.normalizeToArray(e)).length-1;r>=0;r--)Lf.isIdInner(e[r])&&e.splice(r,1);t[n]=e}}),delete t[hv],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,i=t.id,o=t.name,a=this._componentsMap.get(e);if(!a||!a.length)return[];if(null!=r)ev(r)||(r=[r]),n=Qg(tv(r,function(t){return a[t]}),function(t){return!!t});else if(null!=i){var s=ev(i);n=Qg(a,function(t){return s&&nv(i,t.id)>=0||!s&&t.id===i})}else if(null!=o){var u=ev(o);n=Qg(a,function(t){return u&&nv(o,t.name)>=0||!u&&t.name===o})}else n=a.slice();return Ce(n,t)},findComponents:function(t){var e=t.query,n=t.mainType,r=function(t){var e=n+"Index",r=n+"Id",i=n+"Name";return!t||null==t[e]&&null==t[r]&&null==t[i]?null:{mainType:n,index:t[e],id:t[r],name:t[i]}}(e);return function(e){return t.filter?Qg(e,t.filter):e}(Ce(r?this.queryComponents(r):this._componentsMap.get(n),t))},eachComponent:function(t,e,n){var r=this._componentsMap;if("function"==typeof t)n=e,e=t,r.each(function(t,r){Jg(t,function(t,i){e.call(n,r,t,i)})});else if(iv(t))Jg(r.get(t),e,n);else if(rv(t)){var i=this.findComponents(t);Jg(i,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return Qg(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return Qg(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){Jg(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)},this)},eachRawSeries:function(t,e){Jg(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){Jg(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];i.subType===t&&e.call(n,i,r)},this)},eachRawSeriesByType:function(t,e,n){return Jg(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){Ie(this,Qg(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;Ie(this,e.get("series"));var n=[];e.each(function(t,e){n.push(e)}),Qp.topologicalTravel(n,Qp.getAllClassMainTypes(),function(n,r){Jg(e.get(n),function(e){("series"!==n||!function(t,e){if(e){var n=e.seiresIndex,r=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=i&&t.name!==i}}(e,t))&&e.restoreData()})})}});lv(dv,og);var pv=dv,gv=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],vv=function(t){nc.each(gv,function(e){this[e]=nc.bind(t[e],t)},this)},mv={};ke.prototype={constructor:ke,create:function(t,e){var n=[];nc.each(mv,function(r,i){var o=r.create(t,e);n=n.concat(o||[])}),this._coordinateSystems=n},update:function(t,e){nc.each(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},ke.register=function(t,e){mv[t]=e},ke.get=function(t){return mv[t]};var yv=ke,xv=nc.each,_v=nc.clone,bv=nc.map,wv=nc.merge,Mv=/^(min|max)?(.+)$/;De.prototype={constructor:De,setOption:function(t,e){t&&nc.each(Lf.normalizeToArray(t.series),function(t){t&&t.data&&nc.isTypedArray(t.data)&&nc.setAsPrimitive(t.data)}),t=_v(t,!0);var n=this._optionBackup,r=function(t,e,n){var r,i,o=[],a=[],s=t.timeline;if(t.baseOption&&(i=t.baseOption),(s||t.options)&&(i=i||{},o=(t.options||[]).slice()),t.media){i=i||{};var u=t.media;xv(u,function(t){t&&t.option&&(t.query?a.push(t):r||(r=t))})}return i||(i=t),i.timeline||(i.timeline=s),xv([i].concat(o).concat(nc.map(a,function(t){return t.option})),function(t){xv(e,function(e){e(t,n)})}),{baseOption:i,timelineOptions:o,mediaDefault:r,mediaList:a}}.call(this,t,e,!n);this._newBaseOption=r.baseOption,n?(function(t,e){xv(e=e||{},function(e,n){if(null!=e){var r=t[n];if(Qp.hasClass(n)){e=Lf.normalizeToArray(e),r=Lf.normalizeToArray(r);var i=Lf.mappingToExists(r,e);t[n]=bv(i,function(t){return t.option&&t.exist?wv(t.exist,t.option,!0):t.exist||t.option})}else t[n]=wv(r,e,!0)}})}(n.baseOption,r.baseOption),r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=bv(e.timelineOptions,_v),this._mediaList=bv(e.mediaList,_v),this._mediaDefault=_v(e.mediaDefault),this._currentMediaIndices=[],_v(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=_v(n[r.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,i=this._mediaDefault,o=[],a=[];if(!r.length&&!i)return a;for(var s=0,u=r.length;s<u;s++)(function(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return nc.each(t,function(t,e){var n=e.match(Mv);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===o?t>=e:"max"===o?t<=e:t===e})(r[a],t)||(i=!1)}}),i})(r[s].query,e,n)&&o.push(s);return!o.length&&i&&(o=[-1]),o.length&&!function(t,e){return t.join(",")===e.join(",")}(o,this._currentMediaIndices)&&(a=bv(o,function(t){return _v(-1===t?i.option:r[t].option)})),this._currentMediaIndices=o,a}};var Sv=De,Av=nc.each,Tv=nc.isObject,Ov=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],Iv=nc.each,Cv=nc.isArray,kv=nc.isObject,Dv=Lf.normalizeToArray,Lv=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Ev=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Pv=function(t,e){(function(t,e){Av(ze(t.series),function(t){Tv(t)&&function(t){if(Tv(t)){Le(t),Pe(t),Ne(t,"label"),Ne(t,"upperLabel"),Ne(t,"edgeLabel"),t.emphasis&&(Ne(t.emphasis,"label"),Ne(t.emphasis,"upperLabel"),Ne(t.emphasis,"edgeLabel")),(n=t.markPoint)&&(Le(n),je(n)),(r=t.markLine)&&(Le(r),je(r));var e=t.markArea;e&&je(e);var n,r,i=t.data;if("graph"===t.type){i=i||t.nodes;var o=t.links||t.edges;if(o&&!nc.isTypedArray(o))for(s=0;s<o.length;s++)je(o[s]);nc.each(t.categories,function(t){Pe(t)})}if(i&&!nc.isTypedArray(i))for(s=0;s<i.length;s++)je(i[s]);if((n=t.markPoint)&&n.data)for(var a=n.data,s=0;s<a.length;s++)je(a[s]);if((r=t.markLine)&&r.data){var u=r.data;for(s=0;s<u.length;s++)nc.isArray(u[s])?(je(u[s][0]),je(u[s][1])):je(u[s])}"gauge"===t.type?(Ne(t,"axisLabel"),Ne(t,"title"),Ne(t,"detail")):"treemap"===t.type?(Ee(t.breadcrumb,"itemStyle"),nc.each(t.levels,function(t){Pe(t)})):"tree"===t.type&&Pe(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Av(n,function(e){Av(ze(t[e]),function(t){t&&(Ne(t,"axisLabel"),Ne(t.axisPointer,"label"))})}),Av(ze(t.parallel),function(t){var e=t&&t.parallelAxisDefault;Ne(e,"axisLabel"),Ne(e&&e.axisPointer,"label")}),Av(ze(t.calendar),function(t){Ee(t,"itemStyle"),Ne(t,"dayLabel"),Ne(t,"monthLabel"),Ne(t,"yearLabel")}),Av(ze(t.radar),function(t){Ne(t,"name")}),Av(ze(t.geo),function(t){Tv(t)&&(je(t),Av(ze(t.regions),function(t){je(t)}))}),Av(ze(t.timeline),function(t){je(t),Ee(t,"label"),Ee(t,"itemStyle"),Ee(t,"controlStyle",!0);var e=t.data;nc.isArray(e)&&nc.each(e,function(t){nc.isObject(t)&&(Ee(t,"label"),Ee(t,"itemStyle"))})}),Av(ze(t.toolbox),function(t){Ee(t,"iconStyle"),Av(t.feature,function(t){Ee(t,"iconStyle")})}),Ne(Re(t.axisPointer),"label"),Ne(Re(t.tooltip).axisPointer,"label")})(t,e),t.series=Dv(t.series),Iv(t.series,function(t){if(kv(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var n=function(t,e){e=e.split(",");for(var n=t,r=0;r<e.length&&null!=(n=n&&n[e[r]]);r++);return n}(t,"pointer.color");null!=n&&function(t,e,n,r){e=e.split(",");for(var i,o=t,a=0;a<e.length-1;a++)null==o[i=e[a]]&&(o[i]={}),o=o[i];null==o[e[a]]&&(o[e[a]]=n)}(t,"itemStyle.normal.color",n)}Be(t)}}),t.dataRange&&(t.visualMap=t.dataRange),Iv(Ev,function(e){var n=t[e];n&&(Cv(n)||(n=[n]),Iv(n,function(t){Be(t)}))})},Nv=nc.createHashMap,jv=nc.each,zv=function(t){var e=Nv();t.eachSeries(function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),i=t.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),e.each(function(t){jv(t,function(e,n){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,u=a.map(o,function(o,u,c){var l,f,h=a.get(e.stackedDimension,c);if(isNaN(h))return i;s?f=a.getRawIndex(c):l=a.get(e.stackedByDimension,c);for(var d=NaN,p=n-1;p>=0;p--){var g=t[p];if(s||(f=g.data.rawIndexOf(g.stackedByDimension,l)),f>=0){var v=g.data.getByRawIndex(g.stackResultDimension,f);if(h>=0&&v>0||h<=0&&v<0){h+=v,d=v;break}}}return r[0]=h,r[1]=d,r});a.hostModel.setData(u),e.data=u})})},Rv=(nc.isTypedArray,nc.extend),Bv=(nc.assert,nc.each),Vv=nc.isObject,Fv=Lf.getDataItemValue,Hv=Lf.isDataItemOption,Wv=Np.parseDate,Gv=gg,qv=fg,Uv=lg,Yv=hg,Xv=Ve.prototype;Xv.pure=!1,Xv.persistent=!0,Xv.getSource=function(){return this._source};var Zv={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:We},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,r=0;r<n.length;r++){var i=n[r];e.push(i?i[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Fe,getItem:He,appendData:We},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,r=0;r<n.length;r++){var i=this._data[n[r].name];e.push(i?i[t]:null)}return e},appendData:function(t){var e=this._data;Bv(t,function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])})}},original:{count:Fe,getItem:He,appendData:We},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,r=0;r<this._dimSize;r++)e[r]=this._data[n+r];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},$v={arrayRows:Ge,objectRows:function(t,e,n,r){return null!=n?t[r]:t},keyedColumns:Ge,original:function(t,e,n,r){var i=Fv(t);return null!=n&&i instanceof Array?i[n]:i},typedArray:Ge},Kv={DefaultDataProvider:Ve,defaultDimValueGetters:{arrayRows:qe,objectRows:function(t,e,n,r){return Ue(t[e],this._dimensionInfos[e])},keyedColumns:qe,original:function(t,e,n,r){var i=t&&(null==t.value?t:t.value);return!this._rawData.pure&&Hv(t)&&(this.hasItemOption=!0),Ue(i instanceof Array?i[r]:i,this._dimensionInfos[e])},typedArray:function(t,e,n,r){return t[r]}},retrieveRawValue:function(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i,o,a=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(i=s.name,o=s.index),$v[a](r,e,o,i)}}},retrieveRawAttr:function(t,e,n){if(t){var r=t.getProvider().getSource().sourceFormat;if(r===Uv||r===Yv){var i=t.getRawDataItem(e);return r!==Uv||Vv(i)||(i=null),i?i[n]:void 0}}}},Jv=Kv.retrieveRawValue,Qv=Vp.getTooltipMarker,tm=Vp.formatTpl,em=/\{@(.+?)\}/g,nm={getDataParams:function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:o,dataIndex:i,data:a,dataType:e,value:r,color:s,marker:Qv(s),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,r,i){e=e||"normal";var o=this.getData(n),a=o.getItemModel(t),s=this.getDataParams(t,n);null!=r&&s.value instanceof Array&&(s.value=s.value[r]);var u=a.get("normal"===e?[i||"label","formatter"]:[e,i||"label","formatter"]);return"function"==typeof u?(s.status=e,u(s)):"string"==typeof u?tm(u,s).replace(em,function(e,n){var r=n.length;return"["===n.charAt(0)&&"]"===n.charAt(r-1)&&(n=+n.slice(1,r-1)),Jv(o,t,n)}):void 0},getRawValue:function(t,e){return Jv(this.getData(e),t)},formatTooltip:function(){}},rm=(nc.assert,nc.isArray),im=Ye.prototype;im.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var n,r=this._upstream,i=t&&t.skip;if(this._dirty&&r){var o=this.context;o.data=o.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(n=this._plan(this.context));var a,s=e(this._modBy),u=this._modDataCount||0,c=e(t&&t.modBy),l=t&&t.modDataCount||0;s===c&&u===l||(n="reset"),(this._dirty||"reset"===n)&&(this._dirty=!1,a=function(t,e){var n,r;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((n=t._reset(t.context))&&n.progress&&(r=n.forceFirstProgress,n=n.progress),rm(n)&&!n.length&&(n=null)),t._progress=n,t._modBy=t._modDataCount=null;var i=t._downstream;return i&&i.dirty(),r}(this,i)),this._modBy=c,this._modDataCount=l;var f=t&&t.step;if(this._dueEnd=r?r._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,d=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(a||h<d)){var p=this._progress;if(rm(p))for(var g=0;g<p.length;g++)Xe(this,p[g],h,d,c,l);else Xe(this,p,h,d,c,l)}this._dueIndex=d;var v=null!=this._settedOutputEnd?this._settedOutputEnd:d;this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var om=function(){var t,e,n,r,i,o={reset:function(a,s,u,c){e=a,t=s,n=u,r=c,i=Math.ceil(r/n),o.next=n>1&&r>0?function(){var o=e%i*n+Math.ceil(e/i),a=e>=t?null:o<r?o:e;return e++,a}:function(){return e<t?e++:null}}};return o}();im.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},im.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},im.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},im.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},im.getUpstream=function(){return this._upstream},im.getDownstream=function(){return this._downstream},im.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var am=function(t){return new Ye(t)},sm=Vp.formatTime,um=Vp.encodeHTML,cm=Vp.addCommas,lm=Vp.getTooltipMarker,fm=Xp.getLayoutParams,hm=Xp.mergeLayoutParam,dm=am,pm=$g,gm=Xg,vm=Kv.retrieveRawValue,mm=Lf.makeInner(),ym=Qp.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=dm({count:function(t){return t.model.getRawData().count()},reset:function(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),function(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}}}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),pm(this);var i=this.getInitialData(t,n);$e(i,this),this.dataTask.context.data=i,mm(this).dataBeforeProcessed=i,Ze(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?fm(t):{},i=this.subType;Qp.hasClass(i)&&(i+="Series"),nc.merge(t,e.getTheme().get(this.subType)),nc.merge(t,this.getDefaultOption()),Lf.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&hm(t,r,n)},mergeOption:function(t,e){t=nc.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&hm(this.option,t,n),pm(this);var r=this.getInitialData(t,e);$e(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,mm(this).dataBeforeProcessed=r,Ze(this)},fillDataTextStyle:function(t){if(t&&!nc.isTypedArray(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&Lf.defaultEmphasis(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=Ke(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return mm(this).data},setData:function(t){var e=Ke(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}mm(this).data=t},getSource:function(){return gm(this)},getRawData:function(){return mm(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n){var r=this.getData(),i=r.mapDimension("defaultedTooltip",!0),o=i.length,a=this.getRawValue(t),s=nc.isArray(a),u=r.getItemVisual(t,"color");nc.isObject(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color),u=u||"transparent";var c=o>1||s&&!o?function(n){function o(t,n){var i=r.getDimensionInfo(n);if(i&&!1!==i.otherDims.tooltip){var o=i.type,c=lm({color:u,type:"subItem"}),l=(a?c+um(i.displayName||"-")+": ":"")+um("ordinal"===o?t+"":"time"===o?e?"":sm("yyyy/MM/dd hh:mm:ss",t):cm(t));l&&s.push(l)}}var a=nc.reduce(n,function(t,e,n){var i=r.getDimensionInfo(n);return t|(i&&!1!==i.tooltip&&null!=i.displayName)},0),s=[];return i.length?nc.each(i,function(e){o(vm(r,t,e),e)}):nc.each(n,o),(a?"<br/>":"")+s.join(a?"<br/>":", ")}(a):function(t){return um(cm(t))}(o?vm(r,t,i[0]):s?a[0]:a),l=lm(u),f=r.getName(t),h=this.name;return Lf.isNameSpecified(this)||(h=""),h=h?um(h)+(e?": ":"<br/>"):"",e?l+h+c:h+l+(f?um(f)+": "+c:c)},isAnimationEnabled:function(){if(Hu.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var r=this.ecModel,i=og.getColorFromPalette.call(this,t,e,n);return i||(i=r.getColorFromPalette(t,e,n)),i},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});nc.mixin(ym,nm),nc.mixin(ym,og);var xm=ym,_m=function(){this.group=new nl,this.uid=Ep.getUID("viewComponent")},bm=_m.prototype={constructor:_m,init:function(t,e){},render:function(t,e,n,r){},dispose:function(){}};bm.updateView=bm.updateLayout=bm.updateVisual=function(t,e,n,r){},zf(_m),Bf(_m,{registerWhenExtend:!0});var wm=_m,Mm=Lf.makeInner,Sm=function(){var t=Mm();return function(e){var n=t(e),r=e.pipelineContext,i=n.large,o=n.progressiveRender,a=n.large=r.large,s=n.progressiveRender=r.progressiveRender;return!!(i^a||o^s)&&"reset"}},Am=nc.each,Tm=am,Om=Lf.makeInner(),Im=Sm(),Cm=Je.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,r){},highlight:function(t,e,n,r){tn(t.getData(),r,"emphasis")},downplay:function(t,e,n,r){tn(t.getData(),r,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};Cm.updateView=Cm.updateLayout=Cm.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},zf(Je,["dispose"]),Bf(Je,{registerWhenExtend:!0}),Je.markUpdateMethod=function(t,e){Om(t).updateMethod=e};var km={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Dm=Je,Lm="\0__throttleOriginMethod",Em="\0__throttleRate",Pm="\0__throttleType",Nm={throttle:en,createOrUpdate:function(t,e,n,r){var i=t[e];if(i){var o=i[Lm]||i,a=i[Pm];if(i[Em]!==n||a!==r){if(null==n||!r)return t[e]=o;(i=t[e]=en(o,n,"debounce"===r))[Lm]=o,i[Pm]=r,i[Em]=n}return i}},clear:function(t,e){var n=t[e];n&&n[Lm]&&(t[e]=n[Lm])}},jm={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=(t.visualColorAccessPath||"itemStyle.color").split("."),i=t.get(r)||t.getColorFromPalette(t.name,null,e.getSeriesCount());if(n.setVisual("color",i),!e.isSeriesFiltered(t))return"function"!=typeof i||i instanceof qd||n.each(function(e){n.setItemVisual(e,"color",i(t.getDataParams(e)))}),{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(r,!0);null!=n&&t.setItemVisual(e,"color",n)}:null}}},zm={toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}},Rm=Kv.retrieveRawValue,Bm=function(t,e){function n(t,e){if("string"!=typeof t)return t;var n=t;return nc.each(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function r(t){var e=i.get(t);if(null==e){for(var n=t.split("."),r=zm.aria,o=0;o<n.length;++o)r=r[n[o]];return r}return e}var i=e.getModel("aria");if(i.get("show"))if(i.get("description"))t.setAttribute("aria-label",i.get("description"));else{var o=0;e.eachSeries(function(t,e){++o},this);var a,s=i.get("data.maxCount")||10,u=i.get("series.maxCount")||10,c=Math.min(o,u);if(!(o<1)){var l=function(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}();a=l?n(r("general.withTitle"),{title:l}):r("general.withoutTitle");var f=[];a+=n(r(o>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:o}),e.eachSeries(function(t,e){if(e<c){var i,a=t.get("name"),u="series."+(o>1?"multiple":"single")+".";i=n(i=r(a?u+"withName":u+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:function(t){return zm.series.typeNames[t]||""}(t.subType)});var l=t.getData();window.data=l,l.count()>s?i+=n(r("data.partialData"),{displayCnt:s}):i+=r("data.allData");for(var h=[],d=0;d<l.count();d++)if(d<s){var p=l.getName(d),g=Rm(l,d);h.push(n(r(p?"data.withName":"data.withoutName"),{name:p,value:g}))}i+=h.join(r("data.separator.middle"))+r("data.separator.end"),f.push(i)}}),a+=f.join(r("series.multiple.separator.middle"))+r("series.multiple.separator.end"),t.setAttribute("aria-label",a)}}},Vm=Math.PI,Fm=function(t,e){e=e||{},nc.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new _p.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),r=new _p.Arc({shape:{startAngle:-Vm/2,endAngle:-Vm/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),i=new _p.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});r.animateShape(!0).when(1e3,{endAngle:3*Vm/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Vm/2}).delay(300).start("circularInOut");var o=new _p.Group;return o.add(r),o.add(i),o.add(n),o.resize=function(){var e=t.getWidth()/2,o=t.getHeight()/2;r.setShape({cx:e,cy:o});var a=r.shape.r;i.setShape({x:e-a,y:o-a,width:2*a,height:2*a}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},o.resize(),o},Hm=nc.each,Wm=nc.map,Gm=(nc.isArray,nc.isFunction),qm=nc.createHashMap,Um=nc.noop,Ym=am,Xm=Ep.getUID,Zm=Lf.normalizeToArray,$m=nn.prototype;$m.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},$m.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,i=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=r&&r.modDataCount;return{step:i,modBy:null!=o?Math.ceil(o/i):null,modDataCount:o}}},$m.getPipeline=function(t){return this._pipelineMap.get(t)},$m.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData().count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,o=t.get("large")&&r>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:a,large:o}},$m.restorePipelines=function(t){var e=this,n=e._pipelineMap=qm();t.eachSeries(function(t){var r=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),an(e,t,t.dataTask)})},$m.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;Hm(this._allHandlers,function(r){var i=t.get(r.uid)||t.set(r.uid,[]);r.reset&&function(t,e,n,r,i){function o(n){var o=n.uid,s=a.get(o)||a.set(o,Ym({plan:function(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)},reset:function(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Zm(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Wm(e,function(t,e){return on(e)}):Jm},count:function(t){return t.data.count()}}));s.context={model:n,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},an(t,n,s)}var a=n.seriesTaskMap||(n.seriesTaskMap=qm()),s=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(o):s?r.eachRawSeriesByType(s,o):u&&u(r,i).each(o);var c=t._pipelineMap;a.each(function(t,e){c.get(e)||(t.dispose(),a.removeKey(e))})}(this,r,i,e,n),r.overallReset&&function(t,e,n,r,i){function o(e){var n=e.uid,r=s.get(n);r||(r=s.set(n,Ym({reset:function(t,e){return t.overallProgress&&function(){this.agent.dirty(),this.getDownstream().dirty()}},onDirty:function(){this.agent&&this.agent.dirty()}})),a.dirty()),r.context={model:e,overallProgress:l,modifyOutputEnd:f},r.agent=a,r.__block=l,an(t,e,r)}var a=n.overallTask=n.overallTask||Ym({reset:function(t){t.overallReset(t.ecModel,t.api,t.payload)}});a.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:t};var s=a.agentStubMap=a.agentStubMap||qm(),u=e.seriesType,c=e.getTargetSeries,l=!0,f=e.modifyOutputEnd;u?r.eachRawSeriesByType(u,o):c?c(r,i).each(o):(l=!1,Hm(r.getSeries(),o));var h=t._pipelineMap;s.each(function(t,e){h.get(e)||(t.dispose(),a.dirty(),s.removeKey(e))})}(this,r,i,e,n)},this)},$m.prepareView=function(t,e,n,r){var i=t.renderTask,o=i.context;o.model=e,o.ecModel=n,o.api=r,i.__block=!t.incrementalPrepareRender,an(this,e,i)},$m.performDataProcessorTasks=function(t,e){rn(this,this._dataProcessorHandlers,t,e,{block:!0})},$m.performVisualTasks=function(t,e,n){rn(this,this._visualHandlers,t,e,n)},$m.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},$m.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var Km=$m.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},Jm=on(0);nn.wrapStageHandler=function(t,e){return Gm(t)&&(t={overallReset:t,seriesType:function(t){Qm=null;try{t(ty,ey)}catch(t){}return Qm}(t)}),t.uid=Xm("stageHandler"),e&&(t.visualType=e),t};var Qm,ty={},ey={};sn(ty,pv),sn(ey,vv),ty.eachSeriesByType=ty.eachRawSeriesByType=function(t){Qm=t},ty.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Qm=t.subType)};var ny=nn,ry=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],iy={color:ry,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ry]},oy=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],ay={color:oy,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:oy[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:oy},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};ay.categoryAxis.splitLine.show=!1;var sy=ay,uy=Yg,cy=vg;Qp.extend({type:"dataset",defaultOption:{seriesLayoutBy:cy,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){uy(this)}}),wm.extend({type:"dataset"}),cn.prototype={constructor:cn,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},r=[],i=[];for(ln(t,{},r,"_oldKeyGetter",this),ln(e,n,i,"_newKeyGetter",this),o=0;o<t.length;o++)null!=(s=n[a=r[o]])?((c=s.length)?(1===c&&(n[a]=null),s=s.unshift()):n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o);for(var o=0;o<i.length;o++){var a=i[o];if(n.hasOwnProperty(a)){var s=n[a];if(null==s)continue;if(s.length)for(var u=0,c=s.length;u<c;u++)this._add&&this._add(s[u]);else this._add&&this._add(s)}}}};var ly=cn,fy=nc.each,hy=nc.createHashMap,dy=(nc.assert,hy(["tooltip","label","itemName","itemId","seriesName"])),py={OTHER_DIMENSIONS:dy,summarizeDimensions:function(t){var e={},n=e.encode={},r=hy(),i=[],o=[];fy(t.dimensions,function(e){var a=t.getDimensionInfo(e),s=a.coordDim;if(s){var u=n[s];n.hasOwnProperty(s)||(u=n[s]=[]),u[a.coordDimIndex]=e,a.isExtraCoord||(r.set(s,1),function(t){return!("ordinal"===t||"time"===t)}(a.type)&&(i[0]=e)),a.defaultTooltip&&o.push(e)}dy.each(function(t,e){var r=n[e];n.hasOwnProperty(e)||(r=n[e]=[]);var i=a.otherDims[e];null!=i&&!1!==i&&(r[i]=a.name)})});var a=[],s={};r.each(function(t,e){var r=n[e];s[e]=r[0],a=a.concat(r)}),e.dataDimsOnCoord=a,e.encodeFirstDimNotExtra=s;var u=n.label;u&&u.length&&(i=u.slice());var c=n.tooltip;return c&&c.length?o=c.slice():o.length||(o=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=o,e},getDimensionTypeByAxis:function(t){return"category"===t?"ordinal":"time"===t?"time":"float"}},gy=Kv.defaultDimValueGetters,vy=Kv.DefaultDataProvider,my=py.summarizeDimensions,yy=nc.isObject,xy="e\0\0",_y={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},by="undefined"==typeof Uint32Array?Array:Uint32Array,wy="undefined"==typeof Uint16Array?Array:Uint16Array,My=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Sy=["_extent","_approximateExtent","_rawExtent"],Ay=function(t,e){t=t||["x","y"];for(var n={},r=[],i={},o=0;o<t.length;o++){var a=t[o];nc.isString(a)&&(a={name:a});var s=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=s,a.coordDimIndex=0),a.otherDims=a.otherDims||{},r.push(s),n[s]=a,a.index=o,a.createInvertedIndices&&(i[s]=[])}this.dimensions=r,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=my(this),this._invertedIndicesMap=i,this._calculationInfo={}},Ty=Ay.prototype;Ty.type="list",Ty.hasItemOption=!0,Ty.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},Ty.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Ty.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Ty.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return!0===e?(r||[]).slice():r&&r[e]},Ty.initData=function(t,e,n){(Tg.isInstance(t)||nc.isArrayLike(t))&&(t=new vy(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=gy[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Ty.getProvider=function(){return this._rawData},Ty.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var r=e.count();e.persistent||(r+=n),this._initDataFromProvider(n,r)},Ty._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,r=this._chunkSize,i=this._rawData,o=this._storage,a=this.dimensions,s=a.length,u=this._dimensionInfos,c=this._nameList,l=this._idList,f=this._rawExtent,h=this._nameRepeatCount={},d=this._chunkCount,p=d-1,g=0;g<s;g++){f[T=a[g]]||(f[T]=[1/0,-1/0]);var v=u[T];0===v.otherDims.itemName&&(n=this._nameDimIdx=g),0===v.otherDims.itemId&&(this._idDimIdx=g);var m=_y[v.type];o[T]||(o[T]=[]);var y=o[T][p];if(y&&y.length<r){for(var x=new m(Math.min(e-p*r,r)),_=0;_<y.length;_++)x[_]=y[_];o[T][p]=x}for(A=d*r;A<e;A+=r)o[T].push(new m(Math.min(e-A,r)));this._chunkCount=o[T].length}for(var b=new Array(s),w=t;w<e;w++){b=i.getItem(w,b);for(var M=Math.floor(w/r),S=w%r,A=0;A<s;A++){var T=a[A],O=o[T][M],I=this._dimValueGetter(b,T,w,A);O[S]=I;var C=f[T];I<C[0]&&(C[0]=I),I>C[1]&&(C[1]=I)}if(!i.pure){var k=c[w];if(b&&null==k)if(null!=b.name)c[w]=k=b.name;else if(null!=n){var D=a[n],L=o[D][M];if(L){k=L[S];var E=u[D].ordinalMeta;E&&E.categories.length&&(k=E.categories[k])}}var P=null==b?null:b.id;null==P&&null!=k&&(h[k]=h[k]||0,P=k,h[k]>0&&(P+="__ec__"+h[k]),h[k]++),null!=P&&(l[w]=P)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent={},function(t){var e=t._invertedIndicesMap;nc.each(e,function(n,r){var i=t._dimensionInfos[r].ordinalMeta;if(i){for(n=e[r]=new by(i.categories.length),o=0;o<n.length;o++)n[o]=NaN;for(var o=0;o<t._count;o++)n[t.get(r,o)]=o}})}(this)}},Ty.count=function(){return this._count},Ty.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array)for(r=new e(n),i=0;i<n;i++)r[i]=t[i];else r=new e(t.buffer,0,n)}else for(var r=new(e=fn(this))(this.count()),i=0;i<r.length;i++)r[i]=i;return r},Ty.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var r=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return n[t][r][i]},Ty.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var r=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return n[r][i]},Ty._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return this._storage[t][n][r]},Ty.getValues=function(t,e){var n=[];nc.isArray(t)||(e=t,t=this.dimensions);for(var r=0,i=t.length;r<i;r++)n.push(this.get(t[r],e));return n},Ty.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,r=0,i=e.length;r<i;r++)if("ordinal"!==n[e[r]].type&&isNaN(this.get(e[r],t)))return!1;return!0},Ty.getDataExtent=function(t){t=this.getDimension(t);var e=[1/0,-1/0];if(!this._storage[t])return e;var n,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var i=(n=e)[0],o=n[1],a=0;a<r;a++){var s=this._getFast(t,this.getRawIndex(a));s<i&&(i=s),s>o&&(o=s)}return n=[i,o],this._extent[t]=n,n},Ty.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Ty.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Ty.getCalculationInfo=function(t){return this._calculationInfo[t]},Ty.setCalculationInfo=function(t,e){yy(t)?nc.extend(this._calculationInfo,t):this._calculationInfo[t]=e},Ty.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,r=this.count();n<r;n++){var i=this.get(t,n);isNaN(i)||(e+=i)}return e},Ty.getMedian=function(t){var e=[];this.each(t,function(t,n){isNaN(t)||e.push(t)});var n=[].concat(e).sort(function(t,e){return t-e}),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},Ty.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?-1:n},Ty.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},Ty.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var r=0,i=this._count-1;r<=i;){var o=(r+i)/2|0;if(e[o]<t)r=o+1;else{if(!(e[o]>t))return o;i=o-1}}return-1},Ty.indicesOfNearest=function(t,e,n){var r=[];if(!this._storage[t])return r;null==n&&(n=1/0);for(var i=Number.MAX_VALUE,o=-1,a=0,s=this.count();a<s;a++){var u=e-this.get(t,a),c=Math.abs(u);u<=n&&c<=i&&((c<i||u>=0&&o<0)&&(i=c,o=u,r.length=0),r.push(a))}return r},Ty.getRawIndex=pn,Ty.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];e.push(this.get(r,t))}return e},Ty.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||dn(this,this._nameDimIdx,e)||""},Ty.getId=function(t){return vn(this,this.getRawIndex(t))},Ty.each=function(t,e,n,r){if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;for(var i=(t=nc.map(mn(t),this.getDimension,this)).length,o=0;o<this.count();o++)switch(i){case 0:e.call(n,o);break;case 1:e.call(n,this.get(t[0],o),o);break;case 2:e.call(n,this.get(t[0],o),this.get(t[1],o),o);break;default:for(var a=0,s=[];a<i;a++)s[a]=this.get(t[a],o);s[a]=o,e.apply(n,s)}}},Ty.filterSelf=function(t,e,n,r){if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this,t=nc.map(mn(t),this.getDimension,this);for(var i=this.count(),o=new(fn(this))(i),a=[],s=t.length,u=0,c=t[0],l=0;l<i;l++){var f,h=this.getRawIndex(l);if(0===s)f=e.call(n,l);else if(1===s){var d=this._getFast(c,h);f=e.call(n,d,l)}else{for(var p=0;p<s;p++)a[p]=this._getFast(c,h);a[p]=l,f=e.apply(n,a)}f&&(o[u++]=h)}return u<i&&(this._indices=o),this._count=u,this._extent={},this.getRawIndex=this._indices?gn:pn,this}},Ty.selectRange=function(t){if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=e.length;if(r){var i=this.count(),o=new(fn(this))(i),a=0,s=e[0],u=t[s][0],c=t[s][1],l=!1;if(!this._indices){var f=0;if(1===r){for(var h=this._storage[e[0]],d=0;d<this._chunkCount;d++)for(var p=h[d],g=Math.min(this._count-d*this._chunkSize,this._chunkSize),v=0;v<g;v++)((b=p[v])>=u&&b<=c||isNaN(b))&&(o[a++]=f),f++;l=!0}else if(2===r){h=this._storage[s];var m=this._storage[e[1]],y=t[e[1]][0],x=t[e[1]][1];for(d=0;d<this._chunkCount;d++){p=h[d];var _=m[d];for(g=Math.min(this._count-d*this._chunkSize,this._chunkSize),v=0;v<g;v++){var b=p[v],w=_[v];(b>=u&&b<=c||isNaN(b))&&(w>=y&&w<=x||isNaN(w))&&(o[a++]=f),f++}}l=!0}}if(!l)if(1===r)for(v=0;v<i;v++)S=this.getRawIndex(v),((b=this._getFast(s,S))>=u&&b<=c||isNaN(b))&&(o[a++]=S);else for(v=0;v<i;v++){var M=!0,S=this.getRawIndex(v);for(d=0;d<r;d++){var A=e[d];((b=this._getFast(n,S))<t[A][0]||b>t[A][1])&&(M=!1)}M&&(o[a++]=this.getRawIndex(v))}return a<i&&(this._indices=o),this._count=a,this._extent={},this.getRawIndex=this._indices?gn:pn,this}}},Ty.mapArray=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},Ty.map=function(t,e,n,r){n=n||r||this;var i=yn(this,t=nc.map(mn(t),this.getDimension,this));i._indices=this._indices,i.getRawIndex=i._indices?gn:pn;for(var o=i._storage,a=[],s=this._chunkSize,u=t.length,c=this.count(),l=[],f=i._rawExtent,h=0;h<c;h++){for(var d=0;d<u;d++)l[d]=this.get(t[d],h);l[u]=h;var p=e&&e.apply(n,l);if(null!=p){"object"!=typeof p&&(a[0]=p,p=a);for(var g=this.getRawIndex(h),v=Math.floor(g/s),m=g%s,y=0;y<p.length;y++){var x=t[y],_=p[y],b=f[x],w=o[x];w&&(w[v][m]=_),_<b[0]&&(b[0]=_),_>b[1]&&(b[1]=_)}}}return i},Ty.downSample=function(t,e,n,r){for(var i=yn(this,[t]),o=i._storage,a=[],s=Math.floor(1/e),u=o[t],c=this.count(),l=this._chunkSize,f=i._rawExtent[t],h=new(fn(this))(c),d=0,p=0;p<c;p+=s){s>c-p&&(s=c-p,a.length=s);for(var g=0;g<s;g++){var v=this.getRawIndex(p+g),m=Math.floor(v/l),y=v%l;a[g]=u[m][y]}var x=n(a),_=this.getRawIndex(Math.min(p+r(a,x)||0,c-1)),b=_%l;u[Math.floor(_/l)][b]=x,x<f[0]&&(f[0]=x),x>f[1]&&(f[1]=x),h[d++]=_}return i._count=d,i._indices=h,i.getRawIndex=gn,i},Ty.getItemModel=function(t){var e=this.hostModel;return new kp(this.getRawDataItem(t),e,e&&e.ecModel)},Ty.diff=function(t){var e=this;return new ly(t?t.getIndices():[],this.getIndices(),function(e){return vn(t,e)},function(t){return vn(e,t)})},Ty.getVisual=function(t){var e=this._visual;return e&&e[t]},Ty.setVisual=function(t,e){if(yy(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},Ty.setLayout=function(t,e){if(yy(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},Ty.getLayout=function(t){return this._layout[t]},Ty.getItemLayout=function(t){return this._itemLayouts[t]},Ty.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?nc.extend(this._itemLayouts[t]||{},e):e},Ty.clearItemLayouts=function(){this._itemLayouts.length=0},Ty.getItemVisual=function(t,e,n){var r=this._itemVisuals[t],i=r&&r[e];return null!=i||n?i:this.getVisual(e)},Ty.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{},i=this.hasItemVisual;if(this._itemVisuals[t]=r,yy(e))for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o],i[o]=!0);else r[e]=n,i[e]=!0},Ty.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}},Ty.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType},e)),this._graphicEls[t]=e},Ty.getItemGraphicEl=function(t){return this._graphicEls[t]},Ty.eachItemGraphicEl=function(t,e){nc.each(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},Ty.cloneShallow=function(t){if(!t){var e=nc.map(this.dimensions,this.getDimensionInfo,this);t=new Ay(e,this.hostModel)}if(t._storage=this._storage,hn(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?gn:pn,t},Ty.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(nc.slice(arguments)))})},Ty.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Ty.CHANGABLE_METHODS=["filterSelf","selectRange"];var Oy=Ay,Iy=nc.createHashMap,Cy=nc.each,ky=nc.isString,Dy=nc.defaults,Ly=nc.extend,Ey=nc.isObject,Py=nc.clone,Ny=Lf.normalizeToArray,jy=Kg,zy=py.OTHER_DIMENSIONS,Ry=function(t,e,n){function r(t,e,n){null!=zy.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,s.set(e,!0))}Tg.isInstance(e)||(e=Tg.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var i=(n.dimsDef||[]).slice(),o=Iy(n.encodeDef),a=Iy(),s=Iy(),u=[],c=function(t,e,n,r){var i=Math.max(t.dimensionsDetectCount||1,e.length,n.length,r||0);return Cy(e,function(t){var e=t.dimsDef;e&&(i=Math.max(i,e.length))}),i}(e,t,i,n.dimCount),l=0;l<c;l++){var f=i[l]=Ly({},Ey(i[l])?i[l]:{name:i[l]}),h=f.name,d=u[l]={otherDims:{}};null!=h&&null==a.get(h)&&(d.name=d.displayName=h,a.set(h,l)),null!=f.type&&(d.type=f.type),null!=f.displayName&&(d.displayName=f.displayName)}o.each(function(t,e){t=Ny(t).slice();var n=o.set(e,[]);Cy(t,function(t,i){ky(t)&&(t=a.get(t)),null!=t&&t<c&&(n[i]=t,r(u[t],e,i))})});var p=0;Cy(t,function(t,e){var n,i,a;if(ky(t))n=t,t={};else{n=t.name;var s=t.ordinalMeta;t.ordinalMeta=null,(t=Py(t)).ordinalMeta=s,i=t.dimsDef,a=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var c=Ny(o.get(n));if(!c.length)for(var l=0;l<(i&&i.length||1);l++){for(;p<u.length&&null!=u[p].coordDim;)p++;p<u.length&&c.push(p++)}Cy(c,function(e,o){var s=u[e];if(r(Dy(s,t),n,o),null==s.name&&i){var c=i[o];!Ey(c)&&(c={name:c}),s.name=s.displayName=c.name,s.defaultTooltip=c.defaultTooltip}a&&Dy(s.otherDims,a)})});var g=n.generateCoord,v=n.generateCoordCount,m=null!=v;v=g?v||1:0;for(var y=g||"value",x=0;x<c;x++)null==(d=u[x]=u[x]||{}).coordDim&&(d.coordDim=xn(y,s,m),d.coordDimIndex=0,(!g||v<=0)&&(d.isExtraCoord=!0),v--),null==d.name&&(d.name=xn(d.coordDim,a)),null==d.type&&jy(e,x,d.name)&&(d.type="ordinal");return u},By=function(t,e){return Ry((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})},Vy=nc.each,Fy=nc.isString,Hy={enableDataStack:function(t,e,n){var r,i,o,a,s=(n=n||{}).byIndex,u=n.stackedCoordDimension,c=!(!t||!t.get("stack"));if(Vy(e,function(t,n){Fy(t)&&(e[n]=t={name:t}),c&&!t.isExtraCoord&&(s||r||!t.ordinalMeta||(r=t),i||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(i=t))}),!i||s||r||(s=!0),i){o="__\0ecstackresult",a="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var l=i.coordDim,f=i.type,h=0;Vy(e,function(t){t.coordDim===l&&h++}),e.push({name:o,coordDim:l,coordDimIndex:h,type:f,isExtraCoord:!0,isCalculationCoord:!0}),h++,e.push({name:a,coordDim:a,coordDimIndex:h,type:f,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:i&&i.name,stackedByDimension:r&&r.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:o}},isDimensionStacked:_n,getStackedDimension:function(t,e){return _n(t,e)?t.getCalculationInfo("stackResultDimension"):e}},Wy=lg,Gy=py.getDimensionTypeByAxis,qy=Lf.getDataItemValue,Uy=cg,Yy=Hy.enableDataStack,Xy=function(t,e,n){n=n||{},Tg.isInstance(t)||(t=Tg.seriesDataToSource(t));var r,i=e.get("coordinateSystem"),o=yv.get(i),a=Uy(e);a&&(r=nc.map(a.coordSysDims,function(t){var e={name:t},n=a.axisMap.get(t);if(n){var r=n.get("type");e.type=Gy(r)}return e})),r||(r=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var s,u,c=By(t,{coordDimensions:r,generateCoord:n.generateCoord});a&&nc.each(c,function(t,e){var n=t.coordDim,r=a.categoryAxisMap.get(n);r&&(null==s&&(s=e),t.ordinalMeta=r.getOrdinalMeta()),null!=t.otherDims.itemName&&(u=!0)}),u||null==s||(c[s].otherDims.itemName=0);var l=Yy(e,c),f=new Oy(c,e);f.setCalculationInfo(l);var h=null!=s&&function(t){if(t.sourceFormat===Wy){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!nc.isArray(qy(e))}}(t)?function(t,e,n,r){return r===s?n:this.defaultDimValueGetter(t,e,n,r)}:null;return f.hasItemOption=!1,f.initData(t,null,h),f};bn.prototype.parse=function(t){return t},bn.prototype.getSetting=function(t){return this._setting[t]},bn.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},bn.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},bn.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},bn.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},bn.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},bn.prototype.getExtent=function(){return this._extent.slice()},bn.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},bn.prototype.isBlank=function(){return this._isBlank},bn.prototype.setBlank=function(t){this._isBlank=t},bn.prototype.getLabel=null,zf(bn),Bf(bn,{registerWhenExtend:!0});var Zy=bn,$y=nc.createHashMap,Ky=nc.isObject,Jy=nc.map;wn.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&Jy(n,function(t){return Ky(t)&&null!=t.value?t.value:t+""});return new wn({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})};var Qy=wn.prototype;Qy.getOrdinal=function(t){return Mn(this).get(t)},Qy.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=Mn(this);return null==(e=r.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e};var tx=wn,ex=Zy.prototype,nx=Zy.extend({type:"ordinal",init:function(t,e){t&&!nc.isArray(t)||(t=new tx({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),ex.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return ex.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(ex.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:nc.noop,niceExtent:nc.noop});nx.create=function(){return new nx};var rx=nx,ix=Np.round,ox={intervalScaleNiceTicks:function(t,e,n,r){var i={},o=t[1]-t[0],a=i.interval=Np.nice(o/e,!0);null!=n&&a<n&&(a=i.interval=n),null!=r&&a>r&&(a=i.interval=r);var s=i.intervalPrecision=Sn(a);return Tn(i.niceTickExtent=[ix(Math.ceil(t[0]/a)*a,s),ix(Math.floor(t[1]/a)*a,s)],t),i},getIntervalPrecision:Sn,fixExtent:Tn,intervalScaleGetTicks:function(t,e,n,r){var i=[];if(!t)return i;e[0]<n[0]&&i.push(e[0]);for(var o=n[0];o<=n[1]&&(i.push(o),(o=ix(o+t,r))!==i[i.length-1]);)if(i.length>1e4)return[];return e[1]>(i.length?i[i.length-1]:n[1])&&i.push(e[1]),i}},ax=Np.round,sx=Zy.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),sx.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=ox.getIntervalPrecision(t)},getTicks:function(){return ox.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=Np.getPrecisionSafe(t)||0:"auto"===n&&(n=this._intervalPrecision),t=ax(t,n,!0),Vp.addCommas(t)},niceTicks:function(t,e,n){t=t||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var o=ox.intervalScaleNiceTicks(r,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=ax(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=ax(Math.ceil(e[1]/i)*i))}});sx.create=function(){return new sx};var ux=sx,cx=Np.parsePercent,lx=Hy.isDimensionStacked,fx="__ec_stack_",hx="undefined"!=typeof Float32Array?Float32Array:Array,dx={getLayoutOnAxis:function(t){var e=[],n=t.axis;if("category"===n.type){for(var r=n.getBandWidth(),i=0;i<t.count;i++)e.push(nc.defaults({bandWidth:r,axisKey:"axis0",stackId:fx+i},t));var o=Dn(e),a=[];for(i=0;i<t.count;i++){var s=o.axis0[fx+i];s.offsetCenter=s.offset+s.width/2,a.push(s)}return a}},prepareLayoutBarSeries:Cn,makeColumnLayout:kn,retrieveColumnLayout:Ln,layout:function(t,e){var n=Cn(t,e),r=kn(n),i={},o={};nc.each(n,function(t){var e=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),s=On(t),u=r[In(a)][s],c=u.offset,l=u.width,f=n.getOtherAxis(a),h=t.get("barMinHeight")||0;i[s]=i[s]||[],o[s]=o[s]||[],e.setLayout({offset:c,size:l});for(var d=e.mapDimension(f.dim),p=e.mapDimension(a.dim),g=lx(e,d),v=f.isHorizontal(),m=Nn(a,f,g),y=0,x=e.count();y<x;y++){var _=e.get(d,y),b=e.get(p,y);if(!isNaN(_)){var w,M,S,A,T=_>=0?"p":"n",O=m;if(g&&(i[s][b]||(i[s][b]={p:m,n:m}),O=i[s][b][T]),v)w=O,M=(I=n.dataToPoint([_,b]))[1]+c,S=I[0]-m,A=l,Math.abs(S)<h&&(S=(S<0?-1:1)*h),g&&(i[s][b][T]+=S);else{var I=n.dataToPoint([b,_]);w=I[0]+c,M=O,S=l,A=I[1]-m,Math.abs(A)<h&&(A=(A<=0?-1:1)*h),g&&(i[s][b][T]+=A)}e.setItemLayout(y,{x:w,y:M,width:S,height:A})}}},this)},largeLayout:{seriesType:"bar",plan:Sm(),reset:function(t){if(En(t)&&Pn(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),i=n.getOtherAxis(r),o=e.mapDimension(i.dim),a=e.mapDimension(r.dim),s=i.isHorizontal(),u=s?0:1,c=Ln(kn([t]),r,t).width;return c>.5||(c=.5),{progress:function(t,e){for(var l,f=new hx(2*t.count),h=[],d=[],p=0;null!=(l=t.next());)d[u]=e.get(o,l),d[1-u]=e.get(a,l),h=n.dataToPoint(d,null,h),f[p++]=h[0],f[p++]=h[1];e.setLayout({largePoints:f,barWidth:c,valueAxisStart:Nn(r,i,!1),valueAxisHorizontal:s})}}}}}},px=ux.prototype,gx=Math.ceil,vx=Math.floor,mx=ux.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return Vp.formatTime(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=Np.round(vx(e[0]/r)*r)),t.fixMax||(e[1]=Np.round(gx(e[1]/r)*r))},niceTicks:function(t,e,n){t=t||10;var r=this._extent,i=r[1]-r[0],o=i/t;null!=e&&o<e&&(o=e),null!=n&&o>n&&(o=n);var a=yx.length,s=function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n}(yx,o,0,a),u=yx[Math.min(s,a-1)],c=u[1];if("year"===u[0]){var l=i/c;c*=Np.nice(l/t,!0)}var f=this.getSetting("useUTC")?0:60*new Date(+r[0]||+r[1]).getTimezoneOffset()*1e3,h=[Math.round(gx((r[0]-f)/c)*c+f),Math.round(vx((r[1]-f)/c)*c+f)];ox.fixExtent(h,r),this._stepLvl=u,this._interval=c,this._niceExtent=h},parse:function(t){return+Np.parseDate(t)}});nc.each(["contain","normalize"],function(t){mx.prototype[t]=function(e){return px[t].call(this,this.parse(e))}});var yx=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];mx.create=function(t){return new mx({useUTC:t.ecModel.get("useUTC")})};var xx=Zy.prototype,_x=ux.prototype,bx=Np.getPrecisionSafe,Mx=Np.round,Sx=Math.floor,Ax=Math.ceil,Tx=Math.pow,Ox=Math.log,Ix=Zy.extend({type:"log",base:10,$constructor:function(){Zy.apply(this,arguments),this._originalScale=new ux},getTicks:function(){var t=this._originalScale,e=this._extent,n=t.getExtent();return nc.map(_x.getTicks.call(this),function(r){var i=Np.round(Tx(this.base,r));return i=r===e[0]&&t.__fixMin?jn(i,n[0]):i,r===e[1]&&t.__fixMax?jn(i,n[1]):i},this)},getLabel:_x.getLabel,scale:function(t){return t=xx.scale.call(this,t),Tx(this.base,t)},setExtent:function(t,e){var n=this.base;t=Ox(t)/Ox(n),e=Ox(e)/Ox(n),_x.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=xx.getExtent.call(this);e[0]=Tx(t,e[0]),e[1]=Tx(t,e[1]);var n=this._originalScale,r=n.getExtent();return n.__fixMin&&(e[0]=jn(e[0],r[0])),n.__fixMax&&(e[1]=jn(e[1],r[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Ox(t[0])/Ox(e),t[1]=Ox(t[1])/Ox(e),xx.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=Np.quantity(n);for(t/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var i=[Np.round(Ax(e[0]/r)*r),Np.round(Sx(e[1]/r)*r)];this._interval=r,this._niceExtent=i}},niceExtent:function(t){_x.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});nc.each(["contain","normalize"],function(t){Ix.prototype[t]=function(e){return e=Ox(e)/Ox(this.base),xx[t].call(this,e)}}),Ix.create=function(){return new Ix};var Cx=dx.prepareLayoutBarSeries,kx=dx.makeColumnLayout,Dx=dx.retrieveColumnLayout,Lx={getScaleExtent:zn,niceScaleExtent:function(t,e){var n=zn(t,e),r=null!=e.getMin(),i=null!=e.getMax(),o=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var a=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:o,fixMin:r,fixMax:i,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)},createScaleByModel:function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new rx(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new ux;default:return(Zy.getClass(e)||ux).create(t)}},ifAxisCrossZero:function(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)},makeLabelFormatter:Rn,getAxisRawValue:Bn,estimateLabelUnionRect:function(t){var e=t.model,n=t.scale;if(e.get("axisLabel.show")&&!n.isBlank()){var r,i,o="category"===t.type,a=n.getExtent();i=o?n.count():(r=n.getTicks()).length;var s,u=t.getLabelModel(),c=Rn(t),l=1;i>40&&(l=Math.ceil(i/40));for(var f=0;f<i;f+=l){var h=c(r?r[f]:a[0]+f),d=function(t,e){var n=(u.get("rotate")||0)*Math.PI/180,r=t.plain(),i=r.width,o=r.height,a=i*Math.cos(n)+o*Math.sin(n),s=i*Math.sin(n)+o*Math.cos(n);return new tl(r.x,r.y,a,s)}(u.getTextRect(h));s?s.union(d):s=d}return s}}},Ex={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!nc.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!nc.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:nc.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Px=_p.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),Nx=_p.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),jx=_p.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),u=r-o+a+s,c=Math.asin(s/a),l=Math.cos(c)*a,f=Math.sin(c),h=Math.cos(c),d=.6*a,p=.7*a;t.moveTo(n-l,u+s),t.arc(n,u,a,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(n+l-f*d,u+s+h*d,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-l+f*d,u+s+h*d,n-l,u+s),t.closePath()}}),zx=_p.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),Rx={line:_p.Line,rect:_p.Rect,roundRect:_p.Rect,square:_p.Rect,circle:_p.Circle,diamond:Nx,pin:jx,arrow:zx,triangle:Px},Bx={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},Vx={};nc.each(Rx,function(t,e){Vx[e]=new t});var Fx=_p.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var r=e.symbolType,i=Vx[r];"none"!==e.symbolType&&(i||(i=Vx[r="rect"]),Bx[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n))}}),Hx={createSymbol:function(t,e,n,r,i,o,a){var s,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?_p.makeImage(t.slice(8),new tl(e,n,r,i),a?"center":"cover"):0===t.indexOf("path://")?_p.makePath(t.slice(7),{},new tl(e,n,r,i),a?"center":"cover"):new Fx({shape:{symbolType:t,x:e,y:n,width:r,height:i}})).__isEmptyBrush=u,s.setColor=function(t,e){if("image"!==this.type){var n=this.style,r=this.shape;r&&"line"===r.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}},s.setColor(o),s}},Wx=(Xp.getLayoutRect,Xp.getLayoutRect),Gx=Hy.enableDataStack,qx=Hy.isDimensionStacked,Ux=Hy.getStackedDimension,Yx={getLayoutRect:Wx,completeDimensions:Ry,createDimensions:By,createSymbol:Hx.createSymbol,createList:function(t){return Xy(t.getSource(),t)},dataStack:{isDimensionStacked:qx,enableDataStack:Gx,getStackedDimension:Ux},createScale:function(t,e){var n=e;kp.isInstance(e)||(n=new kp(e),nc.mixin(n,Ex));var r=Lx.createScaleByModel(n);return r.setExtent(t[0],t[1]),Lx.niceScaleExtent(r,n),r},mixinAxisModelCommonMethods:function(t){nc.mixin(t,Ex)}},Xx=1e-8,Zx=function(t,e,n){var r=0,i=t[0];if(!i)return!1;for(var o=1;o<t.length;o++){var a=t[o];r+=Vh(i[0],i[1],a[0],a[1],e,n),i=a}var s=t[0];return Vn(i[0],s[0])&&Vn(i[1],s[1])||(r+=Vh(i[0],i[1],s[0],s[1],e,n)),0!==r};Fn.prototype={constructor:Fn,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],r=[-e,-e],i=[],o=[],a=this.geometries,s=0;s<a.length;s++)if("polygon"===a[s].type){var u=a[s].exterior;fh(u,i,o),ic.min(n,n,i),ic.max(r,r,o)}return 0===s&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new tl(n[0],n[1],r[0]-n[0],r[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,i=n.length;r<i;r++)if("polygon"===n[r].type){var o=n[r].exterior,a=n[r].interiors;if(Zx(o,t[0],t[1])){for(var s=0;s<(a?a.length:0);s++)if(Zx(a[s]))continue t;return!0}}return!1},transformTo:function(t,e,n,r){var i=this.getBoundingRect(),o=i.width/i.height;n?r||(r=n/o):n=o*r;for(var a=new tl(t,e,n,r),s=i.calculateTransform(a),u=this.geometries,c=0;c<u.length;c++)if("polygon"===u[c].type){for(var l=u[c].exterior,f=u[c].interiors,h=0;h<l.length;h++)ic.applyTransform(l[h],l[h],s);for(var d=0;d<(f?f.length:0);d++)for(h=0;h<f[d].length;h++)ic.applyTransform(f[d][h],f[d][h],s)}(i=this._rect).copy(a),this.center=[i.x+i.width/2,i.y+i.height/2]}};var $x=Fn,Kx=function(t){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,r=0;r<n.length;r++)for(var i=n[r].geometry,o=i.coordinates,a=i.encodeOffsets,s=0;s<o.length;s++){var u=o[s];if("Polygon"===i.type)o[s]=Hn(u,a[s],e);else if("MultiPolygon"===i.type)for(var c=0;c<u.length;c++){var l=u[c];u[c]=Hn(l,a[s][c],e)}}t.UTF8Encoding=!1}(t),nc.map(nc.filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,n=t.geometry,r=n.coordinates,i=[];"Polygon"===n.type&&i.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===n.type&&nc.each(r,function(t){t[0]&&i.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var o=new $x(e.name,i,e.cp);return o.properties=e,o})},Jx=Lf.makeInner,Qx=Lx.makeLabelFormatter,t_=Jx(),e_=function(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=Wn(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=Qx(t);return{labels:nc.map(e,function(e,r){return{formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e}})}}(t)},n_=function(t,e){return"category"===t.type?function(t,e){var n,r,i=Gn(t,"ticks"),o=Zn(e),a=qn(i,o);if(a)return a;if(e.get("show")&&!t.scale.isBlank()||(n=[]),nc.isFunction(o))n=Xn(t,o,!0);else if("auto"===o){var s=Wn(t,t.getLabelModel());r=s.labelCategoryInterval,n=nc.map(s.labels,function(t){return t.tickValue})}else n=Yn(t,r=o,!0);return Un(i,o,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:t.scale.getTicks()}},r_=function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=Qx(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var u=o[0],c=t.dataToCoord(u+1)-t.dataToCoord(u),l=Math.abs(c*Math.cos(r)),f=Math.abs(c*Math.sin(r)),h=0,d=0;u<=o[1];u+=s){var p,g,v=Pl.getBoundingRect(n(u),e.font,"center","top");p=1.3*v.width,g=1.3*v.height,h=Math.max(h,p,7),d=Math.max(d,g,7)}var m=h/l,y=d/f;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(Math.min(m,y))),_=t_(t.model),b=_.lastAutoInterval,w=_.lastTickCount;return null!=b&&null!=w&&Math.abs(b-x)<=1&&Math.abs(w-a)<=1&&b>x?x=b:(_.lastTickCount=a,_.lastAutoInterval=x),x},i_=nc.each,o_=nc.map,a_=Np.linearMap,s_=Np.getPixelPrecision,u_=n_,c_=e_,l_=r_,f_=[0,1],h_=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};h_.prototype={constructor:h_,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return s_(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&$n(n=n.slice(),r.count()),a_(t,f_,n,e)},coordToData:function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&$n(n=n.slice(),r.count());var i=a_(t,n,f_,e);return this.scale.scale(i)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=u_(this,e),r=n.ticks,i=o_(r,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),o=e.get("alignWithLabel");return function(t,e,n,r,i){function o(t,e){return l?t>e:t<e}var a=e.length;if(t.onBand&&!r&&a){var s,u=t.getExtent();if(1===a)e[0].coord=u[0],s=e[1]={coord:u[0]};else{var c=e[1].coord-e[0].coord;i_(e,function(t){t.coord-=c/2;var e=e||0;e%2>0&&(t.coord-=c/(2*(e+1)))}),s={coord:e[a-1].coord+c},e.push(s)}var l=u[0]>u[1];o(e[0].coord,u[0])&&(i?e[0].coord=u[0]:e.shift()),i&&o(u[0],e[0].coord)&&e.unshift({coord:u[0]}),o(u[1],s.coord)&&(i?s.coord=u[1]:e.pop()),i&&o(s.coord,u[1])&&e.push({coord:u[1]})}}(this,i,n.tickCategoryInterval,o,t.clamp),i},getViewLabels:function(){return c_(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return l_(this)}};var d_=h_,p_=Tf,g_=dc,v_=ic,m_=Lc,y_=_p,x_=Np,__=Vp,b_=Nm.throttle,w_=Yx,M_=Kx,S_=Oy,A_=kp,T_=d_,O_=Hu,I_=Kx,C_={};nc.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){C_[t]=nc[t]});var k_={zrender:p_,matrix:g_,vector:v_,color:m_,graphic:y_,number:x_,format:__,throttle:b_,helper:w_,parseGeoJSON:M_,List:S_,Model:A_,Axis:T_,env:O_,parseGeoJson:I_,util:C_},D_=t(function(t,e){function n(t){return function(e,n,r){e=e&&e.toLowerCase(),uc.prototype[t].call(this,e,n,r)}}function r(){uc.call(this)}function i(t,e,n){function i(t,e){return t.__prio-e.__prio}n=n||{},"string"==typeof e&&(e=X[e]),this.id,this.group,this._dom=t;var o=this._zr=Tf.init(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=O(nc.bind(o.flush,o),17),(e=nc.clone(e))&&Pv(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new yv;var a=this._api=function(t){var e=t._coordSysMgr;return nc.extend(new vv(t),{getCoordinateSystems:nc.bind(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}(this);il(Y,i),il(G,i),this._scheduler=new ny(this,a,G,Y),uc.call(this),this._messageCenter=new r,this._initEvents(),this.resize=nc.bind(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),function(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[z]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}(o,this),nc.setAsPrimitive(this)}function o(t,e,n){var r,i=this._model,o=this._coordSysMgr.getCoordinateSystems();e=Lf.parseFinder(i,e);for(var a=0;a<o.length;a++){var s=o[a];if(s[t]&&null!=(r=s[t](i,e,n)))return r}}function a(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),h(t,"component",e,n),h(t,"chart",e,n),n.plan()}function s(t,e,n,r,i){function o(r){r&&r.__alive&&r[e]&&r[e](r.__model,a,t._api,n)}var a=t._model;if(r){var s={};s[r+"Id"]=n[r+"Id"],s[r+"Index"]=n[r+"Index"],s[r+"Name"]=n[r+"Name"];var u={mainType:r,query:s};i&&(u.subType=i);var c=n.excludeSeriesId;null!=c&&(c=nc.createHashMap(Lf.normalizeToArray(c))),a&&a.eachComponent(u,function(e){c&&null!=c.get(e.id)||o(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else C(t._componentsViews.concat(t._chartsViews),o)}function u(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries(function(t){r.updateStreamModes(t,n[t.__viewId])})}function c(t,e){var n=t.type,r=t.escapeConnect,i=H[n],o=i.actionInfo,u=(o.update||"update").split(":"),c=u.pop();u=null!=u[0]&&L(u[0]),this[j]=!0;var l=[t],f=!1;t.batch&&(f=!0,l=nc.map(t.batch,function(e){return(e=nc.defaults(nc.extend({},e),t)).batch=null,e}));var h,d=[],p="highlight"===n||"downplay"===n;C(l,function(t){(h=(h=i.action(t,this._model,this._api))||nc.extend({},t)).type=o.event||h.type,d.push(h),p?s(this,c,t,"series"):u&&s(this,c,t,u.main,u.sub)},this),"none"===c||p||u||(this[z]?(a(this),V.update.call(this,t),this[z]=!1):V[c].call(this,t)),h=f?{type:o.event||n,escapeConnect:r,batch:d}:d[0],this[j]=!1,!e&&this._messageCenter.trigger(h.type,h)}function l(t){for(var e=this._pendingActions;e.length;){var n=e.shift();c.call(this,n,t)}}function f(t){!t&&this.trigger("updated")}function h(t,e,n,r){function i(t){var e="_ec_"+t.id+"_"+t.type,i=s[e];if(!i){var l=L(t.type);(i=new(o?wm.getClass(l.main,l.sub):Dm.getClass(l.sub))).init(n,c),s[e]=i,a.push(i),u.add(i.group)}t.__viewId=i.__id=e,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!o&&r.prepareView(i,t,n,c)}for(var o="component"===e,a=o?t._componentsViews:t._chartsViews,s=o?t._componentsMap:t._chartsMap,u=t._zr,c=t._api,l=0;l<a.length;l++)a[l].__alive=!1;for(o?n.eachComponent(function(t,e){"series"!==t&&i(e)}):n.eachSeries(i),l=0;l<a.length;){var f=a[l];f.__alive?l++:(!o&&f.renderTask.dispose(),u.remove(f.group),f.dispose(n,c),a.splice(l,1),delete s[f.__id],f.__id=f.group.__ecComponentInfo=null)}}function d(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function p(t,e,n,r){!function(t,e,n,r,i){C(t._componentsViews,function(t){var i=t.__model;t.render(i,e,n,r),m(i,t)})}(t,e,n,r),C(t._chartsViews,function(t){t.__alive=!1}),g(t,e,n,r),C(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function g(t,e,n,r,i){var o,a=t._scheduler;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var s=n.renderTask;a.updatePayload(s,r),i&&i.get(e.uid)&&s.dirty(),o|=s.perform(a.getPerformArgs(s)),n.group.silent=!!e.get("silent"),m(e,n),function(t,e){var n=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}(e,n)}),a.unfinished|=o,function(t,e){var n=t.storage,r=0;n.traverse(function(t){t.isGroup||r++}),r>e.get("hoverLayerThreshold")&&!Hu.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}(t._zr,e),Bm(t._zr.dom,e)}function v(t,e){C(U,function(n){n(t,e)})}function m(t,e){var n=t.get("z"),r=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=r&&(t.zlevel=r))})}function y(t){K[t]=!1}function x(t){return $[Lf.getAttribute(t,tt)]}function _(t,e){X[t]=e}function b(t){q.push(t)}function w(t,e){A(G,t,e,E)}function M(t,e,n){"function"==typeof e&&(n=e,e="");var r=D(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,I(R.test(r)&&R.test(e)),H[r]||(H[r]={action:n,actionInfo:t}),W[e]=r}function S(t,e){A(Y,t,e,P,"visual")}function A(t,e,n,r,i){(k(e)||D(e))&&(n=e,e=r);var o=ny.wrapStageHandler(n,i);return o.__prio=e,o.__raw=n,t.push(o),o}function T(t,e){Z[t]=e}var O=Nm.throttle,I=nc.assert,C=nc.each,k=nc.isFunction,D=nc.isObject,L=Qp.parseClassType,E=1e3,P=3e3,N={PROCESSOR:{FILTER:E,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,GLOBAL:2e3,CHART:P,COMPONENT:4e3,BRUSH:5e3}},j="__flagInMainProcess",z="__optionUpdated",R=/^[a-zA-Z0-9_]+$/;r.prototype.on=n("on"),r.prototype.off=n("off"),r.prototype.one=n("one"),nc.mixin(r,uc);var B=i.prototype;B._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[z]){var e=this[z].silent;this[j]=!0,a(this),V.update.call(this),this[j]=!1,this[z]=!1,l.call(this,e),f.call(this,e)}else if(t.unfinished){var n=1,r=this._model;this._api,t.unfinished=!1;do{var i=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),u(this,r),t.performVisualTasks(r),g(this,this._model,0,"remain"),n-=+new Date-i}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},B.getDom=function(){return this._dom},B.getZr=function(){return this._zr},B.setOption=function(t,e,n){var r;if(D(e)&&(n=e.lazyUpdate,r=e.silent,e=e.notMerge),this[j]=!0,!this._model||e){var i=new Sv(this._api),o=this._theme,s=this._model=new pv(null,null,o,i);s.scheduler=this._scheduler,s.init(null,null,o,i)}this._model.setOption(t,q),n?(this[z]={silent:r},this[j]=!1):(a(this),V.update.call(this),this._zr.flush(),this[z]=!1,this[j]=!1,l.call(this,r),f.call(this,r))},B.setTheme=function(){},B.getModel=function(){return this._model},B.getOption=function(){return this._model&&this._model.getOption()},B.getWidth=function(){return this._zr.getWidth()},B.getHeight=function(){return this._zr.getHeight()},B.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},B.getRenderedCanvas=function(t){if(Hu.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},B.getSvgDataUrl=function(){if(Hu.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return nc.each(e,function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},B.getDataURL=function(t){var e=(t=t||{}).excludeComponents,n=this._model,r=[],i=this;C(e,function(t){n.eachComponent({mainType:t},function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return C(r,function(t){t.group.ignore=!1}),o},B.getConnectedDataURL=function(t){if(Hu.canvasSupported){var e=this.group,n=Math.min,r=Math.max;if(K[e]){var i=1/0,o=1/0,a=-1/0,s=-1/0,u=[],c=t&&t.pixelRatio||1;nc.each($,function(c,l){if(c.group===e){var f=c.getRenderedCanvas(nc.clone(t)),h=c.getDom().getBoundingClientRect();i=n(h.left,i),o=n(h.top,o),a=r(h.right,a),s=r(h.bottom,s),u.push({dom:f,left:h.left,top:h.top})}});var l=(a*=c)-(i*=c),f=(s*=c)-(o*=c),h=nc.createCanvas();h.width=l,h.height=f;var d=Tf.init(h);return C(u,function(t){var e=new _p.Image({style:{x:t.left*c-i,y:t.top*c-o,image:t.dom}});d.add(e)}),d.refreshImmediately(),h.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},B.convertToPixel=nc.curry(o,"convertToPixel"),B.convertFromPixel=nc.curry(o,"convertFromPixel"),B.containPixel=function(t,e){var n,r=this._model;return t=Lf.parseFinder(r,t),nc.each(t,function(t,r){r.indexOf("Models")>=0&&nc.each(t,function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(e);else if("seriesModels"===r){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n|=o.containPoint(e,t))}},this)},this),!!n},B.getVisual=function(t,e){var n=this._model,r=(t=Lf.parseFinder(n,t,{defaultMainType:"series"})).seriesModel.getData(),i=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?r.indexOfRawIndex(t.dataIndex):null;return null!=i?r.getItemVisual(i,e):r.getVisual(e)},B.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},B.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var V={prepareAndUpdate:function(t){a(this),V.update.call(this,t)},update:function(t){var e=this._model,n=this._api,r=this._zr,i=this._coordSysMgr,o=this._scheduler;if(e){o.restoreData(e,t),o.performSeriesTasks(e),i.create(e,n),o.performDataProcessorTasks(e,t),u(this,e),i.update(e,n),d(e),o.performVisualTasks(e,t),p(this,e,n,t);var a=e.get("backgroundColor")||"transparent";if(Hu.canvasSupported)r.setBackgroundColor(a);else{var s=Lc.parse(a);a=Lc.stringify(s,"rgb"),0===s[3]&&(a="transparent")}v(e,n)}},updateTransform:function(t){var e=this._model,n=this,r=this._api;if(e){var i=[];e.eachComponent(function(o,a){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(a,e,r,t);u&&u.update&&i.push(s)}else i.push(s)});var o=nc.createHashMap();e.eachSeries(function(i){var a=n._chartsMap[i.__viewId];if(a.updateTransform){var s=a.updateTransform(i,e,r,t);s&&s.update&&o.set(i.uid,1)}else o.set(i.uid,1)}),d(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:o}),g(n,e,0,t,o),v(e,this._api)}},updateView:function(t){var e=this._model;e&&(Dm.markUpdateMethod(t,"updateView"),d(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),p(this,this._model,this._api,t),v(e,this._api))},updateVisual:function(t){V.update.call(this,t)},updateLayout:function(t){V.update.call(this,t)}};B.resize=function(t){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[j]=!0,n&&a(this),V.update.call(this),this[j]=!1,l.call(this,r),f.call(this,r)}},B.showLoading=function(t,e){if(D(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Z[t]){var n=Z[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},B.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},B.makeActionFromEvent=function(t){var e=nc.extend({},t);return e.type=W[t.type],e},B.dispatchAction=function(t,e){D(e)||(e={silent:!!e}),H[t.type]&&this._model&&(this[j]?this._pendingActions.push(t):(c.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Hu.browser.weChat&&this._throttledZrFlush(),l.call(this,e.silent),f.call(this,e.silent)))},B.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},B.on=n("on"),B.off=n("off"),B.one=n("one");var F=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];B._initEvents=function(){C(F,function(t){this._zr.on(t,function(e){var n,r=this.getModel(),i=e.target;if("globalout"===t)n={};else if(i&&null!=i.dataIndex){var o=i.dataModel||r.getSeriesByIndex(i.seriesIndex);n=o&&o.getDataParams(i.dataIndex,i.dataType)||{}}else i&&i.eventData&&(n=nc.extend({},i.eventData));n&&(n.event=e,n.type=t,this.trigger(t,n))},this)},this),C(W,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},B.isDisposed=function(){return this._disposed},B.clear=function(){this.setOption({series:[]},!0)},B.dispose=function(){if(!this._disposed){this._disposed=!0,Lf.setAttribute(this.getDom(),tt,"");var t=this._api,e=this._model;C(this._componentsViews,function(n){n.dispose(e,t)}),C(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete $[this.id]}},nc.mixin(i,uc);var H={},W={},G=[],q=[],U=[],Y=[],X={},Z={},$={},K={},J=new Date-0,Q=new Date-0,tt="_echarts_instance_",et={},nt=y;S(2e3,jm),b(Pv),w(5e3,zv),T("default",Fm),M({type:"highlight",event:"highlight",update:"highlight"},nc.noop),M({type:"downplay",event:"downplay",update:"downplay"},nc.noop),_("light",iy),_("dark",sy),e.version="4.1.0",e.dependencies={zrender:"4.0.4"},e.PRIORITY=N,e.init=function(t,e,n){var r=x(t);if(r)return r;var o=new i(t,e,n);return o.id="ec_"+J++,$[o.id]=o,Lf.setAttribute(t,tt,o.id),function(t){function e(t,e){for(var r=0;r<t.length;r++)t[r][n]=e}var n="__connectUpdateStatus";C(W,function(r,i){t._messageCenter.on(i,function(r){if(K[t.group]&&0!==t[n]){if(r&&r.escapeConnect)return;var i=t.makeActionFromEvent(r),o=[];C($,function(e){e!==t&&e.group===t.group&&o.push(e)}),e(o,0),C(o,function(t){1!==t[n]&&t.dispatchAction(i)}),e(o,2)}})})}(o),o},e.connect=function(t){if(nc.isArray(t)){var e=t;t=null,C(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+Q++,C(e,function(e){e.group=t})}return K[t]=!0,t},e.disConnect=y,e.disconnect=nt,e.dispose=function(t){"string"==typeof t?t=$[t]:t instanceof i||(t=x(t)),t instanceof i&&!t.isDisposed()&&t.dispose()},e.getInstanceByDom=x,e.getInstanceById=function(t){return $[t]},e.registerTheme=_,e.registerPreprocessor=b,e.registerProcessor=w,e.registerPostUpdate=function(t){U.push(t)},e.registerAction=M,e.registerCoordinateSystem=function(t,e){yv.register(t,e)},e.getCoordinateSystemDimensions=function(t){var e=yv.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},e.registerLayout=function(t,e){A(Y,t,e,1e3,"layout")},e.registerVisual=S,e.registerLoading=T,e.extendComponentModel=function(t){return Qp.extend(t)},e.extendComponentView=function(t){return wm.extend(t)},e.extendSeriesModel=function(t){return xm.extend(t)},e.extendChartView=function(t){return Dm.extend(t)},e.setCanvasCreator=function(t){nc.$override("createCanvas",t)},e.registerMap=function(t,e,n){e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),et[t]={geoJson:e,specialAreas:n}},e.getMap=function(t){return et[t]},e.dataTool={},function(){for(var t in k_)k_.hasOwnProperty(t)&&(e[t]=k_[t])}()}),L_=(D_.version,D_.dependencies,D_.PRIORITY,D_.init,D_.connect,D_.disConnect,D_.disconnect,D_.dispose,D_.getInstanceByDom,D_.getInstanceById,D_.registerTheme,D_.registerPreprocessor,D_.registerProcessor,D_.registerPostUpdate,D_.registerAction,D_.registerCoordinateSystem,D_.getCoordinateSystemDimensions,D_.registerLayout,D_.registerVisual,D_.registerLoading,D_.extendComponentModel,D_.extendComponentView,D_.extendSeriesModel,D_.extendChartView,D_.setCanvasCreator,D_.registerMap,D_.getMap,D_.dataTool,xm.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return Xy(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}}),Kv.retrieveRawValue),E_={getDefaultLabel:function(t,e){var n=t.mapDimension("defaultedLabel",!0),r=n.length;if(1===r)return L_(t,e,n[0]);if(r){for(var i=[],o=0;o<n.length;o++){var a=L_(t,e,n[o]);i.push(a)}return i.join(" ")}}},P_=Hx.createSymbol,N_=Np.parsePercent,j_=E_.getDefaultLabel,z_=Kn.prototype,R_=Kn.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};z_._createSymbol=function(t,e,n,r,i){this.removeAll();var o=e.getItemVisual(n,"color"),a=P_(t,-1,-1,2,2,o,i);a.attr({z2:100,culling:!0,scale:Jn(r)}),a.drift=function(t,e){this.parent.drift(t,e)},this._symbolType=t,this.add(a)},z_.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},z_.getSymbolPath=function(){return this.childAt(0)},z_.getScale=function(){return this.childAt(0).scale},z_.highlight=function(){this.childAt(0).trigger("emphasis")},z_.downplay=function(){this.childAt(0).trigger("normal")},z_.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},z_.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},z_.updateData=function(t,e,n){this.silent=!1;var r=t.getItemVisual(e,"symbol")||"circle",i=t.hostModel,o=R_(t,e),a=r!==this._symbolType;if(a){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(r,t,e,o,s)}else(u=this.childAt(0)).silent=!1,_p.updateProps(u,{scale:Jn(o)},i,e);if(this._updateCommon(t,e,o,n),a){var u=this.childAt(0),c=n&&n.fadeIn,l={scale:u.scale.slice()};c&&(l.style={opacity:u.style.opacity}),u.scale=[0,0],c&&(u.style.opacity=0),_p.initProps(u,l,i,e)}this._seriesModel=i};var B_=["itemStyle"],V_=["emphasis","itemStyle"],F_=["label"],H_=["emphasis","label"];z_._updateCommon=function(t,e,n,r){var i=this.childAt(0),o=t.hostModel,a=t.getItemVisual(e,"color");"image"!==i.type&&i.useStyle({strokeNoScale:!0});var s=r&&r.itemStyle,u=r&&r.hoverItemStyle,c=r&&r.symbolRotate,l=r&&r.symbolOffset,f=r&&r.labelModel,h=r&&r.hoverLabelModel,d=r&&r.hoverAnimation,p=r&&r.cursorStyle;if(!r||t.hasItemOption){var g=r&&r.itemModel?r.itemModel:t.getItemModel(e);s=g.getModel(B_).getItemStyle(["color"]),u=g.getModel(V_).getItemStyle(),c=g.getShallow("symbolRotate"),l=g.getShallow("symbolOffset"),f=g.getModel(F_),h=g.getModel(H_),d=g.getShallow("hoverAnimation"),p=g.getShallow("cursor")}else u=nc.extend({},u);var v=i.style;i.attr("rotation",(c||0)*Math.PI/180||0),l&&i.attr("position",[N_(l[0],n[0]),N_(l[1],n[1])]),p&&i.attr("cursor",p),i.setColor(a,r&&r.symbolInnerColor),i.setStyle(s);var m=t.getItemVisual(e,"opacity");null!=m&&(v.opacity=m);var y=t.getItemVisual(e,"liftZ"),x=i.__z2Origin;null!=y?null==x&&(i.__z2Origin=i.z2,i.z2+=y):null!=x&&(i.z2=x,i.__z2Origin=null);var _=r&&r.useNameLabel;_p.setLabelStyle(v,u,f,h,{labelFetcher:o,labelDataIndex:e,defaultText:function(e,n){return _?t.getName(e):j_(t,e)},isRectText:!0,autoColor:a}),i.off("mouseover").off("mouseout").off("emphasis").off("normal"),i.hoverStyle=u,_p.setHoverStyle(i);var b=Jn(n);if(d&&o.isAnimationEnabled()){var w=function(){if(!this.incremental){var t=b[1]/b[0];this.animateTo({scale:[Math.max(1.1*b[0],b[0]+3),Math.max(1.1*b[1],b[1]+3*t)]},400,"elasticOut")}},M=function(){this.incremental||this.animateTo({scale:b},400,"elasticOut")};i.on("mouseover",w).on("mouseout",M).on("emphasis",w).on("normal",M)}},z_.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,!(e&&e.keepLabel)&&(n.style.text=null),_p.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},nc.inherits(Kn,_p.Group);var W_=Kn,G_=nc.isObject,q_=Qn.prototype;q_.updateData=function(t,e){e=er(e);var n=this.group,r=t.hostModel,i=this._data,o=this._symbolCtor,a=nr(t);i||n.removeAll(),t.diff(i).add(function(r){var i=t.getItemLayout(r);if(tr(t,i,r,e)){var s=new o(t,r,a);s.attr("position",i),t.setItemGraphicEl(r,s),n.add(s)}}).update(function(s,u){var c=i.getItemGraphicEl(u),l=t.getItemLayout(s);tr(t,l,s,e)?(c?(c.updateData(t,s,a),_p.updateProps(c,{position:l},r)):(c=new o(t,s)).attr("position",l),n.add(c),t.setItemGraphicEl(s,c)):n.remove(c)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._data=t},q_.isPersistent=function(){return!0},q_.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,n){var r=t.getItemLayout(n);e.attr("position",r)})},q_.incrementalPrepareUpdate=function(t){this._seriesScope=nr(t),this._data=null,this.group.removeAll()},q_.incrementalUpdate=function(t,e,n){n=er(n);for(var r=t.start;r<t.end;r++){var i=e.getItemLayout(r);if(tr(e,i,r,n)){var o=new this._symbolCtor(e,r,this._seriesScope);o.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),o.attr("position",i),this.group.add(o),e.setItemGraphicEl(r,o)}}},q_.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var U_=Qn,Y_=Hy.isDimensionStacked,X_=nc.map,Z_=function(t,e,n){var r,i=t.getBaseAxis(),o=t.getOtherAxis(i),a=function(t,e){var n=0,r=o.scale.getExtent();return"start"===e?n=r[0]:"end"===e?n=r[1]:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}(0,n),s=i.dim,u=o.dim,c=e.mapDimension(u),l=e.mapDimension(s),f="x"===u||"radius"===u?1:0,h=X_(t.dimensions,function(t){return e.mapDimension(t)}),d=e.getCalculationInfo("stackResultDimension");return(r|=Y_(e,h[0]))&&(h[0]=d),(r|=Y_(e,h[1]))&&(h[1]=d),{dataDimsForPoint:h,valueStart:a,valueAxisDim:u,baseAxisDim:s,stacked:!!r,valueDim:c,baseDim:l,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}},$_=function(t,e,n,r){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,r),a[1-o]=i,e.dataToPoint(a)},K_=Z_,J_=$_,Q_=ic.min,tb=ic.max,eb=ic.scaleAndAdd,nb=ic.copy,rb=[],ib=[],ob=[],ab={Polyline:Jh.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:yd(Jh.prototype.brush),buildPath:function(t,e){var n=e.points,r=0,i=n.length,o=or(n,e.smoothConstraint);if(e.connectNulls){for(;i>0&&rr(n[i-1]);i--);for(;r<i&&rr(n[r]);r++);}for(;r<i;)r+=ir(t,n,r,i,i,1,o.min,o.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Polygon:Jh.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:yd(Jh.prototype.brush),buildPath:function(t,e){var n=e.points,r=e.stackedOnPoints,i=0,o=n.length,a=e.smoothMonotone,s=or(n,e.smoothConstraint),u=or(r,e.smoothConstraint);if(e.connectNulls){for(;o>0&&rr(n[o-1]);o--);for(;i<o&&rr(n[i]);i++);}for(;i<o;){var c=ir(t,n,i,o,o,1,s.min,s.max,e.smooth,a,e.connectNulls);ir(t,r,i+c-1,c,o,-1,u.min,u.max,e.stackedOnSmooth,a,e.connectNulls),i+=c+1,t.closePath()}}})},sb=ab.Polyline,ub=ab.Polygon,cb=Np.round,lb=Z_,fb=$_,hb=(Dm.extend({type:"line",init:function(){var t=new _p.Group,e=new U_;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var r=t.coordinateSystem,i=this.group,o=t.getData(),a=t.getModel("lineStyle"),s=t.getModel("areaStyle"),u=o.mapArray(o.getItemLayout),c="polar"===r.type,l=this._coordSys,f=this._symbolDraw,h=this._polyline,d=this._polygon,p=this._lineGroup,g=t.get("animation"),v=!s.isEmpty(),m=s.get("origin"),y=function(t,e,n){if(!n.valueDim)return[];for(var r=[],i=0,o=e.count();i<o;i++)r.push(fb(n,t,e,i));return r}(r,o,lb(r,o,m)),x=t.get("showSymbol"),_=x&&!c&&function(t,e,n){var r=t.get("showAllSymbol"),i="auto"===r;if(!r||i){var o=n.getAxesByScale("ordinal")[0];if(o&&(!i||!function(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),o=Math.max(1,Math.round(i/5)),a=0;a<i;a+=o)if(1.5*W_.getSymbolSize(e,a)[t.isHorizontal()?1:0]>r)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return nc.each(o.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}(t,o,r),b=this._data;b&&b.eachItemGraphicEl(function(t,e){t.__temp&&(i.remove(t),b.setItemGraphicEl(e,null))}),x||f.remove(),i.add(p);var w=!c&&t.get("step");h&&l.type===r.type&&w===this._step?(v&&!d?d=this._newPolygon(u,y,r,g):d&&!v&&(p.remove(d),d=this._polygon=null),p.setClipPath(cr(r,!1,!1,t)),x&&f.updateData(o,{isIgnore:_,clipShape:cr(r,!1,!0,t)}),o.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),ar(this._stackedOnPoints,y)&&ar(this._points,u)||(g?this._updateAnimation(o,y,r,n,w,m):(w&&(u=lr(u,r,w),y=lr(y,r,w)),h.setShape({points:u}),d&&d.setShape({points:u,stackedOnPoints:y})))):(x&&f.updateData(o,{isIgnore:_,clipShape:cr(r,!1,!0,t)}),w&&(u=lr(u,r,w),y=lr(y,r,w)),h=this._newPolyline(u,r,g),v&&(d=this._newPolygon(u,y,r,g)),p.setClipPath(cr(r,!0,!1,t)));var M=function(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var r,i,o=n.length-1;o>=0;o--){var a=n[o].dimension,s=t.dimensions[a],u=t.getDimensionInfo(s);if("x"===(r=u&&u.coordDim)||"y"===r){i=n[o];break}}if(i){var c=e.getAxis(r),l=nc.map(i.stops,function(t){return{coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}}),f=l.length,h=i.outerColors.slice();f&&l[0].coord>l[f-1].coord&&(l.reverse(),h.reverse());var d=l[0].coord-10,p=l[f-1].coord+10,g=p-d;if(g<.001)return"transparent";nc.each(l,function(t){t.offset=(t.coord-d)/g}),l.push({offset:f?l[f-1].offset:.5,color:h[1]||"transparent"}),l.unshift({offset:f?l[0].offset:.5,color:h[0]||"transparent"});var v=new _p.LinearGradient(0,0,0,0,l,!0);return v[r]=d,v[r+"2"]=p,v}}}(o,r)||o.getVisual("color");h.useStyle(nc.defaults(a.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var S=t.get("smooth");if(S=sr(t.get("smooth")),h.setShape({smooth:S,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),d){var A=o.getCalculationInfo("stackedOnSeries"),T=0;d.useStyle(nc.defaults(s.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),A&&(T=sr(A.get("smooth"))),d.setShape({smooth:S,stackedOnSmooth:T,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=o,this._coordSys=r,this._stackedOnPoints=y,this._points=u,this._step=w,this._valueOrigin=m},dispose:function(){},highlight:function(t,e,n,r){var i=t.getData(),o=Lf.queryDataIndex(i,r);if(!(o instanceof Array)&&null!=o&&o>=0){var a=i.getItemGraphicEl(o);if(!a){var s=i.getItemLayout(o);if(!s)return;(a=new W_(i,o)).position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,i.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else Dm.prototype.highlight.call(this,t,e,n,r)},downplay:function(t,e,n,r){var i=t.getData(),o=Lf.queryDataIndex(i,r);if(null!=o&&o>=0){var a=i.getItemGraphicEl(o);a&&(a.__temp?(i.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else Dm.prototype.downplay.call(this,t,e,n,r)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new sb({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new ub({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(t,e,n,r,i,o){var a=this._polyline,s=this._polygon,u=t.hostModel,c=function(t,e,n,r,i,o,a,s){for(var u=function(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}(t,e),c=[],l=[],f=[],h=[],d=[],p=[],g=[],v=K_(i,e,a),m=K_(o,t,s),y=0;y<u.length;y++){var x=u[y],_=!0;switch(x.cmd){case"=":var b=t.getItemLayout(x.idx),w=e.getItemLayout(x.idx1);(isNaN(b[0])||isNaN(b[1]))&&(b=w.slice()),c.push(b),l.push(w),f.push(n[x.idx]),h.push(r[x.idx1]),g.push(e.getRawIndex(x.idx1));break;case"+":M=x.idx,c.push(i.dataToPoint([e.get(v.dataDimsForPoint[0],M),e.get(v.dataDimsForPoint[1],M)])),l.push(e.getItemLayout(M).slice()),f.push(J_(v,i,e,M)),h.push(r[M]),g.push(e.getRawIndex(M));break;case"-":var M=x.idx,S=t.getRawIndex(M);S!==M?(c.push(t.getItemLayout(M)),l.push(o.dataToPoint([t.get(m.dataDimsForPoint[0],M),t.get(m.dataDimsForPoint[1],M)])),f.push(n[M]),h.push(J_(m,o,t,M)),g.push(S)):_=!1}_&&(d.push(x),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});var A=[],T=[],O=[],I=[],C=[];for(y=0;y<p.length;y++)M=p[y],A[y]=c[M],T[y]=l[M],O[y]=f[M],I[y]=h[M],C[y]=d[M];return{current:A,next:T,stackedOnCurrent:O,stackedOnNext:I,status:C}}(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,o),l=c.current,f=c.stackedOnCurrent,h=c.next,d=c.stackedOnNext;i&&(l=lr(c.current,n,i),f=lr(c.stackedOnCurrent,n,i),h=lr(c.next,n,i),d=lr(c.stackedOnNext,n,i)),a.shape.__points=c.current,a.shape.points=l,_p.updateProps(a,{shape:{points:h}},u),s&&(s.setShape({points:l,stackedOnPoints:f}),_p.updateProps(s,{shape:{points:h,stackedOnPoints:d}},u));for(var p=[],g=c.status,v=0;v<g.length;v++)if("="===g[v].cmd){var m=t.getItemGraphicEl(g[v].idx1);m&&p.push({el:m,ptIdx:v})}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<p.length;t++)p[t].el.attr("position",a.shape.__points[p[t].ptIdx])})},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,r){t.__temp&&(e.remove(t),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}}),function(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,r,i){var o=t.getData(),a=t.get("symbol")||e,s=t.get("symbolSize"),u=t.get("symbolKeepAspect");if(o.setVisual({legendSymbol:n||a,symbol:a,symbolSize:s,symbolKeepAspect:u}),!r.isSeriesFiltered(t)){var c="function"==typeof s;return{dataEach:o.hasItemOption||c?function(e,n){if("function"==typeof s){var r=t.getRawValue(n),i=t.getDataParams(n);e.setItemVisual(n,"symbolSize",s(r,i))}if(e.hasItemOption){var o=e.getItemModel(n),a=o.getShallow("symbol",!0),u=o.getShallow("symbolSize",!0),c=o.getShallow("symbolKeepAspect",!0);null!=a&&e.setItemVisual(n,"symbol",a),null!=u&&e.setItemVisual(n,"symbolSize",u),null!=c&&e.setItemVisual(n,"symbolKeepAspect",c)}}:null}}}}}),db=nc.map,pb=Hy.isDimensionStacked,gb=function(t){return{seriesType:t,plan:Sm(),reset:function(t){var e=t.getData(),n=t.coordinateSystem,r=t.pipelineContext.large;if(n){var i=db(n.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),o=i.length,a=e.getCalculationInfo("stackResultDimension");return pb(e,i[0])&&(i[0]=a),pb(e,i[1])&&(i[1]=a),o&&{progress:function(t,e){for(var a=t.end-t.start,s=r&&new Float32Array(a*o),u=t.start,c=0,l=[],f=[];u<t.end;u++){var h;if(1===o)d=e.get(i[0],u),h=!isNaN(d)&&n.dataToPoint(d,null,f);else{var d=l[0]=e.get(i[0],u),p=l[1]=e.get(i[1],u);h=!isNaN(d)&&!isNaN(p)&&n.dataToPoint(l,null,f)}r?(s[c++]=h?h[0]:NaN,s[c++]=h?h[1]:NaN):e.setItemLayout(u,h&&h.slice()||[NaN,NaN])}r&&e.setLayout("symbolPoints",s)}}}}}},vb={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},mb=function(t,e){return Math.round(t.length/2)},yb=function(t){this._axes={},this._dimList=[],this.name=t||""};yb.prototype={constructor:yb,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return nc.map(this._dimList,function(t){return this._axes[t]},this)},getAxesByScale:function(t){return t=t.toLowerCase(),nc.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,r=t instanceof Array?[]:{},i=0;i<n.length;i++){var o=n[i],a=this._axes[o];r[o]=a[e](t[o])}return r}};var xb=yb;fr.prototype={constructor:fr,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var r=this.getAxis("x"),i=this.getAxis("y");return(n=n||[])[0]=r.toGlobalCoord(r.dataToCoord(t[0])),n[1]=i.toGlobalCoord(i.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,i=n.getExtent(),o=r.getExtent(),a=n.parse(t[0]),s=r.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),a),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),r=this.getAxis("y");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=r.coordToData(r.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},nc.inherits(fr,xb);var _b=fr,bb=function(t,e,n,r,i){d_.call(this,t,e,n),this.type=r||"value",this.position=i||"bottom"};bb.prototype={constructor:bb,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},nc.inherits(bb,d_);var wb=bb,Mb={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Sb={};Sb.categoryAxis=nc.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Mb),Sb.valueAxis=nc.merge({boundaryGap:[0,0],splitNumber:5},Mb),Sb.timeAxis=nc.defaults({scale:!0,min:"dataMin",max:"dataMax"},Sb.valueAxis),Sb.logAxis=nc.defaults({scale:!0,logBase:10},Sb.valueAxis);var Ab=Sb,Tb=Xp.getLayoutParams,Ob=Xp.mergeLayoutParam,Ib=["value","category","time","log"],Cb=function(t,e,n,r){nc.each(Ib,function(i){e.extend({type:t+"Axis."+i,mergeDefaultAndTheme:function(e,r){var o=this.layoutMode,a=o?Tb(e):{},s=r.getTheme();nc.merge(e,s.get(i+"Axis")),nc.merge(e,this.getDefaultOption()),e.type=n(t,e),o&&Ob(e,a,o)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=tx.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:nc.mergeAll([{},Ab[i+"Axis"],r],!0)})}),Qp.registerSubTypeDefaulter(t+"Axis",nc.curry(n,t))},kb=Qp.extend({type:"cartesian2dAxis",axis:null,init:function(){kb.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){kb.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){kb.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});nc.merge(kb.prototype,Ex);var Db={offset:0};Cb("x",kb,hr,Db),Cb("y",kb,hr,Db),Qp.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Lb=nc.isObject,Eb=nc.each,Pb=nc.map,Nb=nc.indexOf,jb=(nc.retrieve,Xp.getLayoutRect),zb=Lx.createScaleByModel,Rb=Lx.ifAxisCrossZero,Bb=Lx.niceScaleExtent,Vb=Lx.estimateLabelUnionRect,Fb=Hy.getStackedDimension,Hb=pr.prototype;Hb.type="grid",Hb.axisPointerEnabled=!0,Hb.getRect=function(){return this._rect},Hb.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),Eb(n.x,function(t){Bb(t.scale,t.model)}),Eb(n.y,function(t){Bb(t.scale,t.model)}),Eb(n.x,function(t){gr(n,"y",t)}),Eb(n.y,function(t){gr(n,"x",t)}),this.resize(this.model,e)},Hb.resize=function(t,e,n){function r(){Eb(o,function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),function(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return r-t+e}}(t,e?i.x:i.y)})}var i=jb(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var o=this._axesList;r(),!n&&t.get("containLabel")&&(Eb(o,function(t){if(!t.model.get("axisLabel.inside")){var e=Vb(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get("axisLabel.margin");i[n]-=e[n]+r,"top"===t.position?i.y+=e.height+r:"left"===t.position&&(i.x+=e.width+r)}}}),r())},Hb.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var r in n)if(n.hasOwnProperty(r))return n[r];return n[e]}},Hb.getAxes=function(){return this._axesList.slice()},Hb.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}Lb(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===t||i[r].getAxis("y").index===e)return i[r]},Hb.getCartesians=function(){return this._coordsList.slice()},Hb.convertToPixel=function(t,e,n){var r=this._findConvertTarget(t,e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},Hb.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(t,e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},Hb._findConvertTarget=function(t,e){var n,r,i=e.seriesModel,o=e.xAxisModel||i&&i.getReferringComponents("xAxis")[0],a=e.yAxisModel||i&&i.getReferringComponents("yAxis")[0],s=e.gridModel,u=this._coordsList;return i?(n=i.coordinateSystem,Nb(u,n)<0&&(n=null)):o&&a?n=this.getCartesian(o.componentIndex,a.componentIndex):o?r=this.getAxis("x",o.componentIndex):a?r=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:r}},Hb.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},Hb._initCartesian=function(t,e,n){function r(e){return function(n,r){if(dr(n,t)){var s=n.get("position");"x"===e?"top"!==s&&"bottom"!==s&&i[s="bottom"]&&(s="top"===s?"bottom":"top"):"left"!==s&&"right"!==s&&i[s="left"]&&(s="left"===s?"right":"left"),i[s]=!0;var u=new wb(e,zb(n),[0,0],n.get("type"),s),c="category"===u.type;u.onBand=c&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=this,u.index=r,this._axesList.push(u),o[e][r]=u,a[e]++}}}var i={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};if(e.eachComponent("xAxis",r("x"),this),e.eachComponent("yAxis",r("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=o,Eb(o.x,function(e,n){Eb(o.y,function(r,i){var o="x"+n+"y"+i,a=new _b(o);a.grid=this,a.model=t,this._coordsMap[o]=a,this._coordsList.push(a),a.addAxis(e),a.addAxis(r)},this)},this)},Hb._updateScale=function(t,e){function n(t,e,n){Eb(t.mapDimension(e.dim,!0),function(n){e.scale.unionExtentFromData(t,Fb(t,n))})}Eb(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){if(yr(t)){var r=mr(t),i=r[0],o=r[1];if(!dr(i,e)||!dr(o,e))return;var a=this.getCartesian(i.componentIndex,o.componentIndex),s=t.getData(),u=a.getAxis("x"),c=a.getAxis("y");"list"===s.type&&(n(s,u),n(s,c))}},this)},Hb.getTooltipAxes=function(t){var e=[],n=[];return Eb(this.getCartesians(),function(r){var i=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),o=r.getOtherAxis(i);Nb(e,i)<0&&e.push(i),Nb(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}};var Wb=["xAxis","yAxis"];pr.create=function(t,e){var n=[];return t.eachComponent("grid",function(r,i){var o=new pr(r,t,e);o.name="grid_"+i,o.resize(r,e,!0),r.coordinateSystem=o,n.push(o)}),t.eachSeries(function(t){if(yr(t)){var e=mr(t),n=e[0],r=e[1],i=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}}),n},pr.dimensions=pr.prototype.dimensions=_b.prototype.dimensions,yv.register("cartesian2d",pr);var Gb=nc.retrieve,qb=nc.defaults,Ub=nc.extend,Yb=nc.each,Xb=Np.isRadianAroundZero,Zb=Np.remRadian,$b=Hx.createSymbol,Kb=ic.applyTransform,Jb=Math.PI,Qb=function(t,e){this.opt=e,this.axisModel=t,qb(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new _p.Group;var n=new _p.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};Qb.prototype={constructor:Qb,hasBuilder:function(t){return!!tw[t]},add:function(t){tw[t].call(this)},getGroup:function(){return this.group}};var tw={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),r=this._transform,i=[n[0],0],o=[n[1],0];r&&(Kb(i,i,r),Kb(o,o,r));var a=Ub({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new _p.Line(_p.subPixelOptimizeLine({anid:"line",shape:{x1:i[0],y1:i[1],x2:o[0],y2:o[1]},style:a,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var s=e.get("axisLine.symbol"),u=e.get("axisLine.symbolSize"),c=e.get("axisLine.symbolOffset")||0;if("number"==typeof c&&(c=[c,c]),null!=s){"string"==typeof s&&(s=[s,s]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var l=u[0],f=u[1];Yb([{rotate:t.rotation+Math.PI/2,offset:c[0],r:0},{rotate:t.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((i[0]-o[0])*(i[0]-o[0])+(i[1]-o[1])*(i[1]-o[1]))}],function(e,n){if("none"!==s[n]&&null!=s[n]){var r=$b(s[n],-l/2,-f/2,l,f,a.stroke,!0),o=e.r+e.offset,u=[i[0]+o*Math.cos(t.rotation),i[1]-o*Math.sin(t.rotation)];r.attr({rotation:e.rotate,position:u,silent:!0}),this.group.add(r)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=function(t,e,n){var r=e.axis;if(e.get("axisTick.show")&&!r.scale.isBlank()){for(var i=e.getModel("axisTick"),o=i.getModel("lineStyle"),a=i.get("length"),s=r.getTicksCoords(),u=[],c=[],l=t._transform,f=[],h=0;h<s.length;h++){var d=s[h].coord;u[0]=d,u[1]=0,c[0]=d,c[1]=n.tickDirection*a,l&&(Kb(u,u,l),Kb(c,c,l));var p=new _p.Line(_p.subPixelOptimizeLine({anid:"tick_"+s[h].tickValue,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:qb(o.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(p),f.push(p)}return f}}(this,t,e);!function(t,e,n){var r=t.get("axisLabel.showMinLabel"),i=t.get("axisLabel.showMaxLabel");e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],u=e[e.length-2],c=n[0],l=n[1],f=n[n.length-1],h=n[n.length-2];!1===r?(br(o),br(c)):wr(o,a)&&(r?(br(a),br(l)):(br(o),br(c))),!1===i?(br(s),br(f)):wr(u,s)&&(i?(br(u),br(h)):(br(s),br(f)))}(t,function(t,e,n){var r=e.axis;if(Gb(n.axisLabelShow,e.get("axisLabel.show"))&&!r.scale.isBlank()){var i=e.getModel("axisLabel"),o=i.get("margin"),a=r.getViewLabels(),s=(Gb(n.labelRotate,i.get("rotate"))||0)*Jb/180,u=ew(n.rotation,s,n.labelDirection),c=e.getCategories(!0),l=[],f=_r(e),h=e.get("triggerEvent");return Yb(a,function(a,s){var d=a.tickValue,p=a.formattedLabel,g=a.rawLabel,v=i;c&&c[d]&&c[d].textStyle&&(v=new kp(c[d].textStyle,i,e.ecModel));var m=v.getTextColor()||e.get("axisLine.lineStyle.color"),y=[r.dataToCoord(d),n.labelOffset+n.labelDirection*o],x=new _p.Text({anid:"label_"+d,position:y,rotation:u.rotation,silent:f,z2:10});_p.setTextStyle(x.style,v,{text:p,textAlign:v.getShallow("align",!0)||u.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||u.textVerticalAlign,textFill:"function"==typeof m?m("category"===r.type?g:"value"===r.type?d+"":d,s):m}),h&&(x.eventData=xr(e),x.eventData.targetType="axisLabel",x.eventData.value=g),t._dumbGroup.add(x),x.updateTransform(),l.push(x),t.group.add(x),x.decomposeTransform()}),l}}(this,t,e),n)},axisName:function(){var t=this.opt,e=this.axisModel,n=Gb(t.axisName,e.get("name"));if(n){var r,i,o=e.get("nameLocation"),a=t.nameDirection,s=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,c=this.axisModel.axis.getExtent(),l=c[0]>c[1]?-1:1,f=["start"===o?c[0]-l*u:"end"===o?c[1]+l*u:(c[0]+c[1])/2,Mr(o)?t.labelOffset+a*u:0],h=e.get("nameRotate");null!=h&&(h=h*Jb/180),Mr(o)?r=ew(t.rotation,null!=h?h:t.rotation,a):(r=function(t,e,n,r){var i,o,a=Zb((h||0)-t.rotation),s=r[0]>r[1],u="start"===e&&!s||"start"!==e&&s;return Xb(a-Jb/2)?(o=u?"bottom":"top",i="center"):Xb(a-1.5*Jb)?(o=u?"top":"bottom",i="center"):(o="middle",i=a<1.5*Jb&&a>Jb/2?u?"left":"right":u?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:o}}(t,o,0,c),null!=(i=t.axisNameAvailableWidth)&&(i=Math.abs(i/Math.sin(r.rotation)),!isFinite(i)&&(i=null)));var d=s.getFont(),p=e.get("nameTruncate",!0)||{},g=p.ellipsis,v=Gb(t.nameTruncateMaxWidth,p.maxWidth,i),m=null!=g&&null!=v?Vp.truncateText(n,v,d,g,{minChar:2,placeholder:p.placeholder}):n,y=e.get("tooltip",!0),x=e.mainType,_={componentType:x,name:n,$vars:["name"]};_[x+"Index"]=e.componentIndex;var b=new _p.Text({anid:"name",__fullText:n,__truncatedText:m,position:f,rotation:r.rotation,silent:_r(e),z2:1,tooltip:y&&y.show?Ub({content:n,formatter:function(){return n},formatterParams:_},y):null});_p.setTextStyle(b.style,s,{text:m,textFont:d,textFill:s.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:r.textAlign,textVerticalAlign:r.textVerticalAlign}),e.get("triggerEvent")&&(b.eventData=xr(e),b.eventData.targetType="axisName",b.eventData.name=n),this._dumbGroup.add(b),b.updateTransform(),this.group.add(b),b.decomposeTransform()}}},ew=Qb.innerTextLayout=function(t,e,n){var r,i,o=Zb(e-t);return Xb(o)?(i=n>0?"top":"bottom",r="center"):Xb(o-Jb)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=o>0&&o<Jb?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:r,textVerticalAlign:i}},nw=Qb,rw=nc.each,iw=nc.curry,ow={collect:function(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];rw(n.getCoordinateSystems(),function(n){function s(r,s,u){var f=u.model.getModel("axisPointer",i),h=f.get("show");if(h&&("auto"!==h||r||Tr(f))){null==s&&(s=f.get("triggerTooltip"));var d=(f=r?function(t,e,n,r,i,o){var a=e.getModel("axisPointer"),s={};rw(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=nc.clone(a.get(t))}),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");var u=s.label||(s.label={});if(null==u.show&&(u.show=!1),"cross"===i){var c=a.get("label.show");if(u.show=null==c||c,!o){var l=s.lineStyle=a.get("crossStyle");l&&nc.defaults(u,l.textStyle)}}return t.model.getModel("axisPointer",new kp(s,n,r))}(u,l,i,e,r,s):f).get("snap"),p=Or(u.model),g=s||d||"category"===u.type,v=t.axesInfo[p]={key:p,axis:u,coordSys:n,axisPointerModel:f,triggerTooltip:s,involveSeries:g,snap:d,useHandle:Tr(f),seriesModels:[]};c[p]=v,t.seriesInvolved|=g;var m=function(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var o=t[i]||{};if(Sr(o[r+"AxisId"],n.id)||Sr(o[r+"AxisIndex"],n.componentIndex)||Sr(o[r+"AxisName"],n.name))return i}}(o,u);if(null!=m){var y=a[m]||(a[m]={axesInfo:{}});y.axesInfo[p]=v,y.mapper=o[m].mapper,v.linkGroup=y}}}if(n.axisPointerEnabled){var u=Or(n.model),c=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=n;var l=n.model.getModel("tooltip",r);if(rw(n.getAxes(),iw(s,!1,null)),n.getTooltipAxes&&r&&l.get("show")){var f="axis"===l.get("trigger"),h="cross"===l.get("axisPointer.type"),d=n.getTooltipAxes(l.get("axisPointer.axis"));(f||h)&&rw(d.baseAxes,iw(s,!h||"cross",f)),h&&rw(d.otherAxes,iw(s,"cross",!1))}}})}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,r=e.get("tooltip.trigger",!0),i=e.get("tooltip.show",!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==i&&!1!==e.get("axisPointer.show",!0)&&rw(t.coordSysAxesInfo[Or(n.model)],function(t){var r=t.axis;n.getAxis(r.dim)===r&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}(n,t),n},fixValue:function(t){var e=Ar(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=r.parse(a));var s=Tr(n);null==o&&(i.status=s?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==a||a>u[1])&&(a=u[1]),a<u[0]&&(a=u[0]),i.value=a,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}},getAxisInfo:Ar,getAxisPointerModel:function(t){var e=Ar(t);return e&&e.axisPointerModel},makeKey:Or},aw=D_.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,r){this.axisPointerClass&&ow.fixValue(t),aw.superApply(this,"render",arguments),Ir(this,t,0,n,0,!0)},updateAxisPointer:function(t,e,n,r,i){Ir(this,t,0,n,0,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),aw.superApply(this,"remove",arguments)},dispose:function(t,e){Cr(this,e),aw.superApply(this,"dispose",arguments)}}),sw=[];aw.registerAxisPointerClass=function(t,e){sw[t]=e},aw.getAxisPointerClass=function(t){return t&&sw[t]};var uw=aw,cw=function(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,u=a?"onZero":s,c=i.dim,l=r.getRect(),f=[l.x,l.x+l.width,l.y,l.y+l.height],h={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p="x"===c?[f[2]-d,f[3]+d]:[f[0]-d,f[1]+d];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[h.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===c?p[h[u]]:f[0],"x"===c?p[h[u]]:f[3]],o.rotation=Math.PI/2*("x"===c?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[h[s]]-p[h.onZero]:0,e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),nc.retrieve(n.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var v=e.get("axisLabel.rotate");return o.labelRotate="top"===u?-v:v,o.z2=1,o},lw=["axisLine","axisTickLabel","axisName"],fw=["splitArea","splitLine"],hw=uw.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,n,r){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new _p.Group,this.group.add(this._axisGroup),t.get("show")){var o=t.getCoordSysModel(),a=cw(o,t),s=new nw(t,a);nc.each(lw,s.add,s),this._axisGroup.add(s.getGroup()),nc.each(fw,function(e){t.get(e+".show")&&this["_"+e](t,o)},this),_p.groupTransition(i,this._axisGroup,t),hw.superCall(this,"render",t,e,n,r)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var r=t.getModel("splitLine"),i=r.getModel("lineStyle"),o=i.get("color");o=nc.isArray(o)?o:[o];for(var a=e.coordinateSystem.getRect(),s=n.isHorizontal(),u=0,c=n.getTicksCoords({tickModel:r}),l=[],f=[],h=i.getLineStyle(),d=0;d<c.length;d++){var p=n.toGlobalCoord(c[d].coord);s?(l[0]=p,l[1]=a.y,f[0]=p,f[1]=a.y+a.height):(l[0]=a.x,l[1]=p,f[0]=a.x+a.width,f[1]=p);var g=u++%o.length,v=c[d].tickValue;this._axisGroup.add(new _p.Line(_p.subPixelOptimizeLine({anid:null!=v?"line_"+c[d].tickValue:null,shape:{x1:l[0],y1:l[1],x2:f[0],y2:f[1]},style:nc.defaults({stroke:o[g]},h),silent:!0})))}}},_splitArea:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var r=t.getModel("splitArea"),i=r.getModel("areaStyle"),o=i.get("color"),a=e.coordinateSystem.getRect(),s=n.getTicksCoords({tickModel:r,clamp:!0});if(s.length){var u=o.length,c=this._splitAreaColors,l=nc.createHashMap(),f=0;if(c)for(g=0;g<s.length;g++){var h=c.get(s[g].tickValue);if(null!=h){f=(h+(u-1)*g)%u;break}}var d=n.toGlobalCoord(s[0].coord),p=i.getAreaStyle();o=nc.isArray(o)?o:[o];for(var g=1;g<s.length;g++){var v,m,y,x,_=n.toGlobalCoord(s[g].coord);n.isHorizontal()?(v=d,m=a.y,y=_-v,x=a.height,d=v+y):(v=a.x,m=d,y=a.width,d=m+(x=_-m));var b=s[g-1].tickValue;null!=b&&l.set(b,f),this._axisGroup.add(new _p.Rect({anid:null!=b?"area_"+b:null,shape:{x:v,y:m,width:y,height:x},style:nc.defaults({fill:o[f]},p),silent:!0})),f=(f+1)%u}this._splitAreaColors=l}}}});hw.extend({type:"xAxis"}),hw.extend({type:"yAxis"}),D_.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new _p.Rect({shape:t.coordinateSystem.getRect(),style:nc.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),D_.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),D_.registerVisual(hb("line","circle","line")),D_.registerLayout(gb("line")),D_.registerProcessor(D_.PRIORITY.PROCESSOR.STATISTIC,function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,n){var r=t.getData(),i=t.get("sampling"),o=t.coordinateSystem;if("cartesian2d"===o.type&&i){var a,s=o.getBaseAxis(),u=o.getOtherAxis(s),c=s.getExtent(),l=c[1]-c[0],f=Math.round(r.count()/l);f>1&&("string"==typeof i?a=vb[i]:"function"==typeof i&&(a=i),a&&t.setData(r.downSample(r.mapDimension(u.dim),1/f,a,mb)))}}}}("line"));var dw=xm.extend({type:"series.__base_bar__",getInitialData:function(t,e){return Xy(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),r=this.getData(),i=r.getLayout("offset"),o=r.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=i+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:5e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}),pw=(dw.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t}}),E_.getDefaultLabel),gw=function(t,e,n,r,i,o,a){var s=n.getModel("label"),u=n.getModel("emphasis.label");_p.setLabelStyle(t,e,s,u,{labelFetcher:i,labelDataIndex:o,defaultText:pw(i.getData(),o),isRectText:!0,autoColor:r}),kr(t),kr(e)},vw=Vf([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),mw={getBarItemStyle:function(t){var e=vw(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}},yw=gw,xw=["itemStyle","barBorderWidth"];nc.extend(kp.prototype,mw),D_.extendChartView({type:"bar",render:function(t,e,n){this._updateDrawMode(t);var r=t.get("coordinateSystem");return"cartesian2d"!==r&&"polar"!==r||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n)),this.group},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,r){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,n){var r,i=this.group,o=t.getData(),a=this._data,s=t.coordinateSystem,u=s.getBaseAxis();"cartesian2d"===s.type?r=u.isHorizontal():"polar"===s.type&&(r="angle"===u.dim);var c=t.isAnimationEnabled()?t:null;o.diff(a).add(function(e){if(o.hasValue(e)){var n=o.getItemModel(e),a=bw[s.type](o,e,n),u=_w[s.type](o,e,n,a,r,c);o.setItemGraphicEl(e,u),i.add(u),Er(u,o,e,n,a,t,r,"polar"===s.type)}}).update(function(e,n){var u=a.getItemGraphicEl(n);if(o.hasValue(e)){var l=o.getItemModel(e),f=bw[s.type](o,e,l);u?_p.updateProps(u,{shape:f},c,e):u=_w[s.type](o,e,l,f,r,c,!0),o.setItemGraphicEl(e,u),i.add(u),Er(u,o,e,l,f,t,r,"polar"===s.type)}else i.remove(u)}).remove(function(t){var e=a.getItemGraphicEl(t);"cartesian2d"===s.type?e&&Dr(t,c,e):e&&Lr(t,c,e)}).execute(),this._data=o},_renderLarge:function(t,e,n){this._clear(),Pr(t,this.group)},_incrementalRenderLarge:function(t,e){Pr(e,this.group,!0)},dispose:nc.noop,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,n=this._data;t&&t.get("animation")&&n&&!this._isLargeDraw?n.eachItemGraphicEl(function(e){"sector"===e.type?Lr(e.dataIndex,t,e):Dr(e.dataIndex,t,e)}):e.removeAll(),this._data=null}});var _w={cartesian2d:function(t,e,n,r,i,o,a){var s=new _p.Rect({shape:nc.extend({},r)});if(o){var u=s.shape,c=i?"height":"width",l={};u[c]=0,l[c]=r[c],_p[a?"updateProps":"initProps"](s,{shape:l},o,e)}return s},polar:function(t,e,n,r,i,o,a){var s=r.startAngle<r.endAngle,u=new _p.Sector({shape:nc.defaults({clockwise:s},r)});if(o){var c=u.shape,l=i?"r":"endAngle",f={};c[l]=i?0:r.startAngle,f[l]=r[l],_p[a?"updateProps":"initProps"](u,{shape:f},o,e)}return u}},bw={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=function(t,e){var n=t.get(xw)||0;return Math.min(n,Math.abs(e.width),Math.abs(e.height))}(n,r),o=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+o*i/2,y:r.y+a*i/2,width:r.width-o*i,height:r.height-a*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}},ww=Jh.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var n=e.points,r=this.__startPoint,i=this.__valueIdx,o=0;o<n.length;o+=2)r[this.__valueIdx]=n[o+i],t.moveTo(r[0],r[1]),t.lineTo(n[o],n[o+1])}}),Mw=dx.layout,Sw=dx.largeLayout;D_.registerLayout(nc.curry(Mw,"bar")),D_.registerLayout(Sw),D_.registerVisual({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});var Aw=nc.extend,Tw=nc.isArray,Ow=function(t,e,n){e=Tw(e)&&{coordDimensions:e}||Aw({},e);var r=t.getSource(),i=By(r,e),o=new Oy(i,t);return o.initData(r,n),o},Iw={updateSelectedMap:function(t){this._targetList=nc.isArray(t)?t.slice():[],this._selectTargetMap=nc.reduce(t||[],function(t,e){return t.set(e.name,e),t},nc.createHashMap())},select:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),n&&(n.selected=!0)},unSelect:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?"unSelect":"select"](t,e),n.selected},isSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}},Cw=Np.getPercentWithPrecision,kw=Kv.retrieveRawAttr,Dw=D_.extendSeriesModel({type:"series.pie",init:function(t){Dw.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){Dw.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return Ow(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],r=0,i=t.count();r<i;r++)n.push({name:t.getName(r),value:t.get(e,r),selected:kw(t,r,"selected")});return n},getDataParams:function(t){var e=this.getData(),n=Dw.superCall(this,"getDataParams",t),r=[];return e.each(e.mapDimension("value"),function(t){r.push(t)}),n.percent=Cw(r,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(t){Lf.defaultEmphasis(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});nc.mixin(Dw,Iw);var Lw=jr.prototype;Lw.updateData=function(t,e,n){function r(){o.stopAnimation(!0),o.animateTo({shape:{r:u.r+a.get("hoverOffset")}},300,"elasticOut")}function i(){o.stopAnimation(!0),o.animateTo({shape:{r:u.r}},300,"elasticOut")}var o=this.childAt(0),a=t.hostModel,s=t.getItemModel(e),u=t.getItemLayout(e),c=nc.extend({},u);c.label=null,n?(o.setShape(c),"scale"===a.getShallow("animationType")?(o.shape.r=u.r0,_p.initProps(o,{shape:{r:u.r}},a,e)):(o.shape.endAngle=u.startAngle,_p.updateProps(o,{shape:{endAngle:u.endAngle}},a,e))):_p.updateProps(o,{shape:c},a,e);var l=t.getItemVisual(e,"color");o.useStyle(nc.defaults({lineJoin:"bevel",fill:l},s.getModel("itemStyle").getItemStyle())),o.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();var f=s.getShallow("cursor");f&&o.attr("cursor",f),Nr(this,t.getItemLayout(e),a.isSelected(null,e),a.get("selectedOffset"),a.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.get("hoverAnimation")&&a.isAnimationEnabled()&&o.on("mouseover",r).on("mouseout",i).on("emphasis",r).on("normal",i),this._updateLabel(t,e),_p.setHoverStyle(this)},Lw._updateLabel=function(t,e){var n=this.childAt(1),r=this.childAt(2),i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");_p.updateProps(n,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},i,e),_p.updateProps(r,{style:{x:a.x,y:a.y}},i,e),r.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var u=o.getModel("label"),c=o.getModel("emphasis.label"),l=o.getModel("labelLine"),f=o.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color");_p.setLabelStyle(r.style,r.hoverStyle={},u,c,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),r.ignore=r.normalIgnore=!u.get("show"),r.hoverIgnore=!c.get("show"),n.ignore=n.normalIgnore=!l.get("show"),n.hoverIgnore=!f.get("show"),n.setStyle({stroke:s,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(l.getModel("lineStyle").getLineStyle()),n.hoverStyle=f.getModel("lineStyle").getLineStyle();var h=l.get("smooth");h&&!0===h&&(h=.4),n.setShape({smooth:h})},nc.inherits(jr,_p.Group),Dm.extend({type:"pie",init:function(){var t=new _p.Group;this._sectorGroup=t},render:function(t,e,n,r){if(!r||r.from!==this.uid){var i=t.getData(),o=this._data,a=this.group,s=e.get("animation"),u=!o,c=t.get("animationType"),l=nc.curry(function(t,e,n,r){var i=e.getData(),o=this.dataIndex,a=i.getName(o),s=e.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:t,name:a,seriesId:e.id}),i.each(function(t){Nr(i.getItemGraphicEl(t),i.getItemLayout(t),e.isSelected(i.getName(t)),s,n)})},this.uid,t,s,n),f=t.get("selectedMode");if(i.diff(o).add(function(t){var e=new jr(i,t);u&&"scale"!==c&&e.eachChild(function(t){t.stopAnimation(!0)}),f&&e.on("click",l),i.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var n=o.getItemGraphicEl(e);n.updateData(i,t),n.off("click"),f&&n.on("click",l),a.add(n),i.setItemGraphicEl(t,n)}).remove(function(t){var e=o.getItemGraphicEl(t);a.remove(e)}).execute(),s&&u&&i.count()>0&&"scale"!==c){var h=i.getItemLayout(0),d=Math.max(n.getWidth(),n.getHeight())/2,p=nc.bind(a.removeClipPath,a);a.setClipPath(this._createClipPath(h.cx,h.cy,d,h.startAngle,h.clockwise,p,t))}this._data=i}},dispose:function(){},_createClipPath:function(t,e,n,r,i,o,a){var s=new _p.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:r,endAngle:r,clockwise:i}});return _p.initProps(s,{shape:{endAngle:r+(i?1:-1)*Math.PI*2}},a,o),s},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}}});var Ew=function(t,e){nc.each(e,function(e){e.update="updateView",D_.registerAction(e,function(n,r){var i={};return r.eachComponent({mainType:"series",subType:t,query:n},function(t){t[e.method]&&t[e.method](n.name,n.dataIndex);var r=t.getData();r.each(function(e){var n=r.getName(e);i[n]=t.isSelected(n)||!1})}),{name:n.name,selected:i}})})},Pw=nc.createHashMap,Nw=function(t){return{getTargetSeries:function(e){var n={},r=Pw();return e.eachSeriesByType(t,function(t){t.__paletteScope=n,r.set(t.uid,t)}),r},reset:function(t,e){var n=t.getRawData(),r={},i=t.getData();i.each(function(t){var e=i.getRawIndex(t);r[e]=t}),n.each(function(e){var o=r[e],a=null!=o&&i.getItemVisual(o,"color",!0);if(a)n.setItemVisual(e,"color",a);else{var s=n.getItemModel(e).get("itemStyle.color")||t.getColorFromPalette(n.getName(e)||e+"",t.__paletteScope,n.count());n.setItemVisual(e,"color",s),null!=o&&i.setItemVisual(o,"color",s)}})}}},jw=Np.parsePercent,zw=Np.linearMap,Rw=2*Math.PI,Bw=Math.PI/180,Vw=function(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf(function(t){for(var e=r.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0})}}}};Ew("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),D_.registerVisual(Nw("pie")),D_.registerLayout(nc.curry(function(t,e,n,r){e.eachSeriesByType(t,function(t){var e=t.getData(),r=e.mapDimension("value"),i=t.get("center"),o=t.get("radius");nc.isArray(o)||(o=[0,o]),nc.isArray(i)||(i=[i,i]);var a=n.getWidth(),s=n.getHeight(),u=Math.min(a,s),c=jw(i[0],a),l=jw(i[1],s),f=jw(o[0],u/2),h=jw(o[1],u/2),d=-t.get("startAngle")*Bw,p=t.get("minAngle")*Bw,g=0;e.each(r,function(t){!isNaN(t)&&g++});var v=e.getSum(r),m=Math.PI/(v||g)*2,y=t.get("clockwise"),x=t.get("roseType"),_=t.get("stillShowZeroSum"),b=e.getDataExtent(r);b[0]=0;var w=Rw,M=0,S=d,A=y?1:-1;if(e.each(r,function(t,n){var r;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:c,cy:l,r0:f,r:x?NaN:h});else{(r="area"!==x?0===v&&_?m:t*m:Rw/g)<p?(r=p,w-=p):M+=t;var i=S+A*r;e.setItemLayout(n,{angle:r,startAngle:S,endAngle:i,clockwise:y,cx:c,cy:l,r0:f,r:x?zw(t,b,[f,h]):h}),S=i}}),w<Rw&&g)if(w<=.001){var T=Rw/g;e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n);r.angle=T,r.startAngle=d+A*n*T,r.endAngle=d+A*(n+1)*T}})}else m=w/M,S=d,e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n),i=r.angle===p?p:t*m;r.startAngle=S,r.endAngle=S+A*i,S+=A*i}});!function(t,e,n,r){var i,o,a=t.getData(),s=[],u=!1;a.each(function(n){var r,c,l,f,h=a.getItemLayout(n),d=a.getItemModel(n),p=d.getModel("label"),g=p.get("position")||d.get("emphasis.label.position"),v=d.getModel("labelLine"),m=v.get("length"),y=v.get("length2"),x=(h.startAngle+h.endAngle)/2,_=Math.cos(x),b=Math.sin(x);i=h.cx,o=h.cy;var w="inside"===g||"inner"===g;if("center"===g)r=h.cx,c=h.cy,f="center";else{var M=(w?(h.r+h.r0)/2*_:h.r*_)+i,S=(w?(h.r+h.r0)/2*b:h.r*b)+o;if(r=M+3*_,c=S+3*b,!w){var A=M+_*(m+e-h.r),T=S+b*(m+e-h.r),O=A+(_<0?-1:1)*y;r=O+(_<0?-5:5),c=T,l=[[M,S],[A,T],[O,T]]}f=w?"center":_>0?"left":"right"}var I=p.getFont(),C=p.get("rotate")?_<0?-x+Math.PI:-x:0,k=t.getFormattedLabel(n,"normal")||a.getName(n),D=Pl.getBoundingRect(k,I,f,"top");u=!!C,h.label={x:r,y:c,position:g,height:D.height,len:m,len2:y,linePoints:l,textAlign:f,verticalAlign:"middle",rotation:C,inside:w},w||s.push(h.label)}),!u&&t.get("avoidLabelOverlap")&&function(t,e,n,r,i,o){for(var a=[],s=[],u=0;u<t.length;u++)t[u].x<e?a.push(t[u]):s.push(t[u]);for(zr(s,e,n,r,1,0,o),zr(a,e,n,r,-1,0,o),u=0;u<t.length;u++){var c=t[u].linePoints;if(c){var l=c[1][0]-c[2][0];t[u].x<e?c[2][0]=t[u].x+3:c[2][0]=t[u].x-3,c[1][1]=c[2][1]=t[u].y,c[1][0]=c[2][0]+l}}}(s,i,o,e,0,r)}(t,h,0,s)})},"pie")),D_.registerProcessor(Vw("pie")),xm.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return Xy(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});var Fw=Hx.createSymbol,Hw=_p.extendShape({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var n=e.points,r=e.size,i=this.symbolProxy,o=i.shape;if(!((t.getContext?t.getContext():t)&&r[0]<4))for(var a=0;a<n.length;){var s=n[a++],u=n[a++];isNaN(s)||isNaN(u)||(o.x=s-r[0]/2,o.y=u-r[1]/2,o.width=r[0],o.height=r[1],i.buildPath(t,o,!0))}},afterBrush:function(t){var e=this.shape,n=e.points,r=e.size;if(r[0]<4){this.setTransform(t);for(var i=0;i<n.length;){var o=n[i++],a=n[i++];isNaN(o)||isNaN(a)||t.fillRect(o-r[0]/2,a-r[1]/2,r[0],r[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var n=this.shape,r=n.points,i=n.size,o=Math.max(i[0],4),a=Math.max(i[1],4),s=r.length/2-1;s>=0;s--){var u=2*s,c=r[u]-o/2,l=r[u+1]-a/2;if(t>=c&&e>=l&&t<=c+o&&e<=l+a)return s}return-1}}),Ww=Rr.prototype;Ww.isPersistent=function(){return!this._incremental},Ww.updateData=function(t){this.group.removeAll();var e=new Hw({rectHover:!0,cursor:"default"});e.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},Ww.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;e=new Float32Array(e.buffer,r,n)}t.setShape("points",e)})}},Ww.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new Jd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Ww.incrementalUpdate=function(t,e){var n;this._incremental?(n=new Hw,this._incremental.addDisplayable(n,!0)):((n=new Hw({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(n)),n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!!this._incremental)},Ww._setCommon=function(t,e,n){var r=e.hostModel,i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.symbolProxy=Fw(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("color");a&&t.setColor(a),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(t.dataIndex=n+(t.startIndex||0))}))},Ww.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ww._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var Gw=Rr;D_.extendChartView({type:"scatter",render:function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).updateData(r),this._finished=!0},incrementalPrepareRender:function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).incrementalPrepareUpdate(r),this._finished=!1},incrementalRender:function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var r=t.getData();if(this.group.dirty(),!this._finished||r.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var i=gb().reset(t);i.progress&&i.progress({start:0,end:r.count()},r),this._symbolDraw.updateLayout(r)},_updateSymbolDraw:function(t,e){var n=this._symbolDraw,r=e.pipelineContext.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new Gw:new U_,this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),D_.registerVisual(hb("scatter","circle")),D_.registerLayout(gb("scatter")),nc.inherits(Br,d_);var qw=Br,Uw=Lx.getScaleExtent,Yw=Lx.niceScaleExtent;Vr.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Vr.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},Vr.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},Vr.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var i,o=Math.atan2(-n,e),a=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],l=Math.abs(o-c.angle);l<a&&(i=c,s=u,a=l)}return[s,+(i&&i.coodToData(r))]},Vr.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i)/2;this.cx=Np.parsePercent(n[0],r),this.cy=Np.parsePercent(n[1],i),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=Np.parsePercent(t.get("radius"),o),nc.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},Vr.prototype.update=function(t,e){function n(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}var r=this._indicatorAxes,i=this._model;nc.each(r,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,n){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var o=e.getData();nc.each(r,function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))})}},this);var o=i.get("splitNumber");nc.each(r,function(t,e){var r=Uw(t.scale,t.model);Yw(t.scale,t.model);var i=t.model,a=t.scale,s=i.getMin(),u=i.getMax(),c=a.getInterval();if(null!=s&&null!=u)a.setExtent(+s,+u),a.setInterval((u-s)/o);else if(null!=s){var l;do{l=s+c*o,a.setExtent(+s,l),a.setInterval(c),c=n(c)}while(l<r[1]&&isFinite(l)&&isFinite(r[1]))}else if(null!=u){var f;do{f=u-c*o,a.setExtent(f,+u),a.setInterval(c),c=n(c)}while(f>r[0]&&isFinite(f)&&isFinite(r[0]))}else{a.getTicks().length-1>o&&(c=n(c));var h=Math.round((r[0]+r[1])/2/c)*c,d=Math.round(o/2);a.setExtent(Np.round(h-d*c),Np.round(h+(o-d)*c)),a.setInterval(c)}})},Vr.dimensions=[],Vr.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var i=new Vr(r,t,e);n.push(i),r.coordinateSystem=i}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])}),n},yv.register("radar",Vr);var Xw=Ab.valueAxis,Zw=(D_.extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("name"),s=this.get("name.show"),u=this.get("name.formatter"),c=this.get("nameGap"),l=this.get("triggerEvent"),f=nc.map(this.get("indicator")||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var h=a;if(null!=f.color&&(h=nc.defaults({color:f.color},a)),f=nc.merge(nc.clone(f),{boundaryGap:t,splitNumber:e,scale:n,axisLine:r,axisTick:i,axisLabel:o,name:f.text,nameLocation:"end",nameGap:c,nameTextStyle:h,triggerEvent:l},!1),s||(f.name=""),"string"==typeof u){var d=f.name;f.name=u.replace("{value}",null!=d?d:"")}else"function"==typeof u&&(f.name=u(f.name,f));var p=nc.extend(new kp(f,null,this.ecModel),Ex);return p.mainType="radar",p.componentIndex=this.componentIndex,p},this);this.getIndicatorModels=function(){return f}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:nc.merge({lineStyle:{color:"#bbb"}},Xw.axisLine),axisLabel:Fr(Xw.axisLabel,!1),axisTick:Fr(Xw.axisTick,!1),splitLine:Fr(Xw.splitLine,!0),splitArea:Fr(Xw.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]),$w=(D_.extendComponentView({type:"radar",render:function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),r=nc.map(n,function(t){return new nw(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});nc.each(r,function(t){nc.each(Zw,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,n){var r=n%e.length;return t[r]=t[r]||[],r}var n=t.coordinateSystem,r=n.getIndicatorAxes();if(r.length){var i=t.get("shape"),o=t.getModel("splitLine"),a=t.getModel("splitArea"),s=o.getModel("lineStyle"),u=a.getModel("areaStyle"),c=o.get("show"),l=a.get("show"),f=s.get("color"),h=u.get("color");f=nc.isArray(f)?f:[f],h=nc.isArray(h)?h:[h];var d=[],p=[];if("circle"===i)for(var g=r[0].getTicksCoords(),v=n.cx,m=n.cy,y=0;y<g.length;y++)c&&d[S=e(d,f,y)].push(new _p.Circle({shape:{cx:v,cy:m,r:g[y].coord}})),l&&y<g.length-1&&p[S=e(p,h,y)].push(new _p.Ring({shape:{cx:v,cy:m,r0:g[y].coord,r:g[y+1].coord}}));else{var x,_=nc.map(r,function(t,e){var r=t.getTicksCoords();return x=null==x?r.length-1:Math.min(r.length-1,x),nc.map(r,function(t){return n.coordToPoint(t.coord,e)})}),b=[];for(y=0;y<=x;y++){for(var w=[],M=0;M<r.length;M++)w.push(_[M][y]);if(w[0]&&w.push(w[0].slice()),c&&d[S=e(d,f,y)].push(new _p.Polyline({shape:{points:w}})),l&&b){var S=e(p,h,y-1);p[S].push(new _p.Polygon({shape:{points:w.concat(b)}}))}b=w.slice().reverse()}}var A=s.getLineStyle(),T=u.getAreaStyle();nc.each(p,function(t,e){this.group.add(_p.mergePath(t,{style:nc.defaults({stroke:"none",fill:h[e%h.length]},T),silent:!0}))},this),nc.each(d,function(t,e){this.group.add(_p.mergePath(t,{style:nc.defaults({fill:"none",stroke:f[e%f.length]},A),silent:!0}))},this)}}}),Vp.encodeHTML),Kw=xm.extend({type:"series.radar",dependencies:["radar"],init:function(t){Kw.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return Ow(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(t){var e=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(t);return $w(""===r?this.name:r)+"<br/>"+nc.map(n,function(n,r){var i=e.get(e.mapDimension(n.dim),t);return $w(n.name+" : "+i)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),Jw=(D_.extendChartView({type:"radar",render:function(t,e,n){function r(e,n,r,i,o,a){r.removeAll();for(var s=0;s<n.length-1;s++){var u=function(t,e){var n=t.getItemVisual(e,"symbol")||"circle",r=t.getItemVisual(e,"color");if("none"!==n){var i=function(t){return nc.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),o=Hx.createSymbol(n,-1,-1,2,2,r);return o.attr({style:{strokeNoScale:!0},z2:100,scale:[i[0]/2,i[1]/2]}),o}}(i,o);u&&(u.__dimIdx=s,e[s]?(u.attr("position",e[s]),_p[a?"initProps":"updateProps"](u,{position:n[s]},t,o)):u.attr("position",n[s]),r.add(u))}}function i(t){return nc.map(t,function(t){return[o.cx,o.cy]})}var o=t.coordinateSystem,a=this.group,s=t.getData(),u=this._data;s.diff(u).add(function(e){var n=s.getItemLayout(e);if(n){var o=new _p.Polygon,a=new _p.Polyline,u={shape:{points:n}};o.shape.points=i(n),a.shape.points=i(n),_p.initProps(o,u,t,e),_p.initProps(a,u,t,e);var c=new _p.Group,l=new _p.Group;c.add(a),c.add(o),c.add(l),r(a.shape.points,n,l,s,e,!0),s.setItemGraphicEl(e,c)}}).update(function(e,n){var i=u.getItemGraphicEl(n),o=i.childAt(0),a=i.childAt(1),c=i.childAt(2),l={shape:{points:s.getItemLayout(e)}};l.shape.points&&(r(o.shape.points,l.shape.points,c,s,e,!1),_p.updateProps(o,l,t),_p.updateProps(a,l,t),s.setItemGraphicEl(e,i))}).remove(function(t){a.remove(u.getItemGraphicEl(t))}).execute(),s.eachItemGraphicEl(function(t,e){function n(){u.attr("ignore",p)}function r(){u.attr("ignore",d)}var i=s.getItemModel(e),o=t.childAt(0),u=t.childAt(1),c=t.childAt(2),l=s.getItemVisual(e,"color");a.add(t),o.useStyle(nc.defaults(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:l})),o.hoverStyle=i.getModel("emphasis.lineStyle").getLineStyle();var f=i.getModel("areaStyle"),h=i.getModel("emphasis.areaStyle"),d=f.isEmpty()&&f.parentModel.isEmpty(),p=h.isEmpty()&&h.parentModel.isEmpty();p=p&&d,u.ignore=d,u.useStyle(nc.defaults(f.getAreaStyle(),{fill:l,opacity:.7})),u.hoverStyle=h.getAreaStyle();var g=i.getModel("itemStyle").getItemStyle(["color"]),v=i.getModel("emphasis.itemStyle").getItemStyle(),m=i.getModel("label"),y=i.getModel("emphasis.label");c.eachChild(function(t){t.setStyle(g),t.hoverStyle=nc.clone(v),_p.setLabelStyle(t.style,t.hoverStyle,m,y,{labelFetcher:s.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:s.get(s.dimensions[t.__dimIdx],e),autoColor:l,isRectText:!0})}),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",n).on("mouseover",n).on("normal",r).on("mouseout",r),_p.setHoverStyle(t)}),this._data=s},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),function(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){for(var i=r.getIndicatorAxes(),o=0;o<i.length;o++)e.each(e.mapDimension(i[o].dim),function(t,e){n[e]=n[e]||[],n[e][o]=r.dataToPoint(t,o)});e.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),e.setItemLayout(t,n[t])})}})});D_.registerVisual(Nw("radar")),D_.registerVisual(hb("radar","circle")),D_.registerLayout(Jw),D_.registerProcessor(Vw("radar")),D_.registerPreprocessor(function(t){var e=t.polar;if(e){nc.isArray(e)||(e=[e]);var n=[];nc.each(e,function(e,r){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],nc.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}nc.each(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})});var Qw=ic.applyTransform;nc.mixin(Hr,xc),Wr.prototype={constructor:Wr,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,r){return this._rect=new tl(t,e,n,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,r){this.transformTo(t,e,n,r),this._viewRect=new tl(t,e,n,r)},transformTo:function(t,e,n,r){var i=this.getBoundingRect(),o=this._rawTransformable;o.transform=i.calculateTransform(new tl(t,e,n,r)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=ic.applyTransform([],r,t),n=ic.applyTransform([],n,t),e.origin=r,e.position=[n[0]-r[0],n[1]-r[1]],e.scale=[i,i],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),dc.copy(this.transform||(this.transform=[]),e.transform||dc.create()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],dc.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,n){var r=e?this._rawTransform:this.transform;return n=n||[],r?Qw(n,t,r):ic.copy(n,t)},pointToData:function(t){var e=this.invTransform;return e?Qw([],t,e):[t[0],t[1]]},convertToPixel:nc.curry(Gr,"dataToPoint"),convertFromPixel:nc.curry(Gr,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},nc.mixin(Wr,xc);for(var tM=Wr,eM=[126,25],nM=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],rM=0;rM<nM.length;rM++)for(var iM=0;iM<nM[rM].length;iM++)nM[rM][iM][0]/=10.5,nM[rM][iM][1]/=-14,nM[rM][iM][0]+=eM[0],nM[rM][iM][1]+=eM[1];var oM={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]},aM={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},sM=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],uM=[function(t){"china"===t.map&&t.regions.push(new $x("",nc.map(nM,function(t){return{type:"polygon",exterior:t}}),eM))},function(t){nc.each(t.regions,function(t){var e=oM[t.name];if(e){var n=t.center;n[0]+=e[0]/10.5,n[1]+=-e[1]/14}})},function(t){nc.each(t.regions,function(t){var e=aM[t.name];if(e){var n=t.center;n[0]=e[0],n[1]=e[1]}})},function(t){if("china"===t.map)for(var e=0,n=t.regions.length;e<n;++e)""===t.regions[e].name&&t.regions[e].geometries.push({type:"polygon",exterior:sM[0]})}];qr.prototype={constructor:qr,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},loadGeoJson:function(t,e,n){try{this.regions=t?Kx(t):[]}catch(t){throw"Invalid geoJson format\n"+t.message}e=e||{},n=n||{};for(var r=this.regions,i=nc.createHashMap(),o=0;o<r.length;o++){var a=r[o].name;a=n.hasOwnProperty(a)?n[a]:a,r[o].name=a,i.set(a,r[o]),this.addGeoCoord(a,r[o].center);var s=e[a];s&&r[o].transformTo(s.left,s.top,s.width,s.height)}this._regionsMap=i,this._rect=null,nc.each(uM,function(t){t(this)},this)},transformTo:function(t,e,n,r){var i=this.getBoundingRect();(i=i.clone()).y=-i.y-i.height;var o=this._rawTransformable;o.transform=i.calculateTransform(new tl(t,e,n,r)),o.decomposeTransform();var a=o.scale;a[1]=-a[1],o.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,n=0;n<e.length;n++){var r=e[n].getBoundingRect();(t=t||r.clone()).union(r)}return this._rect=t||new tl(0,0,0,0)},dataToPoint:function(t,e,n){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return tM.prototype.dataToPoint.call(this,t,e,n)},convertToPixel:nc.curry(Ur,"dataToPoint"),convertFromPixel:nc.curry(Ur,"pointToData")},nc.mixin(qr,tM);var cM=qr,lM={dimensions:cM.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("geo",function(t,r){var i=t.get("map"),o=D_.getMap(i),a=new cM(i+r,i,o&&o.geoJson,o&&o.specialAreas,t.get("nameMap"));a.zoomLimit=t.get("scaleLimit"),n.push(a),Xr(a,t),t.coordinateSystem=a,a.model=t,a.resize=Yr,a.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}});var r={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t)}}),nc.each(r,function(t,r){var i=D_.getMap(r),o=nc.map(t,function(t){return t.get("nameMap")}),a=new cM(r,r,i&&i.geoJson,i&&i.specialAreas,nc.mergeAll(o));a.zoomLimit=nc.retrieve.apply(null,nc.map(t,function(t){return t.get("scaleLimit")})),n.push(a),a.resize=Yr,a.resize(t[0],e),nc.each(t,function(t){t.coordinateSystem=a,Xr(a,t)})}),n},getFilledRegions:function(t,e,n){var r=(t||[]).slice();n=n||{};var i=D_.getMap(e),o=i&&i.geoJson;if(!o)return t;for(var a=nc.createHashMap(),s=o.features,u=0;u<r.length;u++)a.set(r[u].name,r[u]);for(u=0;u<s.length;u++){var c=s[u].properties.name;a.get(c)||(n.hasOwnProperty(c)&&(c=n[c]),r.push({name:c}))}return r}};D_.registerCoordinateSystem("geo",lM);var fM=lM,hM=Vp.encodeHTML,dM=Vp.addCommas,pM=Kv.retrieveRawAttr,gM=xm.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(t){gM.superApply(this,"init",arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t){return Ow(this,["value"])},mergeOption:function(t){gM.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],r=0,i=t.count();r<i;r++)n.push({name:t.getName(r),value:t.get(e,r),selected:pM(t,r,"selected")});return fM.getFilledRegions(n,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(t,e){},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),n=dM(this.getRawValue(t)),r=e.getName(t),i=this.seriesGroup,o=[],a=0;a<i.length;a++){var s=i[a].originalData.indexOfName(r),u=e.mapDimension("value");isNaN(i[a].originalData.get(u,s))||o.push(hM(i[a].name))}return o.join(", ")+"<br />"+hM(r+" : "+n)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,r=n.getRegion(e);return r&&n.dataToPoint(r.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});nc.mixin(gM,Iw);var vM="\0_ec_interaction_mutex";D_.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var mM={take:function(t,e,n){Zr(t)[e]=n},release:function(t,e,n){var r=Zr(t);r[e]===n&&(r[e]=null)},isTaken:function(t,e){return!!Zr(t)[e]}};nc.mixin($r,uc);var yM=$r,xM=function(t,e,n){var r=t.target,i=r.position;i[0]+=e,i[1]+=n,r.dirty()},_M=function(t,e,n,r){var i=t.target,o=t.zoomLimit,a=i.position,s=i.scale,u=t.zoom=t.zoom||1;if(u*=e,o){var c=o.min||0,l=o.max||1/0;u=Math.max(Math.min(l,u),c)}var f=u/t.zoom;t.zoom=u,a[0]-=(n-a[0])*(f-1),a[1]-=(r-a[1])*(f-1),s[0]*=f,s[1]*=f,i.dirty()},bM={axisPointer:1,tooltip:1,brush:1},wM=function(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!bM[r.mainType]&&i&&i.model!==n},MM=wM;ei.prototype={constructor:ei,draw:function(t,e,n,r,i){var o="geo"===t.mainType,a=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(e){a||e.getHostGeoModel()!==t||(a=e.getData())});var s=t.coordinateSystem,u=this.group,c=s.scale,l={position:s.position,scale:c};!u.childAt(0)||i?u.attr(l):_p.updateProps(u,l,t),u.removeAll();var f=["itemStyle"],h=["emphasis","itemStyle"],d=["label"],p=["emphasis","label"],g=nc.createHashMap();nc.each(s.regions,function(e){var n=g.get(e.name)||g.set(e.name,new _p.Group),r=new _p.CompoundPath({shape:{paths:[]}});n.add(r);var i,s=(I=t.getRegionModel(e.name)||t).getModel(f),l=I.getModel(h),v=Qr(s),m=Qr(l),y=I.getModel(d),x=I.getModel(p);if(a){i=a.indexOfName(e.name);var _=a.getItemVisual(i,"color",!0);_&&(v.fill=_)}nc.each(e.geometries,function(t){if("polygon"===t.type){r.shape.paths.push(new _p.Polygon({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)r.shape.paths.push(new _p.Polygon({shape:{points:t.interiors[e]}}))}}),r.setStyle(v),r.style.strokeNoScale=!0,r.culling=!0;var b=y.get("show"),w=x.get("show"),M=a&&isNaN(a.get(a.mapDimension("value"),i)),S=a&&a.getItemLayout(i);if(o||M&&(b||w)||S&&S.showLabel){var A,T=o?e.name:i;(!a||i>=0)&&(A=t);var O=new _p.Text({position:e.center.slice(),scale:[1/c[0],1/c[1]],z2:10,silent:!0});_p.setLabelStyle(O.style,O.hoverStyle={},y,x,{labelFetcher:A,labelDataIndex:T,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(O)}if(a)a.setItemGraphicEl(i,n);else{var I=t.getRegionModel(e.name);r.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:I&&I.option||{}}}(n.__regions||(n.__regions=[])).push(e),_p.setHoverStyle(n,m,{hoverSilentOnTouch:!!t.get("selectedMode")}),u.add(n)}),this._updateController(t,e,n),function(t,e,n,r,i){n.off("click"),n.off("mousedown"),e.get("selectedMode")&&(n.on("mousedown",function(){t._mouseDownFlag=!0}),n.on("click",function(o){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var a=o.target;!a.__regions;)a=a.parent;if(a){var s={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:nc.map(a.__regions,function(t){return{name:t.name,from:i.uid}})};s[e.mainType+"Id"]=e.id,r.dispatchAction(s),ti(e,n)}}}))}(this,t,u,n,r),ti(t,u)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(t,e,n){function r(){var e={type:"geoRoam",componentType:s};return e[s+"Id"]=t.id,e}var i=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=i.getZoom(),o.enable(t.get("roam")||!1);var s=t.mainType;o.off("pan").on("pan",function(t,e){this._mouseDownFlag=!1,xM(a,t,e),n.dispatchAction(nc.extend(r(),{dx:t,dy:e}))},this),o.off("zoom").on("zoom",function(t,e,i){if(this._mouseDownFlag=!1,_M(a,t,e,i),n.dispatchAction(nc.extend(r(),{zoom:t,originX:e,originY:i})),this._updateGroup){var o=this.group,s=o.scale;o.traverse(function(t){"text"===t.type&&t.attr("scale",[1/s[0],1/s[1]])})}},this),o.setPointerChecker(function(e,r,o){return i.getViewRectAfterRoam().contain(r,o)&&!MM(e,n,t)})}};var SM=ei,AM=(D_.extendChartView({type:"map",render:function(t,e,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!t.getHostGeoModel()){if(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===t.id)(o=this._mapDraw)&&i.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new SM(n,!0);i.add(o.group),o.draw(t,e,n,this,r),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,n){var r=t.originalData,i=this.group;r.each(r.mapDimension("value"),function(e,n){if(!isNaN(e)){var o=r.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,u=new _p.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:s?8:10});if(!s){var c=t.mainSeries.getData(),l=r.getName(n),f=c.indexOfName(l),h=r.getItemModel(n),d=h.getModel("label"),p=h.getModel("emphasis.label"),g=c.getItemGraphicEl(f),v=nc.retrieve2(t.getFormattedLabel(n,"normal"),l),m=nc.retrieve2(t.getFormattedLabel(n,"emphasis"),v),y=function(){var t=_p.setTextStyle({},p,{text:p.get("show")?m:null},{isRectText:!0,useInsideStyle:!1},!0);u.style.extendFrom(t),u.__mapOriginalZ2=u.z2,u.z2+=1},x=function(){_p.setTextStyle(u.style,d,{text:d.get("show")?v:null,textPosition:d.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=u.__mapOriginalZ2&&(u.z2=u.__mapOriginalZ2,u.__mapOriginalZ2=null)};g.on("mouseover",y).on("mouseout",x).on("emphasis",y).on("normal",x),x()}i.add(u)}}})}}),{updateCenterAndZoom:function(t,e,n){var r=t.getZoom(),i=t.getCenter(),o=e.zoom,a=t.dataToPoint(i);if(null!=e.dx&&null!=e.dy&&(a[0]-=e.dx,a[1]-=e.dy,i=t.pointToData(a),t.setCenter(i)),null!=o){if(n){var s=n.min||0,u=n.max||1/0;o=Math.max(Math.min(r*o,u),s)/r}t.scale[0]*=o,t.scale[1]*=o;var c=t.position,l=(e.originX-c[0])*(o-1),f=(e.originY-c[1])*(o-1);c[0]-=l,c[1]-=f,t.updateTransform(),i=t.pointToData(a),t.setCenter(i),t.setZoom(o*r)}return{center:t.getCenter(),zoom:t.getZoom()}}}),TM=AM.updateCenterAndZoom;D_.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){var r=e.coordinateSystem;if("geo"===r.type){var i=TM(r,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom),"series"===n&&nc.each(e.seriesGroup,function(t){t.setCenter(i.center),t.setZoom(i.zoom)})}})});D_.registerLayout(function(t){var e={};t.eachSeriesByType("map",function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!e[r]){var i={};nc.each(n.seriesGroup,function(e){var n=e.coordinateSystem,r=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&r.each(r.mapDimension("value"),function(t,e){var o=r.getName(e),a=n.getRegion(o);if(a&&!isNaN(t)){var s=i[o]||0,u=n.dataToPoint(a.center);i[o]=s+1,r.setItemLayout(e,{point:u,offset:s})}})});var o=n.getData();o.each(function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!i[e],o.setItemLayout(t,n)}),e[r]=!0}})}),D_.registerVisual(function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),n=t.getModel("itemStyle"),r=n.get("areaColor"),i=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:r,color:i})})}),D_.registerProcessor(D_.PRIORITY.PROCESSOR.STATISTIC,function(t){var e={};t.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),r=n?"o"+n.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),nc.each(e,function(t,e){for(var n=function(t,e){var n={};return nc.each(t,function(t){t.each(t.mapDimension("value"),function(e,r){var i="ec-"+t.getName(r);n[i]=n[i]||[],isNaN(e)||n[i].push(e)})}),t[0].map(t[0].mapDimension("value"),function(r,i){for(var o="ec-"+t[0].getName(i),a=0,s=1/0,u=-1/0,c=n[o].length,l=0;l<c;l++)s=Math.min(s,n[o][l]),u=Math.max(u,n[o][l]),a+=n[o][l];return 0===c?NaN:"min"===e?s:"max"===e?u:"average"===e?a/c:a})}(nc.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),r=0;r<t.length;r++)t[r].originalData=t[r].getData();for(r=0;r<t.length;r++)t[r].seriesGroup=t,t[r].needsDrawMap=0===r&&!t[r].getHostGeoModel(),t[r].setData(n.cloneShallow()),t[r].mainSeries=t[0]})}),D_.registerPreprocessor(function(t){var e=[];nc.each(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,nc.defaults(t,t.mapLocation))})}),Ew("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var OM=nc.each,IM="\0__link_datas",CM="\0__link_mainData",kM=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,ni(e,n,t),OM(n,function(n){OM(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,nc.curry(function(t,e){if(function(t){return t[CM]===t}(this)){var n=nc.extend({},this[IM]);n[this.dataType]=e,ni(e,n,t)}else ri(e,this.dataType,this[CM],t);return e},t))})}),e.wrapMethod("cloneShallow",nc.curry(function(t,e){return OM(e[IM],function(n,r){n!==e&&ri(n.cloneShallow(),r,e,t)}),e},t)),OM(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,nc.curry(function(t,e){return t.struct&&t.struct.update(this),e},t))}),nc.assert(n[e.dataType]===e)},DM=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};DM.prototype={constructor:DM,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),t=t||{},nc.isString(t)&&(t={order:t});var r,i=t.order||"preorder",o=this[t.attr||"children"];"preorder"===i&&(r=e.call(n,this));for(var a=0;!r&&a<o.length;a++)o[a].eachNode(t,e,n);"postorder"===i&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].getNodeById(t);if(i)return i}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].contains(t);if(i)return i}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,n=this.hostTree,r=n.data.getItemModel(this.dataIndex),i=this.getLevelModel();return i||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),r.getModel(t,(i||e||n.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},ii.prototype={constructor:ii,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},ii.createTree=function(t,e,n){var r=new ii(e,n.levels,n.leaves),i=[],o=1;(function t(e,n){var a=e.value;o=Math.max(o,nc.isArray(a)?a.length:1),i.push(e);var s=new DM(e.name,r);n?function(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}(s,n):r.root=s,r._nodes.push(s);var u=e.children;if(u)for(var c=0;c<u.length;c++)t(u[c],s)})(t),r.root.updateDepthAndHeight(0);var a=By(i,{coordDimensions:["value"],dimensionsCount:o}),s=new Oy(a,e);return s.initData(i),kM({mainData:s,struct:r,structAttr:"tree"}),r.update(),r};var LM=ii,EM=Vp.encodeHTML,PM=(xm.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},n=t.leaves||{},r={};r.leaves=n;var i=LM.createTree(e,this,r),o=0;i.eachNode("preorder",function(t){t.depth>o&&(o=t.depth)});var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return i.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a}),i.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],r=e.getNodeByDataIndex(t),i=r.getValue(),o=r.name;r&&r!==n;)o=r.parentNode.name+"."+o,r=r.parentNode;return EM(o+(isNaN(i)||null==i?"":" : "+i))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),{init:function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,r=[t];e=r.pop();)if(n=e.children,e.isExpand&&n.length)for(var i=n.length-1;i>=0;i--){var o=n[i];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},r.push(o)}},firstWalk:function(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,i=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){!function(t){for(var e=t.children,n=e.length,r=0,i=0;--n>=0;){var o=e[n];o.hierNode.prelim+=r,o.hierNode.modifier+=r,i+=o.hierNode.change,r+=o.hierNode.shift+i}}(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(t.hierNode.prelim=i.hierNode.prelim+e(t,i),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else i&&(t.hierNode.prelim=i.hierNode.prelim+e(t,i));t.parentNode.hierNode.defaultAncestor=function(t,e,n,r){if(e){for(var i=t,o=t,a=o.parentNode.children[0],s=e,u=i.hierNode.modifier,c=o.hierNode.modifier,l=a.hierNode.modifier,f=s.hierNode.modifier;s=oi(s),o=ai(o),s&&o;){i=oi(i),a=ai(a),i.hierNode.ancestor=t;var h=s.hierNode.prelim+f-o.hierNode.prelim-c+r(s,o);h>0&&(function(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}(function(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}(s,t,n),t,h),c+=h,u+=h),f+=s.hierNode.modifier,c+=o.hierNode.modifier,u+=i.hierNode.modifier,l+=a.hierNode.modifier}s&&!oi(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=f-u),o&&!ai(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=c-l,n=t)}return n}(t,i,t.parentNode.hierNode.defaultAncestor||r[0],e)},secondWalk:function(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier},separation:function(t){return arguments.length?t:function(t,e){return t.parentNode===e.parentNode?1:2}},radialCoordinate:function(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n},getViewRect:function(t,e){return Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}}),NM=PM.radialCoordinate;D_.extendChartView({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new _p.Group,this.group.add(this._mainGroup)},render:function(t,e,n,r){var i=t.getData(),o=t.layoutInfo,a=this._mainGroup,s=t.get("layout");"radial"===s?a.attr("position",[o.x+o.width/2,o.y+o.height/2]):a.attr("position",[o.x,o.y]);var u=this._data,c={expandAndCollapse:t.get("expandAndCollapse"),layout:s,orient:t.getOrient(),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};i.diff(u).add(function(e){si(i,e)&&ci(i,e,null,a,t,c)}).update(function(e,n){var r=u.getItemGraphicEl(n);si(i,e)?ci(i,e,r,a,t,c):r&&li(u,n,r,a,t,c)}).remove(function(e){var n=u.getItemGraphicEl(e);n&&li(u,e,n,a,t,c)}).execute(),!0===c.expandAndCollapse&&i.eachItemGraphicEl(function(e,r){e.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:r})})}),this._data=i},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),D_.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=t.dataIndex,r=e.getData().tree.getNodeByDataIndex(n);r.isExpand=!r.isExpand})});var jM=function(t,e,n){for(var r,i=[t],o=[];r=i.pop();)if(o.push(r),r.isExpand){var a=r.children;if(a.length)for(var s=0;s<a.length;s++)i.push(a[s])}for(;r=o.pop();)e(r,n)},zM=function(t,e){for(var n,r=[t];n=r.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var o=i.length-1;o>=0;o--)r.push(i[o])}},RM=PM.init,BM=PM.firstWalk,VM=PM.secondWalk,FM=PM.separation,HM=PM.radialCoordinate,WM=PM.getViewRect;D_.registerVisual(hb("tree","circle")),D_.registerLayout(function(t,e){t.eachSeriesByType("tree",function(t){!function(t,e){var n=WM(t,e);t.layoutInfo=n;var r=t.get("layout"),i=0,o=0,a=null;"radial"===r?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,a=FM(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(i=n.width,o=n.height,a=FM());var s=t.getData().tree.root,u=s.children[0];if(u){RM(s),jM(u,BM,a),s.hierNode.modifier=-u.hierNode.prelim,zM(u,VM);var c=u,l=u,f=u;zM(u,function(t){var e=t.getLayout().x;e<c.getLayout().x&&(c=t),e>l.getLayout().x&&(l=t),t.depth>f.depth&&(f=t)});var h=c===l?1:a(c,l)/2,d=h-c.getLayout().x,p=0,g=0,v=0,m=0;if("radial"===r)p=i/(l.getLayout().x+h+d),g=o/(f.depth-1||1),zM(u,function(t){v=(t.getLayout().x+d)*p,m=(t.depth-1)*g;var e=HM(v,m);t.setLayout({x:e.x,y:e.y,rawX:v,rawY:m},!0)});else{var y=t.getOrient();"RL"===y||"LR"===y?(g=o/(l.getLayout().x+h+d),p=i/(f.depth-1||1),zM(u,function(t){m=(t.getLayout().x+d)*g,v="LR"===y?(t.depth-1)*p:i-(t.depth-1)*p,t.setLayout({x:v,y:m},!0)})):"TB"!==y&&"BT"!==y||(p=i/(l.getLayout().x+h+d),g=o/(f.depth-1||1),zM(u,function(t){v=(t.getLayout().x+d)*p,m="TB"===y?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:v,y:m},!0)}))}}}(t,e)})});var GM={retrieveTargetInfo:function(t,e,n){if(t&&nc.indexOf(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if(i&&r.contains(i))return{node:i};var o=t.targetNodeId;if(null!=o&&(i=r.getNodeById(o)))return{node:i}}},getPathToRoot:hi,aboveViewRoot:function(t,e){var n=hi(t);return nc.indexOf(n,e)>=0},wrapTreePathInfo:function(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}},qM=Vp.encodeHTML,UM=Vp.addCommas,YM=GM.wrapTreePathInfo,XM=(xm.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;nc.each(e.children,function(e){t(e);var r=e.value;nc.isArray(r)&&(r=r[0]),n+=r});var r=e.value;nc.isArray(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=n),r<0&&(r=0),nc.isArray(e.value)?e.value[0]=r:e.value=r}(n);var r=t.levels||[];r=t.levels=function(t,e){var n,r=e.get("color");if(r)return t=t||[],nc.each(t,function(t){var e=new kp(t),r=e.get("color");(e.get("itemStyle.color")||r&&"none"!==r)&&(n=!0)}),n||((t[0]||(t[0]={})).color=r.slice()),t}(r,e);var i={};return i.levels=r,LM.createTree(n,this,i).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),r=UM(nc.isArray(n)?n[0]:n),i=e.getName(t);return qM(i+": "+r)},getDataParams:function(t){var e=xm.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=YM(n,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},nc.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=nc.createHashMap(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}}),GM.wrapTreePathInfo);di.prototype={constructor:di,render:function(t,e,n,r){var i=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),i.get("show")&&n){var a=i.getModel("itemStyle"),s=a.getModel("textStyle"),u={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,s),this._renderContent(t,u,a,s,r),Xp.positionElement(o,u.pos,u.box)}},_prepare:function(t,e,n){for(var r=t;r;r=r.parentNode){var i=r.getModel().get("name"),o=n.getTextRect(i),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:r,text:i,width:a})}},_renderContent:function(t,e,n,r,i){for(var o=0,a=e.emptyItemWidth,s=t.get("breadcrumb.height"),u=Xp.getAvailableSize(e.pos,e.box),c=e.totalWidth,l=e.renderList,f=l.length-1;f>=0;f--){var h=l[f],d=h.node,p=h.width,g=h.text;c>u.width&&(c-=p-a,p=a,g=null);var v=new _p.Polygon({shape:{points:function(t,e,n,r,i,o){var a=[[i?t:t-5,0],[t+n,0],[t+n,0+r],[i?t:t-5,0+r]];return!(0===f)&&a.splice(2,0,[t+n+5,0+r/2]),!i&&a.push([t,0+r/2]),a}(o,0,p,s,f===l.length-1)},style:nc.defaults(n.getItemStyle(),{lineJoin:"bevel",text:g,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:nc.curry(i,d)});this.group.add(v),function(t,e,n){v.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&XM(n,e)}}(0,t,d),o+=p+8}},remove:function(){this.group.removeAll()}};for(var ZM=di,$M={createWrap:function(){var t,e=[],n={};return{add:function(t,r,i,o,a){return nc.isString(o)&&(a=o,o=0),!n[t.id]&&(n[t.id]=1,e.push({el:t,target:r,time:i,delay:o,easing:a}),!0)},done:function(e){return t=e,this},start:function(){for(var r=e.length,i=0,o=e.length;i<o;i++){var a=e[i];a.el.animateTo(a.target,a.time,a.delay,a.easing,function(){--r||(e.length=0,n={},t&&t())})}return this}}}},KM=nc.bind,JM=_p.Group,QM=_p.Rect,tS=nc.each,eS=["label"],nS=["emphasis","label"],rS=["upperLabel"],iS=["emphasis","upperLabel"],oS=10,aS=Vf([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),sS=function(t){var e=aS(t);return e.stroke=e.fill=e.lineWidth=null,e},uS=(D_.extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,n,r){var i=e.findComponents({mainType:"series",subType:"treemap",query:r});if(!(nc.indexOf(i,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var o=GM.retrieveTargetInfo(r,["treemapZoomToNode","treemapRootToNode"],t),a=r&&r.type,s=t.layoutInfo,u=!this._oldTree,c=this._storage,l="treemapRootToNode"===a&&o&&c?{rootNodeGroup:c.nodeGroup[o.node.getRawIndex()],direction:r.direction}:null,f=this._giveContainerGroup(s),h=this._doRender(f,t,l);u||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?h.renderFinally():this._doAnimation(f,h,t,l),this._resetController(n),this._renderBreadcrumb(t,n,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new JM,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){var r=e.getData().tree,i=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,u=[],c=nc.curry(function(t,e,n,r,i,o,a,s,u,c){function l(t,e){m?!t.invisible&&o.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function f(e,n,r,i,o,s){var u=a.getModel(),c=nc.retrieve(t.getFormattedLabel(a.dataIndex,"normal",null,null,s?"upperLabel":"label"),u.get("name"));if(!s&&d.isLeafRoot){var l=t.get("drillDownIcon",!0);c=l?l+" "+c:c}var f=u.getModel(s?rS:eS),h=u.getModel(s?iS:nS),p=f.getShallow("show");_p.setLabelStyle(e,n,f,h,{defaultText:p?c:null,autoColor:r,isRectText:!0}),s&&(e.textRect=nc.clone(s)),e.truncate=p&&f.get("ellipsis")?{outerWidth:i,outerHeight:o,minChar:2}:null}function h(t,o,s,u){var c=null!=x&&n[t][x],l=i[t];return c?(n[t][x]=null,function(t,e,n){(l[y]={}).old="nodeGroup"===n?e.position.slice():nc.extend({},e.shape)}(0,c,t)):m||((c=new o({z:function(t,e){var n=s*oS+u;return(n-1)/n}()})).__tmDepth=s,c.__tmStorageName=t,function(t,e,n){var o=t[y]={},s=a.parentNode;if(s&&(!r||"drillDown"===r.direction)){var u=0,c=0,l=i.background[s.getRawIndex()];!r&&l&&l.old&&(u=l.old.width,c=l.old.height),o.old="nodeGroup"===n?[0,c]:{x:u,y:c,width:0,height:0}}o.fadein="nodeGroup"!==n}(l,0,t)),e[t][y]=c}if(a){var d=a.getLayout();if(d&&d.isInView){var p=d.width,g=d.height,v=d.borderWidth,m=d.invisible,y=a.getRawIndex(),x=s&&s.getRawIndex(),_=a.viewChildren,b=d.upperHeight,w=_&&_.length,M=a.getModel("itemStyle"),S=a.getModel("emphasis.itemStyle"),A=h("nodeGroup",JM);if(A){if(u.add(A),A.attr("position",[d.x||0,d.y||0]),A.__tmNodeWidth=p,A.__tmNodeHeight=g,d.isAboveViewRoot)return A;var T=h("background",QM,c,1);if(T&&function(e,n,r){n.dataIndex=a.dataIndex,n.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:p,height:g});var i=a.getVisual("borderColor",!0),o=S.get("borderColor");l(n,function(){var t=sS(M);t.fill=i;var e=aS(S);if(e.fill=o,r){var a=p-2*v;f(t,e,i,a,b,{x:v,y:0,width:a,height:b})}else t.text=e.text=null;n.setStyle(t),_p.setHoverStyle(n,e)}),e.add(n)}(A,T,w&&d.upperHeight),!w){var O=h("content",QM,c,2);O&&function(e,n){n.dataIndex=a.dataIndex,n.seriesIndex=t.seriesIndex;var r=Math.max(p-2*v,0),i=Math.max(g-2*v,0);n.culling=!0,n.setShape({x:v,y:v,width:r,height:i});var o=a.getVisual("color",!0);l(n,function(){var t=sS(M);t.fill=o;var e=aS(S);f(t,e,o,r,i),n.setStyle(t),_p.setHoverStyle(n,e)}),e.add(n)}(A,O)}return A}}}},e,a,s,n,o,u);!function t(e,n,r,i,o){function a(t){return t.getId()}function s(a,s){var u=null!=a?e[a]:null,l=null!=s?n[s]:null,f=c(u,l,r,o);f&&t(u&&u.viewChildren||[],l&&l.viewChildren||[],f,i,o+1)}i?(n=e,tS(e,function(t,e){!t.isRemoved()&&s(e,e)})):new ly(n,e,a,a).add(s).update(s).remove(nc.curry(s,null)).execute()}(r.root?[r.root]:[],i&&i.root?[i.root]:[],t,r===i||!i,0);var l=function(t){var e={nodeGroup:[],background:[],content:[]};return s&&tS(s,function(t,n){var r=e[n];tS(t,function(t){t&&(r.push(t),t.__tmWillDelete=1)})}),e}();return this._oldTree=r,this._storage=a,{lastsForAnimation:o,willDeleteEls:l,renderFinally:function(){tS(l,function(t){tS(t,function(t){t.parent&&t.parent.remove(t)})}),tS(u,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,e,n,r){if(n.get("animation")){var i=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=$M.createWrap();tS(e.willDeleteEls,function(t,e){tS(t,function(t,n){if(!t.invisible){var s,u=t.parent;if(r&&"drillDown"===r.direction)s=u===r.rootNodeGroup?{shape:{x:0,y:0,width:u.__tmNodeWidth,height:u.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,l=0;u.__tmWillDelete||(c=u.__tmNodeWidth/2,l=u.__tmNodeHeight/2),s="nodeGroup"===e?{position:[c,l],style:{opacity:0}}:{shape:{x:c,y:l,width:0,height:0},style:{opacity:0}}}s&&a.add(t,s,i,o)}})}),tS(this._storage,function(t,n){tS(t,function(t,r){var s=e.lastsForAnimation[n][r],u={};s&&("nodeGroup"===n?s.old&&(u.position=t.position.slice(),t.attr("position",s.old)):(s.old&&(u.shape=nc.extend({},t.shape),t.setShape(s.old)),s.fadein?(t.setStyle("opacity",0),u.style={opacity:1}):1!==t.style.opacity&&(u.style={opacity:1})),a.add(t,u,i,o))})},this),this._state="animating",a.done(KM(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new yM(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",KM(this._onPan,this)),e.on("zoom",KM(this._onZoom,this)));var n=new tl(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,r){return n.contain(e,r)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t,e){if("animating"!==this._state&&(Math.abs(t)>3||Math.abs(e)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t,y:r.y+e,width:r.width,height:r.height}})}},_onZoom:function(t,e,n){if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var o=new tl(i.x,i.y,i.width,i.height),a=this.seriesModel.layoutInfo;e-=a.x,n-=a.y;var s=dc.create();dc.translate(s,s,[-e,-n]),dc.scale(s,s,[t,t]),dc.translate(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var r=n.node;if(r.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var i=r.hostTree.data.getItemModel(r.dataIndex),o=i.get("link",!0),a=i.get("target",!0)||"blank";o&&window.open(o,a)}}}}},this)},_renderBreadcrumb:function(t,e,n){n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new ZM(this.group))).render(t,e,n.node,KM(function(e){"animating"!==this._state&&(GM.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(r){var i=this._storage.background[r.getRawIndex()];if(i){var o=i.transformCoordToLocal(t,e),a=i.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:r,offsetX:o[0],offsetY:o[1]}}},this),n}}),["treemapZoomToNode","treemapRender","treemapMove"]),cS=0;cS<uS.length;cS++)D_.registerAction({type:uS[cS],update:"updateView"},function(){});D_.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,n){var r=GM.retrieveTargetInfo(t,["treemapZoomToNode","treemapRootToNode"],e);if(r){var i=e.getViewRoot();i&&(t.direction=GM.aboveViewRoot(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}})});var lS=Np.linearMap,fS=nc.each,hS=nc.isObject,dS=-1,pS=function(t){var e=t.mappingMethod,n=t.type,r=this.option=nc.clone(t);this.type=n,this.mappingMethod=e,this._normalizeData=vS[e];var i=gS[n];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._doMap=i._doMap[e],"piecewise"===e?(pi(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,nc.each(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}(r)):"category"===e?r.categories?function(t){var e=t.categories,n=t.visual,r=t.categoryMap={};if(fS(e,function(t,e){r[t]=e}),!nc.isArray(n)){var i=[];nc.isObject(n)?fS(n,function(t,e){var n=r[e];i[null!=n?n:dS]=t}):i[dS]=n,n=wi(t,i)}for(var o=e.length-1;o>=0;o--)null==n[o]&&(delete r[e[o]],e.pop())}(r):pi(r,!0):(nc.assert("linear"!==e||r.dataExtent),pi(r))};pS.prototype={constructor:pS,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return nc.bind(this._normalizeData,this)}};var gS=pS.visualHandlers={color:{applyVisual:mi("color"),getColorMapper:function(){var t=this.option;return nc.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),yi.call(this,t)}:function(e,n,r){var i=!!r;return!n&&(e=this._normalizeData(e)),r=Lc.fastLerp(e,t.parsedVisual,r),i?r:Lc.stringify(r,"rgba")},this)},_doMap:{linear:function(t){return Lc.stringify(Lc.fastLerp(t,this.option.parsedVisual),"rgba")},category:yi,piecewise:function(t,e){var n=bi.call(this,e);return null==n&&(n=Lc.stringify(Lc.fastLerp(t,this.option.parsedVisual),"rgba")),n},fixed:xi}},colorHue:gi(function(t,e){return Lc.modifyHSL(t,e)}),colorSaturation:gi(function(t,e){return Lc.modifyHSL(t,null,e)}),colorLightness:gi(function(t,e){return Lc.modifyHSL(t,null,null,e)}),colorAlpha:gi(function(t,e){return Lc.modifyAlpha(t,e)}),opacity:{applyVisual:mi("opacity"),_doMap:_i([0,1])},liftZ:{applyVisual:mi("liftZ"),_doMap:{linear:xi,category:xi,piecewise:xi,fixed:xi}},symbol:{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);if(nc.isString(r))n("symbol",r);else if(hS(r))for(var i in r)r.hasOwnProperty(i)&&n(i,r[i])},_doMap:{linear:vi,category:yi,piecewise:function(t,e){var n=bi.call(this,e);return null==n&&(n=vi.call(this,t)),n},fixed:xi}},symbolSize:{applyVisual:mi("symbolSize"),_doMap:_i([0,1])}},vS={linear:function(t){return lS(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=pS.findPieceIndex(t,e,!0);if(null!=n)return lS(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?dS:e},fixed:nc.noop};pS.listVisualTypes=function(){var t=[];return nc.each(gS,function(e,n){t.push(n)}),t},pS.addVisualHandler=function(t,e){gS[t]=e},pS.isValidType=function(t){return gS.hasOwnProperty(t)},pS.eachVisual=function(t,e,n){nc.isObject(t)?nc.each(t,e,n):e.call(n,t)},pS.mapVisual=function(t,e,n){var r,i=nc.isArray(t)?[]:nc.isObject(t)?{}:(r=!0,null);return pS.eachVisual(t,function(t,o){var a=e.call(n,t,o);r?i=a:i[o]=a}),i},pS.retrieveVisuals=function(t){var e,n={};return t&&fS(gS,function(r,i){t.hasOwnProperty(i)&&(n[i]=t[i],e=!0)}),e?n:null},pS.prepareVisualTypes=function(t){if(hS(t)){var e=[];fS(t,function(t,n){e.push(n)}),t=e}else{if(!nc.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},pS.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},pS.findPieceIndex=function(t,e,n){function r(e,n){var r=Math.abs(e-t);r<o&&(o=r,i=n)}for(var i,o=1/0,a=0,s=e.length;a<s;a++){var u=e[a].value;if(null!=u){if(u===t||"string"==typeof u&&u===t+"")return a;n&&r(u,a)}}for(a=0,s=e.length;a<s;a++){var c=e[a],l=c.interval,f=c.close;if(l){if(l[0]===-1/0){if(Mi(f[1],t,l[1]))return a}else if(l[1]===1/0){if(Mi(f[0],l[0],t))return a}else if(Mi(f[0],l[0],t)&&Mi(f[1],t,l[1]))return a;n&&r(l[0],a),n&&r(l[1],a)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i};var mS=pS,yS=nc.isArray,xS="itemStyle",_S={seriesType:"treemap",reset:function(t,e,n,r){var i=t.getData().tree,o=i.root,a=t.getModel(xS);o.isRemoved()||function t(e,n,r,i,o,a){var s=e.getModel(),u=e.getLayout();if(u&&!u.invisible&&u.isInView){var c,l=e.getModel(xS),f=function(t,e,n,r){var i=nc.extend({},e);return nc.each(["color","colorAlpha","colorSaturation"],function(o){var a=t.get(o,!0);null==a&&n&&(a=n[o]),null==a&&(a=e[o]),null==a&&(a=r.get(o)),null!=a&&(i[o]=a)}),i}(l,n,r[e.depth],i),h=l.get("borderColor"),d=l.get("borderColorSaturation");null!=d&&(h=function(t,e){return null!=e?Lc.modifyHSL(e,null,null,t):null}(d,c=Si(f))),e.setVisual("borderColor",h);var p=e.viewChildren;if(p&&p.length){var g=function(t,e,n,r,i,o){if(p&&p.length){var a=Ti(e,"color")||null!=i.color&&"none"!==i.color&&(Ti(e,"colorAlpha")||Ti(e,"colorSaturation"));if(a){var s=e.get("visualMin"),u=e.get("visualMax"),c=n.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=u&&u>c[1]&&(c[1]=u);var l=e.get("colorMappingBy"),f={type:a.name,dataExtent:c,visual:a.range};"color"!==f.type||"index"!==l&&"id"!==l?f.mappingMethod="linear":(f.mappingMethod="category",f.loop=!0);var h=new mS(f);return h.__drColorMappingBy=l,h}}}(0,s,u,0,f);nc.each(p,function(e,n){(e.depth>=o.length||e===o[e.depth])&&t(e,function(t,e,n,r,i,o){var a=nc.extend({},e);if(i){var s=i.type,u="color"===s&&i.__drColorMappingBy,c="index"===u?r:"id"===u?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=i.mapValueToVisual(c)}return a}(s,f,e,n,g,a),r,i,o,a)})}else c=Si(f),e.setVisual("color",c)}}(o,{},nc.map(i.levelModels,function(t){return t?t.get(xS):null}),a,t.getViewRoot().getAncestors(),t)}},bS=Np.parsePercent,wS=Np.MAX_SAFE_INTEGER,MS=Math.max,SS=Math.min,AS=nc.retrieve,TS=nc.each,OS=["itemStyle","borderWidth"],IS=["itemStyle","gapWidth"],CS=["upperLabel","show"],kS=["upperLabel","height"],DS={seriesType:"treemap",reset:function(t,e,n,r){var i=n.getWidth(),o=n.getHeight(),a=t.option,s=Xp.getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=a.size||[],c=bS(AS(s.width,u[0]),i),l=bS(AS(s.height,u[1]),o),f=r&&r.type,h=GM.retrieveTargetInfo(r,["treemapZoomToNode","treemapRootToNode"],t),d="treemapRender"===f||"treemapMove"===f?r.rootRect:null,p=t.getViewRoot(),g=GM.getPathToRoot(p);if("treemapMove"!==f){var v="treemapZoomToNode"===f?function(t,e,n,r,i){var o=(e||{}).node,a=[r,i];if(!o||o===n)return a;for(var s,u=r*i,c=u*t.option.zoomToNodeRatio;s=o.parentNode;){for(var l=0,f=s.children,h=0,d=f.length;h<d;h++)l+=f[h].getValue();var p=o.getValue();if(0===p)return a;c*=l/p;var g=s.getModel(),v=g.get(OS);(c+=4*v*v+(3*v+Math.max(v,Ii(g)))*Math.pow(c,.5))>wS&&(c=wS),o=s}c<u&&(c=u);var m=Math.pow(c/u,.5);return[r*m,i*m]}(t,h,p,c,l):d?[d.width,d.height]:[c,l],m=a.sort;m&&"asc"!==m&&"desc"!==m&&(m="desc");var y={squareRatio:a.squareRatio,sort:m,leafDepth:a.leafDepth};p.hostTree.clearLayouts(),x={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]},p.setLayout(x),function t(e,n,r,i){var o,a;if(!e.isRemoved()){var s=e.getLayout();o=s.width,a=s.height;var u=(p=e.getModel()).get(OS),c=p.get(IS)/2,l=Ii(p),f=Math.max(u,l),h=u-c,d=f-c,p=e.getModel();e.setLayout({borderWidth:u,upperHeight:f,upperLabelHeight:l},!0);var g=(o=MS(o-2*h,0))*(a=MS(a-h-d,0)),v=function(t,e,n,r,i,o){var a=t.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=r.leafDepth&&r.leafDepth<=o;if(i&&!u)return t.viewChildren=[];!function(t,e){e&&t.sort(function(t,n){var r="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r})}(a=nc.filter(a,function(t){return!t.isRemoved()}),s);var c=function(t,e,n){for(var r=0,i=0,o=e.length;i<o;i++)r+=e[i].getValue();var a=t.get("visualDimension");if(e&&e.length)if("value"===a&&n)s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&s.reverse();else{var s=[1/0,-1/0];TS(e,function(t){var e=t.getValue(a);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})}else s=[NaN,NaN];return{sum:r,dataExtent:s}}(e,a,s);if(0===c.sum)return t.viewChildren=[];if(c.sum=function(t,e,n,r,i){if(!r)return n;for(var o=t.get("visibleMin"),a=i.length,s=a,u=a-1;u>=0;u--){var c=i["asc"===r?a-u-1:u].getValue();c/n*e<o&&(s=u,n-=c)}return"asc"===r?i.splice(0,a-s):i.splice(s,a-s),n}(e,n,c.sum,s,a),0===c.sum)return t.viewChildren=[];for(var l=0,f=a.length;l<f;l++){var h=a[l].getValue()/c.sum*n;a[l].setLayout({area:h})}return u&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0),t.viewChildren=a,t.setLayout({dataExtent:c.dataExtent},!0),a}(e,p,g,n,r,i);if(v.length){var m={x:h,y:d,width:o,height:a},y=SS(o,a),x=1/0,_=[];_.area=0;for(var b=0,w=v.length;b<w;){var M=v[b];_.push(M),_.area+=M.getLayout().area;var S=function(t,e,n){for(var r,i=0,o=1/0,a=0,s=t.length;a<s;a++)(r=t[a].getLayout().area)&&(r<o&&(o=r),r>i&&(i=r));var u=t.area*t.area,c=e*e*n;return u?MS(c*i/u,u/(c*o)):1/0}(_,y,n.squareRatio);S<=x?(b++,x=S):(_.area-=_.pop().getLayout().area,Oi(_,y,m,c,!1),y=SS(m.width,m.height),_.length=_.area=0,x=1/0)}if(_.length&&Oi(_,y,m,c,!0),!r){var A=p.get("childrenVisibleMin");null!=A&&g<A&&(r=!0)}for(b=0,w=v.length;b<w;b++)t(v[b],n,r,i+1)}}}(p,y,!1,0);var x=p.getLayout();TS(g,function(t,e){var n=(g[e+1]||p).getValue();t.setLayout(nc.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))})}var _=t.getData().tree.root;_.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!n)return r;var i=n.node,o=i.getLayout();if(!o)return r;for(var a=[o.width/2,o.height/2],s=i;s;){var u=s.getLayout();a[0]+=u.x,a[1]+=u.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,d,h),!0),t.setLayoutInfo(s),function t(e,n,r,i,o){var a=e.getLayout(),s=r[o],u=s&&s===e;if(!(s&&!u||o===r.length&&e!==i)){e.setLayout({isInView:!0,invisible:!u&&!n.intersect(a),isAboveViewRoot:u},!0);var c=new tl(n.x-a.x,n.y-a.y,n.width,n.height);TS(e.viewChildren||[],function(e){t(e,c,r,i,o+1)})}}(_,new tl(-s.x,-s.y,i,o),g,p,0)}};D_.registerVisual(_S),D_.registerLayout(DS);var LS=Rf,ES=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},PS=ES.prototype;PS.type="graph",PS.isDirected=function(){return this._directed},PS.addNode=function(t,e){t=t||""+e;var n=this._nodesMap;if(!n[Ci(t)]){var r=new ki(t,e);return r.hostGraph=this,this.nodes.push(r),n[Ci(t)]=r,r}},PS.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},PS.getNodeById=function(t){return this._nodesMap[Ci(t)]},PS.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),ki.isInstance(t)||(t=r[Ci(t)]),ki.isInstance(e)||(e=r[Ci(e)]),t&&e){var o=t.id+"-"+e.id;if(!i[o]){var a=new Di(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),i[o]=a,a}}},PS.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},PS.getEdge=function(t,e){ki.isInstance(t)&&(t=t.id),ki.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},PS.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},PS.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},PS.breadthFirstTraverse=function(t,e,n,r){if(ki.isInstance(e)||(e=this._nodesMap[Ci(e)]),e){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(r,e,null))for(var a=[e];a.length;){var s=a.shift(),u=s[i];for(o=0;o<u.length;o++){var c=u[o],l=c.node1===s?c.node2:c.node1;if(!l.__visited){if(t.call(r,l,s))return;a.push(l),l.__visited=!0}}}}},PS.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)r[e.getRawIndex(i)].dataIndex=i},PS.clone=function(){for(var t=new ES(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<n.length;r++){var i=n[r];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},ki.prototype={constructor:ki,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},Di.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var NS=function(t,e){return{getValue:function(n){var r=this[t][e];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n,r){return this[t][e].getItemVisual(this.dataIndex,n,r)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};nc.mixin(ki,NS("hostGraph","data")),nc.mixin(Di,NS("hostGraph","edgeData")),ES.Node=ki,ES.Edge=Di,LS(ki),LS(Di);var jS=ES,zS=function(t,e,n,r,i){for(var o=new jS(r),a=0;a<t.length;a++)o.addNode(nc.retrieve(t[a].id,t[a].name,a),a);var s=[],u=[],c=0;for(a=0;a<e.length;a++){var l=e[a],f=l.source,h=l.target;o.addEdge(f,h,c)&&(u.push(l),s.push(nc.retrieve(l.id,f+" > "+h)),c++)}var d,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)d=Xy(t,n);else{var g=yv.get(p),v=g&&"view"!==g.type&&g.dimensions||[];nc.indexOf(v,"value")<0&&v.concat(["value"]);var m=By(t,{coordDimensions:v});(d=new Oy(m,n)).initData(t)}var y=new Oy(["value"],n);return y.initData(u,s),i&&i(d,y),kM({mainData:d,struct:o,structAttr:"graph",datas:{node:d,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o},RS=Lf.defaultEmphasis,BS=Vp.encodeHTML,VS=D_.extendSeriesModel({type:"series.graph",init:function(t){VS.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){VS.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){VS.superApply(this,"mergeDefaultAndTheme",arguments),RS(t,["edgeLabel"],["show"])},getInitialData:function(t,e){var n=t.edges||t.links||[],r=t.data||t.nodes||[],i=this;if(r&&n)return zS(r,n,this,!0,function(t,n){t.wrapMethod("getItemModel",function(t){var e=i._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var r=i.getModel("edgeLabel"),o=new kp({label:r.option},r.parentModel,e),a=i.getModel("emphasis.edgeLabel"),s=new kp({emphasis:{label:a.option}},a.parentModel,e);n.wrapMethod("getItemModel",function(t){return t.customizeGetParent(function(t){return(t=this.parsePath(t))&&"label"===t[0]?o:t&&"emphasis"===t[0]&&"label"===t[1]?s:this.parentModel}),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(t,n),o=r.graph.getEdgeByIndex(t),a=r.getName(o.node1.dataIndex),s=r.getName(o.node2.dataIndex),u=[];return null!=a&&u.push(a),null!=s&&u.push(s),u=BS(u.join(" > ")),i.value&&(u+=" : "+BS(i.value)),u}return VS.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=nc.map(this.option.categories||[],function(t){return null!=t.value?t:nc.extend({value:0},t)}),e=new Oy(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return VS.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),FS=_p.Line.prototype,HS=_p.BezierCurve.prototype,WS=_p.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(Li(e)?FS:HS).buildPath(t,e)},pointAt:function(t){return Li(this.shape)?FS.pointAt.call(this,t):HS.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,n=Li(e)?[e.x2-e.x1,e.y2-e.y1]:HS.tangentAt.call(this,t);return ic.normalize(n,n)}}),GS=Np.round,qS=["fromSymbol","toSymbol"],US=ji.prototype;US.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),n=this.childOfName("label");if(t||e||!n.ignore){for(var r=1,i=this.parent;i;)i.scale&&(r/=i.scale[0]),i=i.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var a=o.shape.percent,s=o.pointAt(0),u=o.pointAt(a),c=ic.sub([],u,s);if(ic.normalize(c,c),t&&(t.attr("position",s),p=o.tangentAt(0),t.attr("rotation",Math.PI/2-Math.atan2(p[1],p[0])),t.attr("scale",[r*a,r*a])),e&&(e.attr("position",u),p=o.tangentAt(1),e.attr("rotation",-Math.PI/2-Math.atan2(p[1],p[0])),e.attr("scale",[r*a,r*a])),!n.ignore){n.attr("position",u);var l,f,h,d=5*r;if("end"===n.__position)l=[c[0]*d+u[0],c[1]*d+u[1]],f=c[0]>.8?"left":c[0]<-.8?"right":"center",h=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";else if("middle"===n.__position){var p,g=a/2,v=[(p=o.tangentAt(g))[1],-p[0]],m=o.pointAt(g);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]),l=[m[0]+v[0]*d,m[1]+v[1]*d],f="center",h="bottom";var y=-Math.atan2(p[1],p[0]);u[0]<s[0]&&(y=Math.PI+y),n.attr("rotation",y)}else l=[-c[0]*d+s[0],-c[1]*d+s[1]],f=c[0]>.8?"right":c[0]<-.8?"left":"center",h=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";n.attr({style:{textVerticalAlign:n.__verticalAlign||h,textAlign:n.__textAlign||f},position:l,scale:[r,r]})}}}},US._createLine=function(t,e,n){var r=t.hostModel,i=function(t){var e=new WS({name:"line"});return Ni(e.shape,t),e}(t.getItemLayout(e));i.shape.percent=0,_p.initProps(i,{shape:{percent:1}},r,e),this.add(i);var o=new _p.Text({name:"label"});this.add(o),nc.each(qS,function(n){var r=Pi(n,t,e);this.add(r),this[Ei(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},US.updateData=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),o=t.getItemLayout(e),a={shape:{}};Ni(a.shape,o),_p.updateProps(i,a,r,e),nc.each(qS,function(n){var r=t.getItemVisual(e,n),i=Ei(n);if(this[i]!==r){this.remove(this.childOfName(n));var o=Pi(n,t,e);this.add(o)}this[i]=r},this),this._updateCommonStl(t,e,n)},US._updateCommonStl=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),o=n&&n.lineStyle,a=n&&n.hoverLineStyle,s=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var c=t.getItemModel(e);o=c.getModel("lineStyle").getLineStyle(),a=c.getModel("emphasis.lineStyle").getLineStyle(),s=c.getModel("label"),u=c.getModel("emphasis.label")}var l=t.getItemVisual(e,"color"),f=nc.retrieve3(t.getItemVisual(e,"opacity"),o.opacity,1);i.useStyle(nc.defaults({strokeNoScale:!0,fill:"none",stroke:l,opacity:f},o)),i.hoverStyle=a,nc.each(qS,function(t){var e=this.childOfName(t);e&&(e.setColor(l),e.setStyle({opacity:f}))},this);var h,d,p=s.getShallow("show"),g=u.getShallow("show"),v=this.childOfName("label");if((p||g)&&(h=l||"#000",null==(d=r.getFormattedLabel(e,"normal",t.dataType)))){var m=r.getRawValue(e);d=null==m?t.getName(e):isFinite(m)?GS(m):m}var y=p?d:null,x=g?nc.retrieve2(r.getFormattedLabel(e,"emphasis",t.dataType),d):null,_=v.style;null==y&&null==x||(_p.setTextStyle(v.style,s,{text:y},{autoColor:h}),v.__textAlign=_.textAlign,v.__verticalAlign=_.textVerticalAlign,v.__position=s.get("position")||"middle"),v.hoverStyle=null!=x?{text:x,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null},v.ignore=!p&&!g,_p.setHoverStyle(this)},US.highlight=function(){this.trigger("emphasis")},US.downplay=function(){this.trigger("normal")},US.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},US.setLinePoints=function(t){var e=this.childOfName("line");Ni(e.shape,t),e.dirty()},nc.inherits(ji,_p.Group);var YS=ji,XS=zi.prototype;XS.isPersistent=function(){return!0},XS.updateData=function(t){var e=this,n=e.group,r=e._lineData;e._lineData=t,r||n.removeAll();var i=Ri(t);t.diff(r).add(function(n){!function(t,e,n,r){if(Vi(e.getItemLayout(n))){var i=new t._ctor(e,n,r);e.setItemGraphicEl(n,i),t.group.add(i)}}(e,t,n,i)}).update(function(n,o){!function(t,e,n,r,i,o){var a=e.getItemGraphicEl(r);Vi(n.getItemLayout(i))?(a?a.updateData(n,i,o):a=new t._ctor(n,i,o),n.setItemGraphicEl(i,a),t.group.add(a)):t.group.remove(a)}(e,r,t,o,n,i)}).remove(function(t){n.remove(r.getItemGraphicEl(t))}).execute()},XS.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},XS.incrementalPrepareUpdate=function(t){this._seriesScope=Ri(t),this._lineData=null,this.group.removeAll()},XS.incrementalUpdate=function(t,e){for(var n=t.start;n<t.end;n++)if(Vi(e.getItemLayout(n))){var r=new this._ctor(e,n,this._seriesScope);r.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),this.group.add(r),e.setItemGraphicEl(n,r)}},XS.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},XS._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var ZS=zi,$S=[],KS=[],JS=[],QS=th.quadraticAt,tA=ic.distSquare,eA=Math.abs,nA=function(t,e){function n(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var r=[],i=th.quadraticSubdivide,o=[[],[],[]],a=[[],[]],s=[];e/=2,t.eachEdge(function(t,u){var c=t.getLayout(),l=t.getVisual("fromSymbol"),f=t.getVisual("toSymbol");c.__original||(c.__original=[ic.clone(c[0]),ic.clone(c[1])],c[2]&&c.__original.push(ic.clone(c[2])));var h=c.__original;if(null!=c[2]){if(ic.copy(o[0],h[0]),ic.copy(o[1],h[2]),ic.copy(o[2],h[1]),l&&"none"!=l){var d=n(t.node1),p=Fi(o,h[0],d*e);i(o[0][0],o[1][0],o[2][0],p,r),o[0][0]=r[3],o[1][0]=r[4],i(o[0][1],o[1][1],o[2][1],p,r),o[0][1]=r[3],o[1][1]=r[4]}if(f&&"none"!=f){d=n(t.node2),p=Fi(o,h[1],d*e);i(o[0][0],o[1][0],o[2][0],p,r),o[1][0]=r[1],o[2][0]=r[2],i(o[0][1],o[1][1],o[2][1],p,r),o[1][1]=r[1],o[2][1]=r[2]}ic.copy(c[0],o[0]),ic.copy(c[1],o[2]),ic.copy(c[2],o[1])}else ic.copy(a[0],h[0]),ic.copy(a[1],h[1]),ic.sub(s,a[1],a[0]),ic.normalize(s,s),l&&"none"!=l&&(d=n(t.node1),ic.scaleAndAdd(a[0],a[0],s,d*e)),f&&"none"!=f&&(d=n(t.node2),ic.scaleAndAdd(a[1],a[1],s,-d*e)),ic.copy(c[0],a[0]),ic.copy(c[1],a[1])})},rA=wM,iA=["itemStyle","opacity"],oA=["lineStyle","opacity"],aA=(D_.extendChartView({type:"graph",init:function(t,e){var n=new U_,r=new ZS,i=this.group;this._controller=new yM(e.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},render:function(t,e,n){var r=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var i=this._symbolDraw,o=this._lineDraw,a=this.group;if("view"===r.type){var s={position:r.position,scale:r.scale};this._firstRender?a.attr(s):_p.updateProps(a,s,t)}nA(t.getGraph(),this._getNodeGlobalScale(t));var u=t.getData();i.updateData(u);var c=t.getEdgeData();o.updateData(c),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var l=t.forceLayout,f=t.get("force.layoutAnimation");l&&this._startForceLayoutIteration(l,f),u.eachItemGraphicEl(function(e,r){var i=u.getItemModel(r);e.off("drag").off("dragend");var o=u.getItemModel(r).get("draggable");o&&e.on("drag",function(){l&&(l.warmUp(),!this._layouting&&this._startForceLayoutIteration(l,f),l.setFixed(r),u.setItemLayout(r,e.position))},this).on("dragend",function(){l&&l.setUnfixed(r)},this),e.setDraggable(o&&l),e.off("mouseover",e.__focusNodeAdjacency),e.off("mouseout",e.__unfocusNodeAdjacency),i.get("focusNodeAdjacency")&&(e.on("mouseover",e.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))},this),u.graph.eachEdge(function(e){var r=e.getGraphicEl();r.off("mouseover",r.__focusNodeAdjacency),r.off("mouseout",r.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(r.on("mouseover",r.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),r.on("mouseout",r.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))});var h="circular"===t.get("layout")&&t.get("circular.rotateLabel"),d=u.getLayout("cx"),p=u.getLayout("cy");u.eachItemGraphicEl(function(t,e){var n=t.getSymbolPath();if(h){var r=u.getItemLayout(e),i=Math.atan2(r[1]-p,r[0]-d);i<0&&(i=2*Math.PI+i);var o=r[0]<d;o&&(i-=Math.PI);var a=o?"left":"right";n.setStyle({textRotation:-i,textPosition:a,textOrigin:"center"}),n.hoverStyle&&(n.hoverStyle.textPosition=a)}else n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,n,r){var i=this._model.getData().graph,o=r.dataIndex,a=r.edgeDataIndex,s=i.getNodeByIndex(o),u=i.getEdgeByIndex(a);(s||u)&&(i.eachNode(function(t){Wi(t,iA,.1)}),i.eachEdge(function(t){Wi(t,oA,.1)}),s&&(Gi(s,iA),nc.each(s.edges,function(t){t.dataIndex<0||(Gi(t,oA),Gi(t.node1,iA),Gi(t.node2,iA))})),u&&(Gi(u,oA),Gi(u.node1,iA),Gi(u.node2,iA)))},unfocusNodeAdjacency:function(t,e,n,r){var i=this._model.getData().graph;i.eachNode(function(t){Wi(t,iA)}),i.eachEdge(function(t){Wi(t,oA)})},_startForceLayoutIteration:function(t,e){var n=this;!function r(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(r,16):r())})}()},_updateController:function(t,e,n){var r=this._controller,i=this._controllerHost,o=this.group;r.setPointerChecker(function(e,r,i){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(r,i)&&!rA(e,n,t)}),"view"===t.coordinateSystem.type?(r.enable(t.get("roam")),i.zoomLimit=t.get("scaleLimit"),i.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(e,r){xM(i,e,r),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e,dy:r})}).on("zoom",function(e,r,o){_M(i,e,r,o),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e,originX:r,originY:o}),this._updateNodeAndLinkScale(),nA(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)):r.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),n=this._getNodeGlobalScale(t),r=[n,n];e.eachItemGraphicEl(function(t,e){t.attr("scale",r)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,r=e.scale,i=r&&r[0]||1;return((e.getZoom()-1)*n+1)/i},updateLayout:function(t){nA(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),AM.updateCenterAndZoom);D_.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var n=e.coordinateSystem,r=aA(n,t);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)})}),D_.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),D_.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var sA=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),Ui(n)}},uA=Ui,cA=nc.each,lA=sA,fA=uA,hA=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=e.getBoundingRect(),r=t.getData(),i=r.graph,o=0,a=r.getSum("value"),s=2*Math.PI/(a||r.count()),u=n.width/2+n.x,c=n.height/2+n.y,l=Math.min(n.width,n.height)/2;i.eachNode(function(t){var e=t.getValue("value");o+=s*(a?e:1)/2,t.setLayout([l*Math.cos(o)+u,l*Math.sin(o)+c]),o+=s*(a?e:1)/2}),r.setLayout({cx:u,cy:c}),i.eachEdge(function(t){var e,n=t.getModel().get("lineStyle.curveness")||0,r=ic.clone(t.node1.getLayout()),i=ic.clone(t.node2.getLayout()),o=(r[0]+i[0])/2,a=(r[1]+i[1])/2;+n&&(e=[u*(n*=3)+o*(1-n),c*n+a*(1-n)]),t.setLayout([r,i,e])})}},dA=hA,pA=ic.scaleAndAdd,gA=function(t,e,n){for(var r=n.rect,i=r.width,o=r.height,a=[r.x+i/2,r.y+o/2],s=null==n.gravity?.1:n.gravity,u=0;u<t.length;u++){var c=t[u];c.p||(c.p=ic.create(i*(Math.random()-.5)+a[0],o*(Math.random()-.5)+a[1])),c.pp=ic.clone(c.p),c.edges=null}var l=.6;return{warmUp:function(){l=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(n){for(var r=[],i=t.length,o=0;o<e.length;o++){var u=e[o],c=u.n1,f=u.n2;ic.sub(r,f.p,c.p);var h=ic.len(r)-u.d,d=f.w/(c.w+f.w);isNaN(d)&&(d=0),ic.normalize(r,r),!c.fixed&&pA(c.p,c.p,r,d*h*l),!f.fixed&&pA(f.p,f.p,r,-(1-d)*h*l)}for(o=0;o<i;o++)(m=t[o]).fixed||(ic.sub(r,a,m.p),pA(m.p,m.p,r,s*l));for(o=0;o<i;o++){c=t[o];for(var p=o+1;p<i;p++){f=t[p],ic.sub(r,f.p,c.p),0===(h=ic.len(r))&&(ic.set(r,Math.random()-.5,Math.random()-.5),h=1);var g=(c.rep+f.rep)/h/h;!c.fixed&&pA(c.pp,c.pp,r,g),!f.fixed&&pA(f.pp,f.pp,r,-g)}}var v=[];for(o=0;o<i;o++){var m=t[o];m.fixed||(ic.sub(v,m.p,m.pp),pA(m.p,m.p,v,l),ic.copy(m.pp,m.p))}l*=.992,n&&n(t,e,l<.01)}}},vA=sA,mA=hA,yA=Np.linearMap,xA=Xp.getLayoutRect;D_.registerProcessor(function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getGraph().data,i=n.mapArray(n.getName);r.filterSelf(function(t){var n=r.getItemModel(t).getShallow("category");if(null!=n){"number"==typeof n&&(n=i[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0})},this)}),D_.registerVisual(hb("graph","circle",null)),D_.registerVisual(function(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each(function(r){var o=n.getName(r);i["ec-"+o]=r;var a=n.getItemModel(r).get("itemStyle.color")||t.getColorFromPalette(o,e);n.setItemVisual(r,"color",a)}),n.count()&&r.each(function(t){var e=r.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=i["ec-"+e]),r.getItemVisual(t,"color",!0)||r.setItemVisual(t,"color",n.getItemVisual(e,"color")))})})}),D_.registerVisual(function(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),r=qi(t.get("edgeSymbol")),i=qi(t.get("edgeSymbolSize")),o="lineStyle.color".split("."),a="lineStyle.opacity".split(".");n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("color",t.get(o)),n.setVisual("opacity",t.get(a)),n.each(function(t){var r=n.getItemModel(t),i=e.getEdgeByIndex(t),s=qi(r.getShallow("symbol",!0)),u=qi(r.getShallow("symbolSize",!0)),c=r.get(o),l=r.get(a);switch(c){case"source":c=i.node1.getVisual("color");break;case"target":c=i.node2.getVisual("color")}s[0]&&i.setVisual("fromSymbol",s[0]),s[1]&&i.setVisual("toSymbol",s[1]),u[0]&&i.setVisual("fromSymbolSize",u[0]),u[1]&&i.setVisual("toSymbolSize",u[1]),i.setVisual("color",c),i.setVisual("opacity",l)})})}),D_.registerLayout(function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var r=t.getData(),i=[];cA(n.dimensions,function(t){i=i.concat(r.mapDimension(t,!0))});for(var o=0;o<r.count();o++){for(var a=[],s=!1,u=0;u<i.length;u++){var c=r.get(i[u],o);isNaN(c)||(s=!0),a.push(c)}s?r.setItemLayout(o,n.dataToPoint(a)):r.setItemLayout(o,[NaN,NaN])}fA(r.graph)}else e&&"none"!==e||lA(t)})}),D_.registerLayout(function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&dA(t)})}),D_.registerLayout(function(t){t.eachSeriesByType("graph",function(t){if(!(f=t.coordinateSystem)||"view"===f.type)if("force"===t.get("layout")){var e=t.preservedPoints||{},n=t.getGraph(),r=n.data,i=n.edgeData,o=t.getModel("force"),a=o.get("initLayout");t.preservedPoints?r.each(function(t){var n=r.getId(t);r.setItemLayout(t,e[n]||[NaN,NaN])}):a&&"none"!==a?"circular"===a&&mA(t):vA(t);var s=r.getDataExtent("value"),u=i.getDataExtent("value"),c=o.get("repulsion"),l=o.get("edgeLength");nc.isArray(c)||(c=[c,c]),nc.isArray(l)||(l=[l,l]),l=[l[1],l[0]];var f,h=r.mapArray("value",function(t,e){var n=r.getItemLayout(e),i=yA(t,s,c);return isNaN(i)&&(i=(c[0]+c[1])/2),{w:i,rep:i,fixed:r.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),d=i.mapArray("value",function(t,e){var r=n.getEdgeByIndex(e),i=yA(t,u,l);return isNaN(i)&&(i=(l[0]+l[1])/2),{n1:h[r.node1.dataIndex],n2:h[r.node2.dataIndex],d:i,curveness:r.getModel().get("lineStyle.curveness")||0}}),p=(f=t.coordinateSystem).getBoundingRect(),g=gA(h,d,{rect:p,gravity:o.get("gravity")}),v=g.step;g.step=function(t){for(var i=0,o=h.length;i<o;i++)h[i].fixed&&ic.copy(h[i].p,n.getNodeByIndex(i).getLayout());v(function(i,o,a){for(var s=0,u=i.length;s<u;s++)i[s].fixed||n.getNodeByIndex(s).setLayout(i[s].p),e[r.getId(s)]=i[s].p;for(s=0,u=o.length;s<u;s++){var c=o[s],l=n.getEdgeByIndex(s),f=c.n1.p,h=c.n2.p,d=l.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],ic.copy(d[0],f),ic.copy(d[1],h),+c.curveness&&(d[2]=[(f[0]+h[0])/2-(f[1]-h[1])*c.curveness,(f[1]+h[1])/2-(h[0]-f[0])*c.curveness]),l.setLayout(d)}t&&t(a)})},t.forceLayout=g,t.preservedPoints=e,g.step()}else t.forceLayout=null})}),D_.registerCoordinateSystem("graphView",{create:function(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var i=t.getData(),o=i.mapArray(function(t){var e=i.getItemModel(t);return[+e.get("x"),+e.get("y")]}),a=[],s=[];fh(o,a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var u=(s[0]-a[0])/(s[1]-a[1]),c=function(t,e,n){var r=t.getBoxLayoutParams();return r.aspect=n,xA(r,{width:e.getWidth(),height:e.getHeight()})}(t,e,u);isNaN(u)&&(a=[c.x,c.y],s=[c.x+c.width,c.y+c.height]);var l=s[0]-a[0],f=s[1]-a[1],h=c.width,d=c.height,p=t.coordinateSystem=new tM;p.zoomLimit=t.get("scaleLimit"),p.setBoundingRect(a[0],a[1],l,f),p.setViewRect(c.x,c.y,h,d),p.setCenter(t.get("center")),p.setZoom(t.get("zoom")),n.push(p)}}),n}}),xm.extend({type:"series.gauge",getInitialData:function(t,e){var n=t.data||[];return nc.isArray(n)||(n=[n]),t.data=n,Ow(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var _A=Jh.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,r=Math.sin,i=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=i/3?1:2),u=e.y-r(a)*o*(o>=i/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,u),t.lineTo(e.x+n(a)*o,e.y+r(a)*o),t.lineTo(e.x+n(e.angle)*i,e.y+r(e.angle)*i),t.lineTo(e.x-n(a)*o,e.y-r(a)*o),t.lineTo(s,u)}}),bA=Np.parsePercent,wA=Np.round,MA=Np.linearMap,SA=2*Math.PI,AA=(Dm.extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var r=t.get("axisLine.lineStyle.color"),i=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i);return{cx:bA(n[0],e.getWidth()),cy:bA(n[1],e.getHeight()),r:bA(t.get("radius"),o/2)}}(t,n);this._renderMain(t,e,n,r,i)},dispose:function(){},_renderMain:function(t,e,n,r,i){for(var o=this.group,a=t.getModel("axisLine").getModel("lineStyle"),s=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=((d=-t.get("endAngle")/180*Math.PI)-u)%SA,l=u,f=a.get("width"),h=0;h<r.length;h++){var d=u+c*Math.min(Math.max(r[h][0],0),1),p=new _p.Sector({shape:{startAngle:l,endAngle:d,cx:i.cx,cy:i.cy,clockwise:s,r0:i.r-f,r:i.r},silent:!0});p.setStyle({fill:r[h][1]}),p.setStyle(a.getLineStyle(["color","borderWidth","borderColor"])),o.add(p),l=d}var g=function(t){if(t<=0)return r[0][1];for(var e=0;e<r.length;e++)if(r[e][0]>=t&&(0===e?0:r[e-1][0])<t)return r[e][1];return r[e-1][1]};if(!s){var v=u;u=d,d=v}this._renderTicks(t,e,n,g,i,u,d,s),this._renderPointer(t,e,n,g,i,u,d,s),this._renderTitle(t,e,n,g,i),this._renderDetail(t,e,n,g,i)},_renderTicks:function(t,e,n,r,i,o,a,s){for(var u=this.group,c=i.cx,l=i.cy,f=i.r,h=+t.get("min"),d=+t.get("max"),p=t.getModel("splitLine"),g=t.getModel("axisTick"),v=t.getModel("axisLabel"),m=t.get("splitNumber"),y=g.get("splitNumber"),x=bA(p.get("length"),f),_=bA(g.get("length"),f),b=o,w=(a-o)/m,M=w/y,S=p.getModel("lineStyle").getLineStyle(),A=g.getModel("lineStyle").getLineStyle(),T=0;T<=m;T++){var O=Math.cos(b),I=Math.sin(b);if(p.get("show")){var C=new _p.Line({shape:{x1:O*f+c,y1:I*f+l,x2:O*(f-x)+c,y2:I*(f-x)+l},style:S,silent:!0});"auto"===S.stroke&&C.setStyle({stroke:r(T/m)}),u.add(C)}if(v.get("show")){var k=Yi(wA(T/m*(d-h)+h),v.get("formatter")),D=v.get("distance"),L=r(T/m);u.add(new _p.Text({style:_p.setTextStyle({},v,{text:k,x:O*(f-x-D)+c,y:I*(f-x-D)+l,textVerticalAlign:I<-.4?"top":I>.4?"bottom":"middle",textAlign:O<-.4?"left":O>.4?"right":"center"},{autoColor:L}),silent:!0}))}if(g.get("show")&&T!==m){for(var E=0;E<=y;E++){O=Math.cos(b),I=Math.sin(b);var P=new _p.Line({shape:{x1:O*f+c,y1:I*f+l,x2:O*(f-_)+c,y2:I*(f-_)+l},silent:!0,style:A});"auto"===A.stroke&&P.setStyle({stroke:r((T+E/y)/m)}),u.add(P),b+=M}b-=M}else b+=w}},_renderPointer:function(t,e,n,r,i,o,a,s){var u=this.group,c=this._data;if(t.get("pointer.show")){var l=[+t.get("min"),+t.get("max")],f=[o,a],h=t.getData(),d=h.mapDimension("value");h.diff(c).add(function(e){var n=new _A({shape:{angle:o}});_p.initProps(n,{shape:{angle:MA(h.get(d,e),l,f,!0)}},t),u.add(n),h.setItemGraphicEl(e,n)}).update(function(e,n){var r=c.getItemGraphicEl(n);_p.updateProps(r,{shape:{angle:MA(h.get(d,e),l,f,!0)}},t),u.add(r),h.setItemGraphicEl(e,r)}).remove(function(t){var e=c.getItemGraphicEl(t);u.remove(e)}).execute(),h.eachItemGraphicEl(function(t,e){var n=h.getItemModel(e),o=n.getModel("pointer");t.setShape({x:i.cx,y:i.cy,width:bA(o.get("width"),i.r),r:bA(o.get("length"),i.r)}),t.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",r(MA(h.get(d,e),l,[0,1],!0))),_p.setHoverStyle(t,n.getModel("emphasis.itemStyle").getItemStyle())}),this._data=h}else c&&c.eachItemGraphicEl(function(t){u.remove(t)})},_renderTitle:function(t,e,n,r,i){var o=t.getData(),a=o.mapDimension("value"),s=t.getModel("title");if(s.get("show")){var u=s.get("offsetCenter"),c=i.cx+bA(u[0],i.r),l=i.cy+bA(u[1],i.r),f=+t.get("min"),h=+t.get("max"),d=t.getData().get(a,0),p=r(MA(d,[f,h],[0,1],!0));this.group.add(new _p.Text({silent:!0,style:_p.setTextStyle({},s,{x:c,y:l,text:o.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}},_renderDetail:function(t,e,n,r,i){var o=t.getModel("detail"),a=+t.get("min"),s=+t.get("max");if(o.get("show")){var u=o.get("offsetCenter"),c=i.cx+bA(u[0],i.r),l=i.cy+bA(u[1],i.r),f=bA(o.get("width"),i.r),h=bA(o.get("height"),i.r),d=t.getData(),p=d.get(d.mapDimension("value"),0),g=r(MA(p,[a,s],[0,1],!0));this.group.add(new _p.Text({silent:!0,style:_p.setTextStyle({},o,{x:c,y:l,text:Yi(p,o.get("formatter")),textWidth:isNaN(f)?null:f,textHeight:isNaN(h)?null:h,textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}}}),Lf.defaultEmphasis),TA=D_.extendSeriesModel({type:"series.funnel",init:function(t){TA.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return Ow(this,["value"])},_defaultLabelLine:function(t){AA(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),n=TA.superCall(this,"getDataParams",t),r=e.mapDimension("value"),i=e.getSum(r);return n.percent=i?+(e.get(r,t)/i*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),OA=Xi.prototype,IA=["itemStyle","opacity"];OA.updateData=function(t,e,n){var r=this.childAt(0),i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e),s=t.getItemModel(e).get(IA);s=null==s?1:s,r.useStyle({}),n?(r.setShape({points:a.points}),r.setStyle({opacity:0}),_p.initProps(r,{style:{opacity:s}},i,e)):_p.updateProps(r,{style:{opacity:s},shape:{points:a.points}},i,e);var u=o.getModel("itemStyle"),c=t.getItemVisual(e,"color");r.setStyle(nc.defaults({lineJoin:"round",fill:c},u.getItemStyle(["opacity"]))),r.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),_p.setHoverStyle(this)},OA._updateLabel=function(t,e){var n=this.childAt(1),r=this.childAt(2),i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");_p.updateProps(n,{shape:{points:a.linePoints||a.linePoints}},i,e),_p.updateProps(r,{style:{x:a.x,y:a.y}},i,e),r.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var u=o.getModel("label"),c=o.getModel("emphasis.label"),l=o.getModel("labelLine"),f=o.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color");_p.setLabelStyle(r.style,r.hoverStyle={},u,c,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),r.ignore=r.normalIgnore=!u.get("show"),r.hoverIgnore=!c.get("show"),n.ignore=n.normalIgnore=!l.get("show"),n.hoverIgnore=!f.get("show"),n.setStyle({stroke:s}),n.setStyle(l.getModel("lineStyle").getLineStyle()),n.hoverStyle=f.getModel("lineStyle").getLineStyle()},nc.inherits(Xi,_p.Group),Dm.extend({type:"funnel",render:function(t,e,n){var r=t.getData(),i=this._data,o=this.group;r.diff(i).add(function(t){var e=new Xi(r,t);r.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var n=i.getItemGraphicEl(e);n.updateData(r,t),o.add(n),r.setItemGraphicEl(t,n)}).remove(function(t){var e=i.getItemGraphicEl(t);o.remove(e)}).execute(),this._data=r},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var CA=Np.parsePercent,kA=Np.linearMap;D_.registerVisual(Nw("funnel")),D_.registerLayout(function(t,e,n){t.eachSeriesByType("funnel",function(t){var n=t.getData(),r=n.mapDimension("value"),i=t.get("sort"),o=function(t,e){return Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=function(t,e){for(var n=t.mapDimension("value"),r=t.mapArray(n,function(t){return t}),i=[],o="ascending"===e,a=0,s=t.count();a<s;a++)i[a]=a;return"function"==typeof e?i.sort(e):"none"!==e&&i.sort(function(t,e){return o?r[t]-r[e]:r[e]-r[t]}),i}(n,i),s=[CA(t.get("minSize"),o.width),CA(t.get("maxSize"),o.width)],u=n.getDataExtent(r),c=t.get("min"),l=t.get("max");null==c&&(c=Math.min(u[0],0)),null==l&&(l=u[1]);var f=t.get("funnelAlign"),h=t.get("gap"),d=(o.height-h*(n.count()-1))/n.count(),p=o.y,g=function(t,e){var i,a=n.get(r,t)||0,u=kA(a,[c,l],s,!0);switch(f){case"left":i=o.x;break;case"center":i=o.x+(o.width-u)/2;break;case"right":i=o.x+o.width-u}return[[i,e],[i+u,e]]};"ascending"===i&&(d=-d,h=-h,p+=o.height,a=a.reverse());for(var v=0;v<a.length;v++){var m=a[v],y=a[v+1],x=n.getItemModel(m).get("itemStyle.height");null==x?x=d:(x=CA(x,o.height),"ascending"===i&&(x=-x));var _=g(m,p),b=g(y,p+x);p+=x+h,n.setItemLayout(m,{points:_.concat(b.slice().reverse())})}!function(t){t.each(function(e){var n,r,i,o,a=t.getItemModel(e),s=a.getModel("label").get("position"),u=a.getModel("labelLine"),c=t.getItemLayout(e),l=c.points,f="inner"===s||"inside"===s||"center"===s;if(f)n="center",o=[[r=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4,i=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4],[r,i]];else{var h,d,p,g=u.get("length");"left"===s?(h=(l[3][0]+l[0][0])/2,d=(l[3][1]+l[0][1])/2,r=(p=h-g)-5,n="right"):(h=(l[1][0]+l[2][0])/2,d=(l[1][1]+l[2][1])/2,r=(p=h+g)+5,n="left"),o=[[h,d],[p,d]],i=d}c.label={linePoints:o,x:r,y:i,verticalAlign:"middle",textAlign:n,inside:f}})}(n)})}),D_.registerProcessor(Vw("funnel"));var DA=function(t,e,n,r,i){d_.call(this,t,e,n),this.type=r||"value",this.axisIndex=i};DA.prototype={constructor:DA,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},nc.inherits(DA,d_);var LA=DA,EA=function(t,e,n,r,i,o){e[0]=$i(e[0],n),e[1]=$i(e[1],n),t=t||0;var a=n[1]-n[0];null!=i&&(i=$i(i,[0,a])),null!=o&&(o=Math.max(o,null!=i?i:0)),"all"===r&&(i=o=Math.abs(e[1]-e[0]),r=0);var s=Zi(e,r);e[r]+=t;var u=i||0,c=n.slice();s.sign<0?c[0]+=u:c[1]-=u,e[r]=$i(e[r],c),l=Zi(e,r),null!=i&&(l.sign!==s.sign||l.span<i)&&(e[1-r]=e[r]+s.sign*i);var l=Zi(e,r);return null!=o&&l.span>o&&(e[1-r]=e[r]+l.sign*o),e},PA=nc.each,NA=Math.min,jA=Math.max,zA=Math.floor,RA=Math.ceil,BA=Np.round,VA=Math.PI;Ki.prototype={type:"parallel",constructor:Ki,_init:function(t,e,n){var r=t.dimensions,i=t.parallelAxisIndex;PA(r,function(t,n){var r=i[n],o=e.getComponent("parallelAxis",r),a=this._axesMap.set(t,new LA(t,Lx.createScaleByModel(o),[0,0],o.get("type"),r)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,i=e.pixelDimIndex,o=t[1-i],a=t[i];return o>=n&&o<=n+e.axisLength&&a>=r&&a<=r+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var r=n.getData();PA(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(r,r.mapDimension(t)),Lx.niceScaleExtent(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,n=this._rect,r=["x","y"],i=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=n[i[a]],u=[0,s],c=this.dimensions.length,l=Ji(e.get("axisExpandWidth"),u),f=Ji(e.get("axisExpandCount")||0,[0,c]),h=e.get("axisExpandable")&&c>3&&c>f&&f>1&&l>0&&s>0,d=e.get("axisExpandWindow");d?(t=Ji(d[1]-d[0],u),d[1]=d[0]+t):(t=Ji(l*(f-1),u),(d=[l*(e.get("axisExpandCenter")||zA(c/2))-t/2])[1]=d[0]+t);var p=(s-t)/(c-f);p<3&&(p=0);var g=[zA(BA(d[0]/l,1))+1,RA(BA(d[1]/l,1))-1],v=p/l*d[0];return{layout:o,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:s,axisBase:n[r[1-a]],axisLength:n[i[1-a]],axisExpandable:h,axisExpandWidth:l,axisCollapseWidth:p,axisExpandWindow:d,axisCount:c,winInnerIndices:g,axisExpandWindow0Pos:v}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;e.each(function(t){var e=[0,r.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),PA(n,function(e,n){var o=(r.axisExpandable?function(t,e){var n,r,i=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,u=e.winInnerIndices,c=s,l=!1;return t<u[0]?(n=t*s,r=s):t<=u[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],c=o,l=!0):(n=i-(a-1-t)*s,r=s),{position:n,axisNameAvailableWidth:c,axisLabelShow:l,nameTruncateMaxWidth:r}}:function(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}})(n,r),a={horizontal:{x:o.position,y:r.axisLength},vertical:{x:0,y:o.position}},s={horizontal:VA/2,vertical:0},u=[a[i].x+t.x,a[i].y+t.y],c=s[i],l=dc.create();dc.rotate(l,l,c),dc.translate(l,l,u),this._axesLayout[e]={position:u,rotation:c,transform:l,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.count());var i=this._axesMap,o=this.dimensions,a=[],s=[];nc.each(o,function(e){a.push(t.mapDimension(e)),s.push(i.get(e).model)});for(var u=this.hasAxisBrushed(),c=n;c<r;c++){var l;if(u){l="active";for(var f=t.getValues(a,c),h=0,d=o.length;h<d;h++)if("inactive"===s[h].getActiveState(f[h])){l="inactive";break}}else l="normal";e(l,c)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,i=t.length;r<i;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){var n=this._axesLayout[e];return _p.applyTransform([t,0],n.transform)},getAxisLayout:function(t){return nc.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),i=r[1]-r[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",c=e.axisCollapseWidth,l=this._model.get("axisExpandSlideTriggerArea"),f=null!=l[0];return c?(f&&c&&s<i*l[0]?(u="jump",a=s-i*l[2]):f&&c&&s>i*(1-l[0])?(u="jump",a=s-i*(1-l[2])):(a=s-i*l[1])>=0&&(a=s-i*(1-l[1]))<=0&&(a=0),(a*=e.axisExpandWidth/c)?EA(a,r,o,"all"):u="none"):(i=r[1]-r[0],(r=[jA(0,o[1]*s/i-i/2)])[1]=NA(o[1],r[0]+i),r[0]=r[1]-i),{axisExpandWindow:r,behavior:u}}};var FA=Ki;yv.register("parallel",{create:function(t,e){var n=[];return t.eachComponent("parallel",function(r,i){var o=new FA(r,t,e);o.name="parallel_"+i,o.resize(r,e),r.coordinateSystem=o,o.model=r,n.push(o)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}});var HA=Qp.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Vf([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=nc.clone(t);if(e)for(var n=e.length-1;n>=0;n--)Np.asc(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var r=0,i=e.length;r<i;r++)if(e[r][0]<=t&&t<=e[r][1])return"active";return"inactive"}});nc.merge(HA.prototype,Ex),Cb("parallel",HA,function(t,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),Qp.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Qp.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&nc.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},setAxisExpand:function(t){nc.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=nc.filter(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this);nc.each(n,function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})}}),D_.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),D_.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})});var WA=nc.curry,GA=nc.each,qA=nc.map,UA=Math.min,YA=Math.max,XA=Math.pow,ZA=1e4,$A=6,KA=6,JA="globalPan",QA={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},tT={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},eT={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},nT=0;Qi.prototype={constructor:Qi,enableBrush:function(t){return this._brushType&&function(t){var e=t._zr;mM.release(e,JA,t._uid),GA(t._handlers,function(t,n){e.off(n,t)}),t._brushType=t._brushOption=null}(this),t.brushType&&function(t,e){var n=t._zr;t._enableGlobalPan||mM.take(n,JA,t._uid),GA(t._handlers,function(t,e){n.on(e,t)}),t._brushType=e.brushType,t._brushOption=nc.merge(nc.clone(eT),e,!0)}(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};nc.each(t,function(t){e[t.panelId]=nc.clone(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){GA(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:r+e)+"-"+t.brushType}function n(e,n){var r=t[e];if(null!=n&&i[n]===s)o[e]=i[n];else{var u=o[e]=null!=n?(i[n].__brushOption=r,i[n]):eo(a,to(a,r));io(a,u)}}t=nc.map(t,function(t){return nc.merge(nc.clone(eT),t,!0)});var r="\0-brush-index-",i=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new ly(i,t,function(t,n){return e(t.__brushOption,n)},e).add(n).update(n).remove(function(t){i[t]!==s&&a.group.remove(i[t])}).execute(),this},unmount:function(){return this.enableBrush(!1),uo(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},nc.mixin(Qi,uc);var rT={mousedown:function(t){if(this._dragging)Ao.call(this,t);else if(!t.target||!t.target.draggable){bo(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=ao(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(function(t,e,n){if(t._brushType){var r=t._zr,i=t._covers,o=ao(t,e,n);if(!t._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&iT[s.brushType].contain(i[a],n[0],n[1]))return}o&&r.setCursorStyle("crosshair")}}(this,t,e),this._dragging){bo(t);var n=Mo(this,t,e,!1);n&&co(this,n)}},mouseup:Ao},iT={lineX:To(0),lineY:To(1),rect:{createCover:function(t,e){return fo(WA(yo,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=lo(t);return mo(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){ho(t,e,n,r)},updateCommon:po,contain:wo},polygon:{createCover:function(t,e){var n=new _p.Group;return n.add(new _p.Polyline({name:"main",style:vo(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new _p.Polygon({name:"main",draggable:!0,drift:WA(function(t,e,n,r,i){var o=e.__brushOption.range,a=xo(t,n,r);GA(o,function(t){t[0]+=a[0],t[1]+=a[1]}),io(t,e),co(t,{isEnd:!1})},t,e),ondragend:WA(co,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:_o(t,e,n)})},updateCommon:po,contain:wo}},oT=Qi,aT=wM,sT=function(t){return t=Oo(t),function(e,n){return _p.clipPointsByRect(e,t)}},uT=function(t,e){return t=Oo(t),function(n){var r=null!=e?e:n,i=r?t.width:t.height,o=r?t.x:t.y;return[o,o+(i||0)]}},cT=function(t,e,n){return t=Oo(t),function(r,i,o){return t.contain(i[0],i[1])&&!aT(r,e,n)}},lT=["axisLine","axisTickLabel","axisName"],fT=D_.extendComponentView({type:"parallelAxis",init:function(t,e){fT.superApply(this,"init",arguments),(this._brushController=new oT(e.getZr())).on("brush",nc.bind(this._onBrush,this))},render:function(t,e,n,r){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,r)){this.axisModel=t,this.api=n,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new _p.Group,this.group.add(this._axisGroup),t.get("show")){var o=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),a=o.coordinateSystem,s=t.getAreaSelectStyle(),u=s.width,c=t.axis.dim,l=a.getAxisLayout(c),f=nc.extend({strokeContainThreshold:u},l),h=new nw(t,f);nc.each(lT,h.add,h),this._axisGroup.add(h.getGroup()),this._refreshBrushController(f,s,t,o,u,n);var d=r&&!1===r.animation?null:t;_p.groupTransition(i,this._axisGroup,d)}}},_refreshBrushController:function(t,e,n,r,i,o){var a=n.axis.getExtent(),s=a[1]-a[0],u=Math.min(30,.1*Math.abs(s)),c=_p.BoundingRect.create({x:a[0],y:-i/2,width:s,height:i});c.x-=u,c.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:sT(c),isTargetByCursor:cT(c,o,r),getLinearBrushOtherExtent:uT(c,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return nc.map(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(n))},_onBrush:function(t,e){var n=this.axisModel,r=n.axis,i=nc.map(t,function(t){return[r.coordToData(t.range[0],!0),r.coordToData(t.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:i})},dispose:function(){this._brushController.dispose()}});D_.extendComponentView({type:"parallel",render:function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},nc.each(hT,function(t,e){n.getZr().on(e,this._handlers[e]=nc.bind(t,this))},this)),Nm.createOrUpdate(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){nc.each(this._handlers,function(t,n){e.getZr().off(n,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(nc.extend({type:"parallelAxisExpand"},t))}});var hT={mousedown:function(t){Io(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(Io(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&Io(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r&&null})}}};D_.registerPreprocessor(function(t){!function(t){if(!t.parallel){var e=!1;nc.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}(t),function(t){var e=Lf.normalizeToArray(t.parallelAxis);nc.each(e,function(e){if(nc.isObject(e)){var n=e.parallelIndex||0,r=Lf.normalizeToArray(t.parallel)[n];r&&r.parallelAxisDefault&&nc.merge(e,r.parallelAxisDefault,!1)}})}(t)});var dT=nc.each,pT=nc.createHashMap,gT=(xm.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n=this.getSource();return function(t,e){if(!t.encodeDefine){var n=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(n){var r=t.encodeDefine=pT();dT(n.dimensions,function(t){var e=+t.replace("dim","");r.set(t,e)})}}}(n,this),Xy(n,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,n=this.getData(),r=[];return e.eachActiveState(n,function(e,i){t===e&&r.push(n.getRawIndex(i))}),r},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}}),.3),vT=(Dm.extend({type:"parallel",init:function(){this._dataGroup=new _p.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(t,e,n,r){var i=this._dataGroup,o=t.getData(),a=this._data,s=t.coordinateSystem,u=s.dimensions,c=Do(t);if(o.diff(a).add(function(t){Lo(ko(o,i,t,u,s),o,t,c)}).update(function(e,n){var i=a.getItemGraphicEl(n),l=Co(o,e,u,s);o.setItemGraphicEl(e,i);var f=r&&!1===r.animation?null:t;_p.updateProps(i,{shape:{points:l}},f,e),Lo(i,o,e,c)}).remove(function(t){var e=a.getItemGraphicEl(t);i.remove(e)}).execute(),!this._initialized){this._initialized=!0;var l=function(t,e,n){var r=t.model,i=t.getRect(),o=new _p.Rect({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),a="horizontal"===r.get("layout")?"width":"height";return o.setShape(a,0),_p.initProps(o,{shape:{width:i.width,height:i.height}},e,n),o}(s,t,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(l)}this._data=o},incrementalPrepareRender:function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,n){for(var r=e.getData(),i=e.coordinateSystem,o=i.dimensions,a=Do(e),s=t.start;s<t.end;s++){var u=ko(r,this._dataGroup,s,o,i);u.incremental=!0,Lo(u,r,s,a)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]),mT={seriesType:"parallel",reset:function(t,e,n){var r=t.getModel("itemStyle"),i=t.getModel("lineStyle"),o=e.get("color"),a=i.get("color")||r.get("color")||o[t.seriesIndex%o.length],s=t.get("inactiveOpacity"),u=t.get("activeOpacity"),c=t.getModel("lineStyle").getLineStyle(),l=t.coordinateSystem,f=t.getData(),h={normal:c.opacity,active:u,inactive:s};return f.setVisual("color",a),{progress:function(t,e){l.eachActiveState(e,function(t,n){var r=h[t];if("normal"===t&&e.hasItemOption){var i=e.getItemModel(n).get(vT,!0);null!=i&&(r=i)}e.setItemVisual(n,"opacity",r)},t.start,t.end)}}}};D_.registerVisual(mT);var yT=Vp.encodeHTML,xT=xm.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,n=t.data||t.nodes;if(n&&e)return zS(n,e,this,!0).data},setNodePosition:function(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getDataParams(t,n),i=r.data,o=i.source+" -- "+i.target;return r.value&&(o+=" : "+r.value),yT(o)}return xT.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),_T=_p.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var n=e.extent/2;t.moveTo(e.x1,e.y1-n),t.bezierCurveTo(e.cpx1,e.cpy1-n,e.cpx2,e.cpy2-n,e.x2,e.y2-n),t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n),t.closePath()}});D_.extendChartView({type:"sankey",_model:null,render:function(t,e,n){var r=t.getGraph(),i=this.group,o=t.layoutInfo,a=o.width,s=o.height,u=t.getData(),c=t.getData("edge");this._model=t,i.removeAll(),i.attr("position",[o.x,o.y]),r.eachEdge(function(e){var n=new _T;n.dataIndex=e.dataIndex,n.seriesIndex=t.seriesIndex,n.dataType="edge";var r=e.getModel("lineStyle"),o=r.get("curveness"),u=e.node1.getLayout(),l=e.node1.getModel(),f=l.get("localX"),h=l.get("localY"),d=e.node2.getLayout(),p=e.node2.getModel(),g=p.get("localX"),v=p.get("localY"),m=e.getLayout();n.shape.extent=Math.max(1,m.dy);var y=(null!=f?f*a:u.x)+u.dx,x=(null!=h?h*s:u.y)+m.sy+m.dy/2,_=null!=g?g*a:d.x,b=(null!=v?v*s:d.y)+m.ty+m.dy/2,w=y*(1-o)+_*o,M=x,S=y*o+_*(1-o),A=b;switch(n.setShape({x1:y,y1:x,x2:_,y2:b,cpx1:w,cpy1:M,cpx2:S,cpy2:A}),n.setStyle(r.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color");break;case"target":n.style.fill=e.node2.getVisual("color")}_p.setHoverStyle(n,e.getModel("emphasis.lineStyle").getItemStyle()),i.add(n),c.setItemGraphicEl(e.dataIndex,n)}),r.eachNode(function(e){var n=e.getLayout(),r=e.getModel(),o=r.get("localX"),c=r.get("localY"),l=r.getModel("label"),f=r.getModel("emphasis.label"),h=new _p.Rect({shape:{x:null!=o?o*a:n.x,y:null!=c?c*s:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle()}),d=e.getModel("emphasis.itemStyle").getItemStyle();_p.setLabelStyle(h.style,d,l,f,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),h.setStyle("fill",e.getVisual("color")),_p.setHoverStyle(h,d),i.add(h),u.setItemGraphicEl(e.dataIndex,h),h.dataType="node"}),t.get("draggable")&&u.eachItemGraphicEl(function(e,r){e.drift=function(e,i){this.shape.x+=e,this.shape.y+=i,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(r),localX:this.shape.x/a,localY:this.shape.y/s})},e.draggable=!0,e.cursor="move"}),!this._data&&t.get("animation")&&i.setClipPath(function(t,e,n){var r=new _p.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return _p.initProps(r,{shape:{width:t.width+20,height:t.height+20}},e,function(){i.removeClipPath()}),r}(i.getBoundingRect(),t)),this._data=t.getData()},dispose:function(){}}),D_.registerAction({type:"dragNode",event:"dragNode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})});var bT=function(){function t(e,r){if(r>=n.length)return e;for(var i=-1,o=e.length,a=n[r++],s={},u={};++i<o;){var c=a(e[i]),l=u[c];l?l.push(e[i]):u[c]=[e[i]]}return nc.each(u,function(e,n){s[n]=t(e,r)}),s}function e(t,i){if(i>=n.length)return t;var o=[],a=r[i++];return nc.each(t,function(t,n){o.push({key:n,values:e(t,i)})}),a?o.sort(function(t,e){return a(t.key,e.key)}):o}var n=[],r=[];return{key:function(t){return n.push(t),this},sortKeys:function(t){return r[n.length-1]=t,this},entries:function(n){return e(t(n,0),0)}}};D_.registerLayout(function(t,e,n){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),r=t.get("nodeGap"),i=function(t,e){return Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=i;var o=i.width,a=i.height,s=t.getGraph(),u=s.nodes,c=s.edges;!function(t){nc.each(t,function(t){var e=Po(t.outEdges,jo),n=Po(t.inEdges,jo),r=Math.max(e,n);t.setLayout({value:r},!0)})}(u),function(t,e,n,r,i,o,a){(function(t,e,n,r){for(var i=[],o=[],a=[],s=[],u=0,c=0;c<e.length;c++)i[c]=1;for(c=0;c<t.length;c++)o[c]=t[c].inEdges.length,0===o[c]&&a.push(t[c]);for(;a.length;)nc.each(a,function(r){r.setLayout({x:u},!0),r.setLayout({dx:n},!0),nc.each(r.outEdges,function(n){var r=e.indexOf(n);i[r]=0;var a=n.node2,u=t.indexOf(a);0==--o[u]&&s.push(a)})}),++u,a=s,s=[];for(c=0;c<i.length;c++);(function(t,e){nc.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})})(t,u),function(t,e){nc.each(t,function(t){var n=t.getLayout().x*e;t.setLayout({x:n},!0)})}(t,(r-n)/(u-1))})(t,e,n,i),function(t,e,n,r,i){var o=bT().key(function(t){return t.getLayout().x}).sortKeys(function(t,e){return t-e}).entries(t).map(function(t){return t.values});(function(t,e,n,r,i){var o=[];nc.each(e,function(t){var e=t.length,n=0;nc.each(t,function(t){n+=t.getLayout().value});var a=(r-(e-1)*i)/n;o.push(a)}),o.sort(function(t,e){return t-e});var a=o[0];nc.each(e,function(t){nc.each(t,function(t,e){t.setLayout({y:e},!0);var n=t.getLayout().value*a;t.setLayout({dy:n},!0)})}),nc.each(n,function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)})})(0,o,e,n,r),Eo(o,r,n);for(var a=1;i>0;i--)(function(t,e){nc.each(t.slice().reverse(),function(t){nc.each(t,function(t){if(t.outEdges.length){var n=Po(t.outEdges,function(t){return No(t.node2)*t.getValue()})/Po(t.outEdges,jo),r=t.getLayout().y+(n-No(t))*e;t.setLayout({y:r},!0)}})})})(o,a*=.99),Eo(o,r,n),function(t,e){nc.each(t,function(t){nc.each(t,function(t){if(t.inEdges.length){var n=Po(t.inEdges,function(t){return No(t.node1)*t.getValue()})/Po(t.inEdges,jo),r=t.getLayout().y+(n-No(t))*e;t.setLayout({y:r},!0)}})})}(o,a),Eo(o,r,n)}(t,e,o,r,a),function(t){nc.each(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}),t.inEdges.sort(function(t,e){return t.node1.getLayout().y-e.node1.getLayout().y})}),nc.each(t,function(t){var e=0,n=0;nc.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),nc.each(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}(t)}(u,c,n,r,o,a,0!==nc.filter(u,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"))})}),D_.registerVisual(function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,r=-1/0;nc.each(e,function(t){var e=t.getLayout().value;e<n&&(n=e),e>r&&(r=e)}),nc.each(e,function(e){var i=new mS({type:"color",mappingMethod:"linear",dataExtent:[n,r],visual:t.get("color")}).mapValueToVisual(e.getLayout().value);e.setVisual("color",i);var o=e.getModel().get("itemStyle.color");null!=o&&e.setVisual("color",o)})}})});var wT=py.getDimensionTypeByAxis,MT={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(t,e){var n,r,i=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),a=i.get("type"),s=o.get("type");"category"===a?(t.layout="horizontal",n=i.getOrdinalMeta(),r=!0):"category"===s?(t.layout="vertical",n=o.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],c="horizontal"===t.layout?0:1,l=this._baseAxisDim=u[c],f=u[1-c],h=[i,o],d=h[c].get("type"),p=h[1-c].get("type"),g=t.data;if(g&&r){var v=[];nc.each(g,function(t,e){var n;t.value&&nc.isArray(t.value)?(n=t.value.slice(),t.value.unshift(e)):nc.isArray(t)?(n=t.slice(),t.unshift(e)):n=t,v.push(n)}),t.data=v}var m=this.defaultValueDimensions;return Ow(this,{coordDimensions:[{name:l,type:wT(d),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:wT(p),dimsDef:m.slice()}],dimensionsCount:m.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}}},ST=MT.seriesModelMixin,AT=xm.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});nc.mixin(AT,ST,!0);var TT=["itemStyle"],OT=["emphasis","itemStyle"],IT=(Dm.extend({type:"boxplot",render:function(t,e,n){var r=t.getData(),i=this.group,o=this._data;this._data||i.removeAll();var a="horizontal"===t.get("layout")?1:0;r.diff(o).add(function(t){if(r.hasValue(t)){var e=zo(r.getItemLayout(t),r,t,a,!0);r.setItemGraphicEl(t,e),i.add(e)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(r.hasValue(t)){var s=r.getItemLayout(t);n?Ro(s,n,r,t):n=zo(s,r,t,a),i.add(n),r.setItemGraphicEl(t,n)}else i.remove(n)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&i.remove(e)}).execute(),this._data=r},remove:function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:nc.noop}),Jh.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var n=e.points,r=0;for(t.moveTo(n[r][0],n[r][1]),r++;r<4;r++)t.lineTo(n[r][0],n[r][1]);for(t.closePath();r<n.length;r++)t.moveTo(n[r][0],n[r][1]),r++,t.lineTo(n[r][0],n[r][1])}})),CT=["itemStyle","borderColor"],kT=Np.parsePercent,DT=nc.each;D_.registerVisual(function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var r=n[e.seriesIndex%n.length],i=e.getData();i.setVisual({legendSymbol:"roundRect",color:e.get(CT)||r}),t.isSeriesFiltered(e)||i.each(function(t){var e=i.getItemModel(t);i.setItemVisual(t,{color:e.get(CT,!0)})})})}),D_.registerLayout(function(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var r=t.getBaseAxis(),i=nc.indexOf(n,r);i<0&&(i=n.length,n[i]=r,e[i]={axis:r,seriesModels:[]}),e[i].seriesModels.push(t)}),e}(t);DT(e,function(t){var e=t.seriesModels;e.length&&(function(t){var e,n,r=t.axis,i=t.seriesModels,o=i.length,a=t.boxWidthList=[],s=t.boxOffsetList=[],u=[];if("category"===r.type)n=r.getBandWidth();else{var c=0;DT(i,function(t){c=Math.max(c,t.getData().count())}),e=r.getExtent(),Math.abs(e[1]-e[0])}DT(i,function(t){var e=t.get("boxWidth");nc.isArray(e)||(e=[e,e]),u.push([kT(e[0],n)||0,kT(e[1],n)||0])});var l=.8*n-2,f=l/o*.3,h=(l-f*(o-1))/o,d=h/2-l/2;DT(i,function(t,e){s.push(d),d+=f+h,a.push(Math.min(Math.max(h,u[e][0]),u[e][1]))})}(t),DT(e,function(e,n){!function(t,e,n){function r(t,n,r){var i,o=s.get(n,r),u=[];return u[c]=t,u[l]=o,isNaN(t)||isNaN(o)?i=[NaN,NaN]:(i=a.dataToPoint(u))[c]+=e,i}function i(t,e,n){var r=e.slice(),i=e.slice();r[c]+=u,i[c]-=u,n?t.push(r,i):t.push(i,r)}function o(t,e){var n=e.slice(),r=e.slice();n[c]-=u,r[c]+=u,t.push(n,r)}var a=t.coordinateSystem,s=t.getData(),u=n/2,c="horizontal"===t.get("layout")?0:1,l=1-c,f=["x","y"],h=s.mapDimension(f[c]),d=s.mapDimension(f[l],!0);if(!(null==h||d.length<5))for(var p=0;p<s.count();p++){var g=s.get(h,p),v=r(g,d[2],p),m=r(g,d[0],p),y=r(g,d[1],p),x=r(g,d[3],p),_=r(g,d[4],p),b=[];i(b,y,0),i(b,x,1),b.push(m,y,_,x),o(b,m),o(b,_),o(b,v),s.setItemLayout(p,{initBaseline:v[l],ends:b})}}(e,t.boxOffsetList[n],t.boxWidthList[n])}))})});var LT=MT.seriesModelMixin,ET=xm.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:5e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,n){var r=e.getItemLayout(t);return r&&n.rect(r.brushRect)}});nc.mixin(ET,LT,!0);var PT=["itemStyle"],NT=["emphasis","itemStyle"],jT=["color","color0","borderColor","borderColor0"],zT=(Dm.extend({type:"candlestick",render:function(t,e,n){this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,r){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e=t.getData(),n=this._data,r=this.group,i=e.getLayout("isSimpleBox");this._data||r.removeAll(),e.diff(n).add(function(n){if(e.hasValue(n)){var o,a=e.getItemLayout(n);o=Bo(a,0,!0),_p.initProps(o,{shape:{points:a.ends}},t,n),Vo(o,e,n,i),r.add(o),e.setItemGraphicEl(n,o)}}).update(function(o,a){var s=n.getItemGraphicEl(a);if(e.hasValue(o)){var u=e.getItemLayout(o);s?_p.updateProps(s,{shape:{points:u.ends}},t,o):s=Bo(u),Vo(s,e,o,i),r.add(s),e.setItemGraphicEl(o,s)}else r.remove(s)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&r.remove(e)}).execute(),this._data=e},_renderLarge:function(t){this._clear(),Fo(t,this.group)},_incrementalRenderNormal:function(t,e){for(var n,r=e.getData(),i=r.getLayout("isSimpleBox");null!=(n=t.next());){var o;Vo(o=Bo(r.getItemLayout(n)),r,n,i),o.incremental=!0,this.group.add(o)}},_incrementalRenderLarge:function(t,e){Fo(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:nc.noop}),Jh.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))}})),RT=Jh.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var n=e.points,r=0;r<n.length;)if(this.__sign===n[r++]){var i=n[r++];t.moveTo(i,n[r++]),t.lineTo(i,n[r++])}else r+=3}}),BT=["itemStyle","borderColor"],VT=["itemStyle","borderColor0"],FT=["itemStyle","color"],HT=["itemStyle","color0"],WT={seriesType:"candlestick",plan:Sm(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?FT:HT)}function r(t,e){return e.get(t>0?BT:VT)}var i=t.getData(),o=t.pipelineContext.large;if(i.setVisual({legendSymbol:"roundRect",colorP:n(1,t),colorN:n(-1,t),borderColorP:r(1,t),borderColorN:r(-1,t)}),!e.isSeriesFiltered(t))return!o&&{progress:function(t,e){for(var i;null!=(i=t.next());){var o=e.getItemModel(i),a=e.getItemLayout(i).sign;e.setItemVisual(i,{color:n(a,o),borderColor:r(a,o)})}}}}},GT=_p.subPixelOptimize,qT=Np.parsePercent,UT=nc.retrieve2,YT="undefined"!=typeof Float32Array?Float32Array:Array,XT={seriesType:"candlestick",plan:Sm(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=function(t,e){var n,r=t.getBaseAxis(),i="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/e.count()),o=qT(UT(t.get("barMaxWidth"),i),i),a=qT(UT(t.get("barMinWidth"),1),i),s=t.get("barWidth");return null!=s?qT(s,i):Math.max(Math.min(i/2,o),a)}(t,n),i=0,o=1,a=["x","y"],s=n.mapDimension(a[i]),u=n.mapDimension(a[o],!0),c=u[0],l=u[1],f=u[2],h=u[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(null==s||u.length<4))return{progress:t.pipelineContext.large?function(t,n){for(var r,a,u=new YT(5*t.count),d=0,p=[],g=[];null!=(a=t.next());){var v=n.get(s,a),m=n.get(c,a),y=n.get(l,a),x=n.get(f,a),_=n.get(h,a);isNaN(v)||isNaN(x)||isNaN(_)?(u[d++]=NaN,d+=4):(u[d++]=Wo(n,a,m,y,l),p[i]=v,p[o]=x,r=e.dataToPoint(p,null,g),u[d++]=r?r[0]:NaN,u[d++]=r?r[1]:NaN,p[o]=_,r=e.dataToPoint(p,null,g),u[d++]=r?r[1]:NaN)}n.setLayout("largePoints",u)}:function(t,n){function a(t,n){var r=[];return r[i]=n,r[o]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(r)}function u(t,e,n){var o=e.slice(),a=e.slice();o[i]=GT(o[i]+r/2,1,!1),a[i]=GT(a[i]-r/2,1,!0),n?t.push(o,a):t.push(a,o)}function d(t){return t[i]=GT(t[i],1),t}for(var p;null!=(p=t.next());){var g=n.get(s,p),v=n.get(c,p),m=n.get(l,p),y=n.get(f,p),x=n.get(h,p),_=Math.min(v,m),b=Math.max(v,m),w=a(_,g),M=a(b,g),S=a(y,g),A=a(x,g),T=[];u(T,M,0),u(T,w,1),T.push(d(A),d(M),d(S),d(w)),n.setItemLayout(p,{sign:Wo(n,p,v,m,l),initBaseline:v>m?M[o]:w[o],ends:T,brushRect:function(t,e,n){var s=a(y,n),u=a(e,n);return s[i]-=r/2,u[i]-=r/2,{x:s[0],y:s[1],width:o?r:u[0]-s[0],height:o?u[1]-s[1]:r}}(0,x,g)})}}}}};D_.registerPreprocessor(function(t){t&&nc.isArray(t.series)&&nc.each(t.series,function(t){nc.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}),D_.registerVisual(WT),D_.registerLayout(XT),xm.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return Xy(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var ZT=Hx.createSymbol,$T=_p.Group,KT=Np.parsePercent,JT=qo.prototype;JT.stopEffectAnimation=function(){this.childAt(1).removeAll()},JT.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,r=this.childAt(1),i=0;i<3;i++){var o=ZT(e,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-i/3*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(a).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(a).start(),r.add(o)}Go(r,t)},JT.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale"],i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}Go(n,t)},JT.highlight=function(){this.trigger("emphasis")},JT.downplay=function(){this.trigger("normal")},JT.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),i=t.getItemModel(e),o=t.getItemVisual(e,"symbol"),a=function(t){return nc.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),s=t.getItemVisual(e,"color");r.attr("scale",a),r.traverse(function(t){t.attr({fill:s})});var u=i.getShallow("symbolOffset");if(u){var c=r.position;c[0]=KT(u[0],a[0]),c[1]=KT(u[1],a[1])}r.rotation=(i.getShallow("symbolRotate")||0)*Math.PI/180||0;var l={};if(l.showEffectOn=n.get("showEffectOn"),l.rippleScale=i.get("rippleEffect.scale"),l.brushType=i.get("rippleEffect.brushType"),l.period=1e3*i.get("rippleEffect.period"),l.effectOffset=e/t.count(),l.z=i.getShallow("z")||0,l.zlevel=i.getShallow("zlevel")||0,l.symbolType=o,l.color=s,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===l.showEffectOn)this._effectCfg?this.updateEffectAnimation(l):this.startEffectAnimation(l),this._effectCfg=l;else{this._effectCfg=null,this.stopEffectAnimation();var f=this.childAt(0),h=function(){f.highlight(),"render"!==l.showEffectOn&&this.startEffectAnimation(l)},d=function(){f.downplay(),"render"!==l.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",h,this).on("mouseout",d,this).on("emphasis",h,this).on("normal",d,this)}this._effectCfg=l},JT.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},nc.inherits(qo,$T);var QT=qo;D_.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new U_(QT)},render:function(t,e,n){var r=t.getData(),i=this._symbolDraw;i.updateData(r),this.group.add(i.group)},updateTransform:function(t,e,n){var r=t.getData();this.group.dirty();var i=gb().reset(t);i.progress&&i.progress({start:0,end:r.count()},r),this._symbolDraw.updateLayout(r)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=dc.clone(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}}),D_.registerVisual(hb("effectScatter","circle")),D_.registerLayout(gb("effectScatter"));var tO=nc.concatArray,eO=nc.mergeAll,nO=nc.map,rO=Vp.encodeHTML,iO="undefined"==typeof Uint32Array?Array:Uint32Array,oO="undefined"==typeof Float64Array?Array:Float64Array,aO=xm.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],Uo(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),aO.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],Uo(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}aO.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=tO(this._flatCoords,e.flatCoords),this._flatCoordsOffset=tO(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(t);for(i=0;i<o.length;i++)e[i]=e[i]||[],e[i][0]=o[i][0],e[i][1]=o[i][1];return o.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,r=new iO(n),i=new oO(n),o=0,a=0,s=0,u=0;u<n;){s++;var c=t[u++];r[a++]=o+e,r[a++]=c;for(var l=0;l<c;l++){var f=t[u++],h=t[u++];i[o++]=f,i[o++]=h}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new Oy(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0}),n},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;var r=e.get("fromName"),i=e.get("toName"),o=[];return null!=r&&o.push(r),null!=i&&o.push(i),rO(o.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),sO=Hx.createSymbol,uO=Yo.prototype;uO.createLine=function(t,e,n){return new YS(t,e,n)},uO._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");nc.isArray(r)||(r=[r,r]);var o=n.get("color")||t.getItemVisual(e,"color"),a=this.childAt(1);this._symbolType!==i&&(this.remove(a),(a=sO(i,-.5,-.5,1,1,o)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",o),a.setStyle(n.getItemStyle(["color"])),a.attr("scale",r),a.setColor(o),a.attr("scale",r),this._symbolType=i,this._updateEffectAnimation(t,n,e))},uO._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(r){var i=this,o=t.getItemLayout(n),a=1e3*e.get("period"),s=e.get("loop"),u=e.get("constantSpeed"),c=nc.retrieve(e.get("delay"),function(e){return e/t.count()*a/3}),l="function"==typeof c;if(r.ignore=!0,this.updateAnimationPoints(r,o),u>0&&(a=this.getLineLength(r)/u*1e3),a!==this._period||s!==this._loop){r.stopAnimation();var f=c;l&&(f=c(n)),r.__t>0&&(f=-a*r.__t),r.__t=0;var h=r.animate("",s).when(a,{__t:1}).delay(f).during(function(){i.updateSymbolPosition(r)});s||h.done(function(){i.remove(r)}),h.start()}this._period=a,this._loop=s}},uO.getLineLength=function(t){return ic.dist(t.__p1,t.__cp1)+ic.dist(t.__cp1,t.__p2)},uO.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},uO.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},uO.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,r=t.__cp1,i=t.__t,o=t.position,a=th.quadraticAt,s=th.quadraticDerivativeAt;o[0]=a(e[0],r[0],n[0],i),o[1]=a(e[1],r[1],n[1],i);var u=s(e[0],r[0],n[0],i),c=s(e[1],r[1],n[1],i);t.rotation=-Math.atan2(c,u)-Math.PI/2,t.ignore=!1},uO.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},nc.inherits(Yo,_p.Group);var cO=Yo,lO=Xo.prototype;lO._createPolyline=function(t,e,n){var r=t.getItemLayout(e),i=new _p.Polyline({shape:{points:r}});this.add(i),this._updateCommonStl(t,e,n)},lO.updateData=function(t,e,n){var r=t.hostModel,i=this.childAt(0),o={shape:{points:t.getItemLayout(e)}};_p.updateProps(i,o,r,e),this._updateCommonStl(t,e,n)},lO._updateCommonStl=function(t,e,n){var r=this.childAt(0),i=t.getItemModel(e),o=t.getItemVisual(e,"color"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle;n&&!t.hasItemOption||(a=i.getModel("lineStyle").getLineStyle(),s=i.getModel("emphasis.lineStyle").getLineStyle()),r.useStyle(nc.defaults({strokeNoScale:!0,fill:"none",stroke:o},a)),r.hoverStyle=s,_p.setHoverStyle(this)},lO.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},nc.inherits(Xo,_p.Group);var fO=Xo,hO=Zo.prototype;hO.createLine=function(t,e,n){return new fO(t,e,n)},hO.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],r=0,i=1;i<e.length;i++){var o=e[i-1],a=e[i];r+=ic.dist(o,a),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}},hO.getLineLength=function(t){return this._length},hO.updateSymbolPosition=function(t){var e=t.__t,n=this._points,r=this._offsets,i=n.length;if(r){var o=this._lastFrame;if(e<this._lastFramePercent){for(a=Math.min(o+1,i-1);a>=0&&!(r[a]<=e);a--);a=Math.min(a,i-2)}else{for(var a=o;a<i&&!(r[a]>e);a++);a=Math.min(a-1,i-2)}ic.lerp(t.position,n[a],n[a+1],(e-r[a])/(r[a+1]-r[a]));var s=n[a+1][0]-n[a][0],u=n[a+1][1]-n[a][1];t.rotation=-Math.atan2(u,s)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=e,t.ignore=!1}},nc.inherits(Zo,cO);var dO=Zo,pO=_p.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,r=e.curveness;if(e.polyline)for(a=0;a<n.length;){var i=n[a++];if(i>0){t.moveTo(n[a++],n[a++]);for(var o=1;o<i;o++)t.lineTo(n[a++],n[a++])}}else for(var a=0;a<n.length;){var s=n[a++],u=n[a++],c=n[a++],l=n[a++];if(t.moveTo(s,u),r>0){var f=(s+c)/2-(u-l)*r,h=(u+l)/2-(c-s)*r;t.quadraticCurveTo(f,h,c,l)}else t.lineTo(c,l)}},findDataIndex:function(t,e){var n=this.shape,r=n.segs,i=n.curveness;if(n.polyline)for(var o=0,a=0;a<r.length;){var s=r[a++];if(s>0)for(var u=r[a++],c=r[a++],l=1;l<s;l++){var f=r[a++],h=r[a++];if(Dh.containStroke(u,c,f,h))return o}o++}else for(o=0,a=0;a<r.length;){u=r[a++],c=r[a++],f=r[a++],h=r[a++];if(i>0){var d=(u+f)/2-(c-h)*i,p=(c+h)/2-(f-u)*i;if(Ph.containStroke(u,c,d,p,f,h))return o}else if(Dh.containStroke(u,c,f,h))return o;o++}return-1}}),gO=$o.prototype;gO.isPersistent=function(){return!this._incremental},gO.updateData=function(t){this.group.removeAll();var e=new pO({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},gO.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new Jd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},gO.incrementalUpdate=function(t,e){var n=new pO;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},gO.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},gO._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get("lineStyle.curveness")}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("color");i&&t.setStyle("stroke",i),t.setStyle("fill"),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n+t.__startIndex)}))},gO._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var vO=$o,mO={seriesType:"lines",plan:Sm(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s,u=i.end-i.start;if(n){for(var c=0,l=i.start;l<i.end;l++)c+=t.getLineCoordsCount(l);s=new Float32Array(u+2*c)}else s=new Float32Array(4*u);var f=0,h=[];for(l=i.start;l<i.end;l++){g=t.getLineCoords(l,a),n&&(s[f++]=g);for(var d=0;d<g;d++)h=e.dataToPoint(a[d],!1,h),s[f++]=h[0],s[f++]=h[1]}o.setLayout("linesPoints",s)}else for(l=i.start;l<i.end;l++){var p=o.getItemModel(l),g=t.getLineCoords(l,a),v=[];if(n)for(var m=0;m<g;m++)v.push(e.dataToPoint(a[m]));else{v[0]=e.dataToPoint(a[0]),v[1]=e.dataToPoint(a[1]);var y=p.get("lineStyle.curveness");+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}o.setItemLayout(l,v)}}}}},yO=(D_.extendChartView({type:"lines",init:function(){},render:function(t,e,n){var r=t.getData(),i=this._updateLineDraw(r,t),o=t.get("zlevel"),a=t.get("effect.trailLength"),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a&&(u||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),i.updateData(r),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(t,e,n){var r=t.getData();this._updateLineDraw(r,t).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var r=t.getData(),i=t.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=mO.reset(t);o.progress&&o.progress({start:0,end:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,r=this._showEffect(e),i=!!e.get("polyline"),o=e.pipelineContext.large;return n&&r===this._hasEffet&&i===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new vO:new ZS(i?r?dO:fO:r?cO:YS),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}}),"lineStyle.opacity".split(".")),xO={seriesType:"lines",reset:function(t,e,n){var r=Ko(t.get("symbol")),i=Ko(t.get("symbolSize")),o=t.getData();return o.setVisual("fromSymbol",r&&r[0]),o.setVisual("toSymbol",r&&r[1]),o.setVisual("fromSymbolSize",i&&i[0]),o.setVisual("toSymbolSize",i&&i[1]),o.setVisual("opacity",t.get(yO)),{dataEach:o.hasItemOption?function(t,e){var n=t.getItemModel(e),r=Ko(n.getShallow("symbol",!0)),i=Ko(n.getShallow("symbolSize",!0)),o=n.get(yO);r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),i[0]&&t.setItemVisual(e,"fromSymbolSize",i[0]),i[1]&&t.setItemVisual(e,"toSymbolSize",i[1]),t.setItemVisual(e,"opacity",o)}:null}}};D_.registerLayout(mO),D_.registerVisual(xO),xm.extend({type:"series.heatmap",getInitialData:function(t,e){return Xy(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=yv.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),Jo.prototype={update:function(t,e,n,r,i,o){var a=this._getBrush(),s=this._getGradient(t,i,"inRange"),u=this._getGradient(t,i,"outOfRange"),c=this.pointSize+this.blurSize,l=this.canvas,f=l.getContext("2d"),h=t.length;l.width=e,l.height=n;for(var d=0;d<h;++d){var p=t[d],g=p[0],v=p[1],m=r(p[2]);f.globalAlpha=m,f.drawImage(a,g-c,v-c)}if(!l.width||!l.height)return l;for(var y=f.getImageData(0,0,l.width,l.height),x=y.data,_=0,b=x.length,w=this.minOpacity,M=this.maxOpacity-w;_<b;){m=x[_+3]/256;var S=4*Math.floor(255*m);if(m>0){var A=o(m)?s:u;m>0&&(m=m*M+w),x[_++]=A[S],x[_++]=A[S+1],x[_++]=A[S+2],x[_++]=A[S+3]*m*256}else _+=4}return f.putImageData(y,0,0),l},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=nc.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},_getGradient:function(t,e,n){for(var r=this._gradientPixels,i=r[n]||(r[n]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)e[n](s/255,!0,o),i[a++]=o[0],i[a++]=o[1],i[a++]=o[2],i[a++]=o[3];return i}};var _O=Jo,bO=(D_.extendChartView({type:"heatmap",render:function(t,e,n){var r;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(r=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var i=t.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):function(t){var e=i.dimensions;return"lng"===e[0]&&"lat"===e[1]}()&&this._renderOnGeo(i,t,r,n)},incrementalPrepareRender:function(t,e,n){this.group.removeAll()},incrementalRender:function(t,e,n,r){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,r,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,n,r,i){var o,a,s=t.coordinateSystem;if("cartesian2d"===s.type){var u=s.getAxis("x"),c=s.getAxis("y");o=u.getBandWidth(),a=c.getBandWidth()}for(var l=this.group,f=t.getData(),h=t.getModel("itemStyle").getItemStyle(["color"]),d=t.getModel("emphasis.itemStyle").getItemStyle(),p=t.getModel("label"),g=t.getModel("emphasis.label"),v=s.type,m="cartesian2d"===v?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],y=n;y<r;y++){var x;if("cartesian2d"===v){if(isNaN(f.get(m[2],y)))continue;var _=s.dataToPoint([f.get(m[0],y),f.get(m[1],y)]);x=new _p.Rect({shape:{x:_[0]-o/2,y:_[1]-a/2,width:o,height:a},style:{fill:f.getItemVisual(y,"color"),opacity:f.getItemVisual(y,"opacity")}})}else{if(isNaN(f.get(m[1],y)))continue;x=new _p.Rect({z2:1,shape:s.dataToRect([f.get(m[0],y)]).contentShape,style:{fill:f.getItemVisual(y,"color"),opacity:f.getItemVisual(y,"opacity")}})}var b=f.getItemModel(y);f.hasItemOption&&(h=b.getModel("itemStyle").getItemStyle(["color"]),d=b.getModel("emphasis.itemStyle").getItemStyle(),p=b.getModel("label"),g=b.getModel("emphasis.label"));var w=t.getRawValue(y),M="-";w&&null!=w[2]&&(M=w[2]),_p.setLabelStyle(h,d,p,g,{labelFetcher:t,labelDataIndex:y,defaultText:M,isRectText:!0}),x.setStyle(h),_p.setHoverStyle(x,f.hasItemOption?d:nc.extend({},d)),x.incremental=i,i&&(x.useHoverLayer=!0),l.add(x),f.setItemGraphicEl(y,x)}},_renderOnGeo:function(t,e,n,r){var i=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new _O;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var u=t.getViewRect().clone(),c=t.getRoamTransform();u.applyTransform(c);var l=Math.max(u.x,0),f=Math.max(u.y,0),h=Math.min(u.width+u.x,r.getWidth()),d=Math.min(u.height+u.y,r.getHeight()),p=h-l,g=d-f,v=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],m=a.mapArray(v,function(e,n,r){var i=t.dataToPoint([e,n]);return i[0]-=l,i[1]-=f,i.push(r),i}),y=n.getExtent(),x="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(y,n.option.range):function(t,e,n){var r=t[1]-t[0],i=(e=nc.map(e,function(e){return{interval:[(e.interval[0]-t[0])/r,(e.interval[1]-t[0])/r]}})).length,o=0;return function(t){for(r=o;r<i;r++)if((a=e[r].interval)[0]<=t&&t<=a[1]){o=r;break}if(r===i)for(var r=o-1;r>=0;r--){var a=e[r].interval;if(a[0]<=t&&t<=a[1]){o=r;break}}return r>=0&&r<i&&n[r]}}(y,n.getPieceList(),n.option.selected);s.update(m,p,g,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var _=new _p.Image({style:{width:p,height:g,x:l,y:f,image:s.canvas},silent:!0});this.group.add(_)},dispose:function(){}}),dw.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,bO.superApply(this,"getInitialData",arguments)}})),wO=Hx.createSymbol,MO=Np.parsePercent,SO=Np.isNumeric,AO=gw,TO=["itemStyle","borderWidth"],OO=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],IO=new _p.Circle,CO=(D_.extendChartView({type:"pictorialBar",render:function(t,e,n){var r=this.group,i=t.getData(),o=this._data,a=t.coordinateSystem,s=!!a.getBaseAxis().isHorizontal(),u=a.grid.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:s,valueDim:OO[+s],categoryDim:OO[1-s]};return i.diff(o).add(function(t){if(i.hasValue(t)){var e=aa(i,t),n=Qo(i,t,e,c),o=ua(i,c,n);i.setItemGraphicEl(t,o),r.add(o),da(o,c,n)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var a=aa(i,t),s=Qo(i,t,a,c),u=la(i,s);n&&u!==n.__pictorialShapeStr&&(r.remove(n),i.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var r=n.animationModel,i=n.dataIndex,o=t.__pictorialBundle;_p.updateProps(o,{position:n.bundlePosition.slice()},r,i),n.symbolRepeat?na(t,e,n,!0):ra(t,0,n,!0),ia(t,n,!0),oa(t,e,n,!0)}(n,c,s):n=ua(i,c,s,!0),i.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,r.add(n),da(n,c,s)}else r.remove(n)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&ca(o,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=i,this.group},dispose:nc.noop,remove:function(t,e){var n=this.group,r=this._data;t.get("animation")?r&&r.eachItemGraphicEl(function(e){ca(r,e.dataIndex,t,e)}):n.removeAll()}}),dx.layout);D_.registerLayout(nc.curry(CO,"pictorialBar")),D_.registerVisual(hb("pictorialBar","roundRect"));var kO=function(t,e,n,r,i){d_.call(this,t,e,n),this.type=r||"value",this.position=i||"bottom",this.orient=null};kO.prototype={constructor:kO,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},nc.inherits(kO,d_);var DO=kO,LO=Xp.getLayoutRect,EO=nc.each;ga.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:ga,_init:function(t,e,n){var r=this.dimension,i=new DO(r,Lx.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),o="category"===i.type;i.onBand=o&&t.get("boundaryGap"),i.inverse=t.get("inverse"),i.orient=t.get("orient"),t.axis=i,i.model=t,i.coordinateSystem=this,this._axis=i},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();EO(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),Lx.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=LO({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],i=e.reverse?1:0;e.setExtent(r[i],r[1-i]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),r=n[0]+n[1],i=t.isHorizontal();t.toGlobalCoord=i?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord=i?function(t){return t-e}:function(t){return r-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),r=[],i="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[i]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r}};var PO=ga;yv.register("single",{create:function(t,e){var n=[];return t.eachComponent("singleAxis",function(r,i){var o=new PO(r,t,e);o.name="single_"+i,o.resize(r,e),r.coordinateSystem=o,n.push(o)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=n&&n.coordinateSystem}}),n},dimensions:PO.prototype.dimensions});var NO=function(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,i={},o=r.position,a=r.orient,s=n.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};i.position=["vertical"===a?c.vertical[o]:u[0],"horizontal"===a?c.horizontal[o]:u[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get("axisTick.inside")&&(i.tickDirection=-i.tickDirection),nc.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(i.labelDirection=-i.labelDirection);var l=e.rotate;return null==l&&(l=t.get("axisLabel.rotate")),i.labelRotation="top"===o?-l:l,i.z2=1,i},jO=["axisLine","axisTickLabel","axisName"],zO=uw.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,n,r){var i=this.group;i.removeAll();var o=NO(t),a=new nw(t,o);nc.each(jO,a.add,a),i.add(a.getGroup()),t.get("splitLine.show")&&this._splitLine(t),zO.superCall(this,"render",t,e,n,r)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var n=t.getModel("splitLine"),r=n.getModel("lineStyle"),i=r.get("width"),o=r.get("color");o=o instanceof Array?o:[o];for(var a=t.coordinateSystem.getRect(),s=e.isHorizontal(),u=[],c=0,l=e.getTicksCoords({tickModel:n}),f=[],h=[],d=0;d<l.length;++d){var p=e.toGlobalCoord(l[d].coord);s?(f[0]=p,f[1]=a.y,h[0]=p,h[1]=a.y+a.height):(f[0]=a.x,f[1]=p,h[0]=a.x+a.width,h[1]=p);var g=c++%o.length;u[g]=u[g]||[],u[g].push(new _p.Line(_p.subPixelOptimizeLine({shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:{lineWidth:i},silent:!0})))}for(d=0;d<u.length;++d)this.group.add(_p.mergePath(u[d],{style:{stroke:o[d%o.length],lineDash:r.getLineDash(i),lineWidth:i},silent:!0}))}}}),RO=Qp.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});nc.merge(RO.prototype,Ex),Cb("single",RO,function(t,e){return e.type||(e.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var BO=function(t,e){var n,r=[],i=t.seriesIndex;if(null==i||!(n=e.getSeriesByIndex(i)))return{point:[]};var o=n.getData(),a=Lf.queryDataIndex(o,t);if(null==a||a<0||nc.isArray(a))return{point:[]};var s=o.getItemGraphicEl(a),u=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(a)||[];else if(u&&u.dataToPoint)r=u.dataToPoint(o.getValues(nc.map(u.dimensions,function(t){return o.mapDimension(t)}),a,!0))||[];else if(s){var c=s.getBoundingRect().clone();c.applyTransform(s.transform),r=[c.x+c.width/2,c.y+c.height/2]}return{point:r,el:s}},VO=Lf.makeInner,FO=nc.each,HO=nc.curry,WO=VO(),GO=(D_.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),(0,Lf.makeInner)()),qO=nc.each,UO=function(t,e,n){if(!Hu.node){var r=e.getZr();GO(r).records||(GO(r).records={}),function(t,e){function n(n,r){t.on(n,function(n){var i=function(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}(e);qO(GO(t).records,function(t){t&&r(t,n,i.dispatchAction)}),function(t,e){var n,r=t.showTip.length,i=t.hideTip.length;r?n=t.showTip[r-1]:i&&(n=t.hideTip[i-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}(i.pendings,e)})}GO(t).initialized||(GO(t).initialized=!0,n("click",nc.curry(xa,"click")),n("mousemove",nc.curry(xa,"mousemove")),n("globalout",function(t,e,n){t.handler("leave",null,n)}))}(r,e),(GO(r).records[t]||(GO(r).records[t]={})).handler=n}},YO=function(t,e){if(!Hu.node){var n=e.getZr();(GO(n).records||{})[t]&&(GO(n).records[t]=null)}},XO=D_.extendComponentView({type:"axisPointer",render:function(t,e,n){var r=e.getComponent("tooltip"),i=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";UO("axisPointer",n,function(t,e,n){"none"!==i&&("leave"===t||i.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){YO(e.getZr(),"axisPointer"),XO.superApply(this._model,"remove",arguments)},dispose:function(t,e){YO("axisPointer",e),XO.superApply(this._model,"dispose",arguments)}}),ZO=(0,Lf.makeInner)(),$O=nc.clone,KO=nc.bind;(_a.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,r){var i=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==i||this._lastStatus!==o){this._lastValue=i,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var u={};this.makeElOption(u,i,t,e,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var l=this._moveAnimation=this.determineAnimation(t,e);if(a){var f=nc.curry(ba,e,l);this.updatePointerEl(a,u,f,e),this.updateLabelEl(a,u,f,e)}else a=this._group=new _p.Group,this.createPointerEl(a,u,t,e),this.createLabelEl(a,u,t,e),n.getZr().add(a);Sa(a,e,!0),this._renderHandle(i)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),r=t.axis,i="category"===r.type,o=e.get("snap");if(!o&&!i)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(i&&r.getBandWidth()>a)return!0;if(o){var s=ow.getAxisInfo(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/s>a}return!1}return!0===n},makeElOption:function(t,e,n,r,i){},createPointerEl:function(t,e,n,r){var i=e.pointer;if(i){var o=ZO(t).pointerEl=new _p[i.type]($O(e.pointer));t.add(o)}},createLabelEl:function(t,e,n,r){if(e.label){var i=ZO(t).labelEl=new _p.Rect($O(e.label));t.add(i),wa(i,r)}},updatePointerEl:function(t,e,n){var r=ZO(t).pointerEl;r&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,r){var i=ZO(t).labelEl;i&&(i.setStyle(e.label.style),n(i,{shape:e.label.shape,position:e.label.position}),wa(i,r))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return i&&r.remove(i),void(this._handle=null);this._handle||(e=!0,i=this._handle=_p.createIcon(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){of.stop(t.event)},onmousedown:KO(this._onHandleDragMove,this,0,0),drift:KO(this._onHandleDragMove,this),ondragend:KO(this._onHandleDragEnd,this)}),r.add(i)),Sa(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");nc.isArray(s)||(s=[s,s]),i.attr("scale",[s[0]/2,s[1]/2]),Nm.createOrUpdate(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){ba(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Ma(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(Ma(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(Ma(r)),ZO(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}}).constructor=_a,zf(_a);var JO=_a,QO={buildElStyle:function(t){var e,n=t.get("type"),r=t.getModel(n+"Style");return"line"===n?(e=r.getLineStyle()).fill=null:"shadow"===n&&((e=r.getAreaStyle()).stroke=null),e},buildLabelElOption:Aa,getValueLabel:Ta,getTransformedPosition:Oa,buildCartesianSingleLabelElOption:function(t,e,n,r,i,o){var a=nw.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get("label.margin"),Aa(e,r,i,o,{position:Oa(r.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})},makeLineShape:function(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}},makeRectShape:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},makeSectorShape:function(t,e,n,r,i,o){return{cx:t,cy:e,r0:n,r:r,startAngle:i,endAngle:o,clockwise:!0}}},tI=JO.extend({makeElOption:function(t,e,n,r,i){var o=n.axis,a=o.grid,s=r.get("type"),u=Ia(a,o).getOtherAxis(o).getGlobalExtent(),c=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var l=QO.buildElStyle(r),f=eI[s](o,c,u,l);f.style=l,t.graphicKey=f.type,t.pointer=f}var h=cw(a.model,n);QO.buildCartesianSingleLabelElOption(e,t,h,n,r,i)},getHandleTransform:function(t,e,n){var r=cw(e.axis.grid.model,e,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:QO.getTransformedPosition(e.axis,t,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,r){var i=n.axis,o=i.grid,a=i.getGlobalExtent(!0),s=Ia(o,i).getOtherAxis(i).getGlobalExtent(),u="x"===i.dim?0:1,c=t.position;c[u]+=e[u],c[u]=Math.min(a[1],c[u]),c[u]=Math.max(a[0],c[u]);var l=(s[1]+s[0])/2,f=[l,l];return f[u]=c[u],{position:c,rotation:t.rotation,cursorPoint:f,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}}),eI={line:function(t,e,n,r){var i=QO.makeLineShape([e,n[0]],[e,n[1]],Ca(t));return _p.subPixelOptimizeLine({shape:i,style:r}),{type:"Line",shape:i}},shadow:function(t,e,n,r){var i=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:QO.makeRectShape([e-i/2,n[0]],[i,o],Ca(t))}}};uw.registerAxisPointerClass("CartesianAxisPointer",tI),D_.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!nc.isArray(e)&&(t.axisPointer.link=[e])}}),D_.registerProcessor(D_.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=ow.collect(t,e)}),D_.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,n){var r=t.currTrigger,i=[t.x,t.y],o=t,a=t.dispatchAction||nc.bind(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ya(i)&&(i=BO({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var u=ya(i),c=o.axesInfo,l=s.axesInfo,f="leave"===r||ya(i),h={},d={},p={list:[],map:{}},g={showPointer:HO(function(t,e,n,r){t[e.key]={value:n,payloadBatch:r}},d),showTooltip:HO(function(t,e,n,r){var i=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&i.length){var u=e.coordSys.model,c=ow.makeKey(u),l=t.map[c];l||(l=t.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(l)),l.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:i.slice()})}},p)};FO(s.coordSysMap,function(t,e){var n=u||t.containPoint(i);FO(s.coordSysAxesInfo[e],function(t,e){var r=t.axis,o=function(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}(c,t);if(!f&&n&&(!c||o)){var a=o&&o.value;null!=a||u||(a=r.pointToData(i)),null!=a&&va(t,a,g,!1,h)}})});var v={};return FO(l,function(t,e){var n=t.linkGroup;n&&!d[e]&&FO(n.axesInfo,function(e,r){var i=d[r];if(e!==t&&i){var o=i.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,ma(e),ma(t)))),v[t.key]=o}})}),FO(v,function(t,e){va(l[e],t,g,!0,h)}),function(t,e,n){var r=h.axesInfo=[];FO(e,function(e,n){var i=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(i.status="show"),i.value=o.value,i.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(i.status="hide"),"show"===i.status&&r.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:i.value})})}(d,l),function(t,e,n,r){if(!ya(e)&&t.list.length){var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}else r({type:"hideTip"})}(p,i,t,a),function(t,e,n){var r=n.getZr(),i=WO(r).axisPointerLastHighlights||{},o=WO(r).axisPointerLastHighlights={};FO(t,function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&FO(n.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var a=[],s=[];nc.each(i,function(t,e){!o[e]&&s.push(t)}),nc.each(o,function(t,e){!i[e]&&a.push(t)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),a.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:a})}(l,0,n),h}});var nI=["x","y"],rI=["width","height"],iI=JO.extend({makeElOption:function(t,e,n,r,i){var o=n.axis,a=o.coordinateSystem,s=Da(a,1-ka(o)),u=a.dataToPoint(e)[0],c=r.get("type");if(c&&"none"!==c){var l=QO.buildElStyle(r),f=oI[c](o,u,s,l);f.style=l,t.graphicKey=f.type,t.pointer=f}var h=NO(n);QO.buildCartesianSingleLabelElOption(e,t,h,n,r,i)},getHandleTransform:function(t,e,n){var r=NO(e,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:QO.getTransformedPosition(e.axis,t,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,r){var i=n.axis,o=i.coordinateSystem,a=ka(i),s=Da(o,a),u=t.position;u[a]+=e[a],u[a]=Math.min(s[1],u[a]),u[a]=Math.max(s[0],u[a]);var c=Da(o,1-a),l=(c[1]+c[0])/2,f=[l,l];return f[a]=u[a],{position:u,rotation:t.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}}}),oI={line:function(t,e,n,r){var i=QO.makeLineShape([e,n[0]],[e,n[1]],ka(t));return _p.subPixelOptimizeLine({shape:i,style:r}),{type:"Line",shape:i}},shadow:function(t,e,n,r){var i=t.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:QO.makeRectShape([e-i/2,n[0]],[i,o],ka(t))}}};uw.registerAxisPointerClass("SingleAxisPointer",iI),D_.extendComponentView({type:"single"});var aI=py.getDimensionTypeByAxis,sI=Vp.encodeHTML,uI=xm.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){uI.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){for(var e=t.length,n=bT().key(function(t){return t[2]}).entries(t),r=nc.map(n,function(t){return{name:t.key,dataList:t.values}}),i=r.length,o=-1,a=-1,s=0;s<i;++s){var u=r[s].dataList.length;u>o&&(o=u,a=s)}for(var c=0;c<i;++c)if(c!==a)for(var l=r[c].name,f=0;f<o;++f){for(var h=r[a].dataList[f][0],d=r[c].dataList.length,p=-1,g=0;g<d;++g)if(r[c].dataList[g][0]===h){p=g;break}-1===p&&(t[e]=[],t[e][0]=h,t[e][1]=0,t[e][2]=l,e++)}return t},getInitialData:function(t,e){for(var n=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),r=nc.filter(t.data,function(t){return void 0!==t[2]}),i=this.fixData(r||[]),o=[],a=this.nameMap=nc.createHashMap(),s=0,u=0;u<i.length;++u)o.push(i[u][2]),a.get(i[u][2])||(a.set(i[u][2],s),s++);var c=By(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:aI(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),l=new Oy(c,this);return l.initData(i),l},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),n=[],r=0;r<e;++r)n[r]=r;for(var i=bT().key(function(e){return t.get("name",e)}).entries(n),o=nc.map(i,function(t){return{name:t.key,indices:t.values}}),a=t.mapDimension("single"),s=0;s<o.length;++s)o[s].indices.sort(function(e,n){return t.get(a,e)-t.get(a,n)});return o},getAxisTooltipData:function(t,e,n){nc.isArray(t)||(t=t?[t]:[]);for(var r,i=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,u=0;u<s;++u){for(var c=Number.MAX_VALUE,l=-1,f=o[u].indices.length,h=0;h<f;++h){var d=i.get(t[0],o[u].indices[h]),p=Math.abs(d-e);p<=c&&(r=d,c=p,l=o[u].indices[h])}a.push(l)}return{dataIndices:a,nestestValue:r}},formatTooltip:function(t){var e=this.getData(),n=e.getName(t),r=e.get(e.mapDimension("value"),t);return(isNaN(r)||null==r)&&(r="-"),sI(n+" : "+r)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),cI=ab.Polygon,lI=nc.bind,fI=nc.extend,hI=(D_.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,n){function r(t){return t.name}function i(e,n,r){var i=this._layers;if("remove"!==e){for(var u,c=[],l=[],h=s[n].indices,d=0;d<h.length;d++){var p=o.getItemLayout(h[d]),g=p.x,v=p.y0,m=p.y;c.push([g,v]),l.push([g,v+m]),u=o.getItemVisual(h[d],"color")}var y,x,_=o.getItemLayout(h[0]),b=o.getItemModel(h[d-1]),w=b.getModel("label"),M=w.get("margin");if("add"===e)S=f[n]=new _p.Group,y=new cI({shape:{points:c,stackedOnPoints:l,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),x=new _p.Text({style:{x:_.x-M,y:_.y0+_.y/2}}),S.add(y),S.add(x),a.add(S),y.setClipPath(function(t,e,n){var r=new _p.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return _p.initProps(r,{shape:{width:t.width+20,height:t.height+20}},e,function(){y.removeClipPath()}),r}(y.getBoundingRect(),t));else{var S=i[r];y=S.childAt(0),x=S.childAt(1),a.add(S),f[n]=S,_p.updateProps(y,{shape:{points:c,stackedOnPoints:l}},t),_p.updateProps(x,{style:{x:_.x-M,y:_.y0+_.y/2}},t)}var A=b.getModel("emphasis.itemStyle"),T=b.getModel("itemStyle");_p.setTextStyle(x.style,w,{text:w.get("show")?t.getFormattedLabel(h[d-1],"normal")||o.getName(h[d-1]):null,textVerticalAlign:"middle"}),y.setStyle(fI({fill:u},T.getItemStyle(["color"]))),_p.setHoverStyle(y,A.getItemStyle())}else a.remove(i[n])}var o=t.getData(),a=this.group,s=t.getLayerSeries(),u=o.getLayout("layoutInfo"),c=u.rect,l=u.boundaryGap;a.attr("position",[0,c.y+l[0]]);var f={};new ly(this._layersSeries||[],s,r,r).add(lI(i,this,"add")).update(lI(i,this,"update")).remove(lI(i,this,"remove")).execute(),this._layersSeries=s,this._layers=f},dispose:function(){}}),function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.coordinateSystem,r={},i=n.getRect();r.rect=i;var o=t.get("boundaryGap"),a=n.getAxis();r.boundaryGap=o,"horizontal"===a.orient?(o[0]=Np.parsePercent(o[0],i.height),o[1]=Np.parsePercent(o[1],i.height),La(e,t,i.height-o[0]-o[1])):(o[0]=Np.parsePercent(o[0],i.width),o[1]=Np.parsePercent(o[1],i.width),La(e,t,i.width-o[0]-o[1])),e.setLayout("layoutInfo",r)})}),dI=nc.createHashMap;D_.registerLayout(hI),D_.registerVisual(function(t){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.getRawData(),r=t.get("color"),i=dI();e.each(function(t){i.set(e.getRawIndex(t),t)}),n.each(function(o){var a=n.getName(o),s=r[(t.nameMap.get(a)-1)%r.length];n.setItemVisual(o,"color",s);var u=i.get(o);null!=u&&e.setItemVisual(u,"color",s)})})}),D_.registerProcessor(Vw("themeRiver"));var pI=GM.wrapTreePathInfo,gI=(xm.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;nc.each(e.children,function(e){t(e);var r=e.value;nc.isArray(r)&&(r=r[0]),n+=r});var r=e.value;nc.isArray(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=n),r<0&&(r=0),nc.isArray(e.value)?e.value[0]=r:e.value=r}(n);var r=t.levels||[],i={};return i.levels=r,LM.createTree(n,this,i).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=xm.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=pI(n,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}}),{NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"}),vI=2,mI=4,yI=Ea.prototype;yI.updateData=function(t,e,n,r,i){this.node=e,e.piece=this,r=r||this._seriesModel,i=i||this._ecModel;var o=this.childAt(0);o.dataIndex=e.dataIndex;var a=e.getModel(),s=e.getLayout(),u=nc.extend({},s);u.label=null;var c,l=function(t,e,n){var r=t.getVisual("color"),i=t.getVisual("visualMeta");i&&0!==i.length||(r=null);var o=t.getModel("itemStyle").get("color");if(o)return o;if(r)return r;if(0===t.depth)return n.option.color[0];var a=n.option.color.length;return n.option.color[function(t){for(var e=t;e.depth>1;)e=e.parentNode;var n=t.getAncestors()[0];return nc.indexOf(n.children,e)}(t)%a]}(e,0,i),f=a.getModel("itemStyle").getItemStyle();if("normal"===n)c=f;else{var h=a.getModel(n+".itemStyle").getItemStyle();c=nc.merge(h,f)}c=nc.defaults({lineJoin:"bevel",fill:c.fill||l},c),t?(o.setShape(u),o.shape.r=s.r0,_p.updateProps(o,{shape:{r:s.r}},r,e.dataIndex),o.useStyle(c)):"object"==typeof c.fill&&c.fill.type||"object"==typeof o.style.fill&&o.style.fill.type?(_p.updateProps(o,{shape:u},r),o.useStyle(c)):_p.updateProps(o,{shape:u,style:c},r),this._updateLabel(r,l,n);var d=a.getShallow("cursor");if(d&&o.attr("cursor",d),t){var p=r.getShallow("highlightPolicy");this._initEvents(o,e,r,p)}this._seriesModel=r||this._seriesModel,this._ecModel=i||this._ecModel},yI.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(e.node===n?n.piece.updateData(!1,n,"emphasis"):function(t,e,n){return n!==gI.NONE&&(n===gI.SELF?t===e:n===gI.ANCESTOR?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}(n,e.node,t)?n.piece.childAt(0).trigger("highlight"):t!==gI.NONE&&n.piece.childAt(0).trigger("downplay"))})},yI.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},yI.onHighlight=function(){this.updateData(!1,this.node,"highlight")},yI.onDownplay=function(){this.updateData(!1,this.node,"downplay")},yI._updateLabel=function(t,e,n){function r(t){var e=a.get(t);return null==e?o.get(t):e}var i=this.node.getModel(),o=i.getModel("label"),a="normal"===n||"emphasis"===n?o:i.getModel(n+".label"),s=i.getModel("emphasis.label"),u=nc.retrieve(t.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);!1===r("show")&&(u="");var c=this.node.getLayout(),l=a.get("minAngle");null==l&&(l=o.get("minAngle")),l=l/180*Math.PI;var f=c.endAngle-c.startAngle;null!=l&&Math.abs(f)<l&&(u="");var h=this.childAt(1);_p.setLabelStyle(h.style,h.hoverStyle||{},o,s,{defaultText:a.getShallow("show")?u:null,autoColor:e,useInsideStyle:!0});var d,p=(c.startAngle+c.endAngle)/2,g=Math.cos(p),v=Math.sin(p),m=r("position"),y=r("distance")||0,x=r("align");"outside"===m?(d=c.r+y,x=p>Math.PI/2?"right":"left"):x&&"center"!==x?"left"===x?(d=c.r0+y,p>Math.PI/2&&(x="right")):"right"===x&&(d=c.r-y,p>Math.PI/2&&(x="left")):(d=(c.r+c.r0)/2,x="center"),h.attr("style",{text:u,textAlign:x,textVerticalAlign:r("verticalAlign")||"middle",opacity:r("opacity")});var _=d*g+c.cx,b=d*v+c.cy;h.attr("position",[_,b]);var w=r("rotate"),M=0;"radial"===w?(M=-p)<-Math.PI/2&&(M+=Math.PI):"tangential"===w?(M=Math.PI/2-p)>Math.PI/2?M-=Math.PI:M<-Math.PI/2&&(M+=Math.PI):"number"==typeof w&&(M=w*Math.PI/180),h.attr("rotation",M)},yI._initEvents=function(t,e,n,r){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var i=this,o=function(){i.onEmphasis(r)},a=function(){i.onNormal()};n.isAnimationEnabled()&&t.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",function(){i.onDownplay()}).on("highlight",function(){i.onHighlight()})},nc.inherits(Ea,_p.Group);var xI=Ea,_I=(Dm.extend({type:"sunburst",init:function(){},render:function(t,e,n,r){var i=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),a=o.tree.root,s=t.getViewRoot(),u=this.group,c=t.get("renderLabelForZeroData"),l=[];s.eachNode(function(t){l.push(t)});var f=this._oldChildren||[];if(function(n,r){function i(t){return t.getId()}function s(i,s){!function(n,r){if(c||!n||n.getValue()||(n=null),n!==a&&r!==a)if(r&&r.piece)n?(r.piece.updateData(!1,n,"normal",t,e),o.setItemGraphicEl(n.dataIndex,r.piece)):function(t){t&&t.piece&&(u.remove(t.piece),t.piece=null)}(r);else if(n){var i=new xI(n,t,e);u.add(i),o.setItemGraphicEl(n.dataIndex,i)}}(null==i?null:n[i],null==s?null:r[s])}0===n.length&&0===r.length||new ly(r,n,i,i).add(s).update(s).remove(nc.curry(s,null)).execute()}(l,f),function(n,r){if(r.depth>0){i.virtualPiece?i.virtualPiece.updateData(!1,n,"normal",t,e):(i.virtualPiece=new xI(n,t,e),u.add(i.virtualPiece)),r.piece._onclickEvent&&r.piece.off("click",r.piece._onclickEvent);var o=function(t){i._rootToNode(r.parentNode)};r.piece._onclickEvent=o,i.virtualPiece.on("click",o)}else i.virtualPiece&&(u.remove(i.virtualPiece),i.virtualPiece=null)}(a,s),r&&r.highlight&&r.highlight.piece){var h=t.getShallow("highlightPolicy");r.highlight.piece.onEmphasis(h)}else if(r&&r.unhighlight){var d=this.virtualPiece;!d&&a.children.length&&(d=a.children[0].piece),d&&d.onNormal()}this._initEvents(),this._oldChildren=l},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var n=!1;t.seriesModel.getViewRoot().eachNode(function(r){if(!n&&r.piece&&r.piece.childAt(0)===e.target){var i=r.getModel().get("nodeClick");if("rootToNode"===i)t._rootToNode(r);else if("link"===i){var o=r.getModel(),a=o.get("link");if(a){var s=o.get("target",!0)||"_blank";window.open(a,s)}}n=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}}}),"sunburstRootToNode");D_.registerAction({type:_I,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){var r=GM.retrieveTargetInfo(t,[_I],e);if(r){var i=e.getViewRoot();i&&(t.direction=GM.aboveViewRoot(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}})});var bI="sunburstHighlight";D_.registerAction({type:bI,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){var r=GM.retrieveTargetInfo(t,[bI],e);r&&(t.highlight=r.node)})}),D_.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){t.unhighlight=!0})});var wI=Np.parsePercent,MI=(Math.PI,Math.PI/180);D_.registerVisual(nc.curry(Nw,"sunburst")),D_.registerLayout(nc.curry(function(t,e,n,r){e.eachSeriesByType(t,function(t){var e=t.get("center"),r=t.get("radius");nc.isArray(r)||(r=[0,r]),nc.isArray(e)||(e=[e,e]);var i=n.getWidth(),o=n.getHeight(),a=Math.min(i,o),s=wI(e[0],i),u=wI(e[1],o),c=wI(r[0],a/2),l=wI(r[1],a/2),f=-t.get("startAngle")*MI,h=t.get("minAngle")*MI,d=t.getData().tree.root,p=t.getViewRoot(),g=p.depth,v=t.get("sort");null!=v&&function t(e,n){var r=e.children||[];e.children=function(t,e){if("function"==typeof e)return t.sort(e);var n="asc"===e;return t.sort(function(t,e){var r=(t.getValue()-e.getValue())*(n?1:-1);return 0===r?(t.dataIndex-e.dataIndex)*(n?-1:1):r})}(r,n),r.length&&nc.each(e.children,function(e){t(e,n)})}(p,v);var m=0;nc.each(p.children,function(t){!isNaN(t.getValue())&&m++});var y=p.getValue(),x=Math.PI/(y||m)*2,_=p.depth>0,b=p.height-(_?-1:1),w=(l-c)/(b||1),M=t.get("clockwise"),S=t.get("stillShowZeroSum"),A=M?1:-1,T=function(t,e){if(t){var n=e;if(t!==d){var r=t.getValue(),i=0===y&&S?x:r*x;i<h&&(i=h),n=e+A*i;var o=t.depth-g-(_?-1:1),l=c+w*o,f=c+w*(o+1),p=t.getModel();null!=p.get("r0")&&(l=wI(p.get("r0"),a/2)),null!=p.get("r")&&(f=wI(p.get("r"),a/2)),t.setLayout({angle:i,startAngle:e,endAngle:n,clockwise:M,cx:s,cy:u,r0:l,r:f})}if(t.children&&t.children.length){var v=0;nc.each(t.children,function(t){v+=T(t,e+v)})}return n-e}};if(_){var O=c,I=c+w,C=2*Math.PI;d.setLayout({angle:C,startAngle:f,endAngle:f+C,clockwise:M,cx:s,cy:u,r0:O,r:I})}T(p,f)})},"sunburst")),D_.registerProcessor(nc.curry(Vw,"sunburst"));var SI=E_.getDefaultLabel,AI=dx.getLayoutOnAxis,TI=["itemStyle"],OI=["emphasis","itemStyle"],II=["label"],CI=["emphasis","label"],kI="e\0\0",DI={cartesian2d:function(t){var e=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:nc.bind(function(t,e){return e=e||[0,0],nc.map(["x","y"],function(n,r){var i=this.getAxis(n),o=e[r],a=t[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a))},this)},t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:nc.bind(function(t,e){return e=e||[0,0],nc.map([0,1],function(n){var r=e[n],i=t[n]/2,o=[],a=[];return o[n]=r-i,a[n]=r+i,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])},this)},t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:nc.bind(function(t,e){var n=this.getAxis(),r=e instanceof Array?e[0]:e,i=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))},t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:nc.bind(function(r){var i=e.dataToRadius(r[0]),o=n.dataToAngle(r[1]),a=t.coordToPoint([i,o]);return a.push(i,o*Math.PI/180),a}),size:nc.bind(function(t,e){return nc.map(["Radius","Angle"],function(n,r){var i=this["get"+n+"Axis"](),o=e[r],a=t[r]/2,s="dataTo"+n,u="category"===i.type?i.getBandWidth():Math.abs(i[s](o-a)-i[s](o+a));return"Angle"===n&&(u=u*Math.PI/180),u},this)},t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};D_.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(t,e){return Xy(this.getSource(),this)}}),D_.extendChartView({type:"custom",_data:null,render:function(t,e,n){var r=this._data,i=t.getData(),o=this.group,a=Na(t,i,e,n);this.group.removeAll(),i.diff(r).add(function(e){ja(null,e,a(e),t,o,i)}).update(function(e,n){ja(r.getItemGraphicEl(n),e,a(e),t,o,i)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&o.remove(e)}).execute(),this._data=i},incrementalPrepareRender:function(t,e,n){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,n,r){for(var i=e.getData(),o=Na(e,i,n,r),a=t.start;a<t.end;a++)ja(null,a,o(a),e,this.group,i).traverse(function(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)})},dispose:nc.noop}),D_.registerPreprocessor(function(t){var e=t.graphic;nc.isArray(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var LI=D_.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,LI.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var n=this.option,r=(e?n:t).elements,i=n.elements=e?[]:n.elements,o=[];this._flatten(r,o);var a=Lf.mappingToExists(i,o);Lf.makeIdAndName(a);var s=this._elOptionsToUpdate=[];nc.each(a,function(t,e){var n=t.option;n&&(s.push(n),function(t,e){var n=t.exist;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var r=e.parentOption;r?e.parentId=r.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var r=nc.extend({},n),i=t[e],o=n.$action||"merge";"merge"===o?i?(nc.merge(i,r,!0),Xp.mergeLayoutParam(i,r,{ignoreSize:!0}),Xp.copyLayoutParams(n,i)):t[e]=r:"replace"===o?t[e]=r:"remove"===o&&i&&(t[e]=null)}(i,e,n),function(t,e){t&&(t.hv=e.hv=[Ha(e,["left","right"]),Ha(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}(i[e],n))},this);for(var u=i.length-1;u>=0;u--)null==i[u]?i.splice(u,1):delete i[u].$action},_flatten:function(t,e,n){nc.each(t,function(t){if(t){n&&(t.parentOption=n),e.push(t);var r=t.children;"group"===t.type&&r&&this._flatten(r,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});D_.extendComponentView({type:"graphic",init:function(t,e){this._elMap=nc.createHashMap(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,n),this._relocate(t,n)},_updateElements:function(t,e){var n=t.useElOptionsToUpdate();if(n){var r=this._elMap,i=this.group;nc.each(n,function(t){var e=t.$action,n=t.id,o=r.get(n),a=t.parentId,s=null!=a?r.get(a):i;if("text"===t.type){var u=t.style;t.hv&&t.hv[1]&&(u.textVerticalAlign=u.textBaseline=null),!u.hasOwnProperty("textFill")&&u.fill&&(u.textFill=u.fill),!u.hasOwnProperty("textStroke")&&u.stroke&&(u.textStroke=u.stroke)}var c=function(t){return t=nc.extend({},t),nc.each(["id","parentId","$action","hv","bounding"].concat(Xp.LOCATION_PARAMS),function(e){delete t[e]}),t}(t);e&&"merge"!==e?"replace"===e?(Fa(o,r),Va(n,s,c,r)):"remove"===e&&Fa(o,r):o?o.attr(c):Va(n,s,c,r);var l=r.get(n);l&&(l.__ecGraphicWidth=t.width,l.__ecGraphicHeight=t.height)})}},_relocate:function(t,e){for(var n=t.option.elements,r=this.group,i=this._elMap,o=n.length-1;o>=0;o--){var a=n[o],s=i.get(a.id);if(s){var u=s.parent,c=u===r?{width:e.getWidth(),height:e.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0};Xp.positionElement(s,a,c,null,{hv:a.hv,boundingMode:a.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){Fa(e,t)}),this._elMap=nc.createHashMap()},dispose:function(){this._clear()}});var EI=Lf.isNameSpecified,PI=D_.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{}},mergeOption:function(t){PI.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var r=t[n].get("name");if(this.isSelected(r)){this.select(r),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],n=[];t.eachRawSeries(function(r){var i,o=r.name;if(n.push(o),r.legendDataProvider){var a=r.legendDataProvider(),s=a.mapArray(a.getName);t.isSeriesFiltered(r)||(n=n.concat(s)),s.length?e=e.concat(s):i=!0}else i=!0;i&&EI(r)&&e.push(r.name)}),this._availableNames=n;var r=this.get("data")||e,i=nc.map(r,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new kp(t,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;nc.each(n,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&nc.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),NI=PI;D_.registerAction("legendToggleSelect","legendselectchanged",nc.curry(Wa,"toggleSelected")),D_.registerAction("legendSelect","legendselected",nc.curry(Wa,"select")),D_.registerAction("legendUnSelect","legendunselected",nc.curry(Wa,"unSelect"));var jI=Xp.getLayoutRect,zI=Xp.box,RI=Xp.positionElement,BI=function(t,e,n){var r=e.getBoxLayoutParams(),i=e.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=jI(r,o,i);zI(e.get("orient"),t,e.get("itemGap"),a.width,a.height),RI(t,r,o,i)},VI=function(t,e){var n=Vp.normalizeCssArray(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),new _p.Rect({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1})},FI=Hx.createSymbol,HI=VI,WI=nc.curry,GI=nc.each,qI=_p.Group,UI=D_.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new qI),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,n){if(this.resetInner(),t.get("show",!0)){var r=t.get("align");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(r,t,e,n);var i=t.getBoxLayoutParams(),o={width:n.getWidth(),height:n.getHeight()},a=t.get("padding"),s=Xp.getLayoutRect(i,o,a),u=this.layoutInner(t,r,s),c=Xp.getLayoutRect(nc.defaults({width:u.width,height:u.height},i),o,a);this.group.attr("position",[c.x-u.x,c.y-u.y]),this.group.add(this._backgroundEl=HI(u,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(t,e,n,r){var i=this.getContentGroup(),o=nc.createHashMap(),a=e.get("selectedMode"),s=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&s.push(t.id)}),GI(e.getData(),function(u,c){var l=u.get("name");if(this.newlineDisabled||""!==l&&"\n"!==l){var f=n.getSeriesByName(l)[0];if(!o.get(l))if(f){var h=f.getData(),d=h.getVisual("color");"function"==typeof d&&(d=d(f.getDataParams(0)));var p=h.getVisual("legendSymbol")||"roundRect",g=h.getVisual("symbol");this._createItem(l,c,u,e,p,g,t,d,a).on("click",WI(Ga,l,r)).on("mouseover",WI(qa,f,null,r,s)).on("mouseout",WI(Ua,f,null,r,s)),o.set(l,!0)}else n.eachRawSeries(function(n){if(!o.get(l)&&n.legendDataProvider){var i=n.legendDataProvider(),f=i.indexOfName(l);if(f<0)return;var h=i.getItemVisual(f,"color");this._createItem(l,c,u,e,"roundRect",null,t,h,a).on("click",WI(Ga,l,r)).on("mouseover",WI(qa,n,l,r,s)).on("mouseout",WI(Ua,n,l,r,s)),o.set(l,!0)}},this)}else i.add(new qI({newline:!0}))},this)},_createItem:function(t,e,n,r,i,o,a,s,u){var c=r.get("itemWidth"),l=r.get("itemHeight"),f=r.get("inactiveColor"),h=r.get("symbolKeepAspect"),d=r.isSelected(t),p=new qI,g=n.getModel("textStyle"),v=n.get("icon"),m=n.getModel("tooltip"),y=m.parentModel;if(i=v||i,p.add(FI(i,0,0,c,l,d?s:f,null==h||h)),!v&&o&&(o!==i||"none"==o)){var x=.8*l;"none"===o&&(o="circle"),p.add(FI(o,(c-x)/2,(l-x)/2,x,x,d?s:f,null==h||h))}var _="left"===a?c+5:-5,b=a,w=r.get("formatter"),M=t;"string"==typeof w&&w?M=w.replace("{name}",null!=t?t:""):"function"==typeof w&&(M=w(t)),p.add(new _p.Text({style:_p.setTextStyle({},g,{text:M,x:_,y:l/2,textFill:d?g.getTextColor():f,textAlign:b,textVerticalAlign:"middle"})}));var S=new _p.Rect({shape:p.getBoundingRect(),invisible:!0,tooltip:m.get("show")?nc.extend({content:t,formatter:y.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:t,$vars:["name"]}},m.option):null});return p.add(S),p.eachChild(function(t){t.silent=!0}),S.silent=!u,this.getContentGroup().add(p),_p.setHoverStyle(p),p.__legendDataIndex=e,p},layoutInner:function(t,e,n){var r=this.getContentGroup();Xp.box(t.get("orient"),r,t.get("itemGap"),n.width,n.height);var i=r.getBoundingRect();return r.attr("position",[-i.x,-i.y]),this.group.getBoundingRect()}});D_.registerProcessor(function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}),Qp.registerSubTypeDefaulter("legend",function(){return"plain"});var YI=Xp.mergeLayoutParam,XI=Xp.getLayoutParams,ZI=NI.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,n,r){var i=XI(t);ZI.superCall(this,"init",t,e,n,r),Ya(this,t,i)},mergeOption:function(t,e){ZI.superCall(this,"mergeOption",t,e),Ya(this,this.option,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),$I=_p.Group,KI=["width","height"],JI=["x","y"],QI=UI.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){QI.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new $I),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new $I),this._showController},resetInner:function(){QI.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,n,r){function i(t,n){var i=t+"DataIndex",u=_p.createIcon(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:nc.bind(o._pageGo,o,i,e,r)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});u.name=t,a.add(u)}var o=this;QI.superCall(this,"renderInner",t,e,n,r);var a=this._controllerGroup,s=e.get("pageIconSize",!0);nc.isArray(s)||(s=[s,s]),i("pagePrev",0);var u=e.getModel("pageTextStyle");a.add(new _p.Text({name:"pageText",style:{textFill:u.getTextColor(),font:u.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),i("pageNext",1)},layoutInner:function(t,e,n){var r=this.getContentGroup(),i=this._containerGroup,o=this._controllerGroup,a=t.getOrient().index,s=KI[a],u=KI[1-a],c=JI[1-a];Xp.box(t.get("orient"),r,t.get("itemGap"),a?n.width:null,a?null:n.height),Xp.box("horizontal",o,t.get("pageButtonItemGap",!0));var l=r.getBoundingRect(),f=o.getBoundingRect(),h=this._showController=l[s]>n[s],d=[-l.x,-l.y];d[a]=r.position[a];var p=[0,0],g=[-f.x,-f.y],v=nc.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));h&&("end"===t.get("pageButtonPosition",!0)?g[a]+=n[s]-f[s]:p[a]+=f[s]+v),g[1-a]+=l[u]/2-f[u]/2,r.attr("position",d),i.attr("position",p),o.attr("position",g);var m=this.group.getBoundingRect();if((m={x:0,y:0})[s]=h?n[s]:l[s],m[u]=Math.max(l[u],f[u]),m[c]=Math.min(0,f[c]+g[1-a]),i.__rectSize=n[s],h){var y={x:0,y:0};y[s]=Math.max(n[s]-f[s]-v,0),y[u]=m[u],i.setClipPath(new _p.Rect({shape:y})),i.__rectSize=y[s]}else o.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(t);return null!=x.pageIndex&&_p.updateProps(r,{position:x.contentPosition},!!h&&t),this._updatePageInfoView(t,x),m},_pageGo:function(t,e,n){var r=this._getPageInfo(e)[t];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},_updatePageInfoView:function(t,e){var n=this._controllerGroup;nc.each(["pagePrev","pageNext"],function(r){var i=null!=e[r+"DataIndex"],o=n.childOfName(r);o&&(o.setStyle("fill",i?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=i?"pointer":"default")});var r=n.childOfName("pageText"),i=t.get("pageFormatter"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;r&&i&&r.setStyle("text",nc.isString(i)?i.replace("{current}",a).replace("{total}",s):i({current:a,total:s}))},_getPageInfo:function(t){function e(t){var e=t.getBoundingRect().clone();return e[d]+=t.position[l],e}var n,r,i,o,a=t.get("scrollDataIndex",!0),s=this.getContentGroup(),u=s.getBoundingRect(),c=this._containerGroup.__rectSize,l=t.getOrient().index,f=KI[l],h=KI[1-l],d=JI[l],p=s.position.slice();this._showController?s.eachChild(function(t){t.__legendDataIndex===a&&(o=t)}):o=s.childAt(0);var g=c?Math.ceil(u[f]/c):0;if(o){var v=o.getBoundingRect(),m=o.position[l]+v[d];p[l]=-m-u[d],n=Math.floor(g*(m+v[d]+c/2)/u[f]),n=u[f]&&g?Math.max(0,Math.min(g-1,n)):-1;var y={x:0,y:0};y[f]=c,y[h]=u[h],y[d]=-p[l]-u[d];var x,_=s.children();if(s.eachChild(function(t,n){var r=e(t);r.intersect(y)&&(null==x&&(x=n),i=t.__legendDataIndex),n===_.length-1&&r[d]+r[f]<=y[d]+y[f]&&(i=null)}),null!=x){var b=e(_[x]);if(y[d]=b[d]+b[f]-y[f],x<=0&&b[d]>=y[d])r=null;else{for(;x>0&&e(_[x-1]).intersect(y);)x--;r=_[x].__legendDataIndex}}}return{contentPosition:p,pageIndex:n,pageCount:g,pagePrevDataIndex:r,pageNextDataIndex:i}}});D_.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})}),D_.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var tC=nc.each,eC=Vp.toCamelCase,nC=["","-webkit-","-moz-","-o-"];Xa.prototype={constructor:Xa,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function(t){var e=[],n=t.get("transitionDuration"),r=t.get("backgroundColor"),i=t.getModel("textStyle"),o=t.get("padding");return n&&e.push(function(t){var e="left "+n+"s cubic-bezier(0.23, 1, 0.32, 1),top "+n+"s cubic-bezier(0.23, 1, 0.32, 1)";return nc.map(nC,function(t){return t+"transition:"+e}).join(";")}()),r&&(Hu.canvasSupported?e.push("background-Color:"+r):(e.push("background-Color:#"+Lc.toHex(r)),e.push("filter:alpha(opacity=70)"))),tC(["width","color","radius"],function(n){var r="border-"+n,i=eC(r),o=t.get(i);null!=o&&e.push(r+":"+o+("color"===n?"":"px"))}),e.push(function(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();return r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),tC(["decoration","align"],function(n){var r=t.get(n);r&&e.push("text-"+n+":"+r)}),e.join(";")}(i)),null!=o&&e.push("padding:"+Vp.normalizeCssArray(o).join("px ")+"px"),e.join(";")+";"}(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n,r=this._zr;r&&r.painter&&(n=r.painter.getViewportRootOffset())&&(t+=n.offsetLeft,e+=n.offsetTop);var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(nc.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}};var rC=Xa,iC=nc.bind,oC=nc.each,aC=Np.parsePercent,sC=new _p.Rect({shape:{x:-1,y:-1,width:2,height:2}});D_.extendComponentView({type:"tooltip",init:function(t,e){if(!Hu.node){var n=new rC(e.getDom(),e);this._tooltipContent=n}},render:function(t,e,n){if(!Hu.node&&!Hu.wxa){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var r=this._tooltipContent;r.update(),r.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");UO("itemTooltip",this._api,iC(function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){r.manuallyShowTip(t,e,n,{x:r._lastX,y:r._lastY})})}},manuallyShowTip:function(t,e,n,r){if(r.from!==this.uid&&!Hu.node){var i=$a(r,n);this._ticket="";var o=r.dataByCoordSys;if(r.tooltip&&null!=r.x&&null!=r.y){var a=sC;a.position=[r.x,r.y],a.update(),a.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:a},i)}else if(o)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},i);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,r))return;var s=BO(r,e),u=s.point[0],c=s.point[1];null!=u&&null!=c&&this._tryShow({offsetX:u,offsetY:c,position:r.position,target:s.el,event:{}},i)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target,event:{}},i))}},manuallyHideTip:function(t,e,n,r){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,r.from!==this.uid&&this._hide($a(r,n))},_manuallyAxisShowTip:function(t,e,n,r){var i=r.seriesIndex,o=r.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=o&&null!=a){var s=e.getSeriesByIndex(i);if(s&&"axis"===(t=Za([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:o,position:r.position}),!0}},_tryShow:function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;r&&r.length?this._showAxisTooltip(r,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=nc.bind(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,r=this._tooltipModel,i=[e.offsetX,e.offsetY],o=[],a=[],s=Za([e.tooltipOption,r]);oC(t,function(t){oC(t.dataByAxis,function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),r=t.value,i=[];if(e&&null!=r){var s=QO.getValueLabel(r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);nc.each(t.seriesDataIndices,function(o){var u=n.getSeriesByIndex(o.seriesIndex),c=o.dataIndexInside,l=u&&u.getDataParams(c);l.axisDim=t.axisDim,l.axisIndex=t.axisIndex,l.axisType=t.axisType,l.axisId=t.axisId,l.axisValue=Lx.getAxisRawValue(e.axis,r),l.axisValueLabel=s,l&&(a.push(l),i.push(u.formatTooltip(c,!0)))});var u=s;o.push((u?Vp.encodeHTML(u)+"<br />":"")+i.join("<br />"))}})},this),o.reverse(),o=o.join("<br /><br />");var u=e.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,u,i[0],i[1],this._tooltipContent,a):this._showTooltipContent(s,o,a,Math.random(),i[0],i[1],u)})},_showSeriesItemTooltip:function(t,e,n){var r=this._ecModel,i=e.seriesIndex,o=r.getSeriesByIndex(i),a=e.dataModel||o,s=e.dataIndex,u=e.dataType,c=a.getData(),l=Za([c.getItemModel(s),a,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),f=l.get("trigger");if(null==f||"item"===f){var h=a.getDataParams(s,u),d=a.formatTooltip(s,!1,u),p="item_"+a.name+"_"+s;this._showOrMove(l,function(){this._showTooltipContent(l,d,h,p,t.offsetX,t.offsetY,t.position,t.target)}),n({type:"showTip",dataIndexInside:s,dataIndex:c.getRawIndex(s),seriesIndex:i,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var r=e.tooltip;if("string"==typeof r){r={content:r,formatter:r}}var i=new kp(r,this._tooltipModel,this._ecModel),o=i.get("content"),a=Math.random();this._showOrMove(i,function(){this._showTooltipContent(i,o,i.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,r,i,o,a,s){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,c=t.get("formatter");a=a||t.get("position");var l=e;if(c&&"string"==typeof c)l=Vp.formatTpl(c,n,!0);else if("function"==typeof c){var f=iC(function(e,r){e===this._ticket&&(u.setContent(r),this._updatePosition(t,a,i,o,u,n,s))},this);this._ticket=r,l=c(n,r,f)}u.setContent(l),u.show(t),this._updatePosition(t,a,i,o,u,n,s)}},_updatePosition:function(t,e,n,r,i,o,a){var s=this._api.getWidth(),u=this._api.getHeight();e=e||t.get("position");var c=i.getSize(),l=t.get("align"),f=t.get("verticalAlign"),h=a&&a.getBoundingRect().clone();if(a&&h.applyTransform(a.transform),"function"==typeof e&&(e=e([n,r],o,i.el,h,{viewSize:[s,u],contentSize:c.slice()})),nc.isArray(e))n=aC(e[0],s),r=aC(e[1],u);else if(nc.isObject(e)){e.width=c[0],e.height=c[1];var d=Xp.getLayoutRect(e,{width:s,height:u});n=d.x,r=d.y,l=null,f=null}else"string"==typeof e&&a?(n=(p=function(t,e,n){var r=n[0],i=n[1],o=0,a=0,s=e.width,u=e.height;switch(t){case"inside":o=e.x+s/2-r/2,a=e.y+u/2-i/2;break;case"top":o=e.x+s/2-r/2,a=e.y-i-5;break;case"bottom":o=e.x+s/2-r/2,a=e.y+u+5;break;case"left":o=e.x-r-5,a=e.y+u/2-i/2;break;case"right":o=e.x+s+5,a=e.y+u/2-i/2}return[o,a]}(e,h,c))[0],r=p[1]):(n=(p=function(t,e,n,r,i,o,a){var s=Ka(n),u=s.width,c=s.height;return null!=o&&(t+u+o>r?t-=u+o:t+=o),null!=a&&(e+c+a>i?e-=c+a:e+=a),[t,e]}(n,r,i.el,s,u,l?null:20,f?null:20))[0],r=p[1]);if(l&&(n-=Ja(l)?c[0]/2:"right"===l?c[0]:0),f&&(r-=Ja(f)?c[1]/2:"bottom"===f?c[1]:0),t.get("confine")){var p=function(t,e,n,r,i){var o=Ka(n),a=o.width,s=o.height;return t=Math.min(t+a,r)-a,e=Math.min(e+s,i)-s,[t=Math.max(t,0),e=Math.max(e,0)]}(n,r,i.el,s,u);n=p[0],r=p[1]}i.moveTo(n,r)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&oC(e,function(e,r){var i=e.dataByAxis||{},o=(t[r]||{}).dataByAxis||[];(n&=i.length===o.length)&&oC(i,function(t,e){var r=o[e]||{},i=t.seriesDataIndices||[],a=r.seriesDataIndices||[];(n&=t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&i.length===a.length)&&oC(i,function(t,e){var r=a[e];n&=t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){Hu.node||Hu.wxa||(this._tooltipContent.hide(),YO("itemTooltip",e))}}),D_.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),D_.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var uC=Np.parsePercent,cC=Hy.isDimensionStacked;es.prototype={constructor:es,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:d_.prototype.dataToCoord,radiusToData:d_.prototype.coordToData},nc.inherits(es,d_);var lC=es;ns.prototype={constructor:ns,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:d_.prototype.dataToCoord,angleToData:d_.prototype.coordToData},nc.inherits(ns,d_);var fC=ns,hC=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new lC,this._angleAxis=new fC,this._radiusAxis.polar=this._angleAxis.polar=this};hC.prototype={type:"polar",axisPointerEnabled:!0,constructor:hC,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);r.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var u=Math.atan2(-n,e)/Math.PI*180,c=u<o?1:-1;u<o||u>a;)u+=360*c;return[s,u]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]}};var dC=hC,pC=Qp.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});nc.merge(pC.prototype,Ex);var gC={splitNumber:5};Cb("angle",pC,rs,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),Cb("radius",pC,rs,gC),D_.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var vC=Np.parsePercent,mC=Lx.createScaleByModel,yC=Lx.niceScaleExtent,xC=Hy.getStackedDimension,_C={dimensions:dC.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,r){var i=new dC(r);i.update=function(t,e){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();nc.each(e.mapDimension("radius",!0),function(t){i.scale.unionExtentFromData(e,xC(e,t))}),nc.each(e.mapDimension("angle",!0),function(t){r.scale.unionExtentFromData(e,xC(e,t))})}}),yC(r.scale,r.model),yC(i.scale,i.model),"category"===r.type&&!r.onBand){var o=r.getExtent(),a=360/r.scale.count();r.inverse?o[1]+=a:o[1]-=a,r.setExtent(o[0],o[1])}};var o=i.getRadiusAxis(),a=i.getAngleAxis(),s=t.findAxisModel("radiusAxis"),u=t.findAxisModel("angleAxis");is(o,s),is(a,u),function(t,e,n){var r=e.get("center"),i=n.getWidth(),o=n.getHeight();t.cx=vC(r[0],i),t.cy=vC(r[1],o);var a=t.getRadiusAxis(),s=Math.min(i,o)/2,u=vC(e.get("radius"),s);a.inverse?a.setExtent(u,0):a.setExtent(0,u)}(i,t,e),n.push(i),t.coordinateSystem=i,i.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}};yv.register("polar",_C);var bC=["axisLine","axisLabel","axisTick","splitLine","splitArea"],wC=(uw.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,i=r.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=nc.map(n.getViewLabels(),function(t){return(t=nc.clone(t)).coord=n.dataToCoord(t.tickValue),t});ss(a),ss(o),nc.each(bC,function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,r,o,i,a)},this)}},_axisLine:function(t,e,n,r){var i=t.getModel("axisLine.lineStyle"),o=new _p.Circle({shape:{cx:e.cx,cy:e.cy,r:r[as(e)]},style:i.getLineStyle(),z2:1,silent:!0});o.style.fill=null,this.group.add(o)},_axisTick:function(t,e,n,r){var i=t.getModel("axisTick"),o=(i.get("inside")?-1:1)*i.get("length"),a=r[as(e)],s=nc.map(n,function(t){return new _p.Line({shape:os(e,[a,a+o],t.coord)})});this.group.add(_p.mergePath(s,{style:nc.defaults(i.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,n,r,i){var o=t.getCategories(!0),a=t.getModel("axisLabel"),s=a.get("margin");nc.each(i,function(n,i){var u=a,c=n.tickValue,l=r[as(e)],f=e.coordToPoint([l+s,n.coord]),h=e.cx,d=e.cy,p=Math.abs(f[0]-h)/l<.3?"center":f[0]>h?"left":"right",g=Math.abs(f[1]-d)/l<.3?"middle":f[1]>d?"top":"bottom";o&&o[c]&&o[c].textStyle&&(u=new kp(o[c].textStyle,a,a.ecModel));var v=new _p.Text({silent:!0});this.group.add(v),_p.setTextStyle(v.style,u,{x:f[0],y:f[1],textFill:u.getTextColor()||t.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:p,textVerticalAlign:g})},this)},_splitLine:function(t,e,n,r){var i=t.getModel("splitLine").getModel("lineStyle"),o=i.get("color"),a=0;o=o instanceof Array?o:[o];for(var s=[],u=0;u<n.length;u++){var c=a++%o.length;s[c]=s[c]||[],s[c].push(new _p.Line({shape:os(e,r,n[u].coord)}))}for(u=0;u<s.length;u++)this.group.add(_p.mergePath(s[u],{style:nc.defaults({stroke:o[u%o.length]},i.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,r){if(n.length){var i=t.getModel("splitArea").getModel("areaStyle"),o=i.get("color"),a=0;o=o instanceof Array?o:[o];for(var s=[],u=Math.PI/180,c=-n[0].coord*u,l=Math.min(r[0],r[1]),f=Math.max(r[0],r[1]),h=t.get("clockwise"),d=1;d<n.length;d++){var p=a++%o.length;s[p]=s[p]||[],s[p].push(new _p.Sector({shape:{cx:e.cx,cy:e.cy,r0:l,r:f,startAngle:c,endAngle:-n[d].coord*u,clockwise:h},silent:!0})),c=-n[d].coord*u}for(d=0;d<s.length;d++)this.group.add(_p.mergePath(s[d],{style:nc.defaults({fill:o[d%o.length]},i.getAreaStyle()),silent:!0}))}}}),["axisLine","axisTickLabel","axisName"]),MC=["splitLine","splitArea"],SC=(uw.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,i=r.getAngleAxis(),o=n.getTicksCoords(),a=i.getExtent()[0],s=n.getExtent(),u=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(r,t,a),c=new nw(t,u);nc.each(wC,c.add,c),this.group.add(c.getGroup()),nc.each(MC,function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,r,a,s,o)},this)}},_splitLine:function(t,e,n,r,i){var o=t.getModel("splitLine").getModel("lineStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var u=[],c=0;c<i.length;c++){var l=s++%a.length;u[l]=u[l]||[],u[l].push(new _p.Circle({shape:{cx:e.cx,cy:e.cy,r:i[c].coord},silent:!0}))}for(c=0;c<u.length;c++)this.group.add(_p.mergePath(u[c],{style:nc.defaults({stroke:a[c%a.length],fill:null},o.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,r,i){if(i.length){var o=t.getModel("splitArea").getModel("areaStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var u=[],c=i[0].coord,l=1;l<i.length;l++){var f=s++%a.length;u[f]=u[f]||[],u[f].push(new _p.Sector({shape:{cx:e.cx,cy:e.cy,r0:c,r:i[l].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=i[l].coord}for(l=0;l<u.length;l++)this.group.add(_p.mergePath(u[l],{style:nc.defaults({fill:a[l%a.length]},o.getAreaStyle()),silent:!0}))}}}),JO.extend({makeElOption:function(t,e,n,r,i){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a,s=o.polar,u=s.getOtherAxis(o).getExtent();a=o["dataTo"+Vp.capitalFirst(o.dim)](e);var c=r.get("type");if(c&&"none"!==c){var l=QO.buildElStyle(r),f=AC[c](o,s,a,u,l);f.style=l,t.graphicKey=f.type,t.pointer=f}var h=function(t,e,n,r,i){var o=e.axis,a=o.dataToCoord(t),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u,c,l,f=r.getRadiusAxis().getExtent();if("radius"===o.dim){var h=dc.create();dc.rotate(h,h,s),dc.translate(h,h,[r.cx,r.cy]),u=_p.applyTransform([a,-i],h);var d=e.getModel("axisLabel").get("rotate")||0,p=nw.innerTextLayout(s,d*Math.PI/180,-1);c=p.textAlign,l=p.textVerticalAlign}else{var g=f[1];u=r.coordToPoint([g+i,a]);var v=r.cx,m=r.cy;c=Math.abs(u[0]-v)/g<.3?"center":u[0]>v?"left":"right",l=Math.abs(u[1]-m)/g<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:l}}(e,n,0,s,r.get("label.margin"));QO.buildLabelElOption(t,n,r,i,h)}})),AC={line:function(t,e,n,r,i){return"angle"===t.dim?{type:"Line",shape:QO.makeLineShape(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r,i){var o=Math.max(1,t.getBandWidth()),a=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:QO.makeSectorShape(e.cx,e.cy,r[0],r[1],(-n-o/2)*a,(o/2-n)*a)}:{type:"Sector",shape:QO.makeSectorShape(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}};uw.registerAxisPointerClass("PolarAxisPointer",SC),D_.registerLayout(nc.curry(function(t,e,n){var r=n.getWidth(),i=n.getHeight(),o={},a=function(t,e){var n={};nc.each(t,function(t,e){var r=t.getData(),i=t.coordinateSystem.getBaseAxis(),o=i.getExtent(),a="category"===i.type?i.getBandWidth():Math.abs(o[1]-o[0])/r.count(),s=n[ts(i)]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=s.stacks;n[ts(i)]=s;var c=Qa(t);u[c]||s.autoWidthCount++,u[c]=u[c]||{width:0,maxWidth:0};var l=uC(t.get("barWidth"),a),f=uC(t.get("barMaxWidth"),a),h=t.get("barGap"),d=t.get("barCategoryGap");l&&!u[c].width&&(l=Math.min(s.remainedWidth,l),u[c].width=l,s.remainedWidth-=l),f&&(u[c].maxWidth=f),null!=h&&(s.gap=h),null!=d&&(s.categoryGap=d)});var r={};return nc.each(n,function(t,e){r[e]={};var n=t.stacks,i=t.bandWidth,o=uC(t.categoryGap,i),a=uC(t.gap,1),s=t.remainedWidth,u=t.autoWidthCount,c=(s-o)/(u+(u-1)*a);c=Math.max(c,0),nc.each(n,function(t,e){var n=t.maxWidth;n&&n<c&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,u--)}),c=(s-o)/(u+(u-1)*a),c=Math.max(c,0);var l,f=0;nc.each(n,function(t,e){t.width||(t.width=c),l=t,f+=t.width*(1+a)}),l&&(f-=l.width*a);var h=-f/2;nc.each(n,function(t,n){r[e][n]=r[e][n]||{offset:h,width:t.width},h+=t.width*(1+a)})}),r}(nc.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,s=n.getBaseAxis(),u=Qa(t),c=a[ts(s)][u],l=c.offset,f=c.width,h=n.getOtherAxis(s),d=t.get("center")||["50%","50%"],p=uC(d[0],r),g=uC(d[1],i),v=t.get("barMinHeight")||0,m=t.get("barMinAngle")||0;o[u]=o[u]||[];for(var y=e.mapDimension(h.dim),x=e.mapDimension(s.dim),_=cC(e,y),b=h.getExtent()[0],w=0,M=e.count();w<M;w++){var S=e.get(y,w),A=e.get(x,w);if(!isNaN(S)){var T,O,I,C,k=S>=0?"p":"n",D=b;if(_&&(o[u][A]||(o[u][A]={p:b,n:b}),D=o[u][A][k]),"radius"===h.dim){var L=h.dataToRadius(S)-b,E=s.dataToAngle(A);Math.abs(L)<v&&(L=(L<0?-1:1)*v),T=D,O=D+L,C=(I=E-l)-f,_&&(o[u][A][k]=O)}else{var P=h.dataToAngle(S,!0)-b,N=s.dataToRadius(A);Math.abs(P)<m&&(P=(P<0?-1:1)*m),O=(T=N+l)+f,I=D,C=D+P,_&&(o[u][A][k]=C)}e.setItemLayout(w,{cx:p,cy:g,r0:T,r:O,startAngle:-I*Math.PI/180,endAngle:-C*Math.PI/180})}}}},this)},"bar")),D_.extendComponentView({type:"polar"});var TC=Qp.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){Qp.prototype.init.apply(this,arguments),Lf.defaultEmphasis(t,"label",["show"])},optionUpdated:function(){var t=this.option,e=this;t.regions=fM.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=nc.reduce(t.regions||[],function(t,n){return n.name&&t.set(n.name,new kp(n,e)),t},nc.createHashMap()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new kp(null,this,this.ecModel)},getFormattedLabel:function(t,e){var n=this.getRegionModel(t).get("label."+e+".formatter"),r={name:t};return"function"==typeof n?(r.status=e,n(r)):"string"==typeof n?n.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});nc.mixin(TC,Iw),D_.extendComponentView({type:"geo",init:function(t,e){var n=new SM(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,r){if(!r||"geoToggleSelect"!==r.type||r.from!==this.uid){var i=this._mapDraw;t.get("show")?i.draw(t,e,n,this,r):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),us("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),us("select",{type:"geoSelect",event:"geoselected"}),us("unSelect",{type:"geoUnSelect",event:"geounselected"});var OC=["rect","polygon","keep","clear"],IC=nc.each,CC=function(t,e,n){var r={};return IC(e,function(e){var i=r[e]=function(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}();IC(t[e],function(t,r){if(mS.isValidType(r)){var o={type:r,visual:t};n&&n(o,e),i[r]=new mS(o),"opacity"===r&&((o=nc.clone(o)).type="colorAlpha",i.__hidden.__alphaForOpacity=new mS(o))}})}),r},kC=function(t,e,n){var r;nc.each(n,function(t){e.hasOwnProperty(t)&&cs(e[t])&&(r=!0)}),r&&nc.each(n,function(n){e.hasOwnProperty(n)&&cs(e[n])?t[n]=nc.clone(e[n]):delete t[n]})},DC=function(t,e,n,r,i,o){function a(t,a){s=null==o?t:a;var c=n.getRawDataItem(s);if(!c||!1!==c.visualMap)for(var l=r.call(i,t),f=e[l],h=u[l],d=0,p=h.length;d<p;d++){var g=h[d];f[g]&&f[g].applyVisual(t,function(t){return n.getItemVisual(s,t)},function(t,e){n.setItemVisual(s,t,e)})}}var s,u={};nc.each(t,function(t){var n=mS.prepareVisualTypes(e[t]);u[t]=n}),null==o?n.each(a):n.each([o],a)},LC=function(t,e,n,r){var i={};return nc.each(t,function(t){var n=mS.prepareVisualTypes(e[t]);i[t]=n}),{progress:function(t,o){null!=r&&(r=o.getDimension(r));for(var a;null!=(a=t.next());){var s=o.getRawDataItem(a);if(s&&!1===s.visualMap)return;for(var u=null!=r?o.get(r,a,!0):a,c=n(u),l=e[c],f=i[c],h=0,d=f.length;h<d;h++){var p=f[h];l[p]&&l[p].applyVisual(u,function(t){return o.getItemVisual(a,t)},function(t,e){o.setItemVisual(a,t,e)})}}}}},EC={lineX:ls(0),lineY:ls(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Zx(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var i=t.x,o=t.y,a=t.width,s=t.height,u=r[0];return!!(Zx(r,i,o)||Zx(r,i+a,o)||Zx(r,i,o+s)||Zx(r,i+a,o+s)||tl.create(t).contain(u[0],u[1])||hs(i,o,i+a,o,r)||hs(i,o,i,o+s,r)||hs(i+a,o,i+a,o+s,r)||hs(i,o+s,i+a,o+s,r))||void 0}}},PC=nc.each,NC=nc.indexOf,jC=nc.curry,zC=["dataToPoint","pointToData"],RC=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BC=ps.prototype;BC.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var r=WC[t.brushType](0,n,e);t.__rangeOffset={offset:GC[t.brushType](r.values,t.range,[1,1]),xyMinMax:r.xyMinMax}}})},BC.matchOutputRanges=function(t,e,n){PC(t,function(t){var r=this.findTargetInfo(t,e);r&&!0!==r&&nc.each(r.coordSyses,function(r){var i=WC[t.brushType](1,r,t.range);n(t,i.values,r,e)})},this)},BC.setInputRanges=function(t,e){PC(t,function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var r=WC[t.brushType](0,n.coordSys,t.coordRange),i=t.__rangeOffset;t.range=i?GC[t.brushType](r.values,i.offset,function(t,e){var n=xs(t),r=xs(e),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}(r.xyMinMax,i.xyMinMax)):r.values}},this)},BC.makePanelOpts=function(t,e){return nc.map(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e&&e(n),clipPath:sT(r),isTargetByCursor:cT(r,t,n.coordSysModel),getLinearBrushOtherExtent:uT(r)}})},BC.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return!0===r||r&&NC(r.coordSyses,e.coordinateSystem)>=0},BC.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=vs(e,t),i=0;i<n.length;i++){var o=n[i],a=t.panelId;if(a){if(o.panelId===a)return o}else for(i=0;i<FC.length;i++)if(FC[i](r,o))return o}return!0};var VC={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,i=t.gridModels,o=nc.createHashMap(),a={},s={};(n||r||i)&&(PC(n,function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0}),PC(r,function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0}),PC(i,function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0}),o.each(function(t){var i=t.coordinateSystem,o=[];PC(i.getCartesians(),function(t,e){(NC(n,t.getAxis("x").model)>=0||NC(r,t.getAxis("y").model)>=0)&&o.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:HC.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){PC(t.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:HC.geo})})}},FC=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],HC={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(_p.getTransform(t)),e}},WC={lineX:jC(ms,0),lineY:jC(ms,1),rect:function(t,e,n){var r=e[zC[t]]([n[0][0],n[1][0]]),i=e[zC[t]]([n[0][1],n[1][1]]),o=[gs([r[0],i[0]]),gs([r[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:nc.map(n,function(n){var i=e[zC[t]](n);return r[0][0]=Math.min(r[0][0],i[0]),r[1][0]=Math.min(r[1][0],i[1]),r[0][1]=Math.max(r[0][1],i[0]),r[1][1]=Math.max(r[1][1],i[1]),i}),xyMinMax:r}}},GC={lineX:jC(ys,0),lineY:jC(ys,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return nc.map(t,function(t,r){return[t[0]-n[0]*e[r][0],t[1]-n[1]*e[r][1]]})}},qC=ps,UC=["inBrush","outOfBrush"],YC="__ecBrushSelect",XC="__ecInBrushSelectEvent",ZC=D_.PRIORITY.VISUAL.BRUSH;D_.registerLayout(ZC,function(t,e,n){t.eachComponent({mainType:"brush"},function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(e.brushTargetManager=new qC(e.option,t)).setInputRanges(e.areas,t)})}),D_.registerVisual(ZC,function(t,e,n){var r,i,o=[];t.eachComponent({mainType:"brush"},function(e,n){function a(t){return"all"===l||f[t]}function s(t){return!!t.length}var u={brushId:e.id,brushIndex:n,brushName:e.name,areas:nc.clone(e.areas),selected:[]};o.push(u);var c=e.option,l=c.brushLink,f=[],h=[],d=[],p=0;n||(r=c.throttleType,i=c.throttleDelay);var g=nc.map(e.areas,function(t){return function(t){var e=t.selectors={};return nc.each(EC[t.brushType],function(n,r){e[r]=function(r){return n(r,e,t)}}),t}(nc.defaults({boundingRect:$C[t.brushType](t)},t))}),v=CC(e.option,UC,function(t){t.mappingMethod="fixed"});nc.isArray(l)&&nc.each(l,function(t){f[t]=1}),t.eachSeries(function(n,r){var i=d[r]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;p|=n.hasAxisBrushed(),a(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(h[e]=1)})}(n,r):function(n,r,i){var o=bs(n);if(o&&!function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(nc.isArray(n)?nc.indexOf(n,e)<0:e!==n)}(e,r)&&(nc.each(g,function(r){o[r.brushType]&&e.brushTargetManager.controlSeries(r,n,t)&&i.push(r),p|=s(i)}),a(r)&&s(i))){var u=n.getData();u.each(function(t){_s(o,i,u,t)&&(h[t]=1)})}}(n,r,i)}),t.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};u.selected.push(n);var r=bs(t),i=d[e],o=t.getData(),c=a(e)?function(t){return h[t]?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return _s(r,i,o,t)?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"};(a(e)?p:s(i))&&DC(UC,v,o,c)})}),function(t,e,n,r,i){if(i){var o=t.getZr();o[XC]||(o[YC]||(o[YC]=function(t,e){if(!t.isDisposed()){var n=t.getZr();n[XC]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[XC]=!1}}),Nm.createOrUpdate(o,YC,n,e)(t,r))}}(e,r,i,o,n)});var $C={lineX:nc.noop,lineY:nc.noop,rect:function(t){return ws(t.range)},polygon:function(t){for(var e,n=t.range,r=0,i=n.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[r];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&ws(e)}},KC=["#ddd"];D_.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;!e&&kC(n,t,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:KC},r.hasOwnProperty("liftZ")||(r.liftZ=5)},setAreas:function(t){t&&(this.areas=nc.map(t,function(t){return Ms(this.option,t)},this))},setBrushOption:function(t){this.brushOption=Ms(this.option,t),this.brushType=this.brushOption.brushType}}),D_.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new oT(e.getZr())).on("brush",nc.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,Ss.apply(this,arguments)},updateTransform:Ss,updateView:Ss,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:nc.clone(t),$from:n})}}),D_.registerAction({type:"brush",event:"brush"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),D_.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var JC={},QC={register:function(t,e){JC[t]=e},get:function(t){return JC[t]}},tk=zm.toolbox.brush;As.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:nc.clone(tk.title)};var ek=As.prototype;ek.render=ek.updateView=function(t,e,n){var r,i,o;e.eachComponent({mainType:"brush"},function(t){r=t.brushType,i=t.brushOption.brushMode||"single",o|=t.areas.length}),this._brushType=r,this._brushMode=i,nc.each(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===i:"clear"===e?o:e===r)?"emphasis":"normal")})},ek.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return nc.each(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},ek.onclick=function(t,e,n){var r=this._brushType,i=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===i?"single":"multiple":i}})},QC.register("brush",As),D_.registerPreprocessor(function(t,e){var n=t&&t.brush;if(nc.isArray(n)||(n=n?[n]:[]),n.length){var r=[];nc.each(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e))});var i=t&&t.toolbox;nc.isArray(i)&&(i=i[0]),i||(i={feature:{}},t.toolbox=[i]);var o=i.feature||(i.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,r),function(t){var e={};nc.each(t,function(t){e[t]=1}),t.length=0,nc.each(e,function(e,n){t.push(n)})}(s),e&&!s.length&&s.push.apply(s,OC)}}),Ts.prototype={constructor:Ts,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=Np.parseDate(t)).getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var r=t.getDate();r=r<10?"0"+r:r;var i=t.getDay();return{y:e,m:n,d:r,day:i=Math.abs((i+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+r,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function n(t,e){return null!=t[e]&&"auto"!==t[e]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[r,7]:[7,r];nc.each([0,1],function(t){n(o,t)&&(a[i[t]]=o[t]*s[t])});var u={width:e.getWidth(),height:e.getHeight()},c=this._rect=Xp.getLayoutRect(a,u);nc.each([0,1],function(t){n(o,t)||(o[t]=c[i[t]]/s[t])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(t,e){nc.isArray(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo,i=n.formatedDate;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+864e5))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([r.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},convertToPixel:nc.curry(Os,"dataToPoint"),convertFromPixel:nc.curry(Os,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(nc.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var n=this.getDateInfo(e),r=n.date;r.setMonth(r.getMonth()+1);var i=this.getNextNDay(r,-1);t=[n.formatedDate,i.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,r=new Date(t[0].time),i=r.getDate(),o=t[1].date.getDate();if(r.setDate(i+n-1),r.getDate()!==o)for(var a=r.getTime()-t[1].time>0?1:-1;r.getDate()!==o&&(r.getTime()-t[1].time)*a>0;)n-=a,r.setDate(i+n-1);var s=Math.floor((n+t[0].day+6)/7),u=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:s,nthWeek:u,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return!1;var i=7*(t-1)-r.fweek+e,o=new Date(r.start.time);return o.setDate(r.start.d+i),this.getDateInfo(o)}},Ts.dimensions=Ts.prototype.dimensions,Ts.getDimensionsInfo=Ts.prototype.getDimensionsInfo,Ts.create=function(t,e){var n=[];return t.eachComponent("calendar",function(r){var i=new Ts(r,t,e);n.push(i),r.coordinateSystem=i}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])}),n},yv.register("calendar",Ts);var nk=Xp.getLayoutParams,rk=Xp.sizeCalculable,ik=Xp.mergeLayoutParam,ok=Qp.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,n,r){var i=nk(t);ok.superApply(this,"init",arguments),Is(t,i)},mergeOption:function(t,e){ok.superApply(this,"mergeOption",arguments),Is(this.option,t)}}),ak={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},sk={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]},uk=(D_.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,n){var r=this.group;r.removeAll();var i=t.coordinateSystem,o=i.getRangeInfo(),a=i.getOrient();this._renderDayRect(t,o,r),this._renderLines(t,o,a,r),this._renderYearText(t,o,a,r),this._renderMonthText(t,a,r),this._renderWeekText(t,o,a,r)},_renderDayRect:function(t,e,n){for(var r=t.coordinateSystem,i=t.getModel("itemStyle").getItemStyle(),o=r.getCellWidth(),a=r.getCellHeight(),s=e.start.time;s<=e.end.time;s=r.getNextNDay(s,1).time){var u=r.dataToRect([s],!1).tl,c=new _p.Rect({shape:{x:u[0],y:u[1],width:o,height:a},cursor:"default",style:i});n.add(c)}},_renderLines:function(t,e,n,r){function i(e){o._firstDayOfMonth.push(a.getDateInfo(e)),o._firstDayPoints.push(a.dataToRect([e],!1).tl);var i=o._getLinePointsOfOneWeek(t,e,n);o._tlpoints.push(i[0]),o._blpoints.push(i[i.length-1]),u&&o._drawSplitline(i,s,r)}var o=this,a=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),u=t.get("splitLine.show"),c=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var l=e.start,f=0;l.time<=e.end.time;f++){i(l.formatedDate),0===f&&(l=a.getDateInfo(e.start.y+"-"+e.start.m));var h=l.date;h.setMonth(h.getMonth()+1),l=a.getDateInfo(h)}i(a.getNextNDay(e.end.time,1).formatedDate),u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,n),s,r),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,n),s,r)},_getEdgesPoints:function(t,e,n){var r=[t[0].slice(),t[t.length-1].slice()],i="horizontal"===n?0:1;return r[0][i]=r[0][i]-e/2,r[1][i]=r[1][i]+e/2,r},_drawSplitline:function(t,e,n){var r=new _p.Polyline({z2:20,shape:{points:t},style:e});n.add(r)},_getLinePointsOfOneWeek:function(t,e,n){var r=t.coordinateSystem;e=r.getDateInfo(e);for(var i=[],o=0;o<7;o++){var a=r.getNextNDay(e.time,o),s=r.dataToRect([a.time],!1);i[2*a.day]=s.tl,i[2*a.day+1]=s["horizontal"===n?"bl":"tr"]}return i},_formatterLabel:function(t,e){return"string"==typeof t&&t?Vp.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,n,r,i){e=e.slice();var o=["center","bottom"];"bottom"===r?(e[1]+=i,o=["center","top"]):"left"===r?e[0]-=i:"right"===r?(e[0]+=i,o=["center","top"]):e[1]-=i;var a=0;return"left"!==r&&"right"!==r||(a=Math.PI/2),{rotation:a,position:e,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(t,e,n,r){var i=t.getModel("yearLabel");if(i.get("show")){var o=i.get("margin"),a=i.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(s[0][0]+s[1][0])/2,c=(s[0][1]+s[1][1])/2,l="horizontal"===n?0:1,f={top:[u,s[l][1]],bottom:[u,s[1-l][1]],left:[s[1-l][0],c],right:[s[l][0],c]},h=e.start.y;+e.end.y>+e.start.y&&(h=h+"-"+e.end.y);var d=i.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:h},g=this._formatterLabel(d,p),v=new _p.Text({z2:30});_p.setTextStyle(v.style,i,{text:g}),v.attr(this._yearTextPositionControl(v,f[a],n,a,o)),r.add(v)}},_monthTextPositionControl:function(t,e,n,r,i){var o="left",a="top",s=t[0],u=t[1];return"horizontal"===n?(u+=i,e&&(o="center"),"start"===r&&(a="bottom")):(s+=i,e&&(a="middle"),"start"===r&&(o="right")),{x:s,y:u,textAlign:o,textVerticalAlign:a}},_renderMonthText:function(t,e,n){var r=t.getModel("monthLabel");if(r.get("show")){var i=r.get("nameMap"),o=r.get("margin"),a=r.get("position"),s=r.get("align"),u=[this._tlpoints,this._blpoints];nc.isString(i)&&(i=ak[i.toUpperCase()]||[]);var c="start"===a?0:1,l="horizontal"===e?0:1;o="start"===a?-o:o;for(var f="center"===s,h=0;h<u[c].length-1;h++){var d=u[c][h].slice(),p=this._firstDayOfMonth[h];if(f){var g=this._firstDayPoints[h];d[l]=(g[l]+u[0][h+1][l])/2}var v=r.get("formatter"),m=i[+p.m-1],y={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:m},x=this._formatterLabel(v,y),_=new _p.Text({z2:30});nc.extend(_p.setTextStyle(_.style,r,{text:x}),this._monthTextPositionControl(d,f,e,a,o)),n.add(_)}}},_weekTextPositionControl:function(t,e,n,r,i){var o="center",a="middle",s=t[0],u=t[1],c="start"===n;return"horizontal"===e?(s=s+r+(c?1:-1)*i[0]/2,o=c?"right":"left"):(u=u+r+(c?1:-1)*i[1]/2,a=c?"bottom":"top"),{x:s,y:u,textAlign:o,textVerticalAlign:a}},_renderWeekText:function(t,e,n,r){var i=t.getModel("dayLabel");if(i.get("show")){var o=t.coordinateSystem,a=i.get("position"),s=i.get("nameMap"),u=i.get("margin"),c=o.getFirstDayOfWeek();nc.isString(s)&&(s=sk[s.toUpperCase()]||[]);var l=o.getNextNDay(e.end.time,7-e.lweek).time,f=[o.getCellWidth(),o.getCellHeight()];u=Np.parsePercent(u,f["horizontal"===n?0:1]),"start"===a&&(l=o.getNextNDay(e.start.time,-(7+e.fweek)).time,u=-u);for(var h=0;h<7;h++){var d,p=o.getNextNDay(l,h),g=o.dataToRect([p.time],!1).center;d=Math.abs((h+c)%7);var v=new _p.Text({z2:30});nc.extend(_p.setTextStyle(v.style,i,{text:s[d]}),this._weekTextPositionControl(g,n,a,u,f)),r.add(v)}}}}),Xp.getLayoutRect);D_.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),D_.extendComponentView({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,i=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=t.get("textBaseline"),u=new _p.Text({style:_p.setTextStyle({},i,{text:t.get("text"),textFill:i.getTextColor()},{disableBox:!0}),z2:10}),c=u.getBoundingRect(),l=t.get("subtext"),f=new _p.Text({style:_p.setTextStyle({},o,{text:l,textFill:o.getTextColor(),y:c.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),h=t.get("link"),d=t.get("sublink");u.silent=!h,f.silent=!d,h&&u.on("click",function(){window.open(h,"_"+t.get("target"))}),d&&f.on("click",function(){window.open(d,"_"+t.get("subtarget"))}),r.add(u),l&&r.add(f);var p=r.getBoundingRect(),g=t.getBoxLayoutParams();g.width=p.width,g.height=p.height;var v=uk(g,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),r.attr("position",[v.x,v.y]);var m={textAlign:a,textVerticalAlign:s};u.setStyle(m),f.setStyle(m),p=r.getBoundingRect();var y=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var _=new _p.Rect({shape:{x:p.x-y[3],y:p.y-y[0],width:p.width+y[1]+y[3],height:p.height+y[0]+y[2],r:t.get("borderRadius")},style:x,silent:!0});_p.subPixelOptimizeRect(_),r.add(_)}}}),Qp.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var ck=["cartesian2d","polar","singleAxis"],lk={isCoordSupported:function(t){return nc.indexOf(ck,t)>=0},createNameEach:Cs,eachAxisDim:Cs(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),createLinkedNodesFinder:function(t,e,n){function r(t,r){r.nodes.push(t),e(function(e){nc.each(n(t,e)||[],function(t){r.records[e.name][t]=!0})})}return function(i){var o,a={nodes:[],records:{}};if(e(function(t){a.records[t.name]={}}),!i)return a;r(i,a);do{o=!1,t(function(t){!function(t,e){return nc.indexOf(e.nodes,t)>=0}(t,a)&&function(t,r){var i=!1;return e(function(e){nc.each(n(t,e)||[],function(t){r.records[e.name][t]&&(i=!0)})}),i}(t,a)&&(r(t,a),o=!0)})}while(o);return a}}},fk=nc.each,hk=Np.asc,dk=function(t,e,n,r){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=r,this._dataZoomModel=n};dk.prototype={constructor:dk,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(n){if(lk.isCoordSupported(n.get("coordinateSystem"))){var r=this._dimName,i=e.queryComponents({mainType:r+"Axis",index:n.get(r+"AxisIndex"),id:n.get(r+"AxisId")})[0];this._axisIndex===(i&&i.componentIndex)&&t.push(n)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n,r=this._dimName,i=this.ecModel,o=this.getAxisModel();return"x"===r||"y"===r?(e="gridIndex",t="x"===r?"y":"x"):(e="polarIndex",t="angle"===r?"radius":"angle"),i.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(n=t)}),n},getMinMaxSpan:function(){return nc.clone(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,n=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),i=[0,100],o=[t.start,t.end],a=[];return fk(["startValue","endValue"],function(e){a.push(null!=t[e]?n.parse(t[e]):null)}),fk([0,1],function(t){var s=a[t],u=o[t];"percent"===r[t]?(null==u&&(u=i[t]),s=n.parse(Np.linearMap(u,i,e,!0))):u=Np.linearMap(s,e,i,!0),a[t]=s,o[t]=u}),{valueWindow:hk(a),percentWindow:hk(o)}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var r=[1/0,-1/0];return fk(n,function(t){var n=t.getData();n&&fk(n.mapDimension(e,!0),function(t){var e=n.getApproximateExtent(t);e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])})}),r[1]<r[0]&&(r=[NaN,NaN]),function(t,e){var n=t.getAxisModel(),r=n.getMin(!0),i="category"===n.get("type"),o=i&&n.getCategories().length;null!=r&&"dataMin"!==r&&"function"!=typeof r?e[0]=r:i&&(e[0]=o>0?0:NaN);var a=n.getMax(!0);null!=a&&"dataMax"!==a&&"function"!=typeof a?e[1]=a:i&&(e[1]=o>0?o-1:NaN),n.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,r),r}(this,this._dimName,e);var n=this.calculateDataWindow(t.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,function(t){var e=t._minMaxSpan={},n=t._dataZoomModel;fk(["min","max"],function(r){e[r+"Span"]=n.get(r+"Span");var i=n.get(r+"ValueSpan");if(null!=i&&(e[r+"ValueSpan"]=i,null!=(i=t.getAxisModel().axis.scale.parse(i)))){var o=t._dataExtent;e[r+"Span"]=Np.linearMap(o[0]+i,o,[0,100],!0)}})}(this),ks(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,ks(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;"none"!==i&&fk(r,function(t){var e=t.getData(),r=e.mapDimension(n,!0);"weakFilter"===i?e.filterSelf(function(t){for(var n,i,a,s=0;s<r.length;s++){var u=e.get(r[s],t),c=!isNaN(u),l=u<o[0],f=u>o[1];if(c&&!l&&!f)return!0;c&&(a=!0),l&&(n=!0),f&&(i=!0)}return a&&n&&i}):fk(r,function(n){if("empty"===i)t.setData(e.map(n,function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN}));else{var r={};r[n]=o,e.selectRange(r)}}),fk(r,function(t){e.setApproximateExtent(o,t)})})}}};var pk=dk,gk=nc.each,vk=lk.eachAxisDim,mk=D_.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var r=Ds(t);this.mergeDefaultAndTheme(t,n),this.doInit(r)},mergeOption:function(t){var e=Ds(t);nc.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;Hu.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),Ls(this,t),gk([["start","startValue"],["end","endValue"]],function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,n,r,i){var o=this.dependentModels[e.axis][n],a=o.__dzAxisProxy||(o.__dzAxisProxy=new pk(e.name,n,this,i));t[e.name+"_"+n]=a},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();vk(function(e){var n=e.axisIndex;t[n]=Lf.normalizeToArray(t[n])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;vk(function(n){null!=t[n.axisIndex]&&(e=!0)},this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option,r=this.dependentModels;if(t){var i="vertical"===e?"y":"x";r[i+"Axis"].length?(n[i+"AxisIndex"]=[0],t=!1):gk(r.singleAxis,function(r){t&&r.get("orient",!0)===e&&(n.singleAxisIndex=[r.componentIndex],t=!1)})}t&&vk(function(e){if(t){var r=[],i=this.dependentModels[e.axis];if(i.length&&!r.length)for(var o=0,a=i.length;o<a;o++)"category"===i[o].get("type")&&r.push(o);n[e.axisIndex]=r,r.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&vk(function(e){var r=n[e.axisIndex],i=t.get(e.axisIndex),o=t.get(e.axisId);i=t.ecModel.queryComponents({mainType:e.axis,index:i,id:o})[0].componentIndex,nc.indexOf(r,i)<0&&r.push(i)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return vk(function(r){var i=t.get(r.axisIndex),o=this.dependentModels[r.axis][i];o&&o.get("type")===e||(n=!1)},this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return vk(function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}},this),t},eachTargetAxis:function(t,e){var n=this.ecModel;vk(function(r){gk(this.get(r.axisIndex),function(i){t.call(e,r,i,this,n)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},setRawRange:function(t,e){var n=this.option;gk([["start","startValue"],["end","endValue"]],function(e){null==t[e[0]]&&null==t[e[1]]||(n[e[0]]=t[e[0]],n[e[1]]=t[e[1]])},this),!e&&Ls(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),yk=wm.extend({type:"dataZoom",render:function(t,e,n,r){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){var t=this.dataZoomModel,e=this.ecModel,n={};return t.eachTargetAxis(function(t,r){var i=e.getComponent(t.axis,r);if(i){var o=i.getCoordSysModel();o&&function(t,e,n,r){for(var i,o=0;o<n.length;o++)if(n[o].model===t){i=n[o];break}i||n.push(i={model:t,axisModels:[],coordIndex:r}),i.axisModels.push(e)}(o,i,n[o.mainType]||(n[o.mainType]=[]),o.componentIndex)}},this),n}}),xk=(mk.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),_p.Rect),_k=Np.linearMap,bk=Np.asc,wk=nc.bind,Mk=nc.each,Sk="horizontal",Ak=5,Tk=["line","bar","candlestick","scatter"],Ok=yk.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,r){Ok.superApply(this,"render",arguments),Nm.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){Ok.superApply(this,"remove",arguments),Nm.clear(this,"_dispatchZoomAction")},dispose:function(){Ok.superApply(this,"dispose",arguments),Nm.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new _p.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},i=this._orient===Sk?{right:r.width-n.x-n.width,top:r.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},o=Xp.getLayoutParams(t.option);nc.each(["right","top","width","height"],function(t){"ph"===o[t]&&(o[t]=i[t])});var a=Xp.getLayoutRect(o,r,t.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==Sk||i?n===Sk&&i?{scale:a?[-1,1]:[-1,-1]}:"vertical"!==n||i?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=t.getBoundingRect([o]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new xk({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),n.add(new xk({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:nc.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,r=n.getRawData(),i=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=i){var o=r.getDataExtent(i),a=.3*(o[1]-o[0]);o=[o[0]-a,o[1]+a];var s,u=[0,e[1]],c=[0,e[0]],l=[[e[0],0],[0,0]],f=[],h=c[1]/(r.count()-1),d=0,p=Math.round(r.count()/e[0]);r.each([i],function(t,e){if(p>0&&e%p)d+=h;else{var n=null==t||isNaN(t)||""===t,r=n?0:_k(t,o,u,!0);n&&!s&&e?(l.push([l[l.length-1][0],0]),f.push([f[f.length-1][0],0])):!n&&s&&(l.push([d,0]),f.push([d,0])),l.push([d,r]),f.push([d,r]),d+=h,s=n}});var g=this.dataZoomModel;this._displayables.barGroup.add(new _p.Polygon({shape:{points:l},style:nc.defaults({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new _p.Polyline({shape:{points:f},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis(function(i,o){var a=t.getAxisProxy(i.name,o).getTargetSeriesModels();nc.each(a,function(t){if(!(n||!0!==e&&nc.indexOf(Tk,t.get("type"))<0)){var a,s=r.getComponent(i.axis,o).axis,u={x:"y",y:"x",radius:"angle",angle:"radius"}[i.name],c=t.coordinateSystem;null!=u&&c.getOtherAxis&&(a=c.getOtherAxis(s).inverse),u=t.getData().mapDimension(u),n={thisAxis:s,series:t,thisDim:i.name,otherDim:u,otherAxisInverse:a}}},this)},this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],r=this._displayables.barGroup,i=this._size,o=this.dataZoomModel;r.add(t.filler=new xk({draggable:!0,cursor:Es(this._orient),drift:wk(this._onDragMove,this,"all"),onmousemove:function(t){of.stop(t.event)},ondragstart:wk(this._showDataInfo,this,!0),ondragend:wk(this._onDragEnd,this),onmouseover:wk(this._showDataInfo,this,!0),onmouseout:wk(this._showDataInfo,this,!1),style:{fill:o.get("fillerColor"),textPosition:"inside"}})),r.add(new xk(_p.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),Mk([0,1],function(t){var i=_p.createIcon(o.get("handleIcon"),{cursor:Es(this._orient),draggable:!0,drift:wk(this._onDragMove,this,t),onmousemove:function(t){of.stop(t.event)},ondragend:wk(this._onDragEnd,this),onmouseover:wk(this._showDataInfo,this,!0),onmouseout:wk(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),a=i.getBoundingRect();this._handleHeight=Np.parsePercent(o.get("handleSize"),this._size[1]),this._handleWidth=a.width/a.height*this._handleHeight,i.setStyle(o.getModel("handleStyle").getItemStyle());var s=o.get("handleColor");null!=s&&(i.style.fill=s),r.add(e[t]=i);var u=o.textStyleModel;this.group.add(n[t]=new _p.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:u.getTextColor(),textFont:u.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[_k(t[0],[0,100],e,!0),_k(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];EA(e,r,i,n.get("zoomLock")?"all":t,null!=o.minSpan?_k(o.minSpan,a,i,!0):null,null!=o.maxSpan?_k(o.maxSpan,a,i,!0):null);var s=this._range,u=this._range=bk([_k(r[0],i,a,!0),_k(r[1],i,a,!0)]);return!s||s[0]!==u[0]||s[1]!==u[1]},_updateView:function(t){var e=this._displayables,n=this._handleEnds,r=bk(n.slice()),i=this._size;Mk([0,1],function(t){var r=e.handles[t],o=this._handleHeight;r.attr({scale:[o/2,o/2],position:[n[t],i[1]/2-o/2]})},this),e.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=_p.getTransform(r.handles[t].parent,this.group),n=_p.transformDirection(0===t?"right":"left",e),s=this._handleWidth/2+Ak,u=_p.applyTransform([f[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:u[0],y:u[1],textVerticalAlign:o===Sk?"middle":n,textAlign:o===Sk?n:"center",text:a[t]})}var n=this.dataZoomModel,r=this._displayables,i=r.handleLabels,o=this._orient,a=["",""];if(n.get("showDetail")){var s=n.findRepresentativeAxisProxy();if(s){var u=s.getAxisModel().axis,c=this._range,l=t?s.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(l[0],u),this._formatLabel(l[1],u)]}}var f=bk(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(i,20));return nc.isFunction(r)?r(t,o):nc.isString(r)?r.replace("{value}",o):o},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n){this._dragging=!0;var r=this._displayables.barGroup.getLocalTransform(),i=_p.applyTransform([e,n],r,!0),o=this._updateInterval(t,i[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,n=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,o=this._updateInterval("all",n[0]-i);this._updateView(),o&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(Mk(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}}),!t){var e=this.api.getWidth(),n=this.api.getHeight();t={x:.2*e,y:.2*n,width:.6*e,height:.6*n}}return t}}),Ik=(mk.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}}),nc.curry),Ck="\0_ec_dataZoom_roams",kk=function(t,e){var n=Ps(t),r=e.dataZoomId,i=e.coordId;nc.each(n,function(t,n){var o=t.dataZoomInfos;o[r]&&nc.indexOf(e.allCoordIds,i)<0&&(delete o[r],t.count--)}),Ns(n);var o=n[i];o||((o=n[i]={coordId:i,dataZoomInfos:{},count:0}).controller=function(t,e){var n=new yM(t.getZr());return n.on("pan",Ik(function(t,e,n,r,i,o,a){js(t,function(s){return s.panGetRange(t.controller,e,n,r,i,o,a)})},e)),n.on("zoom",Ik(function(t,e,n,r){js(t,function(i){return i.zoomGetRange(t.controller,e,n,r)})},e)),n}(t,o),o.dispatchAction=nc.curry(function(t,e){t.dispatchAction({type:"dataZoom",batch:e})},t)),!o.dataZoomInfos[r]&&o.count++,o.dataZoomInfos[r]=e;var a=function(t){var e,n={},r={type_true:2,type_move:1,type_false:0,type_undefined:-1};return nc.each(t,function(t){var i=!t.disabled&&(!t.zoomLock||"move");r["type_"+i]>r["type_"+e]&&(e=i),nc.extend(n,t.roamControllerOpt)}),{controlType:e,opt:n}}(o.dataZoomInfos);o.controller.enable(a.controlType,a.opt),o.controller.setPointerChecker(e.containsPoint),Nm.createOrUpdate(o,"dispatchAction",e.throttleRate,"fixRate")},Dk=function(t,e){var n=Ps(t);nc.each(n,function(t){t.controller.dispose();var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)}),Ns(n)},Lk=function(t){return t.type+"\0_"+t.id},Ek=nc.bind,Pk=yk.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,n,r){Pk.superApply(this,"render",arguments),this._range=t.getPercentRange(),nc.each(this.getTargetCoordInfo(),function(e,r){var i=nc.map(e,function(t){return Lk(t.model)});nc.each(e,function(e){var o=e.model,a=t.option;kk(n,{coordId:Lk(o),allCoordIds:i,containsPoint:function(t,e,n){return o.coordinateSystem.containPoint([e,n])},dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:Ek(this._onPan,this,e,r),zoomGetRange:Ek(this._onZoom,this,e,r),zoomLock:a.zoomLock,disabled:a.disabled,roamControllerOpt:{zoomOnMouseWheel:a.zoomOnMouseWheel,moveOnMouseMove:a.moveOnMouseMove,preventDefaultMouseMove:a.preventDefaultMouseMove}})},this)},this)},dispose:function(){Dk(this.api,this.dataZoomModel.id),Pk.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,n,r,i,o,a,s,u){var c=this._range,l=c.slice(),f=t.axisModels[0];if(f){var h=Nk[e]([o,a],[s,u],f,n,t),d=h.signal*(l[1]-l[0])*h.pixel/h.pixelLength;return EA(d,l,[0,100],"all"),this._range=l,c[0]!==l[0]||c[1]!==l[1]?l:void 0}},_onZoom:function(t,e,n,r,i,o){var a=this._range,s=a.slice(),u=t.axisModels[0];if(u){var c=Nk[e](null,[i,o],u,n,t),l=(c.signal>0?c.pixelStart+c.pixelLength-c.pixel:c.pixel-c.pixelStart)/c.pixelLength*(s[1]-s[0])+s[0];r=Math.max(1/r,0),s[0]=(s[0]-l)*r+l,s[1]=(s[1]-l)*r+l;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return EA(0,s,[0,100],0,f.minSpan,f.maxSpan),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}}),Nk={grid:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,r,i){var o=n.axis,a=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},jk=nc.createHashMap,zk=nc.each;D_.registerProcessor({getTargetSeries:function(t){var e=jk();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,r){var i=r.getAxisProxy(t.name,n);zk(i.getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,r){r.getAxisProxy(t.name,n).reset(r,e)}),t.eachTargetAxis(function(t,n,r){r.getAxisProxy(t.name,n).filterData(r,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),r=e.getDataValueWindow();t.setRawRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]},!0)})}}),D_.registerAction("dataZoom",function(t,e){var n=lk.createLinkedNodesFinder(nc.bind(e.eachComponent,e,"dataZoom"),lk.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),r=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){r.push.apply(r,n(t).nodes)}),nc.each(r,function(e,n){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})});var Rk=nc.each,Bk=function(t){var e=t&&t.visualMap;nc.isArray(e)||(e=e?[e]:[]),Rk(e,function(t){if(t){zs(t,"splitList")&&!zs(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&nc.isArray(e)&&Rk(e,function(t){nc.isObject(t)&&(zs(t,"start")&&!zs(t,"min")&&(t.min=t.start),zs(t,"end")&&!zs(t,"max")&&(t.max=t.end))})}})};Qp.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"});var Vk=D_.PRIORITY.VISUAL.COMPONENT;D_.registerVisual(Vk,{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(e){var r=t.pipelineContext;!e.isTargetSeries(t)||r&&r.large||n.push(LC(e.stateList,e.targetVisuals,nc.bind(e.getValueState,e),e.getDataDimension(t.getData())))}),n}}),D_.registerVisual(Vk,{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var i=e.getVisualMeta(nc.bind(function(t,e,n,r){for(var i=e.targetVisuals[r],o=mS.prepareVisualTypes(i),a={color:t.getData().getVisual("color")},s=0,u=o.length;s<u;s++){var c=o[s],l=i["opacity"===c?"__alphaForOpacity":c];l&&l.applyVisual(n,function(t){return a[t]},function(t,e){a[t]=e})}return a.color},null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimension(n),a=n.getDimensionInfo(o);null!=a&&(i.dimension=a.index,r.push(i))}}),t.getData().setVisual("visualMeta",r)}});var Fk={get:function(t,e,n){var r=nc.clone((Hk[t]||{})[e]);return n&&nc.isArray(r)?r[r.length-1]:r}},Hk={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Wk=Fk,Gk=mS.mapVisual,qk=mS.eachVisual,Uk=nc.isArray,Yk=nc.each,Xk=Np.asc,Zk=Np.linearMap,$k=nc.noop,Kk=D_.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;Hu.canvasSupported||(n.realtime=!1),!e&&kC(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=nc.bind(t,this),this.controllerVisuals=CC(this.option.controller,e,t),this.targetVisuals=CC(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=Lf.normalizeToArray(t),e},eachTargetSeries:function(t,e){nc.each(this.getTargetSeriesIndices(),function(n){t.call(e,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},formatValueText:function(t,e,n){function r(t){return t===u[0]?"min":t===u[1]?"max":(+t).toFixed(Math.min(s,20))}var i,o,a=this.option,s=a.precision,u=this.dataBound,c=a.formatter;return n=n||["<",">"],nc.isArray(t)&&(t=t.slice(),i=!0),o=e?t:i?[r(t[0]),r(t[1])]:r(t),nc.isString(c)?c.replace("{value}",i?o[0]:o).replace("{value2}",i?o[1]:o):nc.isFunction(c)?i?c(t[0],t[1]):c(t):i?t[0]===u[0]?n[0]+" "+o[1]:t[1]===u[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o},resetExtent:function(){var t=this.option,e=Xk([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var r=t.dimensions,i=r.length-1;i>=0;i--){var o=r[i];if(!t.getDimensionInfo(o).isCalculationCoord)return o}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){Uk(n.color)&&!t.inRange&&(t.inRange={color:n.color.slice().reverse()}),t.inRange=t.inRange||{color:e.get("gradientColor")},Yk(this.stateList,function(e){var n=t[e];if(nc.isString(n)){var r=Wk.get(n,"active",a);r?(t[e]={},t[e][n]=r):delete t[e]}},this)}var e=this.ecModel,n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},i=n.target||(n.target={}),o=n.controller||(n.controller={});nc.merge(i,r),nc.merge(o,r);var a=this.isCategory();t.call(this,i),t.call(this,o),function(t,e,n){var r=t[e],i=t[n];r&&!i&&(i=t[n]={},Yk(r,function(t,e){if(mS.isValidType(e)){var n=Wk.get(e,"inactive",a);null!=n&&(i[e]=n,"color"!==e||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,r=this.get("inactiveColor");Yk(this.stateList,function(i){var o=this.itemSize,s=t[i];s||(s=t[i]={color:a?r:[r]}),null==s.symbol&&(s.symbol=e&&nc.clone(e)||(a?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&nc.clone(n)||(a?o[0]:[o[0],o[0]])),s.symbol=Gk(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var u=s.symbolSize;if(null!=u){var c=-1/0;qk(u,function(t){t>c&&(c=t)}),s.symbolSize=Gk(u,function(t){return Zk(t,[0,c],[0,o[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:$k,getValueState:$k,getVisualMeta:$k}),Jk=[20,140],Qk=Kk.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){Qk.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){Qk.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=Jk[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=Jk[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):nc.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){Kk.prototype.completeVisualOption.apply(this,arguments),nc.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Np.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimension(i),function(e,n){t[0]<=e&&e<=t[1]&&r.push(n)},this),e.push({seriesId:n.id,dataIndex:r})},this),e},getVisualMeta:function(t){function e(e,n){i.push({value:e,color:t(e,n)})}for(var n=Rs(0,0,this.getExtent()),r=Rs(0,0,this.option.range.slice()),i=[],o=0,a=0,s=r.length,u=n.length;a<u&&(!r.length||n[a]<=r[0]);a++)n[a]<r[o]&&e(n[a],"outOfRange");for(c=1;o<s;o++,c=0)c&&i.length&&e(r[o],"outOfRange"),e(r[o],"inRange");for(var c=1;a<u;a++)(!r.length||r[r.length-1]<n[a])&&(c&&(i.length&&e(i[i.length-1].value,"outOfRange"),c=0),e(n[a],"outOfRange"));var l=i.length;return{stops:i,outerColors:[l?i[0].color:"transparent",l?i[l-1].color:"transparent"]}}}),tD=D_.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,n,r){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,n=Vp.normalizeCssArray(e.get("padding")||0),r=t.getBoundingRect();t.add(new _p.Rect({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,n){var r=(n=n||{}).forceState,i=this.visualMapModel,o={};if("symbol"===e&&(o.symbol=i.get("itemSymbol")),"color"===e){var a=i.get("contentColor");o.color=a}var s=i.controllerVisuals[r||i.getValueState(t)],u=mS.prepareVisualTypes(s);return nc.each(u,function(r){var i=s[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",i=s.__alphaForOpacity),mS.dependsOn(r,e)&&i&&i.applyVisual(t,function(t){return o[t]},function(t,e){o[t]=e})}),o[e]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;Xp.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:nc.noop}),eD=Xp.getLayoutRect,nD={getItemAlign:function(t,e,n){var r=t.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===r.orient?1:0,s=[["left","right","width"],["top","bottom","height"]],u=s[a],c=[0,null,10],l={},f=0;f<3;f++)l[s[1-a][f]]=c[f],l[u[f]]=2===f?n[0]:r[u[f]];var h=[["x","width",3],["y","height",0]][a],d=eD(l,o,r.padding);return u[(d.margin[h[2]]||0)+d[h[0]]+.5*d[h[1]]<.5*o[h[1]]?0:1]},convertDataIndex:function(t){return nc.each(t||[],function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}},rD=Np.linearMap,iD=nc.each,oD=Math.min,aD=Math.max,sD=tD.extend({type:"visualMap.continuous",init:function(){sD.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,r){r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){if(e){var r=e[1-n];r=null!=r?r+"":"";var i=this.visualMapModel,o=i.get("textGap"),a=i.itemSize,s=this._shapes.barGroup,u=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),c=this._applyTransform(0===n?"bottom":"top",s),l=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new _p.Text({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===l?"middle":c,textAlign:"horizontal"===l?c:"center",text:r,textFont:f.getFont(),textFill:f.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,i=this._orient,o=this._useHandle,a=nD.getItemAlign(e,this.api,r),s=n.barGroup=this._createBarGroup(a);s.add(n.outOfRange=Bs()),s.add(n.inRange=Bs(null,o?Fs(this._orient):null,nc.bind(this._dragHandle,this,"all",!1),nc.bind(this._dragHandle,this,"all",!0)));var u=e.textStyleModel.getTextRect(""),c=aD(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,r,c,i,a),this._createHandle(s,1,r,c,i,a)),this._createIndicator(s,r,c,i),t.add(s)},_createHandle:function(t,e,n,r,i){var o=nc.bind(this._dragHandle,this,e,!1),a=nc.bind(this._dragHandle,this,e,!0),s=Bs(function(t,e){return 0===t?[[0,0],[r,0],[r,-r]]:[[0,0],[r,0],[r,r]]}(e),Fs(this._orient),o,a);s.position[0]=n[0],t.add(s);var u=this.visualMapModel.textStyleModel,c=new _p.Text({draggable:!0,drift:o,onmousemove:function(t){of.stop(t.event)},ondragend:a,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(c);var l=["horizontal"===i?r/2:1.5*r,"horizontal"===i?0===e?-1.5*r:1.5*r:0===e?-r/2:r/2],f=this._shapes;f.handleThumbs[e]=s,f.handleLabelPoints[e]=l,f.handleLabels[e]=c},_createIndicator:function(t,e,n,r){var i=Bs([[0,0]],"move");i.position[0]=e[0],i.attr({invisible:!0,silent:!0}),t.add(i);var o=this.visualMapModel.textStyleModel,a=new _p.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(a);var s=["horizontal"===r?n/2:9,0],u=this._shapes;u.indicator=i,u.indicatorLabel=a,u.indicatorLabelPoint=s},_dragHandle:function(t,e,n,r){if(this._useHandle){if(this._dragging=!e,!e){var i=this._applyTransform([n,r],this._shapes.barGroup,!0);this._updateInterval(t,i[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():Vs(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),r=[0,t.itemSize[1]];this._handleEnds=[rD(e[0],n,r,!0),rD(e[1],n,r,!0)]},_updateInterval:function(t,e){e=e||0;var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];EA(e,r,i,t,0);var o=n.getExtent();this._dataInterval=[rD(r[0],i,o,!0),rD(r[1],i,o,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),r=this._shapes,i=[0,e.itemSize[1]],o=t?i:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,i,"outOfRange");r.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),r.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,a)},_createBarVisual:function(t,e,n,r){var i={forceState:r,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,i),a=[this.getControllerVisual(t[0],"symbolSize",i),this.getControllerVisual(t[1],"symbolSize",i)],s=this._createBarPoints(n,a);return{barColor:new Yd(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(t,e){var n=[],r=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<100;i++){var o=t[0]+r*i;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:i/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new _p.Group("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,o=n.handleLabels;iD([0,1],function(a){var s=i[a];s.setStyle("fill",e.handlesColor[a]),s.position[1]=t[a];var u=_p.applyTransform(n.handleLabelPoints[a],_p.getTransform(s,this.group));o[a].setStyle({x:u[0],y:u[1],text:r.formatValueText(this._dataInterval[a]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(t,e,n,r){var i=this.visualMapModel,o=i.getExtent(),a=i.itemSize,s=[0,a[1]],u=rD(t,o,s,!0),c=this._shapes,l=c.indicator;if(l){l.position[1]=u,l.attr("invisible",!1),l.setShape("points",function(t,e,n,r){return t?[[0,-oD(e,aD(n,0))],[6,0],[0,oD(e,aD(r-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,r,u,a[1]));var f=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});l.setStyle("fill",f);var h=_p.applyTransform(c.indicatorLabelPoint,_p.getTransform(l,this.group)),d=c.indicatorLabel;d.attr("invisible",!1);var p=this._applyTransform("left",c.barGroup),g=this._orient;d.setStyle({text:(n||"")+i.formatValueText(e),textVerticalAlign:"horizontal"===g?p:"middle",textAlign:"horizontal"===g?"center":p,x:h[0],y:h[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,r=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);r[1]=oD(aD(0,r[1]),n[1]),t._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],o=n.getExtent();t=oD(aD(i[0],t),i[1]);var a=function(t,e,n){var r=6,i=t.get("hoverLinkDataSize");return i&&(r=rD(i,e,n,!0)/2),r}(n,o,i),s=[t-a,t+a],u=rD(t,i,o,!0),c=[rD(s[0],i,o,!0),rD(s[1],i,o,!0)];s[0]<i[0]&&(c[0]=-1/0),s[1]>i[1]&&(c[1]=1/0),e&&(c[0]===-1/0?this._showIndicator(u,c[1],"< ",a):c[1]===1/0?this._showIndicator(u,c[0],"> ",a):this._showIndicator(u,u," ",a));var l=this._hoverLinkDataIndices,f=[];(e||Vs(n))&&(f=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var h=Lf.compressBatches(l,f);this._dispatchHighDown("downplay",nD.convertDataIndex(h[0])),this._dispatchHighDown("highlight",nD.convertDataIndex(h[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=e.dataIndex){var r=this.ecModel.getSeriesByIndex(e.seriesIndex);if(n.isTargetSeries(r)){var i=r.getData(e.dataType),o=i.get(n.getDataDimension(i),e.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",nD.convertDataIndex(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,n,r){var i=_p.getTransform(e,r?null:this.group);return _p[nc.isArray(t)?"applyTransform":"transformDirection"](t,i,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});D_.registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})}),D_.registerPreprocessor(Bk);var uD=Np.reformIntervals,cD=Kk.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){cD.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();lD[this._mode].call(this),this._resetSelected(t,e);var r=this.option.categories;this.resetVisual(function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=nc.clone(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=nc.map(this._pieceList,function(t){return t=nc.clone(t),"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,n){return t&&t[e]&&(nc.isObject(t[e])?t[e].hasOwnProperty(n):t[e]===n)}var e=this.option,n={},r=mS.listVisualTypes(),i=this.isCategory();nc.each(e.pieces,function(t){nc.each(r,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),nc.each(n,function(n,r){var o=0;nc.each(this.stateList,function(n){o|=t(e,n,r)||t(e.target,n,r)},this),!o&&nc.each(this.stateList,function(t){(e[t]||(e[t]={}))[r]=Wk.get(r,"inRange"===t?"active":"inactive",i)})},this),Kk.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var n=this.option,r=this._pieceList,i=(e?n:t).selected||{};if(n.selected=i,nc.each(r,function(t,e){var n=this.getSelectedMapKey(t);i.hasOwnProperty(n)||(i[n]=!0)},this),"single"===n.selectedMode){var o=!1;nc.each(r,function(t,e){var n=this.getSelectedMapKey(t);i[n]&&(o?i[n]=!1:o=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=nc.clone(t)},getValueState:function(t){var e=mS.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimension(i),function(e,n){mS.findPieceIndex(e,this._pieceList)===t&&r.push(n)},this),e.push({seriesId:n.id,dataIndex:r})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},getVisualMeta:function(t){function e(e,o){var a=i.getRepresentValue({interval:e});o||(o=i.getValueState(a));var s=t(a,o);e[0]===-1/0?r[0]=s:e[1]===1/0?r[1]=s:n.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var n=[],r=[],i=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return nc.each(o,function(t){var n=t.interval;n&&(n[0]>s&&e([s,n[0]],"outOfRange"),e(n.slice()),s=n[1])},this),{stops:n,outerColors:r}}}}),lD={splitNumber:function(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var o=(r[1]-r[0])/i;+o.toFixed(n)!==o&&n<5;)n++;t.precision=n,o=+o.toFixed(n);var a=0;t.minOpen&&e.push({index:a++,interval:[-1/0,r[0]],close:[0,0]});for(var s=r[0],u=a+i;a<u;s+=o){var c=a===i-1?r[1]:s+o;e.push({index:a++,interval:[s,c],close:[1,1]})}t.maxOpen&&e.push({index:a++,interval:[r[1],1/0],close:[0,0]}),uD(e),nc.each(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;nc.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),Hs(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;nc.each(t.pieces,function(t,n){nc.isObject(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var i=r.value=t.value;r.interval=[i,i],r.close=[1,1]}else{for(var o=r.interval=[],a=r.close=[0,0],s=[1,0,1],u=[-1/0,1/0],c=[],l=0;l<2;l++){for(var f=[["gte","gt","min"],["lte","lt","max"]][l],h=0;h<3&&null==o[l];h++)o[l]=t[f[h]],a[l]=s[h],c[l]=2===h;null==o[l]&&(o[l]=u[l])}c[0]&&o[1]===1/0&&(a[0]=0),c[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(r.value=o[0])}r.visual=mS.retrieveVisuals(t),e.push(r)},this),Hs(t,e),uD(e),nc.each(e,function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}},fD=Hx.createSymbol;tD.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,i=r.getFont(),o=r.getTextColor(),a=this._getItemAlign(),s=e.itemSize,u=this._getViewData(),c=u.endsText,l=nc.retrieve(e.get("showLabel",!0),!c);c&&this._renderEndsText(t,c[0],s,l,a),nc.each(u.viewPieceList,function(r){var u=r.piece,c=new _p.Group;c.onclick=nc.bind(this._onItemClick,this,u),this._enableHoverLink(c,r.indexInModelPieceList);var f=e.getRepresentValue(u);if(this._createItemSymbol(c,f,[0,0,s[0],s[1]]),l){var h=this.visualMapModel.getValueState(f);c.add(new _p.Text({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:u.text,textVerticalAlign:"middle",textAlign:a,textFont:i,textFill:o,opacity:"outOfRange"===h?.5:1}}))}t.add(c)},this),c&&this._renderEndsText(t,c[1],s,l,a),Xp.box(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function n(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:t,batch:nD.convertDataIndex(n.findTargetDataIndices(e))})}t.on("mouseover",nc.bind(n,this,"highlight")).on("mouseout",nc.bind(n,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return nD.getItemAlign(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(t,e,n,r,i){if(e){var o=new _p.Group,a=this.visualMapModel.textStyleModel;o.add(new _p.Text({style:{x:r?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:r?i:"center",text:e,textFont:a.getFont(),textFill:a.getTextColor()}})),t.add(o)}},_getViewData:function(){var t=this.visualMapModel,e=nc.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),r=t.get("orient"),i=t.get("inverse");return("horizontal"===r?i:!i)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(fD(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,r=nc.clone(n.selected),i=e.getSelectedMapKey(t);"single"===n.selectedMode?(r[i]=!0,nc.each(r,function(t,e){r[e]=e===i})):r[i]=!r[i],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}}),D_.registerPreprocessor(Bk);var hD=Vp.addCommas,dD=Vp.encodeHTML,pD=D_.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,n,r){this.mergeDefaultAndTheme(t,n),this.mergeOption(t,n,r.createdBySelf,!0)},isAnimationEnabled:function(){if(Hu.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e,n,r){var i=this.constructor,o=this.mainType+"Model";n||e.eachSeries(function(t){var n=t.get(this.mainType,!0),a=t[o];n&&n.data?(a?a.mergeOption(n,e,!0):(r&&Ws(n),nc.each(n.data,function(t){t instanceof Array?(Ws(t[0]),Ws(t[1])):Ws(t)}),a=new i(n,this,e),nc.extend(a,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),a.__hostSeries=t),t[o]=a):t[o]=null},this)},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),r=nc.isArray(n)?nc.map(n,hD).join(", "):hD(n),i=e.getName(t),o=dD(this.name);return(null!=n||i)&&(o+="<br />"),i&&(o+=dD(i),null!=n&&(o+=" : ")),null!=n&&(o+=dD(r)),o},getData:function(){return this._data},setData:function(t){this._data=t}});nc.mixin(pD,nm);var gD=pD,vD=(gD.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}}),Hy.isDimensionStacked),mD=nc.indexOf,yD=nc.curry,xD={min:yD(Gs,"min"),max:yD(Gs,"max"),average:yD(Gs,"average")},_D={dataTransform:function(t,e){var n=t.getData(),r=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!nc.isArray(e.coord)&&r){var i=r.dimensions,o=qs(e,n,r,t);if((e=nc.clone(e)).type&&xD[e.type]&&o.baseAxis&&o.valueAxis){var a=mD(i,o.baseAxis.dim),s=mD(i,o.valueAxis.dim);e.coord=xD[e.type](n,o.baseDataDim,o.valueDataDim,a,s),e.value=e.coord[s]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],c=0;c<2;c++)xD[u[c]]&&(u[c]=Us(n,n.mapDimension(i[c]),u[c]));e.coord=u}}return e},getAxisInfo:qs,dataFilter:function(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)},dimValueGetter:function(t,e,n,r){return r<2?t.coord&&t.coord[r]:t.value},numCalculate:Us},bD=D_.extendComponentView({type:"marker",init:function(){this.markerGroupMap=nc.createHashMap()},render:function(t,e,n){var r=this.markerGroupMap;r.each(function(t){t.__keep=!1});var i=this.type+"Model";e.eachSeries(function(t){var r=t[i];r&&this.renderSeries(t,r,e,n)},this),r.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});bD.extend({type:"markPoint",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(Ys(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,new U_),c=function(t,e,n){var r;r=t?nc.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return nc.defaults({name:t},n)}):[{name:"value",type:"float"}];var i=new Oy(r,n),o=nc.map(n.get("data"),nc.curry(_D.dataTransform,e));return t&&(o=nc.filter(o,nc.curry(_D.dataFilter,t))),i.initData(o,null,t?_D.dimValueGetter:function(t){return t.value}),i}(i,t,e);e.setData(c),Ys(e.getData(),t,r),c.each(function(t){var n=c.getItemModel(t),r=n.getShallow("symbolSize");"function"==typeof r&&(r=r(e.getRawValue(t),e.getDataParams(t))),c.setItemVisual(t,{symbolSize:r,color:n.get("itemStyle.color")||a.getVisual("color"),symbol:n.getShallow("symbol")})}),u.updateData(c),this.group.add(u.group),c.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),u.__keep=!0,u.group.silent=e.get("silent")||t.get("silent")}}),D_.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),gD.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var wD=function(t,e,n,r){var i=t.getData(),o=r.type;if(!nc.isArray(r)&&("min"===o||"max"===o||"average"===o||"median"===o||null!=r.xAxis||null!=r.yAxis)){var a,s;if(null!=r.yAxis||null!=r.xAxis)a=null!=r.yAxis?"y":"x",e.getAxis(a),s=nc.retrieve(r.yAxis,r.xAxis);else{var u=_D.getAxisInfo(r,i,e,t);a=u.valueDataDim,u.valueAxis,s=_D.numCalculate(i,a,o)}var c="x"===a?0:1,l=1-c,f=nc.clone(r),h={};f.type=null,f.coord=[],h.coord=[],f.coord[l]=-1/0,h.coord[l]=1/0;var d=n.get("precision");d>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(d,20))),f.coord[c]=h.coord[c]=s,r=[f,h,{type:o,valueIndex:r.valueIndex,value:s}]}return(r=[_D.dataTransform(t,r[0]),_D.dataTransform(t,r[1]),nc.extend({},r[2])])[2].type=r[2].type||"",nc.merge(r[2],r[0]),nc.merge(r[2],r[1]),r};bD.extend({type:"markLine",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markLineModel;if(e){var r=e.getData(),i=e.__from,o=e.__to;i.each(function(e){$s(i,e,!0,t,n),$s(o,e,!1,t,n)}),r.each(function(t){r.setItemLayout(t,[i.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,n,r){function i(e,n,i){var o=e.getItemModel(n);$s(e,n,i,t,r),e.setItemVisual(n,{symbolSize:o.get("symbolSize")||g[i?0:1],symbol:o.get("symbol",!0)||p[i?0:1],color:o.get("itemStyle.color")||s.getVisual("color")})}var o=t.coordinateSystem,a=t.id,s=t.getData(),u=this.markerGroupMap,c=u.get(a)||u.set(a,new ZS);this.group.add(c.group);var l=function(t,e,n){var r;r=t?nc.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return nc.defaults({name:t},n)}):[{name:"value",type:"float"}];var i=new Oy(r,n),o=new Oy(r,n),a=new Oy([],n),s=nc.map(n.get("data"),nc.curry(wD,e,t,n));t&&(s=nc.filter(s,nc.curry(function(t,e){if("cartesian2d"===t.type){var n=e[0].coord,r=e[1].coord;if(n&&r&&(Zs(1,n,r,t)||Zs(0,n,r,t)))return!0}return _D.dataFilter(t,e[0])&&_D.dataFilter(t,e[1])},t)));var u=t?_D.dimValueGetter:function(t){return t.value};return i.initData(nc.map(s,function(t){return t[0]}),null,u),o.initData(nc.map(s,function(t){return t[1]}),null,u),a.initData(nc.map(s,function(t){return t[2]})),a.hasItemOption=!0,{from:i,to:o,line:a}}(o,t,e),f=l.from,h=l.to,d=l.line;e.__from=f,e.__to=h,e.setData(d);var p=e.get("symbol"),g=e.get("symbolSize");nc.isArray(p)||(p=[p,p]),"number"==typeof g&&(g=[g,g]),l.from.each(function(t){i(f,t,!0),i(h,t,!1)}),d.each(function(t){var e=d.getItemModel(t).get("lineStyle.color");d.setItemVisual(t,{color:e||f.getItemVisual(t,"color")}),d.setItemLayout(t,[f.getItemLayout(t),h.getItemLayout(t)]),d.setItemVisual(t,{fromSymbolSize:f.getItemVisual(t,"symbolSize"),fromSymbol:f.getItemVisual(t,"symbol"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol")})}),c.updateData(d),l.line.eachItemGraphicEl(function(t,n){t.traverse(function(t){t.dataModel=e})}),c.__keep=!0,c.group.silent=e.get("silent")||t.get("silent")}}),D_.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),gD.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var MD=function(t,e,n,r){var i=_D.dataTransform(t,r[0]),o=_D.dataTransform(t,r[1]),a=nc.retrieve,s=i.coord,u=o.coord;s[0]=a(s[0],-1/0),s[1]=a(s[1],-1/0),u[0]=a(u[0],1/0),u[1]=a(u[1],1/0);var c=nc.mergeAll([{},i,o]);return c.coord=[i.coord,o.coord],c.x0=i.x,c.y0=i.y,c.x1=o.x,c.y1=o.y,c},SD=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];bD.extend({type:"markArea",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var r=e.getData();r.each(function(e){var i=nc.map(SD,function(i){return Qs(r,e,i,t,n)});r.setItemLayout(e,i),r.getItemGraphicEl(e).setShape("points",i)})}},this)},renderSeries:function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,{group:new _p.Group});this.group.add(u.group),u.__keep=!0;var c=function(t,e,n){var r,i;t?(r=nc.map(t&&t.dimensions,function(t){var n=e.getData(),r=n.getDimensionInfo(n.mapDimension(t))||{};return nc.defaults({name:t},r)}),i=new Oy(nc.map(["x0","y0","x1","y1"],function(t,e){return{name:t,type:r[e%2].type}}),n)):i=new Oy(r=[{name:"value",type:"float"}],n);var o=nc.map(n.get("data"),nc.curry(MD,e,t,n));t&&(o=nc.filter(o,nc.curry(function(t,e){var n=e.coord[0],r=e.coord[1];return!("cartesian2d"!==t.type||!n||!r||!Js(1,n,r)&&!Js(0,n,r))||_D.dataFilter(t,{coord:n,x:e.x0,y:e.y0})||_D.dataFilter(t,{coord:r,x:e.x1,y:e.y1})},t)));var a=t?function(t,e,n,r){return t.coord[Math.floor(r/2)][r%2]}:function(t){return t.value};return i.initData(o,null,a),i.hasItemOption=!0,i}(i,t,e);e.setData(c),c.each(function(e){c.setItemLayout(e,nc.map(SD,function(n){return Qs(c,e,n,t,r)})),c.setItemVisual(e,{color:a.getVisual("color")})}),c.diff(u.__data).add(function(t){var e=new _p.Polygon({shape:{points:c.getItemLayout(t)}});c.setItemGraphicEl(t,e),u.group.add(e)}).update(function(t,n){var r=u.__data.getItemGraphicEl(n);_p.updateProps(r,{shape:{points:c.getItemLayout(t)}},e,t),u.group.add(r),c.setItemGraphicEl(t,r)}).remove(function(t){var e=u.__data.getItemGraphicEl(t);u.group.remove(e)}).execute(),c.eachItemGraphicEl(function(t,n){var r=c.getItemModel(n),i=r.getModel("label"),o=r.getModel("emphasis.label"),a=c.getItemVisual(n,"color");t.useStyle(nc.defaults(r.getModel("itemStyle").getItemStyle(),{fill:Lc.modifyAlpha(a,.4),stroke:a})),t.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle(),_p.setLabelStyle(t.style,t.hoverStyle,i,o,{labelFetcher:e,labelDataIndex:n,defaultText:c.getName(n)||"",isRectText:!0,autoColor:a}),_p.setHoverStyle(t,{}),t.dataModel=e}),u.__data=c,u.group.silent=e.get("silent")||t.get("silent")}}),D_.registerPreprocessor(function(t){t.markArea=t.markArea||{}});Qp.registerSubTypeDefaulter("timeline",function(){return"slider"}),D_.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),nc.defaults({currentIndex:n.option.currentIndex},t)}),D_.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)});var AD=Qp.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(t){AD.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,r=this._names=[];if("category"===n){var i=[];nc.each(e,function(t,e){var n,o=Lf.getDataItemValue(t);nc.isObject(t)?(n=nc.clone(t)).value=e:n=e,i.push(n),nc.isString(o)||null!=o&&!isNaN(o)||(o=""),r.push(o+"")}),e=i}var o={category:"ordinal",time:"time"}[n]||"number";(this._data=new Oy([{name:"value",type:o}],this)).initData(e,r)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),TD=AD.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});nc.mixin(TD,nm);var OD=wm.extend({type:"timeline"}),ID=function(t,e,n,r){d_.call(this,t,e,n),this.type=r||"value",this.model=null};ID.prototype={constructor:ID,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},nc.inherits(ID,d_);var CD=ID,kD=Hx.createSymbol,DD=Vp.encodeHTML,LD=nc.bind,ED=nc.each,PD=Math.PI;OD.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,n,r){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),o=this._createGroup("mainGroup"),a=this._createGroup("labelGroup"),s=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return DD(s.scale.getLabel(t))},ED(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](i,o,s,t)},this),this._renderAxisLabel(i,a,s,t),this._position(i,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.position"),r=t.get("orient"),i=function(t,e){return Xp.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==n||"auto"===n?n="horizontal"===r?i.y+i.height/2<e.getHeight()/2?"-":"+":i.x+i.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][n]);var o={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},a={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},s={horizontal:0,vertical:PD/2},u="vertical"===r?i.height:i.width,c=t.getModel("controlStyle"),l=c.get("show",!0),f=l?c.get("itemSize"):0,h=l?c.get("itemGap"):0,d=f+h,p=t.get("label.rotate")||0;p=p*PD/180;var g,v,m,y,x=c.get("position",!0),_=l&&c.get("showPlayBtn",!0),b=l&&c.get("showPrevBtn",!0),w=l&&c.get("showNextBtn",!0),M=0,S=u;return"left"===x||"bottom"===x?(_&&(g=[0,0],M+=d),b&&(v=[M,0],M+=d),w&&(m=[S-f,0],S-=d)):(_&&(g=[S-f,0],S-=d),b&&(v=[0,0],M+=d),w&&(m=[S-f,0],S-=d)),y=[M,S],t.get("inverse")&&y.reverse(),{viewRect:i,mainLength:u,orient:r,rotation:s[r],labelRotation:p,labelPosOpt:n,labelAlign:t.get("label.align")||o[r],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||a[r],playPosition:g,prevBtnPosition:v,nextBtnPosition:m,axisExtent:y,controlSize:f,controlGap:h}},_position:function(t,e){function n(t){var e=t.position;t.origin=[f[0][0]-e[0],f[1][0]-e[1]]}function r(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function i(t,e,n,r,i){t[r]+=n[r][i]-e[r][i]}var o=this._mainGroup,a=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var u=dc.create(),c=s.x,l=s.y+s.height;dc.translate(u,u,[-c,-l]),dc.rotate(u,u,-PD/2),dc.translate(u,u,[c,l]),(s=s.clone()).applyTransform(u)}var f=r(s),h=r(o.getBoundingRect()),d=r(a.getBoundingRect()),p=o.position,g=a.position;g[0]=p[0]=f[0][0];var v=t.labelPosOpt;if(isNaN(v))i(p,h,f,1,m="+"===v?0:1),i(g,d,f,1,1-m);else{var m=v>=0?0:1;i(p,h,f,1,m),g[1]=p[1]+v}o.attr("position",p),a.attr("position",g),o.rotation=a.rotation=t.rotation,n(o),n(a)},_createAxis:function(t,e){var n=e.getData(),r=e.get("axisType"),i=Lx.createScaleByModel(e,r);i.getTicks=function(){return n.mapArray(["value"],function(t){return t})};var o=n.getDataExtent("value");i.setExtent(o[0],o[1]),i.niceTicks();var a=new CD("value",i,t.axisExtent,r);return a.model=e,a},_createGroup:function(t){var e=this["_"+t]=new _p.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,n,r){var i=n.getExtent();r.get("lineStyle.show")&&e.add(new _p.Line({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:nc.extend({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,r){var i=r.getData(),o=n.scale.getTicks();ED(o,function(t){var o=n.dataToCoord(t),a=i.getItemModel(t),s=a.getModel("itemStyle"),u=a.getModel("emphasis.itemStyle"),c={position:[o,0],onclick:LD(this._changeTimeline,this,t)},l=nu(a,s,e,c);_p.setHoverStyle(l,u.getItemStyle()),a.get("tooltip")?(l.dataIndex=t,l.dataModel=r):l.dataIndex=l.dataModel=null},this)},_renderAxisLabel:function(t,e,n,r){if(n.getLabelModel().get("show")){var i=r.getData(),o=n.getViewLabels();ED(o,function(r){var o=r.tickValue,a=i.getItemModel(o),s=a.getModel("label"),u=a.getModel("emphasis.label"),c=n.dataToCoord(r.tickValue),l=new _p.Text({position:[c,0],rotation:t.labelRotation-t.rotation,onclick:LD(this._changeTimeline,this,o),silent:!1});_p.setTextStyle(l.style,s,{text:r.formattedLabel,textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(l),_p.setHoverStyle(l,_p.setTextStyle({},u))},this)}},_renderControl:function(t,e,n,r){function i(t,n,i,l){if(t){var f=function(t,e,n,r){return _p.makePath(t.get(e).replace(/^path:\/\//,""),nc.clone(r||{}),new tl(n[0],n[1],n[2],n[3]),"center")}(r,n,c,{position:t,origin:[o/2,0],rotation:l?-a:0,rectHover:!0,style:s,onclick:i});e.add(f),_p.setHoverStyle(f,u)}}var o=t.controlSize,a=t.rotation,s=r.getModel("controlStyle").getItemStyle(),u=r.getModel("emphasis.controlStyle").getItemStyle(),c=[0,-o/2,o,o],l=r.getPlayState(),f=r.get("inverse",!0);i(t.nextBtnPosition,"controlStyle.nextIcon",LD(this._changeTimeline,this,f?"-":"+")),i(t.prevBtnPosition,"controlStyle.prevIcon",LD(this._changeTimeline,this,f?"+":"-")),i(t.playPosition,"controlStyle."+(l?"stopIcon":"playIcon"),LD(this._handlePlayClick,this,!l),!0)},_renderCurrentPointer:function(t,e,n,r){var i=r.getData(),o=r.getCurrentIndex(),a=i.getItemModel(o).getModel("checkpointStyle"),s=this,u={onCreate:function(t){t.draggable=!0,t.drift=LD(s._handlePointerDrag,s),t.ondragend=LD(s._handlePointerDragend,s),ru(t,o,n,r,!0)},onUpdate:function(t){ru(t,o,n,r)}};this._currentPointer=nu(a,a,this._mainGroup,{},this._currentPointer,u)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],r=this._axis,i=Np.asc(r.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(LD(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return _p.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,n=this.model.getData(),r=1/0,i=this._axis;return n.each(["value"],function(n,o){var a=i.dataToCoord(n),s=Math.abs(a-t);s<r&&(r=s,e=o)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}}),D_.registerPreprocessor(function(t){var e=t&&t.timeline;nc.isArray(e)||(e=e?[e]:[]),nc.each(e,function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),tu(t),eu(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});eu(r,"position")||(r.position=t.controlPosition),"none"!==r.position||eu(r,"show")||(r.show=!1,delete r.position),delete t.controlPosition}nc.each(t.data||[],function(t){nc.isObject(t)&&!nc.isArray(t)&&(!eu(t,"value")&&eu(t,"name")&&(t.value=t.name),tu(t))})}(t)})});var ND=D_.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){ND.superApply(this,"optionUpdated",arguments),nc.each(this.option.feature,function(t,e){var n=QC.get(e);n&&nc.merge(t,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}}),jD=(D_.extendComponentView({type:"toolbox",render:function(t,e,n,r){function i(i,l){var f,h=c[i],d=c[l],p=s[h],g=new kp(p,t,t.ecModel);if(h&&!d){if(0===h.indexOf("my"))f={model:g,onclick:g.option.onclick,featureName:h};else{var v=QC.get(h);if(!v)return;f=new v(g,e,n)}u[h]=f}else{if(!(f=u[d]))return;f.model=g,f.ecModel=e,f.api=n}h||!d?g.get("show")&&!f.unusable?(function(r,i,s){var u=r.getModel("iconStyle"),c=r.getModel("emphasis.iconStyle"),l=i.getIcons?i.getIcons():r.get("icon"),f=r.get("title")||{};if("string"==typeof l){var h=l,d=f;f={},(l={})[s]=h,f[s]=d}var p=r.iconPaths={};nc.each(l,function(s,l){var h=_p.createIcon(s,{},{x:-a/2,y:-a/2,width:a,height:a});h.setStyle(u.getItemStyle()),h.hoverStyle=c.getItemStyle(),_p.setHoverStyle(h),t.get("showTitle")&&(h.__title=f[l],h.on("mouseover",function(){var t=c.getItemStyle();h.setStyle({text:f[l],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})}).on("mouseout",function(){h.setStyle({textFill:null})})),h.trigger(r.get("iconStatus."+l)||"normal"),o.add(h),h.on("click",nc.bind(i.onclick,i,e,n,l)),p[l]=h})}(g,f,h),g.setIconStatus=function(t,e){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,r[t]&&r[t].trigger(e)},f.render&&f.render(g,e,n,r)):f.remove&&f.remove(e,n):f.dispose&&f.dispose(e,n)}var o=this.group;if(o.removeAll(),t.get("show")){var a=+t.get("itemSize"),s=t.get("feature")||{},u=this._features||(this._features={}),c=[];nc.each(s,function(t,e){c.push(e)}),new ly(this._featureNames||[],c).add(i).update(i).remove(nc.curry(i,null)).execute(),this._featureNames=c,BI(o,t,n),o.add(VI(o.getBoundingRect(),t)),o.eachChild(function(t){var e=t.__title,r=t.hoverStyle;if(r&&e){var i=Pl.getBoundingRect(e,Pl.makeFont(r)),s=t.position[0]+o.position[0],u=!1;t.position[1]+o.position[1]+a+i.height>n.getHeight()&&(r.textPosition="top",u=!0);var c=u?-5-i.height:a+8;s+i.width/2>n.getWidth()?(r.textPosition=["100%",c],r.textAlign="right"):s-i.width/2<0&&(r.textPosition=[0,c],r.textAlign="left")}})}},updateView:function(t,e,n,r){nc.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,r)})},remove:function(t,e){nc.each(this._features,function(n){n.remove&&n.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){nc.each(this._features,function(n){n.dispose&&n.dispose(t,e)})}}),zm.toolbox.saveAsImage);iu.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:jD.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:jD.lang.slice()},iu.prototype.unusable=!Hu.canvasSupported,iu.prototype.onclick=function(t,e){var n=this.model,r=n.get("name")||t.get("title.0.text")||"echarts",i=document.createElement("a"),o=n.get("type",!0)||"png";i.download=r+"."+o,i.target="_blank";var a=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(i.href=a,"function"!=typeof MouseEvent||Hu.browser.ie||Hu.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var l=new Blob([c]);window.navigator.msSaveOrOpenBlob(l,r+"."+o)}else{var f=n.get("lang"),h='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(f&&f[0]||"")+'" /></body>';window.open().document.write(h)}else{var d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});i.dispatchEvent(d)}},QC.register("saveAsImage",iu);var zD=zm.toolbox.magicType;ou.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:nc.clone(zD.title),option:{},seriesIndex:{}};var RD=ou.prototype;RD.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return nc.each(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n};var BD={line:function(t,e,n,r){if("bar"===t)return nc.merge({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get("option.line")||{},!0)},bar:function(t,e,n,r){if("line"===t)return nc.merge({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get("option.bar")||{},!0)},stack:function(t,e,n,r){if("line"===t||"bar"===t)return nc.merge({id:e,stack:"__ec_magicType_stack__"},r.get("option.stack")||{},!0)},tiled:function(t,e,n,r){if("line"===t||"bar"===t)return nc.merge({id:e,stack:""},r.get("option.tiled")||{},!0)}},VD=[["line","bar"],["stack","tiled"]];RD.onclick=function(t,e,n){var r=this.model,i=r.get("seriesIndex."+n);if(BD[n]){var o={series:[]};nc.each(VD,function(t){nc.indexOf(t,n)>=0&&nc.each(t,function(t){r.setIconStatus(t,"normal")})}),r.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},function(e){var i=e.subType,a=e.id,s=BD[n](i,a,e,r);s&&(nc.defaults(s,e.option),o.series.push(s));var u=e.coordinateSystem;if(u&&"cartesian2d"===u.type&&("line"===n||"bar"===n)){var c=u.getAxesByScale("ordinal")[0];if(c){var l=c.dim+"Axis",f=t.queryComponents({mainType:l,index:e.get(name+"Index"),id:e.get(name+"Id")})[0].componentIndex;o[l]=o[l]||[];for(var h=0;h<=f;h++)o[l][f]=o[l][f]||{};o[l][f].boundaryGap="bar"===n}}}),e.dispatchAction({type:"changeMagicType",currentType:n,newOption:o})}},D_.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),QC.register("magicType",ou);var FD=zm.toolbox.dataView,HD=new Array(60).join("-"),WD="\t",GD=new RegExp("[\t]+","g");su.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:nc.clone(FD.title),lang:nc.clone(FD.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},su.prototype.onclick=function(t,e){function n(){r.removeChild(o),x._dom=null}var r=e.getDom(),i=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=i.get("lang")||[];a.innerHTML=s[0]||i.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=i.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var l=i.get("optionToContent"),f=i.get("contentToOption"),h=function(t){var e=function(t){var e={},n=[],r=[];return t.eachRawSeries(function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(t);else{var o=i.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:r}}(t);return{value:nc.filter([function(t){var e=[];return nc.each(t,function(t,n){var r=t.categoryAxis,i=t.valueAxis.dim,o=[" "].concat(nc.map(t.series,function(t){return t.name})),a=[r.model.getCategories()];nc.each(t.series,function(t){a.push(t.getRawData().mapArray(i,function(t){return t}))});for(var s=[o.join(WD)],u=0;u<a[0].length;u++){for(var c=[],l=0;l<a.length;l++)c.push(a[l][u]);s.push(c.join(WD))}e.push(s.join("\n"))}),e.join("\n\n"+HD+"\n\n")}(e.seriesGroupByCategoryAxis),function(t){return nc.map(t,function(t){var e=t.getRawData(),n=[t.name],r=[];return e.each(e.dimensions,function(){for(var t=arguments,i=arguments.length,o=arguments[i-1],a=e.getName(o),s=0;s<i-1;s++)r[s]=t[s];n.push((a?a+WD:"")+r.join(WD))}),n.join("\n")}).join("\n\n"+HD+"\n\n")}(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+HD+"\n\n"),meta:e.meta}}(t);if("function"==typeof l){var d=l(e.getOption());"string"==typeof d?u.innerHTML=d:nc.isDom(d)&&u.appendChild(d)}else u.appendChild(c),c.readOnly=i.get("readOnly"),c.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",c.style.color=i.get("textColor"),c.style.borderColor=i.get("textareaBorderColor"),c.style.backgroundColor=i.get("textareaColor"),c.value=h.value;var p=h.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:0;left:0;right:0;";var v="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),y=document.createElement("div");v+=";background-color:"+i.get("buttonColor"),v+=";color:"+i.get("buttonTextColor");var x=this;of.addEventListener(m,"click",n),of.addEventListener(y,"click",function(){var t;try{t="function"==typeof f?f(u,e.getOption()):function(t,e){var n=t.split(new RegExp("\n*"+HD+"\n*","g")),r={series:[]};return nc.each(n,function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(WD)>=0)return!0}(t)){var i=function(e){for(var n=t.split(/\n+/g),r=au(n.shift()).split(GD),i=[],o=nc.map(r,function(t){return{name:t,data:[]}}),a=0;a<n.length;a++){var s=au(n[a]).split(GD);i.push(s.shift());for(var u=0;u<s.length;u++)o[u]&&(o[u].data[a]=s[u])}return{series:o,categories:i}}(),o=e[n],a=o.axisDim+"Axis";o&&(r[a]=r[a]||[],r[a][o.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else i=function(e){for(var n=t.split(/\n+/g),r=au(n.shift()),i=[],o=0;o<n.length;o++){var a,s=au(n[o]).split(GD),u="",c=!1;isNaN(s[0])?(c=!0,u=s[0],s=s.slice(1),i[o]={name:u,value:[]},a=i[o].value):a=i[o]=[];for(var l=0;l<s.length;l++)a.push(+s[l]);1===a.length&&(c?i[o].value=a[0]:i[o]=a[0])}return{name:r,data:i}}(),r.series.push(i)}),r}(c.value,p)}catch(t){throw n(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),n()}),m.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=v,m.style.cssText=v,!i.get("readOnly")&&g.appendChild(y),g.appendChild(m),of.addEventListener(c,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,n=this.selectionStart,r=this.selectionEnd;this.value=e.substring(0,n)+WD+e.substring(r),this.selectionStart=this.selectionEnd=n+1,of.stop(t)}}),o.appendChild(a),o.appendChild(u),o.appendChild(g),u.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},su.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},su.prototype.dispose=function(t,e){this.remove(t,e)},QC.register("dataView",su),D_.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];nc.each(t.newOption.series,function(t){var r=e.getSeriesByName(t.name)[0];if(r){var i=r.get("data");n.push({name:t.name,data:function(t,e){return nc.map(t,function(t,n){var r=e&&e[n];return nc.isObject(r)&&!nc.isArray(r)?(nc.isObject(t)&&!nc.isArray(t)&&(t=t.value),nc.defaults({value:t},r)):t})}(t.data,i)})}else n.push(nc.extend({type:"scatter"},t))}),e.mergeOption(nc.defaults({series:n},t.newOption))});var qD=nc.each,UD="\0_ec_hist_store",YD=function(t,e){var n=uu(t);qD(e,function(e,r){for(var i=n.length-1;i>=0&&!n[i][r];i--);if(i<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(o){var a=o.getPercentRange();n[0][r]={dataZoomId:r,start:a[0],end:a[1]}}}}),n.push(e)},XD=function(t){var e=uu(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return qD(n,function(t,n){for(var i=e.length-1;i>=0;i--)if(t=e[i][n]){r[n]=t;break}}),r},ZD=function(t){t[UD]=null},$D=function(t){return uu(t).length},KD=(mk.extend({type:"dataZoom.select"}),yk.extend({type:"dataZoom.select"}),zm.toolbox.dataZoom),JD=nc.each,QD="\0_ec_\0toolbox-dataZoom_";cu.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:nc.clone(KD.title)};var tL=cu.prototype;tL.render=function(t,e,n,r){this.model=t,this.ecModel=e,this.api=n,function(t,e,n,r,i){var o=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(o="dataZoomSelect"===r.key&&r.dataZoomSelectActive),n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new qC(lu(t.option),e,{include:["grid"]});n._brushController.setPanels(a.makePanelOpts(i,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!o&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(t,e,this,r,n),function(t,e){t.setIconStatus("back",$D(e)>1?"emphasis":"normal")}(t,e)},tL.onclick=function(t,e,n){eL[n].call(this)},tL.remove=function(t,e){this._brushController.unmount()},tL.dispose=function(t,e){this._brushController.dispose()};var eL={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(XD(this.ecModel))}};tL._onBrush=function(t,e){function n(t,e,n){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var r;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(t,e.componentIndex)&&(r=n)}),r}(t,a),u=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(n=EA(0,n.slice(),o.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),s&&(r[s.id]={dataZoomId:s.id,startValue:n[0],endValue:n[1]})}if(e.isEnd&&t.length){var r={},i=this.ecModel;this._brushController.updateCovers([]),new qC(lu(this.model.option),i,{include:["grid"]}).matchOutputRanges(t,i,function(t,e,r){if("cartesian2d"===r.type){var i=t.brushType;"rect"===i?(n("x",r,e[0]),n("y",r,e[1])):n({lineX:"x",lineY:"y"}[i],r,e)}}),YD(i,r),this._dispatchZoomAction(r)}},tL._dispatchZoomAction=function(t){var e=[];JD(t,function(t,n){e.push(nc.clone(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},QC.register("dataZoom",cu),D_.registerPreprocessor(function(t){function e(e,r){if(r){var i=e+"Index",o=r[i];null==o||"all"==o||nc.isArray(o)||(o=!1===o||"none"===o?[]:[o]),function(e,n){var r=t[e];nc.isArray(r)||(r=r?[r]:[]),JD(r,n)}(e,function(t,r){if(null==o||"all"==o||-1!==nc.indexOf(o,r)){var a={type:"select",$fromToolbox:!0,id:QD+e+r};a[i]=r,n.push(a)}})}}if(t){var n=t.dataZoom||(t.dataZoom=[]);nc.isArray(n)||(t.dataZoom=n=[n]);var r=t.toolbox;if(r&&(nc.isArray(r)&&(r=r[0]),r&&r.feature)){var i=r.feature.dataZoom;e("xAxis",i),e("yAxis",i)}}});var nL=zm.toolbox.restore;fu.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:nL.title},fu.prototype.onclick=function(t,e,n){ZD(t),e.dispatchAction({type:"restore",from:this.uid})},QC.register("restore",fu),D_.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var rL,iL="urn:schemas-microsoft-com:vml",oL="undefined"==typeof window?null:window,aL=!1,sL=oL&&oL.document;if(sL&&!Hu.canvasSupported)try{!sL.namespaces.zrvml&&sL.namespaces.add("zrvml",iL),rL=function(t){return sL.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){rL=function(t){return sL.createElement("<"+t+' xmlns="'+iL+'" class="zrvml">')}}var uL={doc:sL,createNode:function(t){return rL(t)},initVML:function(){if(!aL&&sL){aL=!0;var t=sL.styleSheets;t.length<31?sL.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},cL=ic.applyTransform,lL=kh.CMD,fL=Math.round,hL=Math.sqrt,dL=Math.abs,pL=Math.cos,gL=Math.sin,vL=Math.max;if(!Hu.canvasSupported){var mL=21600,yL=mL/2,xL=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=mL+","+mL,t.coordorigin="0,0"},_L=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},bL=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},wL=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},ML=function(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},SL=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},AL=function(t,e,n){var r=Lc.parse(e);n=+n,isNaN(n)&&(n=1),r&&(t.color=_L(r[0],r[1],r[2]),t.opacity=n*r[3])},TL=function(t,e,n,r){var i="fill"==e,o=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(i||!i&&n.lineWidth)?(t[i?"filled":"stroked"]="true",n[e]instanceof qd&&wL(t,o),o||(o=uL.createNode(e)),i?function(t,e,n){var r=e.fill;if(null!=r)if(r instanceof qd){var i,o=0,a=[0,0],s=0,u=1,c=n.getBoundingRect(),l=c.width,f=c.height;if("linear"===r.type){i="gradient";var h=n.transform,d=[r.x*l,r.y*f],p=[r.x2*l,r.y2*f];h&&(cL(d,d,h),cL(p,p,h));var g=p[0]-d[0],v=p[1]-d[1];(o=180*Math.atan2(g,v)/Math.PI)<0&&(o+=360),o<1e-6&&(o=0)}else{i="gradientradial";d=[r.x*l,r.y*f],h=n.transform;var m=n.scale,y=l,x=f;a=[(d[0]-c.x)/y,(d[1]-c.y)/x],h&&cL(d,d,h),y/=m[0]*mL,x/=m[1]*mL;var _=vL(y,x);s=0/_,u=2*r.r/_-s}var b=r.colorStops.slice();b.sort(function(t,e){return t.offset-e.offset});for(var w=b.length,M=[],S=[],A=0;A<w;A++){var T=b[A],O=function(t){var e=Lc.parse(t);return[_L(e[0],e[1],e[2]),e[3]]}(T.color);S.push(T.offset*u+s+" "+O[0]),0!==A&&A!==w-1||M.push(O)}if(w>=2){var I=M[0][0],C=M[1][0],k=M[0][1]*e.opacity,D=M[1][1]*e.opacity;t.type=i,t.method="none",t.focus="100%",t.angle=o,t.color=I,t.color2=C,t.colors=S.join(","),t.opacity=D,t.opacity2=k}"radial"===i&&(t.focusposition=a.join(","))}else AL(t,r,e.opacity)}(o,n,r):function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof qd||AL(t,e.stroke,e.opacity)}(o,n),bL(t,o)):(t[i?"filled":"stroked"]="false",wL(t,o))},OL=[[],[],[]];Jh.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=uL.createNode("shape"),xL(n),this._vmlEl=n),TL(n,"fill",e,this),TL(n,"stroke",e,this);var r=this.transform,i=null!=r,o=n.getElementsByTagName("stroke")[0];if(o){var a=e.lineWidth;if(i&&!e.strokeNoScale){var s=r[0]*r[3]-r[1]*r[2];a*=hL(dL(s))}o.weight=a+"px"}var u=this.path||(this.path=new kh);this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=function(t,e){var n,r,i,o,a,s,u=lL.M,c=lL.C,l=lL.L,f=lL.A,h=lL.Q,d=[],p=t.data,g=t.len();for(o=0;o<g;){switch(r="",n=0,i=p[o++]){case u:r=" m ",n=1,a=p[o++],s=p[o++],OL[0][0]=a,OL[0][1]=s;break;case l:r=" l ",n=1,a=p[o++],s=p[o++],OL[0][0]=a,OL[0][1]=s;break;case h:case c:r=" c ",n=3;var v,m,y=p[o++],x=p[o++],_=p[o++],b=p[o++];i===h?(v=_,m=b,_=(_+2*y)/3,b=(b+2*x)/3,y=(a+2*y)/3,x=(s+2*x)/3):(v=p[o++],m=p[o++]),OL[0][0]=y,OL[0][1]=x,OL[1][0]=_,OL[1][1]=b,OL[2][0]=v,OL[2][1]=m,a=v,s=m;break;case f:var w=0,M=0,S=1,A=1,T=0;e&&(w=e[4],M=e[5],S=hL(e[0]*e[0]+e[1]*e[1]),A=hL(e[2]*e[2]+e[3]*e[3]),T=Math.atan2(-e[1]/A,e[0]/S));var O=p[o++],I=p[o++],C=p[o++],k=p[o++],D=p[o++]+T,L=p[o++]+D+T;o++;var E=p[o++],P=O+pL(D)*C,N=I+gL(D)*k,j=(y=O+pL(L)*C,x=I+gL(L)*k,E?" wa ":" at ");Math.abs(P-y)<1e-4&&(Math.abs(L-D)>.01?E&&(P+=.0125):Math.abs(N-I)<1e-4?E&&P<O||!E&&P>O?x-=.0125:x+=.0125:E&&N<I||!E&&N>I?y+=.0125:y-=.0125),d.push(j,fL(((O-C)*S+w)*mL-yL),",",fL(((I-k)*A+M)*mL-yL),",",fL(((O+C)*S+w)*mL-yL),",",fL(((I+k)*A+M)*mL-yL),",",fL((P*S+w)*mL-yL),",",fL((N*A+M)*mL-yL),",",fL((y*S+w)*mL-yL),",",fL((x*A+M)*mL-yL)),a=y,s=x;break;case lL.R:var z=OL[0],R=OL[1];z[0]=p[o++],z[1]=p[o++],R[0]=z[0]+p[o++],R[1]=z[1]+p[o++],e&&(cL(z,z,e),cL(R,R,e)),z[0]=fL(z[0]*mL-yL),R[0]=fL(R[0]*mL-yL),z[1]=fL(z[1]*mL-yL),R[1]=fL(R[1]*mL-yL),d.push(" m ",z[0],",",z[1]," l ",R[0],",",z[1]," l ",R[0],",",R[1]," l ",z[0],",",R[1]);break;case lL.Z:d.push(" x ")}if(n>0){d.push(r);for(var B=0;B<n;B++){var V=OL[B];e&&cL(V,V,e),d.push(fL(V[0]*mL-yL),",",fL(V[1]*mL-yL),B<n-1?",":"")}}}return d.join("")}(u,this.transform),n.style.zIndex=ML(this.zlevel,this.z,this.z2),bL(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Jh.prototype.onRemove=function(t){wL(t,this._vmlEl),this.removeRectText(t)},Jh.prototype.onAdd=function(t){bL(t,this._vmlEl),this.appendRectText(t)},Zl.prototype.brushVML=function(t){var e,n,r=this.style,i=r.image;if(function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()}(i)){var o=i.src;if(o===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var a=i.runtimeStyle,s=a.width,u=a.height;a.width="auto",a.height="auto",e=i.width,n=i.height,a.width=s,a.height=u,this._imageSrc=o,this._imageWidth=e,this._imageHeight=n}i=o}else i===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(i){var c=r.x||0,l=r.y||0,f=r.width,h=r.height,d=r.sWidth,p=r.sHeight,g=r.sx||0,v=r.sy||0,m=d&&p,y=this._vmlEl;y||(y=uL.doc.createElement("div"),xL(y),this._vmlEl=y);var x,_=y.style,b=!1,w=1,M=1;if(this.transform&&(x=this.transform,w=hL(x[0]*x[0]+x[1]*x[1]),M=hL(x[2]*x[2]+x[3]*x[3]),b=x[1]||x[2]),b){var S=[c,l],A=[c+f,l],T=[c,l+h],O=[c+f,l+h];cL(S,S,x),cL(A,A,x),cL(T,T,x),cL(O,O,x);var I=vL(S[0],A[0],T[0],O[0]),C=vL(S[1],A[1],T[1],O[1]),k=[];k.push("M11=",x[0]/w,",","M12=",x[2]/M,",","M21=",x[1]/w,",","M22=",x[3]/M,",","Dx=",fL(c*w+x[4]),",","Dy=",fL(l*M+x[5])),_.padding="0 "+fL(I)+"px "+fL(C)+"px 0",_.filter="progid:DXImageTransform.Microsoft.Matrix("+k.join("")+", SizingMethod=clip)"}else x&&(c=c*w+x[4],l=l*M+x[5]),_.filter="",_.left=fL(c)+"px",_.top=fL(l)+"px";var D=this._imageEl,L=this._cropEl;D||(D=uL.doc.createElement("div"),this._imageEl=D);var E=D.style;if(m){if(e&&n)E.width=fL(w*e*f/d)+"px",E.height=fL(M*n*h/p)+"px";else{var P=new Image,N=this;P.onload=function(){P.onload=null,e=P.width,n=P.height,E.width=fL(w*e*f/d)+"px",E.height=fL(M*n*h/p)+"px",N._imageWidth=e,N._imageHeight=n,N._imageSrc=i},P.src=i}L||((L=uL.doc.createElement("div")).style.overflow="hidden",this._cropEl=L);var j=L.style;j.width=fL((f+g*f/d)*w),j.height=fL((h+v*h/p)*M),j.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-g*f/d*w+",Dy="+-v*h/p*M+")",L.parentNode||y.appendChild(L),D.parentNode!=L&&L.appendChild(D)}else E.width=fL(w*f)+"px",E.height=fL(M*h)+"px",y.appendChild(D),L&&L.parentNode&&(y.removeChild(L),this._cropEl=null);var z="",R=r.opacity;R<1&&(z+=".Alpha(opacity="+fL(100*R)+") "),z+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+i+", SizingMethod=scale)",E.filter=z,y.style.zIndex=ML(this.zlevel,this.z,this.z2),bL(t,y),null!=r.text&&this.drawRectText(t,this.getBoundingRect())}},Zl.prototype.onRemove=function(t){wL(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},Zl.prototype.onAdd=function(t){bL(t,this._vmlEl),this.appendRectText(t)};var IL,CL={},kL=0,DL=document.createElement("div");Pl.$override("measureText",function(t,e){var n=uL.doc;IL||((IL=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",uL.doc.body.appendChild(IL));try{IL.style.font=e}catch(t){}return IL.innerHTML="",IL.appendChild(n.createTextNode(t)),{width:IL.offsetWidth}});for(var LL=new tl,EL=[Yl,Xl,Zl,Jh,gd],PL=0;PL<EL.length;PL++){var NL=EL[PL].prototype;NL.drawRectText=function(t,e,n,r){var i=this.style;this.__dirty&&Gl.normalizeTextStyle(i,!0);var o=i.text;if(null!=o&&(o+=""),o){if(i.rich){var a=Pl.parseRichText(o,i);o=[];for(var s=0;s<a.lines.length;s++){for(var u=a.lines[s].tokens,c=[],l=0;l<u.length;l++)c.push(u[l].text);o.push(c.join(""))}o=o.join("\n")}var f,h,d=i.textAlign,p=i.textVerticalAlign,g=function(t){var e=CL[t];if(!e){kL>100&&(kL=0,CL={});var n,r=DL.style;try{r.font=t,n=r.fontFamily.split(",")[0]}catch(t){}e={style:r.fontStyle||"normal",variant:r.fontVariant||"normal",weight:r.fontWeight||"normal",size:0|parseFloat(r.fontSize||12),family:n||"Microsoft YaHei"},CL[t]=e,kL++}return e}(i.font),v=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';n=n||Pl.getBoundingRect(o,v,d,p);var m=this.transform;if(m&&!r&&(LL.copy(e),LL.applyTransform(m),e=LL),r)f=e.x,h=e.y;else{var y=i.textPosition,x=i.textDistance;if(y instanceof Array)f=e.x+SL(y[0],e.width),h=e.y+SL(y[1],e.height),d=d||"left";else{var _=Pl.adjustTextPositionOnRect(y,e,x);f=_.x,h=_.y,d=d||_.textAlign,p=p||_.textVerticalAlign}}f=Pl.adjustTextX(f,n.width,d),h=Pl.adjustTextY(h,n.height,p),h+=n.height/2;var b,w,M,S=uL.createNode,A=this._textVmlEl;A?w=(b=(M=A.firstChild).nextSibling).nextSibling:(A=S("line"),b=S("path"),w=S("textpath"),M=S("skew"),w.style["v-text-align"]="left",xL(A),b.textpathok=!0,w.on=!0,A.from="0 0",A.to="1000 0.05",bL(A,M),bL(A,b),bL(A,w),this._textVmlEl=A);var T=[f,h],O=A.style;m&&r?(cL(T,T,m),M.on=!0,M.matrix=m[0].toFixed(3)+","+m[2].toFixed(3)+","+m[1].toFixed(3)+","+m[3].toFixed(3)+",0,0",M.offset=(fL(T[0])||0)+","+(fL(T[1])||0),M.origin="0 0",O.left="0px",O.top="0px"):(M.on=!1,O.left=fL(f)+"px",O.top=fL(h)+"px"),w.string=String(o).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{w.style.font=v}catch(t){}TL(A,"fill",{fill:i.textFill,opacity:i.opacity},this),TL(A,"stroke",{stroke:i.textStroke,opacity:i.opacity,lineDash:i.lineDash},this),A.style.zIndex=ML(this.zlevel,this.z,this.z2),bL(t,A)}},NL.removeRectText=function(t){wL(t,this._textVmlEl),this._textVmlEl=null},NL.appendRectText=function(t){bL(t,this._textVmlEl)}}gd.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},gd.prototype.onRemove=function(t){this.removeRectText(t)},gd.prototype.onAdd=function(t){this.appendRectText(t)}}var jL=nc.each;du.prototype={constructor:du,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var r=t[n];r.invisible||r.ignore?(r.__alreadyNotVisible||r.onRemove(e),r.__alreadyNotVisible=!0):(r.__alreadyNotVisible&&r.onAdd(e),r.__alreadyNotVisible=!1,r.__dirty&&(r.beforeBrush&&r.beforeBrush(),(r.brushVML||r.brush).call(r,e),r.afterBrush&&r.afterBrush())),r.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||hu(e.width))-hu(e.paddingLeft)-hu(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||hu(e.height))-hu(e.paddingTop)-hu(e.paddingBottom)|0}},jL(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){du.prototype[t]=function(t){return function(){Fc('In IE8.0 VML mode painter not support method "'+t+'"')}}(t)});var zL=du;(0,Tf.registerPainter)("vml",zL);var RL=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},BL=RL,VL=kh.CMD,FL=Array.prototype.join,HL="none",WL=Math.round,GL=Math.sin,qL=Math.cos,UL=Math.PI,YL=2*Math.PI,XL=180/UL,ZL=1e-4,$L={brush:function(t){var e=t.style,n=t.__svgEl;n||(n=BL("path"),t.__svgEl=n),t.path||t.createPathProxy();var r=t.path;if(t.__dirtyPath){r.beginPath(),t.buildPath(r,t.shape),t.__dirtyPath=!1;var i=function(t){for(var e=[],n=t.data,r=t.len(),i=0;i<r;){var o="",a=0;switch(n[i++]){case VL.M:o="M",a=2;break;case VL.L:o="L",a=2;break;case VL.Q:o="Q",a=4;break;case VL.C:o="C",a=6;break;case VL.A:var s=n[i++],u=n[i++],c=n[i++],l=n[i++],f=n[i++],h=n[i++],d=n[i++],p=n[i++],g=Math.abs(h),v=gu(g-YL)&&!gu(g),m=!1;m=g>=YL||!gu(g)&&(h>-UL&&h<0||h>UL)==!!p;var y=pu(s+c*qL(f)),x=pu(u+l*GL(f));v&&(h=p?YL-1e-4:1e-4-YL,m=!0,9===i&&e.push("M",y,x));var _=pu(s+c*qL(f+h)),b=pu(u+l*GL(f+h));e.push("A",pu(c),pu(l),WL(d*XL),+m,+p,_,b);break;case VL.Z:o="Z";break;case VL.R:_=pu(n[i++]),b=pu(n[i++]);var w=pu(n[i++]),M=pu(n[i++]);e.push("M",_,b,"L",_+w,b,"L",_+w,b+M,"L",_,b+M,"L",_,b)}o&&e.push(o);for(var S=0;S<a;S++)e.push(pu(n[i++]))}return e.join(" ")}(r);i.indexOf("NaN")<0&&mu(n,"d",i)}yu(n,e),vu(n,t.transform),null!=e.text&&tE(t,t.getBoundingRect())}},KL={brush:function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var r=e.x||0,i=e.y||0,o=e.width,a=e.height,s=t.__svgEl;s||(s=BL("image"),t.__svgEl=s),n!==t.__imageSrc&&(function(t,e,n){s.setAttributeNS("http://www.w3.org/1999/xlink","href",n)}(0,0,n),t.__imageSrc=n),mu(s,"width",o),mu(s,"height",a),mu(s,"x",r),mu(s,"y",i),vu(s,t.transform),null!=e.text&&tE(t,t.getBoundingRect())}}},JL={},QL=new tl,tE=function(t,e,n){var r=t.style;t.__dirty&&Gl.normalizeTextStyle(r,!0);var i=r.text;if(null!=i){i+="";var o=t.__textSvgEl;o||(o=BL("text"),t.__textSvgEl=o);var a,s,u=r.textPosition,c=r.textDistance,l=r.textAlign||"left";"number"==typeof r.fontSize&&(r.fontSize+="px");var f=r.font||[r.fontStyle||"",r.fontWeight||"",r.fontSize||"",r.fontFamily||""].join(" ")||Pl.DEFAULT_FONT,h=xu(r.textVerticalAlign),d=(n=Pl.getBoundingRect(i,f,l,h)).lineHeight;if(u instanceof Array)a=e.x+u[0],s=e.y+u[1];else{var p=Pl.adjustTextPositionOnRect(u,e,c);a=p.x,s=p.y,h=xu(p.textVerticalAlign),l=p.textAlign}mu(o,"alignment-baseline",h),f&&(o.style.font=f);var g=r.textPadding;if(mu(o,"x",a),mu(o,"y",s),yu(o,r,!0),t instanceof gd||t.style.transformText)vu(o,t.transform);else{if(t.transform)QL.copy(e),QL.applyTransform(t.transform),e=QL;else{var v=t.transformCoordToGlobal(e.x,e.y);e.x=v[0],e.y=v[1]}var m=r.textOrigin;"center"===m?(a=n.width/2+a,s=n.height/2+s):m&&(a=m[0]+a,s=m[1]+s);var y=-r.textRotation||0,x=dc.create();dc.rotate(x,t.transform,y),vu(o,x)}var _=i.split("\n"),b=_.length,w=l;"left"===w?(w="start",g&&(a+=g[3])):"right"===w?(w="end",g&&(a-=g[1])):"center"===w&&(w="middle",g&&(a+=(g[3]-g[1])/2));var M=0;if("baseline"===h?(M=-n.height+d,g&&(M-=g[2])):"middle"===h?(M=(-n.height+d)/2,g&&(s+=(g[0]-g[2])/2)):g&&(M+=g[0]),t.__text!==i||t.__textFont!==f){var S=t.__tspanList||[];for(t.__tspanList=S,T=0;T<b;T++)(O=S[T])?O.innerHTML="":(O=S[T]=BL("tspan"),o.appendChild(O),mu(O,"alignment-baseline",h),mu(O,"text-anchor",w)),mu(O,"x",a),mu(O,"y",s+T*d+M),O.appendChild(document.createTextNode(_[T]));for(;T<S.length;T++)o.removeChild(S[T]);S.length=b,t.__text=i,t.__textFont=f}else if(t.__tspanList.length)for(var A=t.__tspanList.length,T=0;T<A;++T){var O=t.__tspanList[T];O&&(mu(O,"x",a),mu(O,"y",s+T*d+M))}}};JL.drawRectText=tE,JL.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],tE(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))};var eE={path:$L,image:KL,text:JL};_u.prototype={diff:function(t,e,n){n||(n=function(t,e){return t===e}),this.equals=n;var r=this;t=t.slice();var i=(e=e.slice()).length,o=t.length,a=1,s=i+o,u=[{newPos:-1,components:[]}],c=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=i&&c+1>=o){for(var l=[],f=0;f<e.length;f++)l.push(f);return[{indices:l,count:e.length}]}for(;a<=s;){var h=function(){for(var n=-1*a;n<=a;n+=2){var s,c=u[n-1],l=u[n+1],f=(l?l.newPos:0)-n;c&&(u[n-1]=void 0);var h=c&&c.newPos+1<i,d=l&&0<=f&&f<o;if(h||d){if(!h||d&&c.newPos<l.newPos?(s=function(t){return{newPos:t.newPos,components:t.components.slice(0)}}(l),r.pushComponent(s.components,void 0,!0)):((s=c).newPos++,r.pushComponent(s.components,!0,void 0)),f=r.extractCommon(s,e,t,n),s.newPos+1>=i&&f+1>=o)return function(t,e,n,r){for(var i=0,o=e.length,a=0,s=0;i<o;i++){var u=e[i];if(u.removed){for(var c=[],l=s;l<s+u.count;l++)c.push(l);u.indices=c,s+=u.count}else{for(c=[],l=a;l<a+u.count;l++)c.push(l);u.indices=c,a+=u.count,u.added||(s+=u.count)}}return e}(0,s.components);u[n]=s}else u[n]=void 0}a++}();if(h)return h}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var i=e.length,o=n.length,a=t.newPos,s=a-r,u=0;a+1<i&&s+1<o&&this.equals(e[a+1],n[s+1]);)a++,s++,u++;return u&&t.components.push({count:u}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var nE=new _u,rE=RL,iE=eE.path,oE=eE.image,aE=eE.text;bu.prototype.createElement=rE,bu.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),n):null:n[0]},bu.prototype.update=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))"function"==typeof e&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},bu.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},bu.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},bu.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return nc.each(this._tagNames,function(n){var r=t.getElementsByTagName(n);e=e.concat([].slice.call(r))}),e},bu.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;nc.each(t,function(t){t[e._markLabel]="0"})},bu.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},bu.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),n=this;nc.each(e,function(e){"1"!==e[n._markLabel]&&t.removeChild(e)})}},bu.prototype.getSvgProxy=function(t){return t instanceof Jh?iE:t instanceof Zl?oE:t instanceof gd?aE:iE},bu.prototype.getTextSvgElement=function(t){return t.__textSvgEl},bu.prototype.getSvgElement=function(t){return t.__svgEl};var sE=bu;nc.inherits(wu,sE),wu.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;nc.each(["fill","stroke"],function(r){if(e.style[r]&&("linear"===e.style[r].type||"radial"===e.style[r].type)){var i,o=e.style[r],a=n.getDefs(!0);o._dom?(i=o._dom,a.contains(o._dom)||n.addDom(i)):i=n.add(o),n.markUsed(e);var s=i.getAttribute("id");t.setAttribute(r,"url(#"+s+")")}})}},wu.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return Fc("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},wu.prototype.update=function(t){var e=this;sE.prototype.update.call(this,t,function(){var n=t.type,r=t._dom.tagName;"linear"===n&&"linearGradient"===r||"radial"===n&&"radialGradient"===r?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},wu.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void Fc("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,r=0,i=n.length;r<i;++r){var o=this.createElement("stop");o.setAttribute("offset",100*n[r].offset+"%"),o.setAttribute("stop-color",n[r].color),e.appendChild(o)}t._dom=e},wu.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&sE.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&sE.prototype.markUsed.call(this,e._dom)}};var uE=wu;nc.inherits(Mu,sE),Mu.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},Mu.prototype.updateDom=function(t,e,n){if(e&&e.length>0){var r,i,o=this.getDefs(!0),a=e[0],s=n?"_textDom":"_dom";a[s]?(i=a[s].getAttribute("id"),r=a[s],o.contains(r)||o.appendChild(r)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",i),o.appendChild(r),a[s]=r);var u=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!n){var c=Array.prototype.slice.call(a.transform);dc.mul(a.transform,a.parent.invTransform,a.transform),u.brush(a),a.transform=c}else u.brush(a);var l=this.getSvgElement(a);r.innerHTML="",r.appendChild(l.cloneNode()),t.setAttribute("clip-path","url(#"+i+")"),e.length>1&&this.updateDom(r,e.slice(1),n)}else t&&t.setAttribute("clip-path","none")},Mu.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&nc.each(t.__clipPaths,function(t){t._dom&&sE.prototype.markUsed.call(e,t._dom),t._textDom&&sE.prototype.markUsed.call(e,t._textDom)})};var cE=Mu;nc.inherits(Su,sE),Su.prototype.addWithoutUpdate=function(t,e){if(e&&Au(e.style)){var n,r=e.style;r._shadowDom?(n=r._shadowDom,this.getDefs(!0).contains(r._shadowDom)||this.addDom(n)):n=this.add(e),this.markUsed(e);var i=n.getAttribute("id");t.style.filter="url(#"+i+")"}},Su.prototype.add=function(t){var e=this.createElement("filter"),n=t.style;return n._shadowDomId=n._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(t,e),this.addDom(e),e},Su.prototype.update=function(t,e){var n=e.style;if(Au(n)){var r=this;sE.prototype.update.call(this,e,function(t){r.updateDom(e,t._shadowDom)})}else this.remove(t,n)},Su.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},Su.prototype.updateDom=function(t,e){var n=e.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var r,i,o,a,s=t.style,u=t.scale&&t.scale[0]||1,c=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)r=s.shadowOffsetX||0,i=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);r=s.textShadowOffsetX||0,i=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}n.setAttribute("dx",r/u),n.setAttribute("dy",i/c),n.setAttribute("flood-color",a);var l=o/2/u+" "+o/2/c;n.setAttribute("stdDeviation",l),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(n),s._shadowDom=e},Su.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&sE.prototype.markUsed.call(this,e._shadowDom)};var lE=Su,fE=RL,hE=nc.each,dE=eE.path,pE=eE.image,gE=eE.text,vE=function(t,e,n,r){this.root=t,this.storage=e,this._opts=n=nc.extend({},n||{});var i=fE("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("version","1.1"),i.setAttribute("baseProfile","full"),i.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new uE(r,i),this.clipPathManager=new cE(r,i),this.shadowManager=new lE(r,i);var o=document.createElement("div");o.style.cssText="overflow:hidden;position:relative",this._svgRoot=i,this._viewport=o,t.appendChild(o),o.appendChild(i),this.resize(n.width,n.height),this._visibleList=[]};vE.prototype={constructor:vE,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,n=this._svgRoot,r=this._visibleList,i=t.length,o=[];for(e=0;e<i;e++){var a=function(t){return t instanceof Jh?dE:t instanceof Zl?pE:t instanceof gd?gE:dE}(d=t[e]),s=Lu(d)||Du(d);d.invisible||(d.__dirty&&(a&&a.brush(d),this.clipPathManager.update(d),d.style&&(this.gradientManager.update(d.style.fill),this.gradientManager.update(d.style.stroke),this.shadowManager.update(s,d)),d.__dirty=!1),o.push(d))}var u,c=function(t,e,n){return nE.diff(t,e,n)}(r,o);for(e=0;e<c.length;e++)if((f=c[e]).removed)for(h=0;h<f.count;h++){s=Lu(d=r[f.indices[h]]);var l=Du(d);ku(n,s),ku(n,l)}for(e=0;e<c.length;e++){var f=c[e];if(f.added)for(h=0;h<f.count;h++){s=Lu(d=o[f.indices[h]]),l=Du(d);u?Iu(n,s,u):Cu(n,s),s?Iu(n,l,s):u?Iu(n,l,u):Cu(n,l),Iu(n,l,s),u=l||s||u,this.gradientManager.addWithoutUpdate(s,d),this.shadowManager.addWithoutUpdate(u,d),this.clipPathManager.markUsed(d)}else if(!f.removed)for(var h=0;h<f.count;h++){var d=o[f.indices[h]];u=s=Du(d)||Lu(d)||u,this.gradientManager.markUsed(d),this.gradientManager.addWithoutUpdate(s,d),this.shadowManager.markUsed(d),this.shadowManager.addWithoutUpdate(s,d),this.clipPathManager.markUsed(d)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=o},_getDefs:function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(fE("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),n):null:n[0]},resize:function(t,e){var n=this._viewport;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var i=n.style;i.width=t+"px",i.height=e+"px";var o=this._svgRoot;o.setAttribute("width",t),o.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||Tu(s[n])||Tu(a.style[n]))-(Tu(s[i])||0)-(Tu(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},hE(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){vE.prototype[t]=function(t){return function(){Fc('In SVG mode painter not support method "'+t+'"')}}(t)});var mE=vE;(0,Tf.registerPainter)("svg",mE),function(t){t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")&&t.default}(t(function(t,e){!function(){for(var t in D_){if(null==D_||!D_.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=D_[t]}}(),function(){for(var t in k_){if(null==k_||!k_.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=k_[t]}}()}));var yE=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},xE="object"==typeof Bu&&Bu&&Bu===Object&&Bu,_E="object"==typeof self&&self&&self.Object===Object&&self,bE=xE||_E||Function("return this")(),wE=function(){return bE.Date.now()},ME=bE.Symbol,SE=Object.prototype,AE=SE.hasOwnProperty,TE=SE.toString,OE=ME?ME.toStringTag:void 0,IE=Object.prototype.toString,CE=ME?ME.toStringTag:void 0,kE=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":CE&&CE in Object(t)?function(t){var e=AE.call(t,OE),n=t[OE];try{t[OE]=void 0;var r=!0}catch(t){}var i=TE.call(t);return r&&(e?t[OE]=n:delete t[OE]),i}(t):function(t){return IE.call(t)}(t)},DE=/^\s+|\s+$/g,LE=/^[-+]0x[0-9a-f]+$/i,EE=/^0b[01]+$/i,PE=/^0o[0-7]+$/i,NE=parseInt,jE=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==kE(t)}(t))return NaN;if(yE(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=yE(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(DE,"");var n=EE.test(t);return n||PE.test(t)?NE(t.slice(2),n?2:8):LE.test(t)?NaN:+t},zE=Math.max,RE=Math.min,BE=null,VE=null,FE=0,HE=null;!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style"),n=" .echarts { width: 600px; height: 400px; } ";e.type="text/css",e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),t.appendChild(e)}}();var WE=["legendselectchanged","legendselected","legendunselected","legendunscroll","datazoom","datarangeselected","timelinechanged","timelineplaychanged","restore","dataviewchanged","magictypechanged","geoselectchanged","geoselected","geounselected","pieselectchanged","pieselected","pieunselected","mapselectchanged","mapselected","mapunselected","axisareaselected","focusnodeadjacency","unfocusnodeadjacency","brush","brushselected","rendered","finished","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];return{render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"echarts"})},staticRenderFns:[],props:{options:Object,theme:[String,Object],initOptions:Object,group:String,autoResize:Boolean,watchShallow:Boolean,manualUpdate:Boolean},data:function(){return{lastArea:0}},watch:{group:function(t){this.chart.group=t}},methods:{mergeOptions:function(t,e,n){this.manualUpdate&&(this.manualOptions=t),this.chart?this.delegateMethod("setOption",t,e,n):this.init()},appendData:function(t){this.delegateMethod("appendData",t)},resize:function(t){this.delegateMethod("resize",t)},dispatchAction:function(t){this.delegateMethod("dispatchAction",t)},convertToPixel:function(t,e){return this.delegateMethod("convertToPixel",t,e)},convertFromPixel:function(t,e){return this.delegateMethod("convertFromPixel",t,e)},containPixel:function(t,e){return this.delegateMethod("containPixel",t,e)},showLoading:function(t,e){this.delegateMethod("showLoading",t,e)},hideLoading:function(){this.delegateMethod("hideLoading")},getDataURL:function(t){return this.delegateMethod("getDataURL",t)},getConnectedDataURL:function(t){return this.delegateMethod("getConnectedDataURL",t)},clear:function(){this.delegateMethod("clear")},dispose:function(){this.delegateMethod("dispose")},delegateMethod:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return this.chart||this.init(),(r=this.chart)[t].apply(r,e);var r},delegateGet:function(t,e){return this.chart||this.init(),this.chart[e]()},getArea:function(){return this.$el.offsetWidth*this.$el.offsetHeight},init:function(){var t=this;if(!this.chart){var e=D_.init(this.$el,this.theme,this.initOptions);this.group&&(e.group=this.group),e.setOption(this.manualOptions||this.options||{},!0),WE.forEach(function(n){e.on(n,function(e){t.$emit(n,e)})}),this.autoResize&&(this.lastArea=this.getArea(),this.__resizeHandler=function(t,e,n){function r(e){var n=u,r=c;return u=c=void 0,p=e,f=t.apply(r,n)}function i(t){var n=t-d;return void 0===d||n>=e||n<0||v&&t-p>=l}function o(){var t=wE();if(i(t))return a(t);h=setTimeout(o,function(t){var n=e-(t-d);return v?RE(n,l-(t-p)):n}(t))}function a(t){return h=void 0,m&&u?r(t):(u=c=void 0,f)}function s(){var t=wE(),n=i(t);if(u=arguments,c=this,d=t,n){if(void 0===h)return function(t){return p=t,h=setTimeout(o,e),g?r(t):f}(d);if(v)return h=setTimeout(o,e),r(d)}return void 0===h&&(h=setTimeout(o,e)),f}var u,c,l,f,h,d,p=0,g=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=jE(e)||0,yE(n)&&(g=!!n.leading,l=(v="maxWait"in n)?zE(jE(n.maxWait)||0,e):l,m="trailing"in n?!!n.trailing:m),s.cancel=function(){void 0!==h&&clearTimeout(h),p=0,u=d=c=h=void 0},s.flush=function(){return void 0===h?f:a(wE())},s}(function(){0===t.lastArea?(t.mergeOptions({},!0),t.resize(),t.mergeOptions(t.options||t.manualOptions||{},!0)):t.resize(),t.lastArea=t.getArea()},100,{leading:!0}),function(t,e){if(t.__resize_mutation_handler__||(t.__resize_mutation_handler__=function(){var t=Pu(this),e=t.rendered,n=t.detached;e!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(zu(this),this.addEventListener("scroll",Nu,!0)),this.__resize_rendered__=e,ju(this))}.bind(t)),!t.__resize_listeners__)if(t.__resize_listeners__=[],window.ResizeObserver){var n=t.offsetWidth,r=t.offsetHeight,i=new ResizeObserver(function(){(t.__resize_observer_triggered__||(t.__resize_observer_triggered__=!0,t.offsetWidth!==n||t.offsetHeight!==r))&&ju(t)}),o=Pu(t),a=o.detached,s=o.rendered;t.__resize_observer_triggered__=!1===a&&!1===s,t.__resize_observer__=i,i.observe(t)}else if(t.attachEvent&&t.addEventListener)t.__resize_legacy_resize_handler__=function(){ju(t)},t.attachEvent("onresize",t.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);else if(FE||(HE=function(t){var e=document.createElement("style");return e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),(document.querySelector("head")||document.body).appendChild(e),e}('.resize-triggers{visibility:hidden;opacity:0}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}')),function(t){var e=getComputedStyle(t).position;"static"===e&&(t.style.position="relative"),t.__resize_old_position__=e,t.__resize_last__={};var n=Eu("div",{className:"resize-triggers"}),r=Eu("div",{className:"resize-expand-trigger"}),i=Eu("div"),o=Eu("div",{className:"resize-contract-trigger"});r.appendChild(i),n.appendChild(r),n.appendChild(o),t.appendChild(n),t.__resize_triggers__={triggers:n,expand:r,expandChild:i,contract:o},zu(t),t.addEventListener("scroll",Nu,!0),t.__resize_last__={width:t.offsetWidth,height:t.offsetHeight}}(t),t.__resize_rendered__=Pu(t).rendered,window.MutationObserver){var u=new MutationObserver(t.__resize_mutation_handler__);u.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),t.__resize_mutation_observer__=u}t.__resize_listeners__.push(e),FE++}(this.$el,this.__resizeHandler)),Object.defineProperties(this,{width:{configurable:!0,get:function(){return t.delegateGet("width","getWidth")}},height:{configurable:!0,get:function(){return t.delegateGet("height","getHeight")}},isDisposed:{configurable:!0,get:function(){return!!t.delegateGet("isDisposed","isDisposed")}},computedOptions:{configurable:!0,get:function(){return t.delegateGet("computedOptions","getOption")}}}),this.chart=e}},destroy:function(){this.autoResize&&function(t,e){if(t.detachEvent&&t.removeEventListener)return t.detachEvent("onresize",t.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);var n=t.__resize_listeners__;n.splice(n.indexOf(e),1),n.length||(t.__resize_observer__?(t.__resize_observer__.unobserve(t),t.__resize_observer__.disconnect(),t.__resize_observer__=null):(t.__resize_mutation_observer__&&(t.__resize_mutation_observer__.disconnect(),t.__resize_mutation_observer__=null),t.removeEventListener("scroll",Nu),t.removeChild(t.__resize_triggers__.triggers),t.__resize_triggers__=null),t.__resize_listeners__=null),!--FE&&HE&&HE.parentNode.removeChild(HE)}(this.$el,this.__resizeHandler),this.dispose(),this.chart=null},refresh:function(){this.chart&&(this.destroy(),this.init())}},created:function(){var t=this;this.manualUpdate||this.$watch("options",function(e,n){!t.chart&&e?t.init():t.chart.setOption(e,e!==n)},{deep:!this.watchShallow}),["theme","initOptions","autoResize","manualUpdate","watchShallow"].forEach(function(e){t.$watch(e,function(){t.refresh()},{deep:!0})})},mounted:function(){this.options&&this.init()},activated:function(){this.autoResize&&this.chart&&this.chart.resize()},beforeDestroy:function(){this.chart&&this.destroy()},connect:function(t){"string"!=typeof t&&(t=t.map(function(t){return t.chart})),D_.connect(t)},disconnect:function(t){D_.disConnect(t)},registerMap:function(t,e,n){D_.registerMap(t,e,n)},registerTheme:function(t,e){D_.registerTheme(t,e)},graphic:D_.graphic}},t.exports=n()}).call(e,n(41))},function(t,e,n){var r=n(4),i=n(391),o=n(0),a=n(55).createSymbol,s=n(7),u=n(44);function c(t,e,n){r.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}var l=c.prototype;l.createLine=function(t,e,n){return new i(t,e,n)},l._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");o.isArray(r)||(r=[r,r]);var s=n.get("color")||t.getItemVisual(e,"color"),u=this.childAt(1);this._symbolType!==i&&(this.remove(u),(u=a(i,-.5,-.5,1,1,s)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",s),u.setStyle(n.getItemStyle(["color"])),u.attr("scale",r),u.setColor(s),u.attr("scale",r),this._symbolType=i,this._updateEffectAnimation(t,n,e))},l._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(r){var i=this,a=t.getItemLayout(n),s=1e3*e.get("period"),u=e.get("loop"),c=e.get("constantSpeed"),l=o.retrieve(e.get("delay"),function(e){return e/t.count()*s/3}),f="function"==typeof l;if(r.ignore=!0,this.updateAnimationPoints(r,a),c>0&&(s=this.getLineLength(r)/c*1e3),s!==this._period||u!==this._loop){r.stopAnimation();var h=l;f&&(h=l(n)),r.__t>0&&(h=-s*r.__t),r.__t=0;var d=r.animate("",u).when(s,{__t:1}).delay(h).during(function(){i.updateSymbolPosition(r)});u||d.done(function(){i.remove(r)}),d.start()}this._period=s,this._loop=u}},l.getLineLength=function(t){return s.dist(t.__p1,t.__cp1)+s.dist(t.__cp1,t.__p2)},l.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},l.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},l.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,r=t.__cp1,i=t.__t,o=t.position,a=u.quadraticAt,s=u.quadraticDerivativeAt;o[0]=a(e[0],r[0],n[0],i),o[1]=a(e[1],r[1],n[1],i);var c=s(e[0],r[0],n[0],i),l=s(e[1],r[1],n[1],i);t.rotation=-Math.atan2(l,c)-Math.PI/2,t.ignore=!1},l.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},o.inherits(c,r.Group);var f=c;t.exports=f},function(t,e,n){var r=n(4),i=n(0);function o(t,e,n){r.Group.call(this),this._createPolyline(t,e,n)}var a=o.prototype;a._createPolyline=function(t,e,n){var i=t.getItemLayout(e),o=new r.Polyline({shape:{points:i}});this.add(o),this._updateCommonStl(t,e,n)},a.updateData=function(t,e,n){var i=t.hostModel,o=this.childAt(0),a={shape:{points:t.getItemLayout(e)}};r.updateProps(o,a,i,e),this._updateCommonStl(t,e,n)},a._updateCommonStl=function(t,e,n){var o=this.childAt(0),a=t.getItemModel(e),s=t.getItemVisual(e,"color"),u=n&&n.lineStyle,c=n&&n.hoverLineStyle;n&&!t.hasItemOption||(u=a.getModel("lineStyle").getLineStyle(),c=a.getModel("emphasis.lineStyle").getLineStyle()),o.useStyle(i.defaults({strokeNoScale:!0,fill:"none",stroke:s},u)),o.hoverStyle=c,r.setHoverStyle(this)},a.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},i.inherits(o,r.Group);var s=o;t.exports=s},function(t,e,n){var r={seriesType:"lines",plan:n(107)(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s,u=i.end-i.start;if(n){for(var c=0,l=i.start;l<i.end;l++)c+=t.getLineCoordsCount(l);s=new Float32Array(u+2*c)}else s=new Float32Array(4*u);var f=0,h=[];for(l=i.start;l<i.end;l++){var d=t.getLineCoords(l,a);n&&(s[f++]=d);for(var p=0;p<d;p++)h=e.dataToPoint(a[p],!1,h),s[f++]=h[0],s[f++]=h[1]}o.setLayout("linesPoints",s)}else for(l=i.start;l<i.end;l++){var g=o.getItemModel(l),v=(d=t.getLineCoords(l,a),[]);if(n)for(var m=0;m<d;m++)v.push(e.dataToPoint(a[m]));else{v[0]=e.dataToPoint(a[0]),v[1]=e.dataToPoint(a[1]);var y=g.get("lineStyle.curveness");+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}o.setItemLayout(l,v)}}}}};t.exports=r},,,,,function(t,e,n){t.exports={default:n(1296),__esModule:!0}},function(t,e,n){var r=n(42);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},,function(t,e,n){var r;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,c=o.concat,l=o.push,f=o.indexOf,h={},d=h.toString,p=h.hasOwnProperty,g=p.toString,v=g.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},x=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function b(t,e,n){var r,i=(e=e||a).createElement("script");if(i.text=t,n)for(r in _)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t}var M=function(t,e){return new M.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function A(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!y(t)&&!x(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}M.fn=M.prototype={jquery:"3.3.1",constructor:M,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=M.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return M.each(this,t)},map:function(t){return this.pushStack(M.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},M.extend=M.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(r=t[e])&&(c&&r&&(M.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&M.isPlainObject(n)?n:{},a[e]=M.extend(c,o,r)):void 0!==r&&(a[e]=r));return a},M.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&g.call(n)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){b(t)},each:function(t,e){var n,r=0;if(A(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(A(Object(t))?M.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:f.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(A(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return c.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(M.fn[Symbol.iterator]=o[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var T=function(t){var e,n,r,i,o,a,s,u,c,l,f,h,d,p,g,v,m,y,x,_="sizzle"+1*new Date,b=t.document,w=0,M=0,S=at(),A=at(),T=at(),O=function(t,e){return t===e&&(f=!0),0},I={}.hasOwnProperty,C=[],k=C.pop,D=C.push,L=C.push,E=C.slice,P=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",R="\\["+j+"*("+z+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+j+"*\\]",B=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",V=new RegExp(j+"+","g"),F=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),H=new RegExp("^"+j+"*,"+j+"*"),W=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),G=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),q=new RegExp(B),U=new RegExp("^"+z+"$"),Y={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),tt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){h()},it=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{L.apply(C=E.call(b.childNodes),b.childNodes),C[b.childNodes.length].nodeType}catch(t){L={apply:C.length?function(t,e){D.apply(t,E.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function ot(t,e,r,i){var o,s,c,l,f,p,m,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!i&&((e?e.ownerDocument||e:b)!==d&&h(e),e=e||d,g)){if(11!==w&&(f=K.exec(t)))if(o=f[1]){if(9===w){if(!(c=e.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&x(e,c)&&c.id===o)return r.push(c),r}else{if(f[2])return L.apply(r,e.getElementsByTagName(t)),r;if((o=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!T[t+" "]&&(!v||!v.test(t))){if(1!==w)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(et,nt):e.setAttribute("id",l=_),s=(p=a(t)).length;s--;)p[s]="#"+l+" "+mt(p[s]);m=p.join(","),y=J.test(t)&&gt(e.parentNode)||e}if(m)try{return L.apply(r,y.querySelectorAll(m)),r}catch(t){}finally{l===_&&e.removeAttribute("id")}}}return u(t.replace(F,"$1"),e,r,i)}function at(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function st(t){return t[_]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function lt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st(function(e){return e=+e,st(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=ot.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:b;return a!==d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,g=!o(d),b!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=$.test(d.getElementsByClassName),n.getById=ut(function(t){return p.appendChild(t).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(n.qsa=$.test(d.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+j+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+_+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=$.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",B)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=$.test(p.compareDocumentPosition),x=e||$.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===d||t.ownerDocument===b&&x(b,t)?-1:e===d||e.ownerDocument===b&&x(b,e)?1:l?P(l,t)-P(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===d?-1:e===d?1:i?-1:o?1:l?P(l,t)-P(l,e):0;if(i===o)return lt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?lt(a[r],s[r]):a[r]===b?-1:s[r]===b?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&h(t),e=e.replace(G,"='$1']"),n.matchesSelector&&g&&!T[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&h(t),x(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&h(t);var i=r.attrHandle[e.toLowerCase()],o=i&&I.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(O),f){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return l=null,t},i=ot.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=ot.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(V," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(v){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(x=(d=(c=(l=(f=(h=v)[_]||(h[_]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],h=d&&v.childNodes[d];h=++d&&h&&h[g]||(x=d=0)||p.pop();)if(1===h.nodeType&&++x&&h===e){l[t]=[w,d,x];break}}else if(y&&(x=d=(c=(l=(f=(h=e)[_]||(h[_]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===x)for(;(h=++d&&h&&h[g]||(x=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++x||(y&&((l=(f=h[_]||(h[_]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]=[w,x]),h!==e)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[_]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=P(t,o[a])]=!(n[r]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:st(function(t){var e=[],n=[],r=s(t.replace(F,"$1"));return r[_]?st(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:st(function(t){return U.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:pt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ht(e);function vt(){}function mt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function yt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=M++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var c,l,f,h=[w,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(l=(f=e[_]||(e[_]={}))[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===w&&c[1]===s)return h[2]=c[2];if(l[o]=h,h[2]=t(e,n,u))return!0}return!1}}function xt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function _t(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),c&&e.push(s)));return a}function bt(t,e,n,r,i,o){return r&&!r[_]&&(r=bt(r)),i&&!i[_]&&(i=bt(i,o)),st(function(o,a,s,u){var c,l,f,h=[],d=[],p=a.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)ot(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),v=!t||!o&&e?g:_t(g,h,t,s,u),m=n?i||(o?t:p||r)?[]:a:v;if(n&&n(v,m,s,u),r)for(c=_t(m,d),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(m[d[l]]=!(v[d[l]]=f));if(o){if(i||t){if(i){for(c=[],l=m.length;l--;)(f=m[l])&&c.push(v[l]=f);i(null,m=[],c,u)}for(l=m.length;l--;)(f=m[l])&&(c=i?P(o,f):h[l])>-1&&(o[c]=!(a[c]=f))}}else m=_t(m===a?m.splice(p,m.length):m),i?i(null,a,m,u):L.apply(a,m)})}function wt(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,l=yt(function(t){return t===e},s,!0),f=yt(function(t){return P(e,t)>-1},s,!0),h=[function(t,n,r){var i=!a&&(r||n!==c)||((e=n).nodeType?l(t,n,r):f(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])h=[yt(xt(h),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[_]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return bt(u>1&&xt(h),u>1&&mt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(F,"$1"),n,u<i&&wt(t.slice(u,i)),i<o&&wt(t=t.slice(i)),i<o&&mt(t))}h.push(n)}return xt(h)}return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,a=ot.tokenize=function(t,e){var n,i,o,a,s,u,c,l=A[t+" "];if(l)return e?0:l.slice(0);for(s=t,u=[],c=r.preFilter;s;){for(a in n&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(F," ")}),s=s.slice(n.length)),r.filter)!(i=Y[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):A(t,u).slice(0)},s=ot.compile=function(t,e){var n,i=[],o=[],s=T[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=wt(e[n]))[_]?i.push(s):o.push(s);(s=T(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,u,l){var f,p,v,m=0,y="0",x=o&&[],_=[],b=c,M=o||i&&r.find.TAG("*",l),S=w+=null==b?1:Math.random()||.1,A=M.length;for(l&&(c=a===d||a||l);y!==A&&null!=(f=M[y]);y++){if(i&&f){for(p=0,a||f.ownerDocument===d||(h(f),s=!g);v=t[p++];)if(v(f,a||d,s)){u.push(f);break}l&&(w=S)}n&&((f=!v&&f)&&m--,o&&x.push(f))}if(m+=y,n&&y!==m){for(p=0;v=e[p++];)v(x,_,a,s);if(o){if(m>0)for(;y--;)x[y]||_[y]||(_[y]=k.call(u));_=_t(_)}L.apply(u,_),l&&!o&&_.length>0&&m+e.length>1&&ot.uniqueSort(u)}return l&&(w=S,c=b),x};return n?st(o):o}(o,i))).selector=t}return s},u=ot.select=function(t,e,n,i){var o,u,c,l,f,h="function"==typeof t&&t,d=!i&&a(t=h.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&g&&r.relative[u[1].type]){if(!(e=(r.find.ID(c.matches[0].replace(Q,tt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=Y.needsContext.test(t)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((f=r.find[l])&&(i=f(c.matches[0].replace(Q,tt),J.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&mt(u)))return L.apply(n,i),n;break}}return(h||s(t,d))(i,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=_.split("").sort(O).join("")===_,n.detectDuplicates=!!f,h(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(N,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),ot}(n);M.find=T,M.expr=T.selectors,M.expr[":"]=M.expr.pseudos,M.uniqueSort=M.unique=T.uniqueSort,M.text=T.getText,M.isXMLDoc=T.isXML,M.contains=T.contains,M.escapeSelector=T.escape;var O=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&M(t).is(n))break;r.push(t)}return r},I=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},C=M.expr.match.needsContext;function k(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,n){return y(e)?M.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?M.grep(t,function(t){return t===e!==n}):"string"!=typeof e?M.grep(t,function(t){return f.call(e,t)>-1!==n}):M.filter(e,t,n)}M.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?M.find.matchesSelector(r,t)?[r]:[]:M.find.matches(t,M.grep(e,function(t){return 1===t.nodeType}))},M.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(M(t).filter(function(){for(e=0;e<r;e++)if(M.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)M.find(t,i[e],n);return r>1?M.uniqueSort(n):n},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&C.test(t)?M(t):t||[],!1).length}});var E,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(M.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||E,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:P.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof M?e[0]:e,M.merge(this,M.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),D.test(r[1])&&M.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(M):M.makeArray(t,this)}).prototype=M.fn,E=M(a);var N=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function z(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}M.fn.extend({has:function(t){var e=M(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(M.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&M(t);if(!C.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&M.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?M.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?f.call(M(t),this[0]):f.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),M.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return O(t,"parentNode")},parentsUntil:function(t,e,n){return O(t,"parentNode",n)},next:function(t){return z(t,"nextSibling")},prev:function(t){return z(t,"previousSibling")},nextAll:function(t){return O(t,"nextSibling")},prevAll:function(t){return O(t,"previousSibling")},nextUntil:function(t,e,n){return O(t,"nextSibling",n)},prevUntil:function(t,e,n){return O(t,"previousSibling",n)},siblings:function(t){return I((t.parentNode||{}).firstChild,t)},children:function(t){return I(t.firstChild)},contents:function(t){return k(t,"iframe")?t.contentDocument:(k(t,"template")&&(t=t.content||t),M.merge([],t.childNodes))}},function(t,e){M.fn[t]=function(n,r){var i=M.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=M.filter(r,i)),this.length>1&&(j[t]||M.uniqueSort(i),N.test(t)&&i.reverse()),this.pushStack(i)}});var R=/[^\x20\t\r\n\f]+/g;function B(t){return t}function V(t){throw t}function F(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}M.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return M.each(t.match(R)||[],function(t,n){e[n]=!0}),e}(t):M.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){M.each(n,function(n,r){y(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==w(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return M.each(arguments,function(t,e){for(var n;(n=M.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?M.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},M.extend({Deferred:function(t){var e=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return M.Deferred(function(n){M.each(e,function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function a(t,e,r,i){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(t<o)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(c)?i?c.call(n,a(o,e,B,i),a(o,e,V,i)):(o++,c.call(n,a(o,e,B,i),a(o,e,V,i),a(o,e,B,e.notifyWith))):(r!==B&&(s=void 0,u=[n]),(i||e.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(n){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(n,l.stackTrace),t+1>=o&&(r!==V&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?l():(M.Deferred.getStackHook&&(l.stackTrace=M.Deferred.getStackHook()),n.setTimeout(l))}}return M.Deferred(function(n){e[0][3].add(a(0,n,y(i)?i:B,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:B)),e[2][3].add(a(0,n,y(r)?r:V))}).promise()},promise:function(t){return null!=t?M.extend(t,i):i}},o={};return M.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=u.call(arguments),o=M.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(F(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)F(i[n],a(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},M.readyException=function(t){n.setTimeout(function(){throw t})};var W=M.Deferred();function G(){a.removeEventListener("DOMContentLoaded",G),n.removeEventListener("load",G),M.ready()}M.fn.ready=function(t){return W.then(t).catch(function(t){M.readyException(t)}),this},M.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--M.readyWait:M.isReady)||(M.isReady=!0,!0!==t&&--M.readyWait>0||W.resolveWith(a,[M]))}}),M.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(M.ready):(a.addEventListener("DOMContentLoaded",G),n.addEventListener("load",G));var q=function(t,e,n,r,i,o,a){var s=0,u=t.length,c=null==n;if("object"===w(n))for(s in i=!0,n)q(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(M(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):o},U=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function Z(t){return t.replace(U,"ms-").replace(Y,X)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=M.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Z(e)]=n;else for(r in e)i[Z(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in r?[e]:e.match(R)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||M.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!M.isEmptyObject(e)}};var J=new K,Q=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}M.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),M.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Z(r.slice(5)),nt(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Q.set(this,t)}):q(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),M.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=J.get(t,e),n&&(!r||Array.isArray(n)?r=J.access(t,e,M.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=M.queue(t,e),r=n.length,i=n.shift(),o=M._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){M.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:M.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),M.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?M.queue(this[0],t):void 0===e?this:this.each(function(){var n=M.queue(this,t,e);M._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&M.dequeue(this,t)})},dequeue:function(t){return this.each(function(){M.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=M.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&M.contains(t.ownerDocument,t)&&"none"===M.css(t,"display")},st=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i};function ut(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return M.css(t,e,"")},u=s(),c=n&&n[3]||(M.cssNumber[e]?"":"px"),l=(M.cssNumber[e]||"px"!==c&&+u)&&it.exec(M.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)M.style(t,e,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,M.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ct={};function lt(t){var e,n=t.ownerDocument,r=t.nodeName,i=ct[r];return i||(e=n.body.appendChild(n.createElement(r)),i=M.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ct[r]=i,i)}function ft(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&at(r)&&(i[o]=lt(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}M.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?M(this).show():M(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&k(t,e)?M.merge([t],n):n}function mt(t,e){for(var n=0,r=t.length;n<r;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,xt,_t=/<|&#?\w+;/;function bt(t,e,n,r,i){for(var o,a,s,u,c,l,f=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===w(o))M.merge(h,o.nodeType?[o]:o);else if(_t.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(dt.exec(o)||["",""])[1].toLowerCase(),u=gt[s]||gt._default,a.innerHTML=u[1]+M.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;M.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(r&&M.inArray(o,r)>-1)i&&i.push(o);else if(c=M.contains(o.ownerDocument,o),a=vt(f.appendChild(o),"script"),c&&mt(a),n)for(l=0;o=a[l++];)pt.test(o.type||"")&&n.push(o);return f}yt=a.createDocumentFragment().appendChild(a.createElement("div")),(xt=a.createElement("input")).setAttribute("type","radio"),xt.setAttribute("checked","checked"),xt.setAttribute("name","t"),yt.appendChild(xt),m.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var wt=a.documentElement,Mt=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,At=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Ot(){return!1}function It(){try{return a.activeElement}catch(t){}}function Ct(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)Ct(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ot;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return M().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=M.guid++)),t.each(function(){M.event.add(this,e,i,r,n)})}M.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,d,p,g,v=J.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&M.find.matchesSelector(wt,i),n.guid||(n.guid=M.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==M&&M.event.triggered!==e.type?M.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(R)||[""]).length;c--;)d=g=(s=At.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d&&(f=M.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=M.event.special[d]||{},l=M.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&M.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=u[d])||((h=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),M.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,d,p,g,v=J.hasData(t)&&J.get(t);if(v&&(u=v.events)){for(c=(e=(e||"").match(R)||[""]).length;c--;)if(d=g=(s=At.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=M.event.special[d]||{},h=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,v.handle)||M.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)M.event.remove(t,d+e[c],n,r,!0);M.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=M.event.fix(t),u=new Array(arguments.length),c=(J.get(this,"events")||{})[s.type]||[],l=M.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=M.event.handlers.call(this,s,c),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((M.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?M(i,this).index(c)>-1:M.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<e.length&&s.push({elem:c,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(M.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[M.expando]?t:new M.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==It()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===It()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k(this,"input"))return this.click(),!1},_default:function(t){return k(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},M.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},M.Event=function(t,e){if(!(this instanceof M.Event))return new M.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&M.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Mt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},M.event.addProp),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){M.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||M.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),M.fn.extend({on:function(t,e,n,r){return Ct(this,t,e,n,r)},one:function(t,e,n,r){return Ct(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,M(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ot),this.each(function(){M.event.remove(this,t,n,e)})}});var kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Dt=/<script|<style|<link/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return k(t,"table")&&k(11!==e.nodeType?e:e.firstChild,"tr")&&M(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function zt(t,e){var n,r,i,o,a,s,u,c;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),a=J.set(e,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)M.event.add(e,i,c[i][n]);Q.hasData(t)&&(s=Q.access(t),u=M.extend({},s),Q.set(e,u))}}function Rt(t,e,n,r){e=c.apply([],e);var i,o,a,s,u,l,f=0,h=t.length,d=h-1,p=e[0],g=y(p);if(g||h>1&&"string"==typeof p&&!m.checkClone&&Lt.test(p))return t.each(function(i){var o=t.eq(i);g&&(e[0]=p.call(this,i,o.html())),Rt(o,e,n,r)});if(h&&(o=(i=bt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=M.map(vt(i,"script"),Nt)).length;f<h;f++)u=i,f!==d&&(u=M.clone(u,!0,!0),s&&M.merge(a,vt(u,"script"))),n.call(t[f],u,f);if(s)for(l=a[a.length-1].ownerDocument,M.map(a,jt),f=0;f<s;f++)u=a[f],pt.test(u.type||"")&&!J.access(u,"globalEval")&&M.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?M._evalUrl&&M._evalUrl(u.src):b(u.textContent.replace(Et,""),l,u))}return t}function Bt(t,e,n){for(var r,i=e?M.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||M.cleanData(vt(r)),r.parentNode&&(n&&M.contains(r.ownerDocument,r)&&mt(vt(r,"script")),r.parentNode.removeChild(r));return t}M.extend({htmlPrefilter:function(t){return t.replace(kt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s,u,c,l=t.cloneNode(!0),f=M.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||M.isXMLDoc(t)))for(a=vt(l),r=0,i=(o=vt(t)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(c=u.nodeName.toLowerCase())&&ht.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(e)if(n)for(o=o||vt(t),a=a||vt(l),r=0,i=o.length;r<i;r++)zt(o[r],a[r]);else zt(t,l);return(a=vt(l,"script")).length>0&&mt(a,!f&&vt(t,"script")),l},cleanData:function(t){for(var e,n,r,i=M.event.special,o=0;void 0!==(n=t[o]);o++)if($(n)){if(e=n[J.expando]){if(e.events)for(r in e.events)i[r]?M.event.remove(n,r):M.removeEvent(n,r,e.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),M.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return q(this,function(t){return void 0===t?M.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(M.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return M.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!gt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=M.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(M.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,function(e){var n=this.parentNode;M.inArray(this,t)<0&&(M.cleanData(vt(this)),n&&n.replaceChild(e,this))},t)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){M.fn[t]=function(t){for(var n,r=[],i=M(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),M(i[a])[e](n),l.apply(r,n.get());return this.pushStack(r)}});var Vt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Ft=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=new RegExp(ot.join("|"),"i");function Wt(t,e,n){var r,i,o,a,s=t.style;return(n=n||Ft(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||M.contains(t.ownerDocument,t)||(a=M.style(t,e)),!m.pixelBoxStyles()&&Vt.test(a)&&Ht.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Gt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wt.appendChild(c).appendChild(l);var t=n.getComputedStyle(l);r="1%"!==t.top,u=12===e(t.marginLeft),l.style.right="60%",s=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",wt.removeChild(c),l=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,u,c=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,M.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var qt=/^(none|table(?!-c[ea]).+)/,Ut=/^--/,Yt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Zt=["Webkit","Moz","ms"],$t=a.createElement("div").style;function Kt(t){var e=M.cssProps[t];return e||(e=M.cssProps[t]=function(t){if(t in $t)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Zt.length;n--;)if((t=Zt[n]+e)in $t)return t}(t)||t),e}function Jt(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function Qt(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=M.css(t,n+ot[a],!0,i)),r?("content"===n&&(u-=M.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(u-=M.css(t,"border"+ot[a]+"Width",!0,i))):(u+=M.css(t,"padding"+ot[a],!0,i),"padding"!==n?u+=M.css(t,"border"+ot[a]+"Width",!0,i):s+=M.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))),u}function te(t,e,n){var r=Ft(t),i=Wt(t,e,r),o="border-box"===M.css(t,"boxSizing",!1,r),a=o;if(Vt.test(i)){if(!n)return i;i="auto"}return a=a&&(m.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===M.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(i=parseFloat(i)||0)+Qt(t,e,n||(o?"border":"content"),a,r,i)+"px"}function ee(t,e,n,r,i){return new ee.prototype.init(t,e,n,r,i)}M.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=Z(e),u=Ut.test(e),c=t.style;if(u||(e=Kt(s)),a=M.cssHooks[e]||M.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:c[e];"string"===(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=ut(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(M.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,a,s=Z(e);return Ut.test(e)||(e=Kt(s)),(a=M.cssHooks[e]||M.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=Wt(t,e,r)),"normal"===i&&e in Xt&&(i=Xt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),M.each(["height","width"],function(t,e){M.cssHooks[e]={get:function(t,n,r){if(n)return!qt.test(M.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,r):st(t,Yt,function(){return te(t,e,r)})},set:function(t,n,r){var i,o=Ft(t),a="border-box"===M.css(t,"boxSizing",!1,o),s=r&&Qt(t,e,r,a,o);return a&&m.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Qt(t,e,"border",!1,o)-.5)),s&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=M.css(t,e)),Jt(0,n,s)}}}),M.cssHooks.marginLeft=Gt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(t,e){M.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(M.cssHooks[t+e].set=Jt)}),M.fn.extend({css:function(t,e){return q(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Ft(t),i=e.length;a<i;a++)o[e[a]]=M.css(t,e[a],!1,r);return o}return void 0!==n?M.style(t,e,n):M.css(t,e)},t,e,arguments.length>1)}}),M.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||M.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(M.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=M.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=M.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){M.fx.step[t.prop]?M.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[M.cssProps[t.prop]]&&!M.cssHooks[t.prop]?t.elem[t.prop]=t.now:M.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},M.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},M.fx=ee.prototype.init,M.fx.step={};var ne,re,ie=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ae(){re&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,M.fx.interval),M.fx.tick())}function se(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ce(t,e,n){for(var r,i=(le.tweeners[e]||[]).concat(le.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function le(t,e,n){var r,i,o=0,a=le.prefilters.length,s=M.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ne||se(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(t,[c,r,n]),r<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:M.extend({},e),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||se(),duration:n.duration,tweens:[],createTween:function(e,n){var r=M.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),l=c.props;for(!function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=Z(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=M.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=le.prefilters[o].call(c,t,l,c.opts))return y(r.stop)&&(M._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return M.map(l,ce,c),y(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),M.fx.timer(M.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}M.Animation=M.extend(le,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(R);for(var n,r=0,i=t.length;r<i;r++)n=t[r],le.tweeners[n]=le.tweeners[n]||[],le.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,c,l,f="width"in e||"height"in e,h=this,d={},p=t.style,g=t.nodeType&&at(t),v=J.get(t,"fxshow");for(r in n.queue||(null==(a=M._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,M.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[r],ie.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||M.style(t,r)}if((u=!M.isEmptyObject(e))||!M.isEmptyObject(d))for(r in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=v&&v.display)&&(c=J.get(t,"display")),"none"===(l=M.css(t,"display"))&&(c?l=c:(ft([t],!0),c=t.style.display||c,l=M.css(t,"display"),ft([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===M.css(t,"float")&&(u||(h.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=J.access(t,"fxshow",{display:c}),o&&(v.hidden=!g),g&&ft([t],!0),h.done(function(){for(r in g||ft([t]),J.remove(t,"fxshow"),d)M.style(t,r,d[r])})),u=ce(g?v[r]:0,r,h),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?le.prefilters.unshift(t):le.prefilters.push(t)}}),M.speed=function(t,e,n){var r=t&&"object"==typeof t?M.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return M.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in M.fx.speeds?r.duration=M.fx.speeds[r.duration]:r.duration=M.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&M.dequeue(this,r.queue)},r},M.fn.extend({fadeTo:function(t,e,n,r){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=M.isEmptyObject(t),o=M.speed(e,n,r),a=function(){var e=le(this,M.extend({},t),o);(i||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=M.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&oe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||M.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=M.timers,a=r?r.length:0;for(n.finish=!0,M.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),M.each(["toggle","show","hide"],function(t,e){var n=M.fn[e];M.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,r,i)}}),M.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){M.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),M.timers=[],M.fx.tick=function(){var t,e=0,n=M.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||M.fx.stop(),ne=void 0},M.fx.timer=function(t){M.timers.push(t),M.fx.start()},M.fx.interval=13,M.fx.start=function(){re||(re=!0,ae())},M.fx.stop=function(){re=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(t,e){return t=M.fx&&M.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var fe,he=M.expr.attrHandle;M.fn.extend({attr:function(t,e){return q(this,M.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){M.removeAttr(this,t)})}}),M.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?M.prop(t,e,n):(1===o&&M.isXMLDoc(t)||(i=M.attrHooks[e.toLowerCase()]||(M.expr.match.bool.test(e)?fe:void 0)),void 0!==n?null===n?void M.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=M.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&k(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(R);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),fe={set:function(t,e,n){return!1===e?M.removeAttr(t,n):t.setAttribute(n,n),n}},M.each(M.expr.match.bool.source.match(/\w+/g),function(t,e){var n=he[e]||M.find.attr;he[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=he[a],he[a]=i,i=null!=n(t,e,r)?a:null,he[a]=o),i}});var de=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function ge(t){return(t.match(R)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}M.fn.extend({prop:function(t,e){return q(this,M.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[M.propFix[t]||t]})}}),M.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&M.isXMLDoc(t)||(e=M.propFix[e]||e,i=M.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=M.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(M.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this}),M.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){M(this).addClass(t.call(this,e,ve(this)))});if((e=me(t)).length)for(;n=this[u++];)if(i=ve(n),r=1===n.nodeType&&" "+ge(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ge(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){M(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[u++];)if(i=ve(n),r=1===n.nodeType&&" "+ge(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=ge(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){M(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,i,o,a;if(r)for(i=0,o=M(this),a=me(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ge(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;M.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,M(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=M.map(i,function(t){return null==t?"":t+""})),(e=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=M.valHooks[i.type]||M.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ye,""):null==n?"":n:void 0}}),M.extend({valHooks:{option:{get:function(t){var e=M.find.attr(t,"value");return null!=e?e:ge(M.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(e=M(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=M.makeArray(e),a=i.length;a--;)((r=i[a]).selected=M.inArray(M.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=M.inArray(M(t).val(),e)>-1}},m.checkOn||(M.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};M.extend(M.event,{trigger:function(t,e,r,i){var o,s,u,c,l,f,h,d,g=[r||a],v=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(s=d=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!xe.test(v+M.event.triggered)&&(v.indexOf(".")>-1&&(v=(m=v.split(".")).shift(),m.sort()),l=v.indexOf(":")<0&&"on"+v,(t=t[M.expando]?t:new M.Event(v,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:M.makeArray(e,[t]),h=M.event.special[v]||{},i||!h.trigger||!1!==h.trigger.apply(r,e))){if(!i&&!h.noBubble&&!x(r)){for(c=h.delegateType||v,xe.test(c+v)||(s=s.parentNode);s;s=s.parentNode)g.push(s),u=s;u===(r.ownerDocument||a)&&g.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=g[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?c:h.bindType||v,(f=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&f.apply(s,e),(f=l&&s[l])&&f.apply&&$(s)&&(t.result=f.apply(s,e),!1===t.result&&t.preventDefault());return t.type=v,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(g.pop(),e)||!$(r)||l&&y(r[v])&&!x(r)&&((u=r[l])&&(r[l]=null),M.event.triggered=v,t.isPropagationStopped()&&d.addEventListener(v,_e),r[v](),t.isPropagationStopped()&&d.removeEventListener(v,_e),M.event.triggered=void 0,u&&(r[l]=u)),t.result}},simulate:function(t,e,n){var r=M.extend(new M.Event,n,{type:t,isSimulated:!0});M.event.trigger(r,null,e)}}),M.fn.extend({trigger:function(t,e){return this.each(function(){M.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return M.event.trigger(t,e,n,!0)}}),m.focusin||M.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){M.event.simulate(e,t.target,M.event.fix(t))};M.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,e);i||r.addEventListener(t,n,!0),J.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,e)-1;i?J.access(r,e,i):(r.removeEventListener(t,n,!0),J.remove(r,e))}}});var be=n.location,we=Date.now(),Me=/\?/;M.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||M.error("Invalid XML: "+t),e};var Se=/\[\]$/,Ae=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;function Ie(t,e,n,r){var i;if(Array.isArray(e))M.each(e,function(e,i){n||Se.test(t)?r(t,i):Ie(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==w(e))r(t,e);else for(i in e)Ie(t+"["+i+"]",e[i],n,r)}M.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!M.isPlainObject(t))M.each(t,function(){i(this.name,this.value)});else for(n in t)Ie(n,t[n],e,i);return r.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=M.prop(this,"elements");return t?M.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!M(this).is(":disabled")&&Oe.test(this.nodeName)&&!Te.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var n=M(this).val();return null==n?null:Array.isArray(n)?M.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Ce=/%20/g,ke=/#.*$/,De=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ee=/^(?:GET|HEAD)$/,Pe=/^\/\//,Ne={},je={},ze="*/".concat("*"),Re=a.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(R)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ve(t,e,n,r){var i={},o=t===je;function a(s){var u;return i[s]=!0,M.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),u}return a(e.dataTypes[0])||!i["*"]&&a("*")}function Fe(t,e){var n,r,i=M.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&M.extend(!0,t,r),t}Re.href=be.href,M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,M.ajaxSettings),e):Fe(M.ajaxSettings,t)},ajaxPrefilter:Be(Ne),ajaxTransport:Be(je),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,u,c,l,f,h,d,p=M.ajaxSetup({},e),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?M(g):M.event,m=M.Deferred(),y=M.Callbacks("once memory"),x=p.statusCode||{},_={},b={},w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=Le.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)S.always(t[S.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),A(0,e),this}};if(m.promise(S),p.url=((t||p.url||be.href)+"").replace(Pe,be.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(R)||[""],null==p.crossDomain){c=a.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Re.protocol+"//"+Re.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=M.param(p.data,p.traditional)),Ve(Ne,p,e,S),l)return S;for(h in(f=M.event&&p.global)&&0==M.active++&&M.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ee.test(p.type),i=p.url.replace(ke,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ce,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Me.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(De,"$1"),d=(Me.test(i)?"&":"?")+"_="+we+++d),p.url=i+d),p.ifModified&&(M.lastModified[i]&&S.setRequestHeader("If-Modified-Since",M.lastModified[i]),M.etag[i]&&S.setRequestHeader("If-None-Match",M.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ze+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||l))return S.abort();if(w="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=Ve(je,p,e,S)){if(S.readyState=1,f&&v.trigger("ajaxSend",[S,p]),l)return S;p.async&&p.timeout>0&&(u=n.setTimeout(function(){S.abort("timeout")},p.timeout));try{l=!1,r.send(_,A)}catch(t){if(l)throw t;A(-1,t)}}else A(-1,"No Transport");function A(t,e,a,s){var c,h,d,_,b,w=e;l||(l=!0,u&&n.clearTimeout(u),r=void 0,o=s||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(_=function(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,S,a)),_=function(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,_,S,c),c?(p.ifModified&&((b=S.getResponseHeader("Last-Modified"))&&(M.lastModified[i]=b),(b=S.getResponseHeader("etag"))&&(M.etag[i]=b)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=_.state,h=_.data,c=!(d=_.error))):(d=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(e||w)+"",c?m.resolveWith(g,[h,w,S]):m.rejectWith(g,[S,w,d]),S.statusCode(x),x=void 0,f&&v.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?h:d]),y.fireWith(g,[S,w]),f&&(v.trigger("ajaxComplete",[S,p]),--M.active||M.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return M.get(t,e,n,"json")},getScript:function(t,e){return M.get(t,void 0,e,"script")}}),M.each(["get","post"],function(t,e){M[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),M.ajax(M.extend({url:t,type:e,dataType:i,data:n,success:r},M.isPlainObject(t)&&t))}}),M._evalUrl=function(t){return M.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},M.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=M(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){M(this).wrapInner(t.call(this,e))}):this.each(function(){var e=M(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){M(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(t){return!M.expr.pseudos.visible(t)},M.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},We=M.ajaxSettings.xhr();m.cors=!!We&&"withCredentials"in We,m.ajax=We=!!We,M.ajaxTransport(function(t){var e,r;if(m.cors||We&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(He[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),M.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return M.globalEval(t),t}}}),M.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),M.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=M("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ge,qe=[],Ue=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||M.expando+"_"+we++;return this[t]=!0,t}}),M.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Ue.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ue.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ue,"$1"+i):!1!==t.jsonp&&(t.url+=(Me.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||M.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?M(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,qe.push(i)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),m.createHTMLDocument=((Ge=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),M.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),i=D.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=bt([t],e,o),o&&o.length&&M(o).remove(),M.merge([],i.childNodes)));var r,i,o},M.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=ge(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&M.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?M("<div>").append(M.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){M.fn[e]=function(t){return this.on(e,t)}}),M.expr.pseudos.animated=function(t){return M.grep(M.timers,function(e){return t===e.elem}).length},M.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,c=M.css(t,"position"),l=M(t),f={};"static"===c&&(t.style.position="relative"),s=l.offset(),o=M.css(t,"top"),u=M.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,n,M.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):l.css(f)}},M.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){M.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===M.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===M.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=M(t).offset()).top+=M.css(t,"borderTopWidth",!0),i.left+=M.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-M.css(r,"marginTop",!0),left:e.left-i.left-M.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===M.css(t,"position");)t=t.offsetParent;return t||wt})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;M.fn[t]=function(r){return q(this,function(t,r,i){var o;if(x(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),M.each(["top","left"],function(t,e){M.cssHooks[e]=Gt(m.pixelPosition,function(t,n){if(n)return n=Wt(t,e),Vt.test(n)?M(t).position()[e]+"px":n})}),M.each({Height:"height",Width:"width"},function(t,e){M.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){M.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return q(this,function(e,n,i){var o;return x(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?M.css(e,n,s):M.style(e,n,i,s)},e,a?i:void 0,a)}})}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){M.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),M.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),M.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),M.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=u.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||M.guid++,i},M.holdReady=function(t){t?M.readyWait++:M.ready(!0)},M.isArray=Array.isArray,M.parseJSON=JSON.parse,M.nodeName=k,M.isFunction=y,M.isWindow=x,M.camelCase=Z,M.type=w,M.now=Date.now,M.isNumeric=function(t){var e=M.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(r=function(){return M}.apply(e,[]))||(t.exports=r);var Ye=n.jQuery,Xe=n.$;return M.noConflict=function(t){return n.$===M&&(n.$=Xe),t&&n.jQuery===M&&(n.jQuery=Ye),M},i||(n.jQuery=n.$=M),M})},function(t,e,n){(function(t,r){var i;(function(){"use strict";var o={function:!0,object:!0},a=o[typeof window]&&window||this,s=o[typeof e]&&e,u=o[typeof t]&&t&&!t.nodeType&&t,c=s&&u&&"object"==typeof r&&r;!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c);var l=Math.pow(2,53)-1,f=/\bOpera/,h=Object.prototype,d=h.hasOwnProperty,p=h.toString;function g(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function v(t){return t=b(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:g(t)}function m(t,e){for(var n in t)d.call(t,n)&&e(t[n],n,t)}function y(t){return null==t?g(t):p.call(t).slice(8,-1)}function x(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function _(t,e){var n=null;return function(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r&&r>-1&&r<=l)for(;++n<r;)e(t[n],n,t);else m(t,e)}(t,function(r,i){n=e(n,r,i,t)}),n}function b(t){return String(t).replace(/^ +| +$/g,"")}var w=function t(e){var n=a,r=e&&"object"==typeof e&&"String"!=y(e);r&&(n=e,e=null);var i=n.navigator||{},o=i.userAgent||"";e||(e=o);var s,u,c,l,h,d=r?!!i.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(p.toString()),g=r?"Object":"ScriptBridgingProxyObject",w=r?"Object":"Environment",M=r&&n.java?"JavaPackage":y(n.java),S=r?"Object":"RuntimeObject",A=/\bJava/.test(M)&&n.java,T=A&&y(n.environment)==w,O=A?"a":"",I=A?"b":"",C=n.document||{},k=n.operamini||n.opera,D=f.test(D=r&&k?k["[[Class]]"]:y(k))?D:k=null,L=e,E=[],P=null,N=e==o,j=N&&k&&"function"==typeof k.version&&k.version(),z=_([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(t,n){return t||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(e)&&(n.label||n)}),R=function(t){return _(t,function(t,n){return t||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),B=H([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=function(t){return _(t,function(t,n,r){return t||(n[B]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+x(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),F=function(t){return _(t,function(t,n){var r=n.pattern||x(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(t,e,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&n&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(r=r[/[\d.]+$/.exec(t)])&&(t="Windows "+r),t=String(t),e&&n&&(t=t.replace(RegExp(e,"i"),n)),t=v(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,r,n.label||n)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function H(t){return _(t,function(t,n){var r=n.pattern||x(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=v(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}if(z&&(z=[z]),V&&!B&&(B=H([V])),(s=/\bGoogle TV\b/.exec(B))&&(B=s[0]),/\bSimulator\b/i.test(e)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==R&&/\bOPiOS\b/.test(e)&&E.push("running in Turbo/Uncompressed mode"),"IE"==R&&/\blike iPhone OS\b/.test(e)?(V=(s=t(e.replace(/like iPhone OS/,""))).manufacturer,B=s.product):/^iP/.test(B)?(R||(R="Safari"),F="iOS"+((s=/ OS ([\d_]+)/i.exec(e))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"!=R||/buntu/i.test(F)?V&&"Google"!=V&&(/Chrome/.test(R)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(B))||/\bAndroid\b/.test(F)&&/^Chrome/.test(R)&&/\bVersion\//i.test(e)?(R="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==R?(/\bMobi/i.test(e)||(F="Android",E.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&E.unshift("accelerated")):"PaleMoon"==R&&(s=/\bFirefox\/([\d.]+)\b/.exec(e))?E.push("identifying as Firefox "+s[1]):"Firefox"==R&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(F||(F="Firefox OS"),B||(B=s[1])):!R||(s=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(R))?(R&&!B&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(s+"/")+8))&&(R=null),(s=B||V||F)&&(B||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(R=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:s)+" Browser")):"Electron"==R&&(s=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&E.push("Chromium "+s):F="Kubuntu",j||(j=_(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",x(R),"(?:Firefox|Minefield|NetFront)"],function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})),(s=("iCab"==z&&parseFloat(j)>3?"WebKit":/\bOpera\b/.test(R)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(z)&&"WebKit"||!z&&/\bMSIE\b/i.test(e)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==z&&/\bPlayStation\b(?! Vita\b)/i.test(R)&&"NetFront")&&(z=[s]),"IE"==R&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(R+=" Mobile",F="Windows Phone "+(/\+$/.test(s)?s:s+".x"),E.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(R="IE Mobile",F="Windows Phone 8.x",E.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=R&&"Trident"==z&&(s=/\brv:([\d.]+)/.exec(e))&&(R&&E.push("identifying as "+R+(j?" "+j:"")),R="IE",j=s[1]),N){if(l="global",h=null!=(c=n)?typeof c[l]:"number",/^(?:boolean|number|string|undefined)$/.test(h)||"object"==h&&!c[l])y(s=n.runtime)==g?(R="Adobe AIR",F=s.flash.system.Capabilities.os):y(s=n.phantom)==S?(R="PhantomJS",j=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof C.documentMode&&(s=/\bTrident\/(\d+)/i.exec(e))?(j=[j,C.documentMode],(s=+s[1]+4)!=j[1]&&(E.push("IE "+j[1]+" mode"),z&&(z[1]=""),j[1]=s),j="IE"==R?String(j[1].toFixed(1)):j[0]):"number"==typeof C.documentMode&&/^(?:Chrome|Firefox)\b/.test(R)&&(E.push("masking as "+R+" "+j),R="IE",j="11.0",z=["Trident"],F="Windows");else if(A&&(L=(s=A.lang.System).getProperty("os.arch"),F=F||s.getProperty("os.name")+" "+s.getProperty("os.version")),T){try{j=n.require("ringo/engine").version.join("."),R="RingoJS"}catch(t){(s=n.system)&&s.global.system==n.system&&(R="Narwhal",F||(F=s[0].os||null))}R||(R="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(E.push("Node "+s.versions.node),R="Electron",j=s.versions.electron):"string"==typeof s.versions.nw&&(E.push("Chromium "+j,"Node "+s.versions.node),R="NW.js",j=s.versions.nw)),R||(R="Node.js",L=s.arch,F=s.platform,j=(j=/[\d.]+/.exec(s.version))?j[0]:null));F=F&&v(F)}if(j&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(N&&i.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(P=/b/i.test(s)?"beta":"alpha",j=j.replace(RegExp(s+"\\+?$"),"")+("beta"==P?I:O)+(/\d+\+?/.exec(s)||"")),"Fennec"==R||"Firefox"==R&&/\b(?:Android|Firefox OS)\b/.test(F))R="Firefox Mobile";else if("Maxthon"==R&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(F=null),"Xbox 360"==B&&/\bIEMobile\b/.test(e)&&E.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(R)&&(!R||B||/Browser|Mobi/.test(R))||"Windows CE"!=F&&!/Mobi/i.test(e))if("IE"==R&&N)try{null===n.external&&E.unshift("platform preview")}catch(t){E.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(e))&&(s=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||j)?(F=((s=[s,/BB10/.test(e)])[1]?(B=null,V="BlackBerry"):"Device Software")+" "+s[0],j=null):this!=m&&"Wii"!=B&&(N&&k||/Opera/.test(R)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==R&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==R&&(F&&!/^Win/.test(F)&&j>5.5||/\bWindows XP\b/.test(F)&&j>8||8==j&&!/\bTrident\b/.test(e)))&&!f.test(s=t.call(m,e.replace(f,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),f.test(R)?(/\bIE\b/.test(s)&&"Mac OS"==F&&(F=null),s="identify"+s):(s="mask"+s,R=D?v(D.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(F=null),N||(j=null)),z=["Presto"],E.push(s));else R+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==R&&"+"==s[1].slice(-1)?(R="WebKit Nightly",P="alpha",j=s[1].slice(0,-1)):j!=s[1]&&j!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(j=null),s[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==z&&(z=["Blink"]),N&&(d||s[1])?(z&&(z[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=z?"27":"28")):(z&&(z[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:"8"),z&&(z[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==R&&(!j||parseInt(j)>45)&&(j=s)),"Opera"==R&&(s=/\bzbov|zvav$/.exec(F))?(R+=" ",E.unshift("desktop mode"),"zvav"==s?(R+="Mini",j=null):R+="Mobile",F=F.replace(RegExp(" *"+s+"$"),"")):"Safari"==R&&/\bChrome\b/.exec(z&&z[1])&&(E.unshift("desktop mode"),R="Chrome Mobile",j=null,/\bOS X\b/.test(F)?(V="Apple",F="iOS 4.3+"):F=null),j&&0==j.indexOf(s=/[\d.]+$/.exec(F))&&e.indexOf("/"+s+"-")>-1&&(F=b(F.replace(s,""))),z&&!/\b(?:Avant|Nook)\b/.test(R)&&(/Browser|Lunascape|Maxthon/.test(R)||"Safari"!=R&&/^iOS/.test(F)&&/\bSafari\b/.test(z[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(R)&&z[1])&&(s=z[z.length-1])&&E.push(s),E.length&&(E=["("+E.join("; ")+")"]),V&&B&&B.indexOf(V)<0&&E.push("on "+V),B&&E.push((/^on /.test(E[E.length-1])?"":"on ")+B),F&&(s=/ ([\d.+]+)$/.exec(F),u=s&&"/"==F.charAt(F.length-s[0].length-1),F={architecture:32,family:s&&!u?F.replace(s[0],""):F,version:s?s[1]:null,toString:function(){var t=this.version;return this.family+(t&&!u?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(L))&&!/\bi686\b/i.test(L)?(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+s),"")),R&&(/\bWOW64\b/i.test(e)||N&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(e))&&E.unshift("32-bit")):F&&/^OS X/.test(F.family)&&"Chrome"==R&&parseFloat(j)>=39&&(F.architecture=64),e||(e=null);var W={};return W.description=e,W.layout=z&&z[0],W.manufacturer=V,W.name=R,W.prerelease=P,W.product=B,W.ua=e,W.version=R&&j,W.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},W.parse=t,W.toString=function(){return this.description||""},W.version&&E.unshift(j),W.name&&E.unshift(R),F&&R&&(F!=String(F).split(" ")[0]||F!=R.split(" ")[0]&&!B)&&E.push(B?"("+F+")":"on "+F),E.length&&(W.description=E.join(" ")),W}();a.platform=w,void 0===(i=function(){return w}.call(e,n,e,t))||(t.exports=i)}).call(this)}).call(e,n(382)(t),n(41))},function(t,e,n){t.exports={graphlib:n(1375),dagre:n(1039),intersect:n(1541),render:n(1543),util:n(768),version:n(1936)}},function(t,e,n){var r=n(1376);t.exports={Graph:r.Graph,json:n(1476),alg:n(1477),version:r.version}},function(t,e,n){var r=n(847),i=n(897),o=n(852),a=n(1404),s=n(1410),u=n(1e3),c=n(1001),l=n(1413),f=n(1414),h=n(1005),d=n(1415),p=n(813),g=n(1419),v=n(1420),m=n(1010),y=n(755),x=n(811),_=n(1424),b=n(153),w=n(1426),M=n(795),S=1,A=2,T=4,O="[object Arguments]",I="[object Function]",C="[object GeneratorFunction]",k="[object Object]",D={};D[O]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[k]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[I]=D["[object WeakMap]"]=!1,t.exports=function t(e,n,L,E,P,N){var j,z=n&S,R=n&A,B=n&T;if(L&&(j=P?L(e,E,P,N):L(e)),void 0!==j)return j;if(!b(e))return e;var V=y(e);if(V){if(j=g(e),!z)return c(e,j)}else{var F=p(e),H=F==I||F==C;if(x(e))return u(e,z);if(F==k||F==O||H&&!P){if(j=R||H?{}:m(e),!z)return R?f(e,s(j,e)):l(e,a(j,e))}else{if(!D[F])return P?e:{};j=v(e,F,z)}}N||(N=new r);var W=N.get(e);if(W)return W;if(N.set(e,j),w(e))return e.forEach(function(r){j.add(t(r,n,L,r,e,N))}),j;if(_(e))return e.forEach(function(r,i){j.set(i,t(r,n,L,i,e,N))}),j;var G=B?R?d:h:R?keysIn:M,q=V?void 0:G(e);return i(q||e,function(r,i){q&&(r=e[i=r]),o(j,i,t(r,n,L,i,e,N))}),j}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(801),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(1405),i=n(825),o=n(755),a=n(811),s=n(854),u=n(826),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),d=n||l||f||h,p=d?r(t.length,String):[],g=p.length;for(var v in t)!e&&!c.call(t,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(t){var r=n(154),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(e,n(382)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(902),i=n(857),o=n(901),a=n(1003),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(1006),i=n(901),o=n(795);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(902),i=n(755);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){var r=n(801)(n(154),"Set");t.exports=r},function(t,e,n){var r=n(154).Uint8Array;t.exports=r},function(t,e,n){var r=n(903);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(1011),i=n(857),o=n(856);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(153),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(897),i=n(858),o=n(1013),a=n(755);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(802);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(1002),i=n(1430),o=n(783),a=n(755);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(1433),i=n(379);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(1017),i=n(1436),o=n(1018),a=1,s=2;t.exports=function(t,e,n,u,c,l){var f=n&a,h=t.length,d=e.length;if(h!=d&&!(f&&d>h))return!1;var p=l.get(t);if(p&&l.get(e))return p==e;var g=-1,v=!0,m=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++g<h;){var y=t[g],x=e[g];if(u)var _=f?u(x,y,g,e,t,l):u(y,x,g,t,e,l);if(void 0!==_){if(_)continue;v=!1;break}if(m){if(!i(e,function(t,e){if(!o(m,e)&&(y===t||c(y,t,n,u,l)))return m.push(e)})){v=!1;break}}else if(y!==x&&!c(y,x,n,u,l)){v=!1;break}}return l.delete(t),l.delete(e),v}},function(t,e,n){var r=n(896),i=n(1434),o=n(1435);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(153);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(1446);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(1447),i=n(1023);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(859),i=n(825),o=n(755),a=n(854),s=n(898),u=n(827);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=u(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(h,l)&&(o(t)||i(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(860),i=n(783),o=n(1027),a=n(755);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(858),i=n(782);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e,n){var r=n(1452),i=n(858),o=n(783),a=n(1453),s=n(755);t.exports=function(t,e,n){var u=s(t)?r:a,c=arguments.length<3;return u(t,o(e,4),n,c,i)}},function(t,e,n){var r=n(1463),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e,n){var r=n(1464),i=n(1465)(r);t.exports=i},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(782),i=n(379);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(1474),i=n(795);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(767),i=n(1035);t.exports=function(t,e,n,r){return function(t,e,n,r){var o,a,s={},u=new i,c=function(t){var e=t.v!==o?t.v:t.w,r=s[e],i=n(t),c=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);c<r.distance&&(r.distance=c,r.predecessor=o,u.decrease(e,c))};t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)});for(;u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return s}(t,String(e),n||o,r||function(e){return t.outEdges(e)})};var o=r.constant(1)},function(t,e,n){var r=n(767);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(t){return t.key})},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,o=i.length;return n[t]=o,i.push({key:t,priority:e}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},function(t,e,n){var r=n(767);t.exports=function(t){var e=0,n=[],i={},o=[];return t.nodes().forEach(function(a){r.has(i,a)||function a(s){var u=i[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(t){r.has(i,t)?i[t].onStack&&(u.lowlink=Math.min(u.lowlink,i[t].index)):(a(t),u.lowlink=Math.min(u.lowlink,i[t].lowlink))}),u.lowlink===u.index){var c,l=[];do{c=n.pop(),i[c].onStack=!1,l.push(c)}while(s!==c);o.push(l)}}(a)}),o}},function(t,e,n){var r=n(767);function i(t){var e={},n={},i=[];if(r.each(t.sinks(),function a(s){if(r.has(n,s))throw new o;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],i.push(s))}),r.size(e)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o,o.prototype=new Error},function(t,e,n){var r=n(767);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],a={};return r.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,i,o,a,s){r.has(o,n)||(o[n]=!0,i||s.push(n),r.each(a(n),function(n){t(e,n,i,o,a,s)}),i&&s.push(n))}(t,e,"post"===n,a,i,o)}),o}},function(t,e,n){var r;try{r=n(1486)}catch(t){}r||(r=window.dagre),t.exports=r},function(t,e,n){var r=n(861),i=n(809),o=n(862),a=n(812),s=Object.prototype,u=s.hasOwnProperty,c=r(function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(r=1);++n<r;)for(var l=e[n],f=a(l),h=-1,d=f.length;++h<d;){var p=f[h],g=t[p];(void 0===g||i(g,s[p])&&!u.call(t,p))&&(t[p]=l[p])}return t});t.exports=c},function(t,e,n){var r=n(405),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(912);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){var r=n(853),i=n(809);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(381),i=n(857),o=n(379),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){var r=n(1505),i=n(1508)(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){var r=n(1509)();t.exports=r},function(t,e,n){var r=n(1021),i=0;t.exports=function(t){var e=++i;return r(t)+e}},function(t,e,n){"use strict";var r=n(745),i=n(774).Graph,o=n(863).slack;function a(t,e){return r.forEach(t.nodes(),function n(i){r.forEach(e.nodeEdges(i),function(r){var a=r.v,s=i===a?r.w:a;t.hasNode(s)||o(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))})}),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return o(e,n)})}function u(t,e,n){r.forEach(t.nodes(),function(t){e.node(t).rank+=n})}t.exports=function(t){var e,n,r=new i({directed:!1}),c=t.nodes()[0],l=t.nodeCount();r.setNode(c,{});for(;a(r,t)<l;)e=s(r,t),n=r.hasNode(e.v)?o(t,e):-o(t,e),u(r,t,n);return r}},function(t,e){t.exports=function(t,e){return t.intersect(e)}},function(t,e,n){var r=n(914);t.exports=function(t,e,n){return r(t,e,e,n)}},function(t,e,n){var r=n(1542);t.exports=function(t,e,n){var i=t.x,o=t.y,a=[],s=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;e.forEach(function(t){s=Math.min(s,t.x),u=Math.min(u,t.y)});for(var c=i-t.width/2-s,l=o-t.height/2-u,f=0;f<e.length;f++){var h=e[f],d=e[f<e.length-1?f+1:0],p=r(t,n,{x:c+h.x,y:l+h.y},{x:c+d.x,y:l+d.y});p&&a.push(p)}if(!a.length)return t;a.length>1&&a.sort(function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,u=Math.sqrt(a*a+s*s);return o<u?-1:o===u?0:1});return a[0]}},function(t,e){t.exports=function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,c=t.height/2;Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=0===s?0:c*a/s,r=c):(a<0&&(u=-u),n=u,r=0===a?0:u*s/a);return{x:i+n,y:o+r}}},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var r=n(815),i=n(1056),o=Object(i.a)(r.a),a=o.right,s=o.left;e.c=a},function(t,e,n){"use strict";var r=n(815);e.a=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Object(r.a)(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}},function(t,e,n){"use strict";function r(t,e){return[t,e]}e.b=r,e.a=function(t,e){null==e&&(e=r);for(var n=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(o,o=t[++n]);return a}},function(t,e,n){"use strict";var r=n(1059);e.a=function(t,e){var n=Object(r.a)(t,e);return n?Math.sqrt(n):n}},function(t,e,n){"use strict";var r=n(828);e.a=function(t,e){var n,i,o=t.length,a=0,s=-1,u=0,c=0;if(null==e)for(;++s<o;)isNaN(n=Object(r.a)(t[s]))||(c+=(i=n-u)*(n-(u+=i/++a)));else for(;++s<o;)isNaN(n=Object(r.a)(e(t[s],s,t)))||(c+=(i=n-u)*(n-(u+=i/++a)));if(a>1)return c/(a-1)}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(t,e,n){"use strict";e.a=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}},function(t,e,n){"use strict";e.b=a,e.c=function(t,e,n){var a=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/s;u>=r?s*=10:u>=i?s*=5:u>=o&&(s*=2);return e<t?-s:s};var r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2);function a(t,e,n){var a=(e-t)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,s);return s>=0?(u>=r?10:u>=i?5:u>=o?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=i?5:u>=o?2:1)}e.a=function(t,e,n){var r,i,o,s,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=a(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/s;return r&&o.reverse(),o}},function(t,e,n){"use strict";e.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}},function(t,e,n){"use strict";var r=n(1065);function i(t){return t.length}e.a=function(t){if(!(a=t.length))return[];for(var e=-1,n=Object(r.a)(t,i),o=new Array(n);++e<n;)for(var a,s=-1,u=o[e]=new Array(a);++s<a;)u[s]=t[s][e];return o}},function(t,e,n){"use strict";n(1569);var r=n(1074);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b})},function(t,e,n){"use strict";var r=n(775);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return this.matches(t)}}},function(t,e,n){"use strict";e.a=o;var r=n(1072),i=n(775);function o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.b=function(){return new i.a(this._enter||this._groups.map(r.a),this._parents)},o.prototype={constructor:o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";e.b=i;var r=n(919);function i(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):i(this.node(),t)}},function(t,e,n){"use strict";e.b=function(t,e){var n=t.document.documentElement,o=Object(r.select)(t).on("dragstart.drag",null);e&&(o.on("click.drag",i.a,!0),setTimeout(function(){o.on("click.drag",null)},0));"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)};var r=n(756),i=n(1075);e.a=function(t){var e=t.document.documentElement,n=Object(r.select)(t).on("dragstart.drag",i.a,!0);"onselectstart"in e?n.on("selectstart.drag",i.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,n){"use strict";e.b=function(){r.event.stopImmediatePropagation()};var r=n(756);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";var r=n(784),i=n(925),o=n(1078),a=n(817);function s(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}e.a=function t(e){var n=Object(a.b)(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),s=n(t.b,e.b),u=Object(a.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=s(e),t.opacity=u(e),t+""}}return i.gamma=t,i}(1);s(i.b),s(o.a)},function(t,e,n){"use strict";var r=n(925);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(922);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),s=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(922);e.a=function(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Object(r.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}},function(t,e,n){"use strict";var r=n(866),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var n,a,s,u=i.lastIndex=o.lastIndex=0,c=-1,l=[],f=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),l[c]?l[c]+=s:l[++c]=s),(n=n[0])===(a=a[0])?l[c]?l[c]+=a:l[++c]=a:(l[++c]=null,f.push({i:c,x:Object(r.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),l[c]?l[c]+=s:l[++c]=s),l.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)l[(n=f[r]).i]=n.x(t);return l.join("")})}},function(t,e,n){"use strict";n(1622),n(797),n(1655);var r=n(1085);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(765);e.a=function(t,e){var n,i,o,a=t.__transition,s=!0;if(a){for(o in e=null==e?null:e+"",a)(n=a[o]).name===e?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(784),i=n(780);e.a=function(t,e){var n;return("number"==typeof e?i.c:e instanceof r.a?i.d:(n=Object(r.a)(e))?(e=n,i.d):i.f)(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return u});var r=Math.cos,i=Math.sin,o=Math.PI,a=o/2,s=2*o,u=Math.max},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";var r=n(1673);n.d(e,"a",function(){return r.a});var i=n(1096);n.d(e,"b",function(){return i.a}),n.d(e,"c",function(){return i.b})},function(t,e,n){"use strict";var r=n(776);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return o.call(this,t)}}}}e.a=r},function(t,e,n){"use strict";e.a=o;var r=n(1094),i=n(776);function o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.b=function(){return new i.a(this._enter||this._groups.map(r.a),this._parents)},o.prototype={constructor:o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";e.b=i;var r=n(934);function i(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):i(this.node(),t)}},function(t,e,n){"use strict";e.b=function(t,e){var n=t.document.documentElement,o=Object(r.k)(t).on("dragstart.drag",null);e&&(o.on("click.drag",i.a,!0),setTimeout(function(){o.on("click.drag",null)},0));"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)};var r=n(759),i=n(1097);e.a=function(t){var e=t.document.documentElement,n=Object(r.k)(t).on("dragstart.drag",i.a,!0);"onselectstart"in e?n.on("selectstart.drag",i.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,n){"use strict";e.b=function(){r.e.stopImmediatePropagation()};var r=n(759);e.a=function(){r.e.preventDefault(),r.e.stopImmediatePropagation()}},function(t,e,n){"use strict";var r=n(1712);n.d(e,"y",function(){return r.a});var i=n(1713);n.d(e,"D",function(){return i.b}),n.d(e,"E",function(){return i.a}),n.d(e,"G",function(){return i.c}),n.d(e,"F",function(){return i.b});var o=n(1714);n.d(e,"m",function(){return o.b}),n.d(e,"n",function(){return o.a}),n.d(e,"p",function(){return o.c}),n.d(e,"o",function(){return o.b});var a=n(1715);n.d(e,"z",function(){return a.b}),n.d(e,"A",function(){return a.a}),n.d(e,"C",function(){return a.c}),n.d(e,"B",function(){return a.b});var s=n(1716);n.d(e,"H",function(){return s.b}),n.d(e,"I",function(){return s.a}),n.d(e,"K",function(){return s.c}),n.d(e,"J",function(){return s.b});var u=n(1717);n.d(e,"u",function(){return u.b}),n.d(e,"v",function(){return u.a}),n.d(e,"x",function(){return u.c}),n.d(e,"w",function(){return u.b});var c=n(1718);n.d(e,"i",function(){return c.b}),n.d(e,"j",function(){return c.a}),n.d(e,"l",function(){return c.c}),n.d(e,"k",function(){return c.b});var l=n(1719);n.d(e,"e",function(){return l.c}),n.d(e,"f",function(){return l.a}),n.d(e,"h",function(){return l.c}),n.d(e,"g",function(){return l.b});var f=n(1720);n.d(e,"a",function(){return f.b}),n.d(e,"b",function(){return f.a}),n.d(e,"d",function(){return f.c}),n.d(e,"c",function(){return f.b});var h=n(1721);n.d(e,"q",function(){return h.c}),n.d(e,"r",function(){return h.a}),n.d(e,"t",function(){return h.c}),n.d(e,"s",function(){return h.b})},function(t,e,n){"use strict";e.b=function(t){return t.x},e.c=function(t){return t.y};var r=n(816),i=n(829),o=n(926);var a=10,s=Math.PI*(3-Math.sqrt(5));e.a=function(t){var e,n=1,u=.001,c=1-Math.pow(u,1/300),l=0,f=.6,h=Object(i.c)(),d=Object(o.c)(g),p=Object(r.a)("tick","end");function g(){v(),p.call("tick",e),n<u&&(d.stop(),p.call("end",e))}function v(){var e,r,i=t.length;for(n+=(l-n)*c,h.each(function(t){t(n)}),e=0;e<i;++e)null==(r=t[e]).fx?r.x+=r.vx*=f:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=f:(r.y=r.fy,r.vy=0)}function m(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var i=a*Math.sqrt(n),o=n*s;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function y(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),m(),e={tick:v,restart:function(){return d.restart(g),e},stop:function(){return d.stop(),e},nodes:function(n){return arguments.length?(t=n,m(),h.each(y),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(u=+t,e):u},alphaDecay:function(t){return arguments.length?(c=+t,e):+c},alphaTarget:function(t){return arguments.length?(l=+t,e):l},velocityDecay:function(t){return arguments.length?(f=1-t,e):1-f},force:function(t,n){return arguments.length>1?(null==n?h.remove(t):h.set(t,y(n)),e):h.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(p.on(t,n),e):p.on(t)}}}},function(t,e,n){"use strict";var r=n(871),i=n(1744),o=n(1745),a=n(1101),s=n(1102),u=n(1103),c=n(1748),l=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];e.a=function(t){var e=t.grouping&&t.thousands?Object(i.a)(t.grouping,t.thousands):c.a,n=t.currency,f=t.decimal,h=t.numerals?Object(o.a)(t.numerals):c.a,d=t.percent||"%";function p(t){var r=(t=Object(a.a)(t)).fill,i=t.align,o=t.sign,c=t.symbol,p=t.zero,g=t.width,v=t.comma,m=t.precision,y=t.type,x="$"===c?n[0]:"#"===c&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===c?n[1]:/[%p]/.test(y)?d:"",b=s.a[y],w=!y||/[defgprs%]/.test(y);function M(t){var n,a,s,c=x,d=_;if("c"===y)d=b(t)+d,t="";else{var M=(t=+t)<0;if(t=b(Math.abs(t),m),M&&0==+t&&(M=!1),c=(M?"("===o?o:"-":"-"===o||"("===o?"":o)+c,d=("s"===y?l[8+u.b/3]:"")+d+(M&&"("===o?")":""),w)for(n=-1,a=t.length;++n<a;)if(48>(s=t.charCodeAt(n))||s>57){d=(46===s?f+t.slice(n+1):t.slice(n))+d,t=t.slice(0,n);break}}v&&!p&&(t=e(t,1/0));var S=c.length+t.length+d.length,A=S<g?new Array(g-S+1).join(r):"";switch(v&&p&&(t=e(A+t,A.length?g-d.length:1/0),A=""),i){case"<":t=c+t+d+A;break;case"=":t=c+A+t+d;break;case"^":t=A.slice(0,S=A.length>>1)+c+t+d+A.slice(S);break;default:t=A+c+t+d}return h(t)}return m=null==m?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:p,formatPrefix:function(t,e){var n=p(((t=Object(a.a)(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(e)/3))),o=Math.pow(10,-i),s=l[8+i/3];return function(t){return n(o*t)+s}}}}},function(t,e,n){"use strict";e.a=o;var r=n(1102),i=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function o(t){return new a(t)}function a(t){if(!(e=i.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",o=e[2]||">",a=e[3]||"-",s=e[4]||"",u=!!e[5],c=e[6]&&+e[6],l=!!e[7],f=e[8]&&+e[8].slice(1),h=e[9]||"";"n"===h?(l=!0,h="g"):r.a[h]||(h=""),(u||"0"===n&&"="===o)&&(u=!0,n="0",o="="),this.fill=n,this.align=o,this.sign=a,this.symbol=s,this.zero=u,this.width=c,this.comma=l,this.precision=f,this.type=h}o.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(t,e,n){"use strict";var r=n(1746),i=n(1103),o=n(1747);e.a={"":r.a,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Object(o.a)(100*t,e)},r:o.a,s:i.a,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r,i=n(943);e.a=function(t,e){var n=Object(i.a)(t,e);if(!n)return t+"";var o=n[0],a=n[1],s=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=o.length;return s===u?o:s>u?o+new Array(s-u+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+Object(i.a)(t,Math.max(0,e+s-1))[0]}},function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return p});var r,i,o,a,s,u=n(819),c=n(741),l=n(799),f=n(804),h=Object(u.a)(),d=Object(u.a)(),p={point:l.a,lineStart:l.a,lineEnd:l.a,polygonStart:function(){h.reset(),p.lineStart=g,p.lineEnd=v},polygonEnd:function(){var t=+h;d.add(t<0?c.w+t:t),this.lineStart=this.lineEnd=this.point=l.a},sphere:function(){d.add(c.w)}};function g(){p.point=m}function v(){y(r,i)}function m(t,e){p.point=y,r=t,i=e,t*=c.r,e*=c.r,o=t,a=Object(c.g)(e=e/2+c.q),s=Object(c.t)(e)}function y(t,e){t*=c.r,e=(e*=c.r)/2+c.q;var n=t-o,r=n>=0?1:-1,i=r*n,u=Object(c.g)(e),l=Object(c.t)(e),f=s*l,d=a*u+f*Object(c.g)(i),p=f*r*Object(c.t)(i);h.add(Object(c.e)(p,d)),o=t,a=u,s=l}e.c=function(t){return d.reset(),Object(f.a)(t,p),2*d}},function(t,e,n){"use strict";e.a=s;var r=n(830),i=n(1755),o=n(741),a=n(872);function s(t,e,n,i,a,s){if(n){var c=Object(o.g)(e),l=Object(o.t)(e),f=i*n;null==a?(a=e+i*o.w,s=e-f/2):(a=u(c,a),s=u(c,s),(i>0?a<s:a>s)&&(a+=i*o.w));for(var h,d=a;i>0?d>s:d<s;d-=f)h=Object(r.g)([c,-l*Object(o.g)(d),-l*Object(o.t)(d)]),t.point(h[0],h[1])}}function u(t,e){(e=Object(r.a)(e))[0]-=t,Object(r.e)(e);var n=Object(o.b)(-e[1]);return((-e[2]<0?-n:n)+o.w-o.i)%o.w}e.b=function(){var t,e,n=Object(i.a)([0,0]),r=Object(i.a)(90),u=Object(i.a)(6),c={point:function(n,r){t.push(n=e(n,r)),n[0]*=o.h,n[1]*=o.h}};function l(){var i=n.apply(this,arguments),l=r.apply(this,arguments)*o.r,f=u.apply(this,arguments)*o.r;return t=[],e=Object(a.b)(-i[0]*o.r,-i[1]*o.r,0).invert,s(c,l,f,1),i={type:"Polygon",coordinates:[t]},t=e=null,i}return l.center=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)([+t[0],+t[1]]),l):n},l.radius=function(t){return arguments.length?(r="function"==typeof t?t:Object(i.a)(+t),l):r},l.precision=function(t){return arguments.length?(u="function"==typeof t?t:Object(i.a)(+t),l):u},l}},function(t,e,n){"use strict";e.a=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";var r=n(1108),i=n(741);e.a=Object(r.a)(function(){return!0},function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,s){var u=a>0?i.o:-i.o,c=Object(i.a)(a-n);Object(i.a)(c-i.o)<i.i?(t.point(n,r=(r+s)/2>0?i.l:-i.l),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(a,r),e=0):o!==u&&c>=i.o&&(Object(i.a)(n-o)<i.i&&(n-=o*i.i),Object(i.a)(a-u)<i.i&&(a-=u*i.i),r=function(t,e,n,r){var o,a,s=Object(i.t)(t-n);return Object(i.a)(s)>i.i?Object(i.d)((Object(i.t)(e)*(a=Object(i.g)(r))*Object(i.t)(n)-Object(i.t)(r)*(o=Object(i.g)(e))*Object(i.t)(t))/(o*a*s)):(e+r)/2}(n,r,a,s),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=a,r=s),o=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*i.l,r.point(-i.o,o),r.point(0,o),r.point(i.o,o),r.point(i.o,0),r.point(i.o,-o),r.point(0,-o),r.point(-i.o,-o),r.point(-i.o,0),r.point(-i.o,o);else if(Object(i.a)(t[0]-e[0])>i.i){var a=t[0]<e[0]?i.o:-i.o;o=n*a/2,r.point(-a,o),r.point(0,o),r.point(a,o)}else r.point(e[0],e[1])},[-i.o,-i.l])},function(t,e,n){"use strict";var r=n(1109),i=n(1110),o=n(741),a=n(1112),s=n(762);function u(t){return t.length>1}function c(t,e){return((t=t.x)[0]<0?t[1]-o.l-o.i:o.l-t[1])-((e=e.x)[0]<0?e[1]-o.l-o.i:o.l-e[1])}e.a=function(t,e,n,o){return function(l){var f,h,d,p=e(l),g=Object(r.a)(),v=e(g),m=!1,y={point:x,lineStart:b,lineEnd:w,polygonStart:function(){y.point=M,y.lineStart=S,y.lineEnd=A,h=[],f=[]},polygonEnd:function(){y.point=x,y.lineStart=b,y.lineEnd=w,h=Object(s.n)(h);var t=Object(a.a)(f,o);h.length?(m||(l.polygonStart(),m=!0),Object(i.a)(h,c,t,n,l)):t&&(m||(l.polygonStart(),m=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),m&&(l.polygonEnd(),m=!1),h=f=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function x(e,n){t(e,n)&&l.point(e,n)}function _(t,e){p.point(t,e)}function b(){y.point=_,p.lineStart()}function w(){y.point=x,p.lineEnd()}function M(t,e){d.push([t,e]),v.point(t,e)}function S(){v.lineStart(),d=[]}function A(){M(d[0][0],d[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),o=g.result(),a=o.length;if(d.pop(),f.push(d),d=null,a)if(1&i){if((e=(n=o[0]).length-1)>0){for(m||(l.polygonStart(),m=!0),l.lineStart(),t=0;t<e;++t)l.point((r=n[t])[0],r[1]);l.lineEnd()}}else a>1&&2&i&&o.push(o.pop().concat(o.shift())),h.push(o.filter(u))}return y}}},function(t,e,n){"use strict";var r=n(799);e.a=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.a,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}},function(t,e,n){"use strict";var r=n(1111);function i(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function o(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}e.a=function(t,e,n,a,s){var u,c,l=[],f=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],a=t[e];if(Object(r.a)(o,a)){for(s.lineStart(),u=0;u<e;++u)s.point((o=t[u])[0],o[1]);s.lineEnd()}else l.push(n=new i(o,t,null,!0)),f.push(n.o=new i(o,null,n,!1)),l.push(n=new i(a,t,null,!1)),f.push(n.o=new i(a,null,n,!0))}}),l.length){for(f.sort(e),o(l),o(f),u=0,c=f.length;u<c;++u)f[u].e=n=!n;for(var h,d,p=l[0];;){for(var g=p,v=!0;g.v;)if((g=g.n)===p)return;h=g.z,s.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(u=0,c=h.length;u<c;++u)s.point((d=h[u])[0],d[1]);else a(g.x,g.n.x,1,s);g=g.n}else{if(v)for(h=g.p.z,u=h.length-1;u>=0;--u)s.point((d=h[u])[0],d[1]);else a(g.x,g.p.x,-1,s);g=g.p}h=(g=g.o).z,v=!v}while(!g.v);s.lineEnd()}}}},function(t,e,n){"use strict";var r=n(741);e.a=function(t,e){return Object(r.a)(t[0]-e[0])<r.i&&Object(r.a)(t[1]-e[1])<r.i}},function(t,e,n){"use strict";var r=n(819),i=n(830),o=n(741),a=Object(r.a)();e.a=function(t,e){var n=e[0],r=e[1],s=[Object(o.t)(n),-Object(o.g)(n),0],u=0,c=0;a.reset();for(var l=0,f=t.length;l<f;++l)if(d=(h=t[l]).length)for(var h,d,p=h[d-1],g=p[0],v=p[1]/2+o.q,m=Object(o.t)(v),y=Object(o.g)(v),x=0;x<d;++x,g=b,m=M,y=S,p=_){var _=h[x],b=_[0],w=_[1]/2+o.q,M=Object(o.t)(w),S=Object(o.g)(w),A=b-g,T=A>=0?1:-1,O=T*A,I=O>o.o,C=m*M;if(a.add(Object(o.e)(C*T*Object(o.t)(O),y*S+C*Object(o.g)(O))),u+=I?A+T*o.w:A,I^g>=n^b>=n){var k=Object(i.c)(Object(i.a)(p),Object(i.a)(_));Object(i.e)(k);var D=Object(i.c)(s,k);Object(i.e)(D);var L=(I^A>=0?-1:1)*Object(o.c)(D[2]);(r>L||r===L&&(k[0]||k[1]))&&(c+=I^A>=0?1:-1)}}return(u<-o.i||u<o.i&&a<-o.i)^1&c}},function(t,e,n){"use strict";var r=n(830),i=n(1105),o=n(741),a=n(1111),s=n(1108);e.a=function(t){var e=Object(o.g)(t),n=6*o.r,u=e>0,c=Object(o.a)(e)>o.i;function l(t,n){return Object(o.g)(t)*Object(o.g)(n)>e}function f(t,n,i){var a=Object(r.a)(t),s=Object(r.a)(n),u=[1,0,0],c=Object(r.c)(a,s),l=Object(r.d)(c,c),f=c[0],h=l-f*f;if(!h)return!i&&t;var d=e*l/h,p=-e*f/h,g=Object(r.c)(u,c),v=Object(r.f)(u,d),m=Object(r.f)(c,p);Object(r.b)(v,m);var y=g,x=Object(r.d)(v,y),_=Object(r.d)(y,y),b=x*x-_*(Object(r.d)(v,v)-1);if(!(b<0)){var w=Object(o.u)(b),M=Object(r.f)(y,(-x-w)/_);if(Object(r.b)(M,v),M=Object(r.g)(M),!i)return M;var S,A=t[0],T=n[0],O=t[1],I=n[1];T<A&&(S=A,A=T,T=S);var C=T-A,k=Object(o.a)(C-o.o)<o.i,D=k||C<o.i;if(!k&&I<O&&(S=O,O=I,I=S),D?k?O+I>0^M[1]<(Object(o.a)(M[0]-A)<o.i?O:I):O<=M[1]&&M[1]<=I:C>o.o^(A<=M[0]&&M[0]<=T)){var L=Object(r.f)(y,(-x+w)/_);return Object(r.b)(L,v),[M,Object(r.g)(L)]}}}function h(e,n){var r=u?t:o.o-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}return Object(s.a)(l,function(t){var e,n,r,i,s;return{lineStart:function(){i=r=!1,s=1},point:function(d,p){var g,v=[d,p],m=l(d,p),y=u?m?0:h(d,p):m?h(d+(d<0?o.o:-o.o),p):0;if(!e&&(i=r=m)&&t.lineStart(),m!==r&&(!(g=f(e,v))||Object(a.a)(e,g)||Object(a.a)(v,g))&&(v[0]+=o.i,v[1]+=o.i,m=l(v[0],v[1])),m!==r)s=0,m?(t.lineStart(),g=f(v,e),t.point(g[0],g[1])):(g=f(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(c&&e&&u^m){var x;y&n||!(x=f(v,e,!0))||(s=0,u?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!m||e&&Object(a.a)(e,v)||t.point(v[0],v[1]),e=v,r=m,n=y},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return s|(i&&r)<<1}}},function(e,r,o,a){Object(i.a)(a,t,n,o,e,r)},u?[0,-t]:[-o.o,t-o.o])}},function(t,e,n){"use strict";var r=n(1115),i=[null,null],o={type:"LineString",coordinates:i};e.a=function(t,e){return i[0]=t,i[1]=e,Object(r.a)(o)}},function(t,e,n){"use strict";var r,i,o,a=n(819),s=n(741),u=n(799),c=n(804),l=Object(a.a)(),f={sphere:u.a,point:u.a,lineStart:function(){f.point=d,f.lineEnd=h},lineEnd:u.a,polygonStart:u.a,polygonEnd:u.a};function h(){f.point=f.lineEnd=u.a}function d(t,e){t*=s.r,e*=s.r,r=t,i=Object(s.t)(e),o=Object(s.g)(e),f.point=p}function p(t,e){t*=s.r,e*=s.r;var n=Object(s.t)(e),a=Object(s.g)(e),u=Object(s.a)(t-r),c=Object(s.g)(u),f=a*Object(s.t)(u),h=o*n-i*a*c,d=i*n+o*a*c;l.add(Object(s.e)(Object(s.u)(f*f+h*h),d)),r=t,i=n,o=a}e.a=function(t){return l.reset(),Object(c.a)(t,f),+l}},function(t,e,n){"use strict";var r=n(799),i=1/0,o=i,a=-i,s=a,u={point:function(t,e){t<i&&(i=t);t>a&&(a=t);e<o&&(o=e);e>s&&(s=e)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,o],[a,s]];return a=s=-(o=i=1/0),t}};e.a=u},function(t,e,n){"use strict";var r=n(945);e.a=function(){return Object(r.b)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,e,n){"use strict";e.b=i;var r=n(781);function i(t,e){return[t,e]}i.invert=i,e.a=function(){return Object(r.a)(i).scale(152.63)}},function(t,e,n){"use strict";e.b=u;var r=n(1120);function i(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,c=s*s+u*u;if(c){var l=.5+((a*=a)-(o*=o))/(2*c),f=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=r+l*s+f*u,n.y=i+l*u-f*s}else n.x=r+a,n.y=i}function o(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function a(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function s(t){this._=t,this.next=null,this.previous=null}function u(t){if(!(c=t.length))return 0;var e,n,u,c,l,f,h,d,p,g,v;if((e=t[0]).x=0,e.y=0,!(c>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(c>2))return e.r+n.r;i(n,e,u=t[2]),e=new s(e),n=new s(n),u=new s(u),e.next=u.previous=n,n.next=e.previous=u,u.next=n.previous=e;t:for(h=3;h<c;++h){i(e._,n._,u=t[h]),u=new s(u),d=n.next,p=e.previous,g=n._.r,v=e._.r;do{if(g<=v){if(o(d._,u._)){n=d,e.next=n,n.previous=e,--h;continue t}g+=d._.r,d=d.next}else{if(o(p._,u._)){(e=p).next=n,n.previous=e,--h;continue t}v+=p._.r,p=p.previous}}while(d!==p.next);for(u.previous=e,u.next=n,e.next=n.previous=n=u,l=a(e);(u=u.next)!==n;)(f=a(u))<l&&(e=u,l=f);n=e.next}for(e=[n._],u=n;(u=u.next)!==n;)e.push(u._);for(u=Object(r.a)(e),h=0;h<c;++h)(e=t[h]).x-=u.x,e.y-=u.y;return u.r}e.a=function(t){return u(t),t}},function(t,e,n){"use strict";var r=n(1794);function i(t,e){var n,r;if(s(e,t))return[e];for(n=0;n<t.length;++n)if(o(e,t[n])&&s(c(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(o(c(t[n],t[r]),e)&&o(c(t[n],e),t[r])&&o(c(t[r],e),t[n])&&s(l(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function o(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function a(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function s(t,e){for(var n=0;n<e.length;++n)if(!a(t,e[n]))return!1;return!0}function u(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return c(t[0],t[1]);case 3:return l(t[0],t[1],t[2])}var e}function c(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function l(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=r-a,d=r-c,p=i-s,g=i-l,v=u-o,m=f-o,y=r*r+i*i-o*o,x=y-a*a-s*s+u*u,_=y-c*c-l*l+f*f,b=d*p-h*g,w=(p*_-g*x)/(2*b)-r,M=(g*v-p*m)/b,S=(d*x-h*_)/(2*b)-i,A=(h*m-d*v)/b,T=M*M+A*A-1,O=2*(o+w*M+S*A),I=w*w+S*S-o*o,C=-(T?(O+Math.sqrt(O*O-4*T*I))/(2*T):I/O);return{x:r+w+M*C,y:i+S+A*C,r:C}}e.a=function(t){for(var e,n,o=0,s=(t=Object(r.a)(r.b.call(t))).length,c=[];o<s;)e=t[o],n&&a(n,e)?++o:(n=u(c=i(c,e)),o=0);return n}},function(t,e,n){"use strict";e.a=function(){return 0},e.b=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c});var r=n(798),i=n(953),o=n(1124),a=n(834);function s(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}e.a=function t(e){var n=Object(a.b)(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),s=n(t.b,e.b),u=Object(a.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=s(e),t.opacity=u(e),t+""}}return i.gamma=t,i}(1);var u=s(i.b),c=s(o.a)},function(t,e,n){"use strict";var r=n(953);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(952);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),s=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(952);e.a=function(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Object(r.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}},function(t,e,n){"use strict";var r=n(876),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var n,a,s,u=i.lastIndex=o.lastIndex=0,c=-1,l=[],f=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),l[c]?l[c]+=s:l[++c]=s),(n=n[0])===(a=a[0])?l[c]?l[c]+=a:l[++c]=a:(l[++c]=null,f.push({i:c,x:Object(r.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),l[c]?l[c]+=s:l[++c]=s),l.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)l[(n=f[r]).i]=n.x(t);return l.join("")})}},function(t,e,n){"use strict";var r=n(820);e.a=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(820);e.a=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(954);e.a=function(t,e){return function(n,i,o){arguments.length<3&&(o=i,i=null);var a=Object(r.a)(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,i=t)):i},a.row(i),o?a.get(o):a}}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),e.a=function t(e){var n=Object(r.c)(),a=[],s=o;e=null==e?[]:i.b.call(e);function u(t){var r=t+"",i=n.get(r);if(!i){if(s!==o)return s;n.set(r,i=a.push(t))}return e[(i-1)%e.length]}u.domain=function(t){if(!arguments.length)return a.slice();a=[],n=Object(r.c)();for(var e,i,o=-1,s=t.length;++o<s;)n.has(i=(e=t[o])+"")||n.set(i,a.push(e));return u};u.range=function(t){return arguments.length?(e=i.b.call(t),u):e.slice()};u.unknown=function(t){return arguments.length?(s=t,u):s};u.copy=function(){return t().domain(a).range(e).unknown(s)};return u};var r=n(829),i=n(805),o={name:"implicit"}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}},function(t,e,n){"use strict";e.a=x;var r=n(762),i=n(780),o=n(879),a=n(956),s=n(805),u=n(878),c=n(1135),l=1e3,f=60*l,h=60*f,d=24*h,p=7*d,g=30*d,v=365*d;function m(t){return new Date(t)}function y(t){return t instanceof Date?+t:+new Date(+t)}function x(t,e,n,o,a,_,b,w,M){var S=Object(u.b)(u.c,i.c),A=S.invert,T=S.domain,O=M(".%L"),I=M(":%S"),C=M("%I:%M"),k=M("%I %p"),D=M("%a %d"),L=M("%b %d"),E=M("%B"),P=M("%Y"),N=[[b,1,l],[b,5,5*l],[b,15,15*l],[b,30,30*l],[_,1,f],[_,5,5*f],[_,15,15*f],[_,30,30*f],[a,1,h],[a,3,3*h],[a,6,6*h],[a,12,12*h],[o,1,d],[o,2,2*d],[n,1,p],[e,1,g],[e,3,3*g],[t,1,v]];function j(r){return(b(r)<r?O:_(r)<r?I:a(r)<r?C:o(r)<r?k:e(r)<r?n(r)<r?D:L:t(r)<r?E:P)(r)}function z(e,n,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=Object(r.e)(function(t){return t[2]}).right(N,a);s===N.length?(o=Object(r.A)(n/v,i/v,e),e=t):s?(o=(s=N[a/N[s-1][2]<N[s][2]/a?s-1:s])[1],e=s[0]):(o=Math.max(Object(r.A)(n,i,e),1),e=w)}return null==o?e:e.every(o)}return S.invert=function(t){return new Date(A(t))},S.domain=function(t){return arguments.length?T(s.a.call(t,y)):T().map(m)},S.ticks=function(t,e){var n,r=T(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=z(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},S.tickFormat=function(t,e){return null==e?j:M(e)},S.nice=function(t,e){var n=T();return(t=z(t,n[0],n[n.length-1],e))?T(Object(c.a)(n,t)):S},S.copy=function(){return Object(u.a)(S,x(t,e,n,o,a,_,b,w,M))},S}e.b=function(){return x(o.D,o.n,o.B,o.a,o.e,o.j,o.r,o.h,a.c).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(t,e,n){"use strict";e.a=function(t){var e=t.dateTime,n=t.date,u=t.time,c=t.periods,l=t.days,f=t.shortDays,h=t.months,mt=t.shortMonths,yt=d(c),xt=p(c),_t=d(l),bt=p(l),wt=d(f),Mt=p(f),St=d(h),At=p(h),Tt=d(mt),Ot=p(mt),It={a:function(t){return f[t.getDay()]},A:function(t){return l[t.getDay()]},b:function(t){return mt[t.getMonth()]},B:function(t){return h[t.getMonth()]},c:null,d:P,e:P,f:B,H:N,I:j,j:z,L:R,m:V,M:F,p:function(t){return c[+(t.getHours()>=12)]},Q:gt,s:vt,S:H,u:W,U:G,V:q,w:U,W:Y,x:null,X:null,y:X,Y:Z,Z:$,"%":pt},Ct={a:function(t){return f[t.getUTCDay()]},A:function(t){return l[t.getUTCDay()]},b:function(t){return mt[t.getUTCMonth()]},B:function(t){return h[t.getUTCMonth()]},c:null,d:K,e:K,f:nt,H:J,I:Q,j:tt,L:et,m:rt,M:it,p:function(t){return c[+(t.getUTCHours()>=12)]},Q:gt,s:vt,S:ot,u:at,U:st,V:ut,w:ct,W:lt,x:null,X:null,y:ft,Y:ht,Z:dt,"%":pt},kt={a:function(t,e,n){var r=wt.exec(e.slice(n));return r?(t.w=Mt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=_t.exec(e.slice(n));return r?(t.w=bt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.m=Ot[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=St.exec(e.slice(n));return r?(t.m=At[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return Et(t,e,n,r)},d:S,e:S,f:k,H:T,I:T,j:A,L:C,m:M,M:O,p:function(t,e,n){var r=yt.exec(e.slice(n));return r?(t.p=xt[r[0].toLowerCase()],n+r[0].length):-1},Q:L,s:E,S:I,u:v,U:m,V:y,w:g,W:x,x:function(t,e,r){return Et(t,n,e,r)},X:function(t,e,n){return Et(t,u,e,n)},y:b,Y:_,Z:w,"%":D};function Dt(t,e){return function(n){var r,i,o,a=[],u=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=s[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function Lt(t,e){return function(n){var i,s,u=a(1900),c=Et(u,t,n+="",0);if(c!=n.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=o(a(u.y)),s=i.getUTCDay(),i=s>4||0===s?r.P.ceil(i):Object(r.P)(i),i=r.F.offset(i,7*(u.V-1)),u.y=i.getUTCFullYear(),u.m=i.getUTCMonth(),u.d=i.getUTCDate()+(u.w+6)%7):(i=e(a(u.y)),s=i.getDay(),i=s>4||0===s?r.l.ceil(i):Object(r.l)(i),i=r.a.offset(i,7*(u.V-1)),u.y=i.getFullYear(),u.m=i.getMonth(),u.d=i.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),s="Z"in u?o(a(u.y)).getUTCDay():e(a(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(s+5)%7:u.w+7*u.U-(s+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,o(u)):e(u)}}function Et(t,e,n,r){for(var i,o,a=0,u=e.length,c=n.length;a<u;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=kt[i in s?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return It.x=Dt(n,It),It.X=Dt(u,It),It.c=Dt(e,It),Ct.x=Dt(n,Ct),Ct.X=Dt(u,Ct),Ct.c=Dt(e,Ct),{format:function(t){var e=Dt(t+="",It);return e.toString=function(){return t},e},parse:function(t){var e=Lt(t+="",i);return e.toString=function(){return t},e},utcFormat:function(t){var e=Dt(t+="",Ct);return e.toString=function(){return t},e},utcParse:function(t){var e=Lt(t,o);return e.toString=function(){return t},e}}};var r=n(879);function i(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var s={"-":"",_:" ",0:"0"},u=/^\s*\d+/,c=/^%/,l=/[\\^$*+?|[\]().{}]/g;function f(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function h(t){return t.replace(l,"\\$&")}function d(t){return new RegExp("^(?:"+t.map(h).join("|")+")","i")}function p(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function g(t,e,n){var r=u.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v(t,e,n){var r=u.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function m(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function y(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function x(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _(t,e,n){var r=u.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function b(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function M(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function S(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function A(t,e,n){var r=u.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function T(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function O(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function I(t,e,n){var r=u.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function C(t,e,n){var r=u.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function k(t,e,n){var r=u.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D(t,e,n){var r=c.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function L(t,e,n){var r=u.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function E(t,e,n){var r=u.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function P(t,e){return f(t.getDate(),e,2)}function N(t,e){return f(t.getHours(),e,2)}function j(t,e){return f(t.getHours()%12||12,e,2)}function z(t,e){return f(1+r.a.count(Object(r.D)(t),t),e,3)}function R(t,e){return f(t.getMilliseconds(),e,3)}function B(t,e){return R(t,e)+"000"}function V(t,e){return f(t.getMonth()+1,e,2)}function F(t,e){return f(t.getMinutes(),e,2)}function H(t,e){return f(t.getSeconds(),e,2)}function W(t){var e=t.getDay();return 0===e?7:e}function G(t,e){return f(r.t.count(Object(r.D)(t),t),e,2)}function q(t,e){var n=t.getDay();return t=n>=4||0===n?Object(r.v)(t):r.v.ceil(t),f(r.v.count(Object(r.D)(t),t)+(4===Object(r.D)(t).getDay()),e,2)}function U(t){return t.getDay()}function Y(t,e){return f(r.l.count(Object(r.D)(t),t),e,2)}function X(t,e){return f(t.getFullYear()%100,e,2)}function Z(t,e){return f(t.getFullYear()%1e4,e,4)}function $(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+f(e/60|0,"0",2)+f(e%60,"0",2)}function K(t,e){return f(t.getUTCDate(),e,2)}function J(t,e){return f(t.getUTCHours(),e,2)}function Q(t,e){return f(t.getUTCHours()%12||12,e,2)}function tt(t,e){return f(1+r.F.count(Object(r._7)(t),t),e,3)}function et(t,e){return f(t.getUTCMilliseconds(),e,3)}function nt(t,e){return et(t,e)+"000"}function rt(t,e){return f(t.getUTCMonth()+1,e,2)}function it(t,e){return f(t.getUTCMinutes(),e,2)}function ot(t,e){return f(t.getUTCSeconds(),e,2)}function at(t){var e=t.getUTCDay();return 0===e?7:e}function st(t,e){return f(r.X.count(Object(r._7)(t),t),e,2)}function ut(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Object(r.Z)(t):r.Z.ceil(t),f(r.Z.count(Object(r._7)(t),t)+(4===Object(r._7)(t).getUTCDay()),e,2)}function ct(t){return t.getUTCDay()}function lt(t,e){return f(r.P.count(Object(r._7)(t),t),e,2)}function ft(t,e){return f(t.getUTCFullYear()%100,e,2)}function ht(t,e){return f(t.getUTCFullYear()%1e4,e,4)}function dt(){return"+0000"}function pt(){return"%"}function gt(t){return+t}function vt(t){return Math.floor(+t/1e3)}},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=n(957),i="%Y-%m-%dT%H:%M:%S.%LZ";var o=Date.prototype.toISOString?function(t){return t.toISOString()}:Object(r.d)(i);e.a=o},function(t,e,n){"use strict";var r=n(803),i=n(806),o=n(880),a=n(958),s=n(959);e.a=function(){var t=s.a,e=null,n=Object(i.a)(0),u=s.b,c=Object(i.a)(!0),l=null,f=o.a,h=null;function d(i){var o,a,s,d,p,g=i.length,v=!1,m=new Array(g),y=new Array(g);for(null==l&&(h=f(p=Object(r.a)())),o=0;o<=g;++o){if(!(o<g&&c(d=i[o],o,i))===v)if(v=!v)a=o,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),s=o-1;s>=a;--s)h.point(m[s],y[s]);h.lineEnd(),h.areaEnd()}v&&(m[o]=+t(d,o,i),y[o]=+n(d,o,i),h.point(e?+e(d,o,i):m[o],u?+u(d,o,i):y[o]))}if(p)return h=null,p+""||null}function p(){return Object(a.a)().defined(c).curve(f).context(l)}return d.x=function(n){return arguments.length?(t="function"==typeof n?n:Object(i.a)(+n),e=null,d):t},d.x0=function(e){return arguments.length?(t="function"==typeof e?e:Object(i.a)(+e),d):t},d.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Object(i.a)(+t),d):e},d.y=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),u=null,d):n},d.y0=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),d):n},d.y1=function(t){return arguments.length?(u=null==t?null:"function"==typeof t?t:Object(i.a)(+t),d):u},d.lineX0=d.lineY0=function(){return p().x(t).y(n)},d.lineY1=function(){return p().x(t).y(u)},d.lineX1=function(){return p().x(e).y(n)},d.defined=function(t){return arguments.length?(c="function"==typeof t?t:Object(i.a)(!!t),d):c},d.curve=function(t){return arguments.length?(f=t,null!=l&&(h=f(l)),d):f},d.context=function(t){return arguments.length?(null==t?l=h=null:h=f(l=t),d):l},d}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),e.b=o;var r=o(n(880).a);function i(t){this._curve=t}function o(t){function e(e){return new i(t(e))}return e._curve=t,e}i.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}}},function(t,e,n){"use strict";e.b=o;var r=n(1140),i=n(958);function o(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Object(r.b)(t)):e()._curve},t}e.a=function(){return o(Object(i.a)().curve(r.a))}},function(t,e,n){"use strict";e.a=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(837);e.a={draw:function(t,e){var n=Math.sqrt(e/r.j);t.moveTo(n,0),t.arc(0,0,n,0,r.m)}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}}},function(t,e,n){"use strict";var r=Math.sqrt(1/3),i=2*r;e.a={draw:function(t,e){var n=Math.sqrt(e/i),o=n*r;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}}},function(t,e,n){"use strict";var r=n(837),i=Math.sin(r.j/10)/Math.sin(7*r.j/10),o=Math.sin(r.m/10)*i,a=-Math.cos(r.m/10)*i;e.a={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=o*n,s=a*n;t.moveTo(0,-n),t.lineTo(i,s);for(var u=1;u<5;++u){var c=r.m*u/5,l=Math.cos(c),f=Math.sin(c);t.lineTo(f*n,-l*n),t.lineTo(l*i-f*s,f*i+l*s)}t.closePath()}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}}},function(t,e,n){"use strict";var r=Math.sqrt(3);e.a={draw:function(t,e){var n=-Math.sqrt(e/(3*r));t.moveTo(0,2*n),t.lineTo(-r*n,-n),t.lineTo(r*n,-n),t.closePath()}}},function(t,e,n){"use strict";var r=-.5,i=Math.sqrt(3)/2,o=1/Math.sqrt(12),a=3*(o/2+1);e.a={draw:function(t,e){var n=Math.sqrt(e/a),s=n/2,u=n*o,c=s,l=n*o+n,f=-c,h=l;t.moveTo(s,u),t.lineTo(c,l),t.lineTo(f,h),t.lineTo(r*s-i*u,i*s+r*u),t.lineTo(r*c-i*l,i*c+r*l),t.lineTo(r*f-i*h,i*f+r*h),t.lineTo(r*s+i*u,r*u-i*s),t.lineTo(r*c+i*l,r*l-i*c),t.lineTo(r*f+i*h,r*h-i*f),t.closePath()}}},function(t,e,n){"use strict";e.a=o;var r=n(881),i=n(883);function o(t,e){this._context=t,this._k=(1-e)/6}o.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new o(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";e.a=i;var r=n(883);function i(t,e){this._context=t,this._k=(1-e)/6}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(r.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";n(1894);var r=n(800);n.d(e,"c",function(){return r.b});var i=n(1913);n.d(e,"a",function(){return i.a});var o=n(1154);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";var r=n(777);e.a=function(t,e){var n,i,o,a=t.__transition,s=!0;if(a){for(o in e=null==e?null:e+"",a)(n=a[o]).name===e?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(798),i=n(833);e.a=function(t,e){var n;return("number"==typeof e?i.m:e instanceof r.a?i.o:(n=Object(r.a)(e))?(e=n,i.o):i.s)(t,e)}},function(t,e,n){"use strict";e.c=function(t){return i.b[t.index]={site:t,halfedges:[]}},e.a=a,e.d=function(){for(var t,e,n,r,a=0,s=i.b.length;a<s;++a)if((t=i.b[a])&&(r=(e=t.halfedges).length)){var u=new Array(r),c=new Array(r);for(n=0;n<r;++n)u[n]=n,c[n]=o(t,i.e[e[n]]);for(u.sort(function(t,e){return c[e]-c[t]}),n=0;n<r;++n)c[n]=e[u[n]];for(n=0;n<r;++n)e[n]=c[n]}},e.b=function(t,e,n,o){var u,c,l,f,h,d,p,g,v,m,y,x,_=i.b.length,b=!0;for(u=0;u<_;++u)if(c=i.b[u]){for(l=c.site,h=c.halfedges,f=h.length;f--;)i.e[h[f]]||h.splice(f,1);for(f=0,d=h.length;f<d;)m=s(c,i.e[h[f]]),y=m[0],x=m[1],p=a(c,i.e[h[++f%d]]),g=p[0],v=p[1],(Math.abs(y-g)>i.f||Math.abs(x-v)>i.f)&&(h.splice(f,0,i.e.push(Object(r.b)(l,m,Math.abs(y-t)<i.f&&o-x>i.f?[t,Math.abs(g-t)<i.f?v:o]:Math.abs(x-o)<i.f&&n-y>i.f?[Math.abs(v-o)<i.f?g:n,o]:Math.abs(y-n)<i.f&&x-e>i.f?[n,Math.abs(g-n)<i.f?v:e]:Math.abs(x-e)<i.f&&y-t>i.f?[Math.abs(v-e)<i.f?g:t,e]:null))-1),++d);d&&(b=!1)}if(b){var w,M,S,A=1/0;for(u=0,b=null;u<_;++u)(c=i.b[u])&&(l=c.site,w=l[0]-t,M=l[1]-e,(S=w*w+M*M)<A&&(A=S,b=c));if(b){var T=[t,e],O=[t,o],I=[n,o],C=[n,e];b.halfedges.push(i.e.push(Object(r.b)(l=b.site,T,O))-1,i.e.push(Object(r.b)(l,O,I))-1,i.e.push(Object(r.b)(l,I,C))-1,i.e.push(Object(r.b)(l,C,T))-1)}}for(u=0;u<_;++u)(c=i.b[u])&&(c.halfedges.length||delete i.b[u])};var r=n(965),i=n(840);function o(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function a(t,e){return e[+(e.left!==t.site)]}function s(t,e){return e[+(e.left===t.site)]}},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),e.a=function(t){var e=t.P,n=t.N;if(!e||!n)return;var s=e.site,u=t.site,c=n.site;if(s===c)return;var l=u[0],f=u[1],h=s[0]-l,d=s[1]-f,p=c[0]-l,g=c[1]-f,v=2*(h*g-d*p);if(v>=-o.g)return;var m=h*h+d*d,y=p*p+g*g,x=(g*m-d*y)/v,_=(h*y-p*m)/v,b=a.pop()||new function(){Object(i.a)(this),this.x=this.y=this.arc=this.site=this.cy=null};b.arc=t,b.site=u,b.x=x+l,b.y=(b.cy=_+f)+Math.sqrt(x*x+_*_),t.circle=b;var w=null,M=o.c._;for(;M;)if(b.y<M.y||b.y===M.y&&b.x<=M.x){if(!M.L){w=M.P;break}M=M.L}else{if(!M.R){w=M;break}M=M.R}o.c.insert(w,b),w||(r=b)},e.b=function(t){var e=t.circle;e&&(e.P||(r=e.N),o.c.remove(e),a.push(e),Object(i.a)(e),t.circle=null)};var r,i=n(964),o=n(840),a=[]},function(t,e,n){"use strict";function r(t,e,n){this.k=t,this.x=e,this.y=n}e.a=r,n.d(e,"c",function(){return i}),e.b=o,r.prototype={constructor:r,scale:function(t){return 1===t?this:new r(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new r(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var i=new r(1,0,0);function o(t){return t.__zoom||i}o.prototype=r.prototype},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1937);n.d(e,"zoom",function(){return r.a});var i=n(1160);n.d(e,"zoomTransform",function(){return i.b}),n.d(e,"zoomIdentity",function(){return i.c})},function(t,e,n){"use strict";function r(t,e,n){this.k=t,this.x=e,this.y=n}e.a=r,n.d(e,"c",function(){return i}),e.b=o,r.prototype={constructor:r,scale:function(t){return 1===t?this:new r(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new r(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var i=new r(1,0,0);function o(t){return t.__zoom||i}o.prototype=r.prototype},function(t,e,n){var r,i,o,a;a=function(t){return function(){var e=function(){return"n"},n=function(){return[0,0]},r=function(){return" "},i=f(),o=null,a=null,s=null;function u(t){var e;o="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,a=o.createSVGPoint(),document.body.appendChild(i)}u.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(s=t.pop());var i,o=r.apply(this,t),a=n.apply(this,t),f=e.apply(this,t),d=h(),p=l.length,g=document.documentElement.scrollTop||document.body.scrollTop,v=document.documentElement.scrollLeft||document.body.scrollLeft;for(d.html(o).style({opacity:1,"pointer-events":"all"});p--;)d.classed(l[p],!1);return i=c.get(f).apply(this),d.classed(f,!0).style({top:i.top+a[0]+g+"px",left:i.left+a[1]+v+"px"}),u},u.hide=function(){return h().style({opacity:0,"pointer-events":"none"}),u},u.attr=function(e,n){if(arguments.length<2&&"string"==typeof e)return h().attr(e);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(h(),r),u},u.style=function(e,n){if(arguments.length<2&&"string"==typeof e)return h().style(e);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(h(),r),u},u.direction=function(n){return arguments.length?(e=null==n?n:t.functor(n),u):e},u.offset=function(e){return arguments.length?(n=null==e?e:t.functor(e),u):n},u.html=function(e){return arguments.length?(r=null==e?e:t.functor(e),u):r},u.destroy=function(){return i&&(h().remove(),i=null),u};var c=t.map({n:function(){var t=d();return{top:t.n.y-i.offsetHeight,left:t.n.x-i.offsetWidth/2}},s:function(){var t=d();return{top:t.s.y,left:t.s.x-i.offsetWidth/2}},e:function(){var t=d();return{top:t.e.y-i.offsetHeight/2,left:t.e.x}},w:function(){var t=d();return{top:t.w.y-i.offsetHeight/2,left:t.w.x-i.offsetWidth}},nw:function(){var t=d();return{top:t.nw.y-i.offsetHeight,left:t.nw.x-i.offsetWidth}},ne:function(){var t=d();return{top:t.ne.y-i.offsetHeight,left:t.ne.x}},sw:function(){var t=d();return{top:t.sw.y,left:t.sw.x-i.offsetWidth}},se:function(){var t=d();return{top:t.se.y,left:t.e.x}}}),l=c.keys();function f(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function h(){return null===i&&(i=f(),document.body.appendChild(i)),t.select(i)}function d(){for(var e=s||t.event.target;void 0===e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),i=e.getBBox(),o=i.width,u=i.height,c=i.x,l=i.y;return a.x=c,a.y=l,n.nw=a.matrixTransform(r),a.x+=o,n.ne=a.matrixTransform(r),a.y+=u,n.se=a.matrixTransform(r),a.x-=o,n.sw=a.matrixTransform(r),a.y-=u/2,n.w=a.matrixTransform(r),a.x+=o,n.e=a.matrixTransform(r),a.x-=o/2,a.y-=u/2,n.n=a.matrixTransform(r),a.y+=u,n.s=a.matrixTransform(r),n}return u}},i=[n(1941)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(2);n(1232),n(1233);var i=n(983),o=n(1236);r.registerLayout(i),r.registerVisual(o)},function(t,e,n){n(6).__DEV__;var r=n(67),i=n(68),o=n(0),a=o.concatArray,s=o.mergeAll,u=o.map,c=n(20).encodeHTML,l=(n(65),"undefined"==typeof Uint32Array?Array:Uint32Array),f="undefined"==typeof Float64Array?Array:Float64Array;function h(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=u(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),s([e,t[0],t[1]])}))}var d=r.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],h(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),d.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],h(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}d.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,e.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(t);for(i=0;i<o.length;i++)e[i]=e[i]||[],e[i][0]=o[i][0],e[i][1]=o[i][1];return o.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,r=new l(n),i=new f(n),o=0,a=0,s=0,u=0;u<n;){s++;var c=t[u++];r[a++]=o+e,r[a++]=c;for(var h=0;h<c;h++){var d=t[u++],p=t[u++];i[o++]=d,i[o++]=p}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new i(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0}),n},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;var r=e.get("fromName"),i=e.get("toName"),o=[];return null!=r&&o.push(r),null!=i&&o.push(i),c(o.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),p=d;t.exports=p},function(t,e,n){n(6).__DEV__;var r=n(2),i=n(408),o=n(981),a=n(391),s=n(982),u=n(1234),c=n(1235),l=n(983),f=r.extendChartView({type:"lines",init:function(){},render:function(t,e,n){var r=t.getData(),i=this._updateLineDraw(r,t),o=t.get("zlevel"),a=t.get("effect.trailLength"),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a&&(u||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),i.updateData(r),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(t,e,n){var r=t.getData();this._updateLineDraw(r,t).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var r=t.getData(),i=t.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=l.reset(t);o.progress&&o.progress({start:0,end:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,r=this._showEffect(e),l=!!e.get("polyline"),f=e.pipelineContext.large;return n&&r===this._hasEffet&&l===this._isPolyline&&f===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=f?new c:new i(l?r?u:s:r?o:a),this._hasEffet=r,this._isPolyline=l,this._isLargeDraw=f,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});t.exports=f},function(t,e,n){var r=n(982),i=n(0),o=n(981),a=n(7);function s(t,e,n){o.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}var u=s.prototype;u.createLine=function(t,e,n){return new r(t,e,n)},u.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],r=0,i=1;i<e.length;i++){var o=e[i-1],s=e[i];r+=a.dist(o,s),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}},u.getLineLength=function(t){return this._length},u.updateSymbolPosition=function(t){var e=t.__t,n=this._points,r=this._offsets,i=n.length;if(r){var o=this._lastFrame;if(e<this._lastFramePercent){for(s=Math.min(o+1,i-1);s>=0&&!(r[s]<=e);s--);s=Math.min(s,i-2)}else{for(var s=o;s<i&&!(r[s]>e);s++);s=Math.min(s-1,i-2)}a.lerp(t.position,n[s],n[s+1],(e-r[s])/(r[s+1]-r[s]));var u=n[s+1][0]-n[s][0],c=n[s+1][1]-n[s][1];t.rotation=-Math.atan2(c,u)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=e,t.ignore=!1}},i.inherits(s,o);var c=s;t.exports=c},function(t,e,n){var r=n(4),i=n(162),o=n(401),a=n(402),s=r.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,r=e.curveness;if(e.polyline)for(var i=0;i<n.length;){var o=n[i++];if(o>0){t.moveTo(n[i++],n[i++]);for(var a=1;a<o;a++)t.lineTo(n[i++],n[i++])}}else for(i=0;i<n.length;){var s=n[i++],u=n[i++],c=n[i++],l=n[i++];if(t.moveTo(s,u),r>0){var f=(s+c)/2-(u-l)*r,h=(u+l)/2-(c-s)*r;t.quadraticCurveTo(f,h,c,l)}else t.lineTo(c,l)}},findDataIndex:function(t,e){var n=this.shape,r=n.segs,i=n.curveness;if(n.polyline)for(var s=0,u=0;u<r.length;){var c=r[u++];if(c>0)for(var l=r[u++],f=r[u++],h=1;h<c;h++){var d=r[u++],p=r[u++];if(o.containStroke(l,f,d,p))return s}s++}else for(s=0,u=0;u<r.length;){l=r[u++],f=r[u++],d=r[u++],p=r[u++];if(i>0){var g=(l+d)/2-(f-p)*i,v=(f+p)/2-(d-l)*i;if(a.containStroke(l,f,g,v,d,p))return s}else if(o.containStroke(l,f,d,p))return s;s++}return-1}});function u(){this.group=new r.Group}var c=u.prototype;c.isPersistent=function(){return!this._incremental},c.updateData=function(t){this.group.removeAll();var e=new s({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},c.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new i({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.incrementalUpdate=function(t,e){var n=new s;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get("lineStyle.curveness")}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("color");i&&t.setStyle("stroke",i),t.setStyle("fill"),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n+t.__startIndex)}))},c._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var l=u;t.exports=l},function(t,e){function n(t){return t instanceof Array||(t=[t,t]),t}var r="lineStyle.opacity".split("."),i={seriesType:"lines",reset:function(t,e,i){var o=n(t.get("symbol")),a=n(t.get("symbolSize")),s=t.getData();return s.setVisual("fromSymbol",o&&o[0]),s.setVisual("toSymbol",o&&o[1]),s.setVisual("fromSymbolSize",a&&a[0]),s.setVisual("toSymbolSize",a&&a[1]),s.setVisual("opacity",t.get(r)),{dataEach:s.hasItemOption?function(t,e){var i=t.getItemModel(e),o=n(i.getShallow("symbol",!0)),a=n(i.getShallow("symbolSize",!0)),s=i.get(r);o[0]&&t.setItemVisual(e,"fromSymbol",o[0]),o[1]&&t.setItemVisual(e,"toSymbol",o[1]),a[0]&&t.setItemVisual(e,"fromSymbolSize",a[0]),a[1]&&t.setItemVisual(e,"toSymbolSize",a[1]),t.setItemVisual(e,"opacity",s)}:null}}};t.exports=i},function(t,e,n){var r=n(2),i=n(0),o=n(1238);n(892),n(1244),n(1246),n(164),n(1248),r.registerLayout(i.curry(o,"bar")),r.extendComponentView({type:"polar"})},function(t,e,n){var r=n(0),i=n(8).parsePercent,o=n(52).isDimensionStacked;function a(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function s(t){return t.dim}var u=function(t,e,n){n.getWidth(),n.getHeight();var u={},c=function(t,e){var n={};r.each(t,function(t,e){var r=t.getData(),o=t.coordinateSystem,u=o.getBaseAxis(),c=u.getExtent(),l="category"===u.type?u.getBandWidth():Math.abs(c[1]-c[0])/r.count(),f=n[s(u)]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;n[s(u)]=f;var d=a(t);h[d]||f.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var p=i(t.get("barWidth"),l),g=i(t.get("barMaxWidth"),l),v=t.get("barGap"),m=t.get("barCategoryGap");p&&!h[d].width&&(p=Math.min(f.remainedWidth,p),h[d].width=p,f.remainedWidth-=p),g&&(h[d].maxWidth=g),null!=v&&(f.gap=v),null!=m&&(f.categoryGap=m)});var o={};return r.each(n,function(t,e){o[e]={};var n=t.stacks,a=t.bandWidth,s=i(t.categoryGap,a),u=i(t.gap,1),c=t.remainedWidth,l=t.autoWidthCount,f=(c-s)/(l+(l-1)*u);f=Math.max(f,0),r.each(n,function(t,e){var n=t.maxWidth;n&&n<f&&(n=Math.min(n,c),t.width&&(n=Math.min(n,t.width)),c-=n,t.width=n,l--)}),f=(c-s)/(l+(l-1)*u),f=Math.max(f,0);var h,d=0;r.each(n,function(t,e){t.width||(t.width=f),h=t,d+=t.width*(1+u)}),h&&(d-=h.width*u);var p=-d/2;r.each(n,function(t,n){o[e][n]=o[e][n]||{offset:p,width:t.width},p+=t.width*(1+u)})}),o}(r.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),i=a(t),l=c[s(r)][i],f=l.offset,h=l.width,d=n.getOtherAxis(r),p=t.coordinateSystem.cx,g=t.coordinateSystem.cy,v=t.get("barMinHeight")||0,m=t.get("barMinAngle")||0;u[i]=u[i]||[];for(var y=e.mapDimension(d.dim),x=e.mapDimension(r.dim),_=o(e,y),b=d.getExtent()[0],w=0,M=e.count();w<M;w++){var S=e.get(y,w),A=e.get(x,w);if(!isNaN(S)){var T,O,I,C,k=S>=0?"p":"n",D=b;if(_&&(u[i][A]||(u[i][A]={p:b,n:b}),D=u[i][A][k]),"radius"===d.dim){var L=d.dataToRadius(S)-b,E=r.dataToAngle(A);Math.abs(L)<v&&(L=(L<0?-1:1)*v),T=D,O=D+L,C=(I=E-f)-h,_&&(u[i][A][k]=O)}else{var P=d.dataToAngle(S,!0)-b,N=r.dataToRadius(A);Math.abs(P)<m&&(P=(P<0?-1:1)*m),O=(T=N+f)+h,I=D,C=D+P,_&&(u[i][A][k]=C)}e.setItemLayout(w,{cx:p,cy:g,r0:T,r:O,startAngle:-I*Math.PI/180,endAngle:-C*Math.PI/180})}}}},this)};t.exports=u},function(t,e,n){var r=n(1240),i=n(1241),o=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new r,this._angleAxis=new i,this._radiusAxis.polar=this._angleAxis.polar=this};o.prototype={type:"polar",axisPointerEnabled:!0,constructor:o,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);r.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var u=Math.atan2(-n,e)/Math.PI*180,c=u<o?1:-1;u<o||u>a;)u+=360*c;return[s,u]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]}};var a=o;t.exports=a},function(t,e,n){var r=n(0),i=n(103);function o(t,e){i.call(this,"radius",t,e),this.type="category"}o.prototype={constructor:o,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:i.prototype.dataToCoord,radiusToData:i.prototype.coordToData},r.inherits(o,i);var a=o;t.exports=a},function(t,e,n){var r=n(0),i=n(39),o=n(103),a=(0,n(5).makeInner)();function s(t,e){e=e||[0,360],o.call(this,"angle",t,e),this.type="category"}s.prototype={constructor:s,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData,calculateCategoryInterval:function(){var t=this.getLabelModel(),e=this.scale,n=e.getExtent(),r=e.count();if(n[1]-n[0]<1)return 0;var o=n[0],s=this.dataToCoord(o+1)-this.dataToCoord(o),u=Math.abs(s),c=i.getBoundingRect(o,t.getFont(),"center","top"),l=Math.max(c.height,7)/u;isNaN(l)&&(l=1/0);var f=Math.max(0,Math.floor(l)),h=a(this.model),d=h.lastAutoInterval,p=h.lastTickCount;return null!=d&&null!=p&&Math.abs(d-f)<=1&&Math.abs(p-r)<=1&&d>f?f=d:(h.lastTickCount=r,h.lastAutoInterval=f),f}},r.inherits(s,o);var u=s;t.exports=u},function(t,e,n){var r=n(2);n(1243);var i=r.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});t.exports=i},function(t,e,n){var r=n(0),i=n(27),o=n(163),a=n(108),s=i.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});r.merge(s.prototype,a);var u={splitNumber:5};function c(t,e){return e.type||(e.data?"category":"value")}o("angle",s,c,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),o("radius",s,c,u)},function(t,e,n){n(892),n(1245)},function(t,e,n){var r=n(0),i=n(4),o=n(23),a=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function s(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function u(t){return t.getRadiusAxis().inverse?0:1}function c(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var l=n(83).extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),s=n.getTicksCoords(),u=r.map(n.getViewLabels(),function(t){return(t=r.clone(t)).coord=n.dataToCoord(t.tickValue),t});c(u),c(s),r.each(a,function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,i,s,o,u)},this)}},_axisLine:function(t,e,n,r){var o=t.getModel("axisLine.lineStyle"),a=new i.Circle({shape:{cx:e.cx,cy:e.cy,r:r[u(e)]},style:o.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,n,o){var a=t.getModel("axisTick"),c=(a.get("inside")?-1:1)*a.get("length"),l=o[u(e)],f=r.map(n,function(t){return new i.Line({shape:s(e,[l,l+c],t.coord)})});this.group.add(i.mergePath(f,{style:r.defaults(a.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,n,a,s){var c=t.getCategories(!0),l=t.getModel("axisLabel"),f=l.get("margin");r.each(s,function(n,r){var s=l,h=n.tickValue,d=a[u(e)],p=e.coordToPoint([d+f,n.coord]),g=e.cx,v=e.cy,m=Math.abs(p[0]-g)/d<.3?"center":p[0]>g?"left":"right",y=Math.abs(p[1]-v)/d<.3?"middle":p[1]>v?"top":"bottom";c&&c[h]&&c[h].textStyle&&(s=new o(c[h].textStyle,l,l.ecModel));var x=new i.Text({silent:!0});this.group.add(x),i.setTextStyle(x.style,s,{x:p[0],y:p[1],textFill:s.getTextColor()||t.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:m,textVerticalAlign:y})},this)},_splitLine:function(t,e,n,o){var a=t.getModel("splitLine").getModel("lineStyle"),u=a.get("color"),c=0;u=u instanceof Array?u:[u];for(var l=[],f=0;f<n.length;f++){var h=c++%u.length;l[h]=l[h]||[],l[h].push(new i.Line({shape:s(e,o,n[f].coord)}))}for(f=0;f<l.length;f++)this.group.add(i.mergePath(l[f],{style:r.defaults({stroke:u[f%u.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,o){if(n.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var c=[],l=Math.PI/180,f=-n[0].coord*l,h=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]),p=t.get("clockwise"),g=1;g<n.length;g++){var v=u++%s.length;c[v]=c[v]||[],c[v].push(new i.Sector({shape:{cx:e.cx,cy:e.cy,r0:h,r:d,startAngle:f,endAngle:-n[g].coord*l,clockwise:p},silent:!0})),f=-n[g].coord*l}for(g=0;g<c.length;g++)this.group.add(i.mergePath(c[g],{style:r.defaults({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}});t.exports=l},function(t,e,n){n(892),n(1247)},function(t,e,n){var r=n(0),i=n(4),o=n(104),a=["axisLine","axisTickLabel","axisName"],s=["splitLine","splitArea"],u=n(83).extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,u=i.getAngleAxis(),c=n.getTicksCoords(),l=u.getExtent()[0],f=n.getExtent(),h=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(i,t,l),d=new o(t,h);r.each(a,d.add,d),this.group.add(d.getGroup()),r.each(s,function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,i,l,f,c)},this)}},_splitLine:function(t,e,n,o,a){var s=t.getModel("splitLine").getModel("lineStyle"),u=s.get("color"),c=0;u=u instanceof Array?u:[u];for(var l=[],f=0;f<a.length;f++){var h=c++%u.length;l[h]=l[h]||[],l[h].push(new i.Circle({shape:{cx:e.cx,cy:e.cy,r:a[f].coord},silent:!0}))}for(f=0;f<l.length;f++)this.group.add(i.mergePath(l[f],{style:r.defaults({stroke:u[f%u.length],fill:null},s.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,o,a){if(a.length){var s=t.getModel("splitArea").getModel("areaStyle"),u=s.get("color"),c=0;u=u instanceof Array?u:[u];for(var l=[],f=a[0].coord,h=1;h<a.length;h++){var d=c++%u.length;l[d]=l[d]||[],l[d].push(new i.Sector({shape:{cx:e.cx,cy:e.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),f=a[h].coord}for(h=0;h<l.length;h++)this.group.add(i.mergePath(l[h],{style:r.defaults({fill:u[h%u.length]},s.getAreaStyle()),silent:!0}))}}});t.exports=u},function(t,e,n){var r=n(20),i=n(165),o=n(4),a=n(109),s=n(38),u=n(104),c=n(83),l=i.extend({makeElOption:function(t,e,n,i,c){var l=n.axis;"angle"===l.dim&&(this.animationThreshold=Math.PI/18);var h,d=l.polar,p=d.getOtherAxis(l).getExtent();h=l["dataTo"+r.capitalFirst(l.dim)](e);var g=i.get("type");if(g&&"none"!==g){var v=a.buildElStyle(i),m=f[g](l,d,h,p,v);m.style=v,t.graphicKey=m.type,t.pointer=m}var y=function(t,e,n,r,i){var a=e.axis,c=a.dataToCoord(t),l=r.getAngleAxis().getExtent()[0];l=l/180*Math.PI;var f,h,d,p=r.getRadiusAxis().getExtent();if("radius"===a.dim){var g=s.create();s.rotate(g,g,l),s.translate(g,g,[r.cx,r.cy]),f=o.applyTransform([c,-i],g);var v=e.getModel("axisLabel").get("rotate")||0,m=u.innerTextLayout(l,v*Math.PI/180,-1);h=m.textAlign,d=m.textVerticalAlign}else{var y=p[1];f=r.coordToPoint([y+i,c]);var x=r.cx,_=r.cy;h=Math.abs(f[0]-x)/y<.3?"center":f[0]>x?"left":"right",d=Math.abs(f[1]-_)/y<.3?"middle":f[1]>_?"top":"bottom"}return{position:f,align:h,verticalAlign:d}}(e,n,0,d,i.get("label.margin"));a.buildLabelElOption(t,n,i,c,y)}});var f={line:function(t,e,n,r,i){return"angle"===t.dim?{type:"Line",shape:a.makeLineShape(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r,i){var o=Math.max(1,t.getBandWidth()),s=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:a.makeSectorShape(e.cx,e.cy,r[0],r[1],(-n-o/2)*s,(o/2-n)*s)}:{type:"Sector",shape:a.makeSectorShape(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}};c.registerAxisPointerClass("PolarAxisPointer",l);var h=l;t.exports=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={default:n(1294),__esModule:!0}},function(t,e,n){n(1295),t.exports=n(10).Number.isNaN},function(t,e,n){var r=n(26);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){n(158),n(66),n(87),n(1297),n(1303),n(1306),n(1308),t.exports=n(10).Set},function(t,e,n){"use strict";var r=n(1298),i=n(989);t.exports=n(1299)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(29).f,i=n(160),o=n(386),a=n(64),s=n(385),u=n(384),c=n(159),l=n(392),f=n(393),h=n(30),d=n(387).fastKey,p=n(989),g=h?"_s":"size",v=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),r=v(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(p(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return p(this,e)[g]}}),l},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(17),i=n(26),o=n(387),a=n(53),s=n(43),u=n(386),c=n(384),l=n(385),f=n(42),h=n(86),d=n(29).f,p=n(1300)(0),g=n(30);t.exports=function(t,e,n,v,m,y){var x=r[t],_=x,b=m?"set":"add",w=_&&_.prototype,M={};return g&&"function"==typeof _&&(y||w.forEach&&!a(function(){(new _).entries().next()}))?(_=e(function(e,n){l(e,_,t,"_c"),e._c=new x,void 0!=n&&c(n,m,e[b],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!y||"clear"!=t)&&s(_.prototype,t,function(n,r){if(l(this,_,t),!e&&y&&!f(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),y||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(e,t,m,b),u(_.prototype,n),o.NEED=!0),h(_,t),M[t]=_,i(i.G+i.W+i.F,M),y||v.setStrong(_,t,m),_}},function(t,e,n){var r=n(64),i=n(157),o=n(84),a=n(105),s=n(1301);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,d=e||s;return function(e,s,p){for(var g,v,m=o(e),y=i(m),x=r(s,p,3),_=a(y.length),b=0,w=n?d(e,_):u?d(e,0):void 0;_>b;b++)if((h||b in y)&&(v=x(g=y[b],b,m),t))if(n)w[b]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return b;case 2:w.push(g)}else if(l)return!1;return f?-1:c||l?l:w}}},function(t,e,n){var r=n(1302);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(42),i=n(394),o=n(18)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(26);r(r.P+r.R,"Set",{toJSON:n(1304)("Set")})},function(t,e,n){var r=n(106),i=n(1305);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(384);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(1307)("Set")},function(t,e,n){"use strict";var r=n(26);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(1309)("Set")},function(t,e,n){"use strict";var r=n(26),i=n(85),o=n(64),a=n(384);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r;try{r=n(994)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){t.exports={Graph:n(894),version:n(1475)}},function(t,e,n){var r=n(995),i=4;t.exports=function(t){return r(t,i)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(849),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(849);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(849);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(849);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(848);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(848),i=n(895),o=n(896),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(810),i=n(1389),o=n(153),a=n(996),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r,i=n(1390),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(154)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(1393),i=n(848),o=n(895);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(1394),i=n(1395),o=n(1396),a=n(1397),s=n(1398);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(850);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(850),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(850),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(850),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(851);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(851);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(851);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(851);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(824),i=n(795);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(381),i=n(379),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(381),i=n(898),o=n(379),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(999)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(824),i=n(812);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(153),i=n(856),o=n(1412),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(824),i=n(901);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(824),i=n(1004);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(1006),i=n(1004),o=n(812);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(801)(n(154),"DataView");t.exports=r},function(t,e,n){var r=n(801)(n(154),"Promise");t.exports=r},function(t,e,n){var r=n(801)(n(154),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(903),i=n(1421),o=n(1422),a=n(1423),s=n(1009),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",h="[object RegExp]",d="[object Set]",p="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",b="[object Int16Array]",w="[object Int32Array]",M="[object Uint8Array]",S="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]";t.exports=function(t,e,n){var O=t.constructor;switch(e){case v:return r(t);case u:case c:return new O(+t);case m:return i(t,n);case y:case x:case _:case b:case w:case M:case S:case A:case T:return s(t,n);case l:return new O;case f:case p:return new O(t);case h:return o(t);case d:return new O;case g:return a(t)}}},function(t,e,n){var r=n(903);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(155),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(1425),i=n(855),o=n(899),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(813),i=n(379),o="[object Map]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(1427),i=n(855),o=n(899),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(813),i=n(379),o="[object Set]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(782);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(858);t.exports=function(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}},function(t,e,n){var r=n(1432),i=n(1440),o=n(1020);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(847),i=n(1015),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,c=u,l=!s;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){var h=(f=n[u])[0],d=t[h],p=f[1];if(l&&f[2]){if(void 0===d&&!(h in t))return!1}else{var g=new r;if(s)var v=s(d,p,h,t,e,g);if(!(void 0===v?i(p,d,o|a,s,g):v))return!1}}return!0}},function(t,e,n){var r=n(847),i=n(1016),o=n(1437),a=n(1439),s=n(813),u=n(755),c=n(811),l=n(826),f=1,h="[object Arguments]",d="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,m,y){var x=u(t),_=u(e),b=x?d:s(t),w=_?d:s(e),M=(b=b==h?p:b)==p,S=(w=w==h?p:w)==p,A=b==w;if(A&&c(t)){if(!c(e))return!1;x=!0,M=!1}if(A&&!M)return y||(y=new r),x||l(t)?i(t,e,n,v,m,y):o(t,e,b,n,v,m,y);if(!(n&f)){var T=M&&g.call(t,"__wrapped__"),O=S&&g.call(e,"__wrapped__");if(T||O){var I=T?t.value():t,C=O?e.value():e;return y||(y=new r),m(I,C,n,v,y)}}return!!A&&(y||(y=new r),a(t,e,n,v,m,y))}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(155),i=n(1008),o=n(809),a=n(1016),s=n(1438),u=n(908),c=1,l=2,f="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",m="[object Set]",y="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",b="[object DataView]",w=r?r.prototype:void 0,M=w?w.valueOf:void 0;t.exports=function(t,e,n,r,w,S,A){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!S(new i(t),new i(e)));case f:case h:case g:return o(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case y:return t==e+"";case p:var T=s;case m:var O=r&c;if(T||(T=u),t.size!=e.size&&!O)return!1;var I=A.get(t);if(I)return I==e;r|=l,A.set(t,e);var C=a(T(t),T(e),r,w,S,A);return A.delete(t),C;case x:if(M)return M.call(t)==M.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e,n){var r=n(1005),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var c=n&i,l=r(t),f=l.length;if(f!=r(e).length&&!c)return!1;for(var h=f;h--;){var d=l[h];if(!(c?d in e:o.call(e,d)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var g=!0;u.set(t,e),u.set(e,t);for(var v=c;++h<f;){var m=t[d=l[h]],y=e[d];if(a)var x=c?a(y,m,d,e,t,u):a(m,y,d,t,e,u);if(!(void 0===x?m===y||s(m,y,n,a,u):x)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e,n){var r=n(1019),i=n(795);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(1015),i=n(1442),o=n(1022),a=n(910),s=n(1019),u=n(1020),c=n(827),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,l|f)}}},function(t,e,n){var r=n(909);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(1444)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(1445),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(896),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(155),i=n(860),o=n(755),a=n(383),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(1024),i=n(1449),o=n(910),a=n(827);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e,n){var r=n(909);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(900),i=n(813),o=n(825),a=n(755),s=n(782),u=n(811),c=n(856),l=n(826),f="[object Map]",h="[object Set]",d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||o(t)))return!t.length;var e=i(t);if(e==f||e==h)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e){t.exports=function(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}},function(t,e,n){var r=n(900),i=n(813),o=n(782),a=n(1455),s=n(1456),u="[object Map]",c="[object Set]";t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return e==u||e==c?t.size:r(t).length}},function(t,e,n){var r=n(381),i=n(755),o=n(379),a="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==a}},function(t,e,n){var r=n(1457),i=n(1458),o=n(1459);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e,n){var r=n(1024)("length");t.exports=r},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),l="(?:"+[o+r+"?",r,a,s,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+c,"g");t.exports=function(t){for(var e=f.lastIndex=0;f.test(t);)++e;return e}},function(t,e,n){var r=n(897),i=n(1011),o=n(906),a=n(783),s=n(857),u=n(755),c=n(811),l=n(810),f=n(153),h=n(826);t.exports=function(t,e,n){var d=u(t),p=d||c(t)||h(t);if(e=a(e,4),null==n){var g=t&&t.constructor;n=p?d?new g:[]:f(t)&&l(g)?i(s(t)):{}}return(p?r:o)(t,function(t,r,i){return e(n,t,r,i)}),n}},function(t,e,n){var r=n(912),i=n(861),o=n(1466),a=n(1032),s=i(function(t){return o(r(t,1,a,!0))});t.exports=s},function(t,e,n){var r=n(155),i=n(825),o=n(755),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(904),i=n(997),o=n(802),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(1017),i=n(1467),o=n(1471),a=n(1018),s=n(1472),u=n(908),c=200;t.exports=function(t,e,n){var l=-1,f=i,h=t.length,d=!0,p=[],g=p;if(n)d=!1,f=o;else if(h>=c){var v=e?null:s(t);if(v)return u(v);d=!1,f=a,g=new r}else g=e?[]:p;t:for(;++l<h;){var m=t[l],y=e?e(m):m;if(m=n||0!==m?m:0,d&&y==y){for(var x=g.length;x--;)if(g[x]===y)continue t;e&&g.push(y),p.push(m)}else f(g,y,n)||(g!==p&&g.push(y),p.push(m))}return p}},function(t,e,n){var r=n(1468);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(1031),i=n(1469),o=n(1470);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(1007),i=n(1473),o=n(908),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(860);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e){t.exports="2.1.7"},function(t,e,n){var r=n(767),i=n(894);t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return r.map(t.nodes(),function(e){var n=t.node(e),i=t.parent(e),o={v:e};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o})}(t),edges:function(t){return r.map(t.edges(),function(e){var n=t.edge(e),i={v:e.v,w:e.w};return r.isUndefined(e.name)||(i.name=e.name),r.isUndefined(n)||(i.value=n),i})}(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),r.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},function(t,e,n){t.exports={components:n(1478),dijkstra:n(1034),dijkstraAll:n(1479),findCycles:n(1480),floydWarshall:n(1481),isAcyclic:n(1482),postorder:n(1483),preorder:n(1484),prim:n(1485),tarjan:n(1036),topsort:n(1037)}},function(t,e,n){var r=n(767);t.exports=function(t){var e,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,e.push(i),r.each(t.successors(i),o),r.each(t.predecessors(i),o))}return r.each(t.nodes(),function(t){e=[],o(t),e.length&&i.push(e)}),i}},function(t,e,n){var r=n(1034),i=n(767);t.exports=function(t,e,n){return i.transform(t.nodes(),function(i,o){i[o]=r(t,o,e,n)},{})}},function(t,e,n){var r=n(767),i=n(1036);t.exports=function(t){return r.filter(i(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}},function(t,e,n){var r=n(767);t.exports=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}(t,e||i,n||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(1037);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(1038);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(1038);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(767),i=n(894),o=n(1035);t.exports=function(t,e){var n,a=new i,s={},u=new o;function c(t){var r=t.v===n?t.w:t.v,i=u.priority(r);if(void 0!==i){var o=e(t);o<i&&(s[r]=n,u.decrease(r,o))}}if(0===t.nodeCount())return a;r.each(t.nodes(),function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)}),u.decrease(t.nodes()[0],0);var l=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(n).forEach(c)}return a}},function(t,e,n){t.exports={graphlib:n(774),layout:n(1487),debug:n(1539),util:{time:n(761).time,notime:n(761).notime},version:n(1540)}},function(t,e,n){"use strict";var r=n(745),i=n(1518),o=n(1521),a=n(1522),s=n(761).normalizeRanks,u=n(1524),c=n(761).removeEmptyRanks,l=n(1525),f=n(1526),h=n(1527),d=n(1528),p=n(1537),g=n(761),v=n(774).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(t){var e=new v({multigraph:!0,compound:!0}),n=T(t.graph());return e.setGraph(r.merge({},y,A(n,m),r.pick(n,x))),r.forEach(t.nodes(),function(n){var i=T(t.node(n));e.setNode(n,r.defaults(A(i,_),b)),e.setParent(n,t.parent(n))}),r.forEach(t.edges(),function(n){var i=T(t.edge(n));e.setEdge(n,r.merge({},M,A(i,w),r.pick(i,S)))}),e}(t)});n("  runLayout",function(){!function(t,e){e("    makeSpaceForEdgeLabels",function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function(t){r.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){i.run(t)}),e("    nestingGraph.run",function(){l.run(t)}),e("    rank",function(){a(g.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),o={rank:(i.rank-r.rank)/2+r.rank,e:e};g.addDummyNode(t,"edge-proxy",o,"_ep")}})}(t)}),e("    removeEmptyRanks",function(){c(t)}),e("    nestingGraph.cleanup",function(){l.cleanup(t)}),e("    normalizeRanks",function(){s(t)}),e("    assignRankMinMax",function(){!function(t){var e=0;r.forEach(t.nodes(),function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=r.max(e,i.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function(t){r.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){o.run(t)}),e("    parentDummyChains",function(){u(t)}),e("    addBorderSegments",function(){f(t)}),e("    order",function(){d(t)}),e("    insertSelfEdges",function(){!function(t){var e=g.buildLayerMatrix(t);r.forEach(e,function(e){var n=0;r.forEach(e,function(e,i){var o=t.node(e);o.order=i+n,r.forEach(o.selfEdges,function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++n,e:e.e,label:e.label},"_se")}),delete o.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){h.adjust(t)}),e("    position",function(){p(t)}),e("    positionSelfEdges",function(){!function(t){r.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function(t){r.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),o=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}}),r.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){o.undo(t)}),e("    fixupEdgeLabelCoords",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){h.undo(t)}),e("    translateGraph",function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,u=a.marginy||0;function c(t){var r=t.x,a=t.y,s=t.width,u=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-u/2),o=Math.max(o,a+u/2)}r.forEach(t.nodes(),function(e){c(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.has(n,"x")&&c(n)}),e-=s,i-=u,r.forEach(t.nodes(),function(n){var r=t.node(n);r.x-=e,r.y-=i}),r.forEach(t.edges(),function(n){var o=t.edge(n);r.forEach(o.points,function(t){t.x-=e,t.y-=i}),r.has(o,"x")&&(o.x-=e),r.has(o,"y")&&(o.y-=i)}),a.width=n-e+s,a.height=o-i+u}(t)}),e("    assignNodeIntersects",function(){!function(t){r.forEach(t.edges(),function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(g.intersectRect(o,n)),i.points.push(g.intersectRect(a,r))})}(t)}),e("    reversePoints",function(){!function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){i.undo(t)})}(e,n)}),n("  updateInputGraph",function(){!function(t,e){r.forEach(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),r.forEach(t.edges(),function(n){var i=t.edge(n),o=e.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)})})};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],_=["width","height"],b={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function A(t,e){return r.mapValues(r.pick(t,e),Number)}function T(t){var e={};return r.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}},function(t,e,n){var r=n(995),i=1,o=4;t.exports=function(t){return r(t,i|o)}},function(t,e,n){var r=n(1490)(n(1491));t.exports=r},function(t,e,n){var r=n(783),i=n(782),o=n(795);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}},function(t,e,n){var r=n(1031),i=n(783),o=n(1492),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}},function(t,e,n){var r=n(1041);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(907),i=n(1013),o=n(812);t.exports=function(t,e){return null==t?t:r(t,i(e),o)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(853),i=n(906),o=n(783);t.exports=function(t,e){var n={};return e=o(e,3),i(t,function(t,i,o){r(n,i,e(t,i,o))}),n}},function(t,e,n){var r=n(913),i=n(1497),o=n(802);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(1499),i=n(1502)(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){var r=n(847),i=n(1043),o=n(907),a=n(1500),s=n(153),u=n(812),c=n(1045);t.exports=function t(e,n,l,f,h){e!==n&&o(n,function(o,u){if(s(o))h||(h=new r),a(e,n,u,l,t,f,h);else{var d=f?f(c(e,u),o,u+"",e,n,h):void 0;void 0===d&&(d=o),i(e,u,d)}},u)}},function(t,e,n){var r=n(1043),i=n(1e3),o=n(1009),a=n(1001),s=n(1010),u=n(825),c=n(755),l=n(1032),f=n(811),h=n(810),d=n(153),p=n(1044),g=n(826),v=n(1045),m=n(1501);t.exports=function(t,e,n,y,x,_,b){var w=v(t,n),M=v(e,n),S=b.get(M);if(S)r(t,n,S);else{var A=_?_(w,M,n+"",t,e,b):void 0,T=void 0===A;if(T){var O=c(M),I=!O&&f(M),C=!O&&!I&&g(M);A=M,O||I||C?c(w)?A=w:l(w)?A=a(w):I?(T=!1,A=i(M,!0)):C?(T=!1,A=o(M,!0)):A=[]:p(M)||u(M)?(A=w,u(w)?A=m(w):d(w)&&!h(w)||(A=s(M))):T=!1}T&&(b.set(M,A),x(A,M,y,_,b),b.delete(M)),r(t,n,A)}}},function(t,e,n){var r=n(824),i=n(812);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(861),i=n(862);t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){var r=n(913),i=n(1046),o=n(802);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e,n){var r=n(913),i=n(783),o=n(1046);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},function(t,e,n){var r=n(1506),i=n(1022);t.exports=function(t,e){return r(t,e,function(e,n){return i(t,n)})}},function(t,e,n){var r=n(909),i=n(1507),o=n(859);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&i(u,o(c,t),l)}return u}},function(t,e,n){var r=n(852),i=n(859),o=n(854),a=n(153),s=n(827);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=i(e,t)).length,f=l-1,h=t;null!=h&&++c<l;){var d=s(e[c]),p=n;if(c!=f){var g=h[d];void 0===(p=u?u(g,d,h):void 0)&&(p=a(g)?g:o(e[c+1])?[]:{})}r(h,d,p),h=h[d]}return t}},function(t,e,n){var r=n(1042),i=n(1029),o=n(1030);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(1510),i=n(862),o=n(1041);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,i,o){for(var a=-1,s=r(n((e-t)/(i||1)),0),u=Array(s);s--;)u[o?s:++a]=t,t+=i;return u}},function(t,e,n){var r=n(912),i=n(1512),o=n(861),a=n(862),s=o(function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])});t.exports=s},function(t,e,n){var r=n(860),i=n(783),o=n(1027),a=n(1513),s=n(855),u=n(1514),c=n(802);t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[c],s(i));var f=o(t,function(t,n,i){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return a(f,function(t,e){return u(t,e,n)})}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(1515);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(383);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,u=null===e,c=e==e,l=r(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&t<e||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}},function(t,e,n){var r=n(852),i=n(1517);t.exports=function(t,e){return i(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}},function(t,e,n){"use strict";var r=n(745),i=n(1519);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},i={};return r.forEach(t.nodes(),function o(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),function(t){r.has(n,t.w)?e.push(t):o(t.w)}),delete n[a])}),e}(t);r.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))})},undo:function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}}},function(t,e,n){var r=n(745),i=n(774).Graph,o=n(1520);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new i,a=0,s=0;r.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),r.forEach(t.edges(),function(t){var r=n.edge(t.v,t.w)||0,i=e(t),o=r+i;n.setEdge(t.v,t.w,o),s=Math.max(s,n.node(t.v).out+=i),a=Math.max(a,n.node(t.w).in+=i)});var c=r.range(s+a+3).map(function(){return new o}),l=a+1;return r.forEach(n.nodes(),function(t){u(c,l,n.node(t))}),{graph:n,buckets:c,zeroIdx:l}}(t,e||a),c=function(t,e,n){var r,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)s(t,e,n,r);for(;r=o.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(r=e[u].dequeue()){i=i.concat(s(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,function(e){return t.outEdges(e.v,e.w)}),!0)};var a=r.constant(1);function s(t,e,n,i,o){var a=o?[]:void 0;return r.forEach(t.inEdges(i.v),function(r){var i=t.edge(r),s=t.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,u(e,n,s)}),r.forEach(t.outEdges(i.v),function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,u(e,n,a)}),t.removeNode(i.v),a}function u(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,i)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(745),i=n(761);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),function(e){!function(t,e){var n,r,o,a=e.v,s=t.node(a).rank,u=e.w,c=t.node(u).rank,l=e.name,f=t.edge(e),h=f.labelRank;if(c===s+1)return;for(t.removeEdge(e),o=0,++s;s<c;++o,++s)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:e,rank:s},n=i.addDummyNode(t,"edge",r,"_d"),s===h&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),t.setEdge(a,n,{weight:f.weight},l),0===o&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,u,{weight:f.weight},l)}(t,e)})},undo:function(t){r.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}}},function(t,e,n){"use strict";var r=n(863).longestPath,i=n(1050),o=n(1523);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":s(t);break;case"tight-tree":!function(t){r(t),i(t)}(t);break;case"longest-path":a(t);break;default:s(t)}};var a=r;function s(t){o(t)}},function(t,e,n){"use strict";var r=n(745),i=n(1050),o=n(863).slack,a=n(863).longestPath,s=n(774).alg.preorder,u=n(774).alg.postorder,c=n(761).simplify;function l(t){t=c(t),a(t);var e,n=i(t);for(d(n),f(n,t);e=p(n);)v(n,t,e,g(n,t,e))}function f(t,e){var n=u(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=h(t,e,n)}(t,e,n)})}function h(t,e,n){var i=t.node(n).parent,o=!0,a=e.edge(n,i),s=0;return a||(o=!1,a=e.edge(i,n)),s=a.weight,r.forEach(e.nodeEdges(n),function(r){var a,u,c=r.v===n,l=c?r.w:r.v;if(l!==i){var f=c===o,h=e.edge(r).weight;if(s+=f?h:-h,a=n,u=l,t.hasEdge(a,u)){var d=t.edge(n,l).cutvalue;s+=f?-d:d}}}),s}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,i,o,a){var s=i,u=e.node(o);n[o]=!0;r.forEach(e.neighbors(o),function(a){r.has(n,a)||(i=t(e,n,i,a,o))});u.low=s;u.lim=i++;a?u.parent=a:delete u.parent;return i}(t,{},1,e)}function p(t){return r.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function g(t,e,n){var i=n.v,a=n.w;e.hasEdge(i,a)||(i=n.w,a=n.v);var s=t.node(i),u=t.node(a),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var f=r.filter(e.edges(),function(e){return l===m(t,t.node(e.v),c)&&l!==m(t,t.node(e.w),c)});return r.minBy(f,function(t){return o(e,t)})}function v(t,e,n,i){var o=n.v,a=n.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),d(t),f(t,e),function(t,e){var n=r.find(t.nodes(),function(t){return!e.node(t).parent}),i=s(t,n);i=i.slice(1),r.forEach(i,function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})}(t,e)}function m(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=l,l.initLowLimValues=d,l.initCutValues=f,l.calcCutValue=h,l.leaveEdge=p,l.enterEdge=g,l.exchangeEdges=v},function(t,e,n){var r=n(745);t.exports=function(t){var e=function(t){var e={},n=0;return r.forEach(t.children(),function i(o){var a=n;r.forEach(t.children(o),i),e[o]={low:a,lim:n++}}),e}(t);r.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],u=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>u||c>e[i].lim));o=i,i=r;for(;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],l=!0;n!==i.w;){if(r=t.node(n),l){for(;(c=a[u])!==s&&t.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}t.setParent(n,c),n=t.successors(n)[0]}})}},function(t,e,n){var r=n(745),i=n(761);t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),function(n){!function n(i,o){var a=t.children(i);a&&a.length&&r.forEach(a,function(t){n(t,o+1)}),e[i]=o}(n,1)}),e}(t),o=r.max(r.values(n))-1,a=2*o+1;t.graph().nestingRoot=e,r.forEach(t.edges(),function(e){t.edge(e).minlen*=a});var s=function(t){return r.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;r.forEach(t.children(),function(u){!function t(e,n,o,a,s,u,c){var l=e.children(c);if(!l.length)return void(c!==n&&e.setEdge(n,c,{weight:0,minlen:o}));var f=i.addBorderNode(e,"_bt"),h=i.addBorderNode(e,"_bb"),d=e.node(c);e.setParent(f,c);d.borderTop=f;e.setParent(h,c);d.borderBottom=h;r.forEach(l,function(r){t(e,n,o,a,s,u,r);var i=e.node(r),l=i.borderTop?i.borderTop:r,d=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,g=l!==d?1:s-u[c]+1;e.setEdge(f,l,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(d,h,{weight:p,minlen:g,nestingEdge:!0})});e.parent(c)||e.setEdge(n,f,{weight:0,minlen:s+u[c]})}(t,e,a,s,o,n,u)}),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)})}}},function(t,e,n){var r=n(745),i=n(761);function o(t,e,n,r,o,a){var s={width:0,height:0,rank:a,borderType:e},u=o[e][a-1],c=i.addDummyNode(t,"border",s,n);o[e][a]=c,t.setParent(c,r),u&&t.setEdge(u,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),function e(n){var i=t.children(n),a=t.node(n);i.length&&r.forEach(i,e);if(r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)o(t,"borderLeft","_bl",n,a,s),o(t,"borderRight","_br",n,a,s)}})}},function(t,e,n){"use strict";var r=n(745);function i(t){r.forEach(t.nodes(),function(e){o(t.node(e))}),r.forEach(t.edges(),function(e){o(t.edge(e))})}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),function(e){a(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)})}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),function(e){s(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"x")&&s(n)})}(t),i(t))}}},function(t,e,n){"use strict";var r=n(745),i=n(1529),o=n(1530),a=n(1531),s=n(1535),u=n(1536),c=n(774).Graph,l=n(761);function f(t,e,n){return r.map(e,function(e){return s(t,e,n)})}function h(t,e){var n=new c;r.forEach(t,function(t){var i=t.graph().root,o=a(t,i,n,e);r.forEach(o.vs,function(e,n){t.node(e).order=n}),u(t,n,o.vs)})}function d(t,e){r.forEach(e,function(e){r.forEach(e,function(e,n){t.node(e).order=n})})}t.exports=function(t){var e=l.maxRank(t),n=f(t,r.range(1,e+1),"inEdges"),a=f(t,r.range(e-1,-1,-1),"outEdges"),s=i(t);d(t,s);for(var u,c=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){h(p%2?n:a,p%4>=2),s=l.buildLayerMatrix(t);var v=o(t,s);v<c&&(g=0,u=r.cloneDeep(s),c=v)}d(t,u)}},function(t,e,n){"use strict";var r=n(745);t.exports=function(t){var e={},n=r.filter(t.nodes(),function(e){return!t.children(e).length}),i=r.max(r.map(n,function(e){return t.node(e).rank})),o=r.map(r.range(i+1),function(){return[]});var a=r.sortBy(n,function(e){return t.node(e).rank});return r.forEach(a,function n(i){if(!r.has(e,i)){e[i]=!0;var a=t.node(i);o[a.rank].push(i),r.forEach(t.successors(i),n)}}),o}},function(t,e,n){"use strict";var r=n(745);function i(t,e,n){for(var i=r.zipObject(n,r.map(n,function(t,e){return e})),o=r.flatten(r.map(e,function(e){return r.sortBy(r.map(t.outEdges(e),function(e){return{pos:i[e.w],weight:t.edge(e).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=r.map(new Array(s),function(){return 0}),c=0;return r.forEach(o.forEach(function(t){var e=t.pos+a;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;c+=t.weight*n})),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=i(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(745),i=n(1532),o=n(1533),a=n(1534);t.exports=function t(e,n,s,u){var c=e.children(n),l=e.node(n),f=l?l.borderLeft:void 0,h=l?l.borderRight:void 0,d={};f&&(c=r.filter(c,function(t){return t!==f&&t!==h}));var p=i(e,c);r.forEach(p,function(n){if(e.children(n.v).length){var i=t(e,n.v,s,u);d[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a});var g=o(p,s);!function(t,e){r.forEach(t,function(t){t.vs=r.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}(g,d);var v=a(g,u);if(f&&(v.vs=r.flatten([f,v.vs,h],!0),e.predecessors(f).length)){var m=e.node(e.predecessors(f)[0]),y=e.node(e.predecessors(h)[0]);r.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+m.order+y.order)/(v.weight+2),v.weight+=2}return v}},function(t,e,n){var r=n(745);t.exports=function(t,e){return r.map(e,function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}})}},function(t,e,n){"use strict";var r=n(745);t.exports=function(t,e){var n={};return r.forEach(t,function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)}),r.forEach(e.edges(),function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))}),function(t){var e=[];function n(t){return function(e){var n,i,o,a;e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(i=e,o=0,a=0,(n=t).weight&&(o+=n.barycenter*n.weight,a+=n.weight),i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),n.vs=i.vs.concat(n.vs),n.barycenter=o/a,n.weight=a,n.i=Math.min(i.i,n.i),i.merged=!0)}}function i(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var o=t.pop();e.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.map(r.filter(e,function(t){return!t.merged}),function(t){return r.pick(t,["vs","i","barycenter","weight"])})}(r.filter(n,function(t){return!t.indegree}))}},function(t,e,n){var r=n(745),i=n(761);function o(t,e,n){for(var i;e.length&&(i=r.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}t.exports=function(t,e){var n=i.partition(t,function(t){return r.has(t,"barycenter")}),a=n.lhs,s=r.sortBy(n.rhs,function(t){return-t.i}),u=[],c=0,l=0,f=0;a.sort((h=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:h?e.i-t.i:t.i-e.i})),f=o(u,s,f),r.forEach(a,function(t){f+=t.vs.length,u.push(t.vs),c+=t.barycenter*t.weight,l+=t.weight,f=o(u,s,f)});var h;var d={vs:r.flatten(u,!0)};l&&(d.barycenter=c/l,d.weight=l);return d}},function(t,e,n){var r=n(745),i=n(774).Graph;t.exports=function(t,e,n){var o=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(e){return t.node(e)});return r.forEach(t.nodes(),function(i){var s=t.node(i),u=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(i),a.setParent(i,u||o),r.forEach(t[n](i),function(e){var n=e.v===i?e.w:e.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:t.edge(e).weight+s})}),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),a}},function(t,e,n){var r=n(745);t.exports=function(t,e,n){var i,o={};r.forEach(n,function(n){for(var r,a,s=t.parent(n);s;){if((r=t.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void e.setEdge(a,s);s=r}})}},function(t,e,n){"use strict";var r=n(745),i=n(761),o=n(1538).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),n=t.graph().ranksep,o=0;r.forEach(e,function(e){var i=r.max(r.map(e,function(e){return t.node(e).height}));r.forEach(e,function(e){t.node(e).y=o+i/2}),o+=i+n})})(t=i.asNonCompoundGraph(t)),r.forEach(o(t),function(e,n){t.node(n).x=e})}},function(t,e,n){"use strict";var r=n(745),i=n(774).Graph,o=n(761);function a(t,e){var n={};return r.reduce(e,function(e,i){var o=0,a=0,s=e.length,c=r.last(i);return r.forEach(i,function(e,l){var f=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),h=f?t.node(f).order:s;(f||e===c)&&(r.forEach(i.slice(a,l+1),function(e){r.forEach(t.predecessors(e),function(r){var i=t.node(r),a=i.order;!(a<o||h<a)||i.dummy&&t.node(e).dummy||u(n,r,e)})}),a=l+1,o=h)}),i}),n}function s(t,e){var n={};function i(e,i,o,a,s){var c;r.forEach(r.range(i,o),function(i){c=e[i],t.node(c).dummy&&r.forEach(t.predecessors(c),function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&u(n,e,c)})})}return r.reduce(e,function(e,n){var o,a=-1,s=0;return r.forEach(n,function(r,u){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(o=t.node(c[0]).order,i(n,s,u,a,o),s=u,a=o)}i(n,s,n.length,o,e.length)}),n}),n}function u(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function c(t,e,n){if(e>n){var i=e;e=n,n=i}return r.has(t[e],n)}function l(t,e,n,i){var o={},a={},s={};return r.forEach(e,function(t){r.forEach(t,function(t,e){o[t]=t,a[t]=t,s[t]=e})}),r.forEach(e,function(t){var e=-1;r.forEach(t,function(t){var u=i(t);if(u.length)for(var l=((u=r.sortBy(u,function(t){return s[t]})).length-1)/2,f=Math.floor(l),h=Math.ceil(l);f<=h;++f){var d=u[f];a[t]===t&&e<s[d]&&!c(n,t,d)&&(a[d]=t,a[t]=o[t]=o[d],e=s[d])}})}),{root:o,align:a}}function f(t,e,n,o,a){var s={},u=function(t,e,n,o){var a=new i,s=t.graph(),u=function(t,e,n){return function(i,o,a){var s,u=i.node(o),c=i.node(a),l=0;if(l+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(l+=n?s:-s),s=0,l+=(u.dummy?e:t)/2,l+=(c.dummy?e:t)/2,l+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(l+=n?s:-s),s=0,l}}(s.nodesep,s.edgesep,o);return r.forEach(e,function(e){var i;r.forEach(e,function(e){var r=n[e];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(u(t,e,i),s||0))}i=e})}),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function l(t,e){for(var n=u.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return l(function(t){s[t]=u.inEdges(t).reduce(function(t,e){return Math.max(t,s[e.v]+u.edge(e))},0)},u.predecessors.bind(u)),l(function(e){var n=u.outEdges(e).reduce(function(t,e){return Math.min(t,s[e.w]-u.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[e]=Math.max(s[e],n))},u.successors.bind(u)),r.forEach(o,function(t){s[t]=s[n[t]]}),s}function h(t,e){return r.minBy(r.values(e),function(e){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(e,function(e,r){var o=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+o,n),i=Math.min(e-o,i)}),n-i})}function d(t,e){var n=r.values(e),i=r.min(n),o=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(a){var s,u=n+a,c=t[u];if(c!==e){var l=r.values(c);(s="l"===a?i-r.min(l):o-r.max(l))&&(t[u]=r.mapValues(c,function(t){return t+s}))}})})}function p(t,e){return r.mapValues(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var o=r.sortBy(r.map(t,i));return(o[1]+o[2])/2})}t.exports={positionX:function(t){var e,n=o.buildLayerMatrix(t),i=r.merge(a(t,n),s(t,n)),u={};r.forEach(["u","d"],function(o){e="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(e=r.map(e,function(t){return r.values(t).reverse()}));var a=("u"===o?t.predecessors:t.successors).bind(t),s=l(t,e,i,a),c=f(t,e,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,function(t){return-t})),u[o+n]=c})});var c=h(t,u);return d(u,c),p(u,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:c,verticalAlignment:l,horizontalCompaction:f,alignCoordinates:d,findSmallestWidthAlignment:h,balance:p}},function(t,e,n){var r=n(745),i=n(761),o=n(774).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),r.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),r.forEach(e,function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}}},function(t,e){t.exports="0.8.4"},function(t,e,n){t.exports={node:n(1051),circle:n(1052),ellipse:n(914),polygon:n(1053),rect:n(1054)}},function(t,e){function n(t,e){return t*e>0}t.exports=function(t,e,r,i){var o,a,s,u,c,l,f,h,d,p,g,v,m;if(o=e.y-t.y,s=t.x-e.x,c=e.x*t.y-t.x*e.y,d=o*r.x+s*r.y+c,p=o*i.x+s*i.y+c,0!==d&&0!==p&&n(d,p))return;if(a=i.y-r.y,u=r.x-i.x,l=i.x*r.y-r.x*i.y,f=a*t.x+u*t.y+l,h=a*e.x+u*e.y+l,0!==f&&0!==h&&n(f,h))return;if(0==(g=o*u-a*s))return;return v=Math.abs(g/2),{x:(m=s*l-u*c)<0?(m-v)/g:(m+v)/g,y:(m=a*c-o*l)<0?(m-v)/g:(m+v)/g}}},function(t,e,n){var r=n(814),i=n(796),o=n(1039).layout;t.exports=function(){var t=n(1924),e=n(1928),i=n(1929),c=n(1930),l=n(1931),f=n(1932),h=n(1933),d=n(1934),p=n(1935),g=function(n,g){!function(t){t.nodes().forEach(function(e){var n=t.node(e);r.has(n,"label")||t.children(e).length||(n.label=e),r.has(n,"paddingX")&&r.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),r.has(n,"paddingY")&&r.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),r.has(n,"padding")&&r.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),r.defaults(n,a),r.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(t){n[t]=Number(n[t])}),r.has(n,"width")&&(n._prevWidth=n.width),r.has(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);r.has(n,"label")||(n.label=""),r.defaults(n,s)})}(g);var v=u(n,"output"),m=u(v,"clusters"),y=u(v,"edgePaths"),x=i(u(v,"edgeLabels"),g),_=t(u(v,"nodes"),g,d);o(g),l(_,g),f(x,g),c(y,g,p);var b=e(m,g);h(b,g),function(t){r.each(t.nodes(),function(e){var n=t.node(e);r.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,r.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}(g)};return g.createNodes=function(e){return arguments.length?(t=e,g):t},g.createClusters=function(t){return arguments.length?(e=t,g):e},g.createEdgeLabels=function(t){return arguments.length?(i=t,g):i},g.createEdgePaths=function(t){return arguments.length?(c=t,g):c},g.shapes=function(t){return arguments.length?(d=t,g):d},g.arrows=function(t){return arguments.length?(p=t,g):p},g};var a={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},s={arrowhead:"normal",curve:i.curveLinear};function u(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1545);n.d(e,"version",function(){return r.a});var i=n(762);n.d(e,"bisect",function(){return i.b}),n.d(e,"bisectRight",function(){return i.d}),n.d(e,"bisectLeft",function(){return i.c}),n.d(e,"ascending",function(){return i.a}),n.d(e,"bisector",function(){return i.e}),n.d(e,"cross",function(){return i.f}),n.d(e,"descending",function(){return i.g}),n.d(e,"deviation",function(){return i.h}),n.d(e,"extent",function(){return i.i}),n.d(e,"histogram",function(){return i.j}),n.d(e,"thresholdFreedmanDiaconis",function(){return i.w}),n.d(e,"thresholdScott",function(){return i.x}),n.d(e,"thresholdSturges",function(){return i.y}),n.d(e,"max",function(){return i.k}),n.d(e,"mean",function(){return i.l}),n.d(e,"median",function(){return i.m}),n.d(e,"merge",function(){return i.n}),n.d(e,"min",function(){return i.o}),n.d(e,"pairs",function(){return i.p}),n.d(e,"permute",function(){return i.q}),n.d(e,"quantile",function(){return i.r}),n.d(e,"range",function(){return i.s}),n.d(e,"scan",function(){return i.t}),n.d(e,"shuffle",function(){return i.u}),n.d(e,"sum",function(){return i.v}),n.d(e,"ticks",function(){return i.B}),n.d(e,"tickIncrement",function(){return i.z}),n.d(e,"tickStep",function(){return i.A}),n.d(e,"transpose",function(){return i.C}),n.d(e,"variance",function(){return i.D}),n.d(e,"zip",function(){return i.E});var o=n(1562);n.d(e,"axisTop",function(){return o.d}),n.d(e,"axisRight",function(){return o.c}),n.d(e,"axisBottom",function(){return o.a}),n.d(e,"axisLeft",function(){return o.b});var a=n(1566);n.d(e,"brush",function(){return a.a}),n.d(e,"brushX",function(){return a.c}),n.d(e,"brushY",function(){return a.d}),n.d(e,"brushSelection",function(){return a.b});var s=n(1659);n.d(e,"chord",function(){return s.a}),n.d(e,"ribbon",function(){return s.b});var u=n(829);n.d(e,"nest",function(){return u.d}),n.d(e,"set",function(){return u.e}),n.d(e,"map",function(){return u.c}),n.d(e,"keys",function(){return u.b}),n.d(e,"values",function(){return u.f}),n.d(e,"entries",function(){return u.a});var c=n(798);n.d(e,"color",function(){return c.a}),n.d(e,"rgb",function(){return c.f}),n.d(e,"hsl",function(){return c.d}),n.d(e,"lab",function(){return c.e}),n.d(e,"hcl",function(){return c.c}),n.d(e,"cubehelix",function(){return c.b});var l=n(868);n.d(e,"dispatch",function(){return l.a});var f=n(1089);n.d(e,"drag",function(){return f.a}),n.d(e,"dragDisable",function(){return f.b}),n.d(e,"dragEnable",function(){return f.c});var h=n(937);n.d(e,"dsvFormat",function(){return h.e}),n.d(e,"csvParse",function(){return h.c}),n.d(e,"csvParseRows",function(){return h.d}),n.d(e,"csvFormat",function(){return h.a}),n.d(e,"csvFormatRows",function(){return h.b}),n.d(e,"tsvParse",function(){return h.h}),n.d(e,"tsvParseRows",function(){return h.i}),n.d(e,"tsvFormat",function(){return h.f}),n.d(e,"tsvFormatRows",function(){return h.g});var d=n(1098);n.d(e,"easeLinear",function(){return d.y}),n.d(e,"easeQuad",function(){return d.D}),n.d(e,"easeQuadIn",function(){return d.E}),n.d(e,"easeQuadOut",function(){return d.G}),n.d(e,"easeQuadInOut",function(){return d.F}),n.d(e,"easeCubic",function(){return d.m}),n.d(e,"easeCubicIn",function(){return d.n}),n.d(e,"easeCubicOut",function(){return d.p}),n.d(e,"easeCubicInOut",function(){return d.o}),n.d(e,"easePoly",function(){return d.z}),n.d(e,"easePolyIn",function(){return d.A}),n.d(e,"easePolyOut",function(){return d.C}),n.d(e,"easePolyInOut",function(){return d.B}),n.d(e,"easeSin",function(){return d.H}),n.d(e,"easeSinIn",function(){return d.I}),n.d(e,"easeSinOut",function(){return d.K}),n.d(e,"easeSinInOut",function(){return d.J}),n.d(e,"easeExp",function(){return d.u}),n.d(e,"easeExpIn",function(){return d.v}),n.d(e,"easeExpOut",function(){return d.x}),n.d(e,"easeExpInOut",function(){return d.w}),n.d(e,"easeCircle",function(){return d.i}),n.d(e,"easeCircleIn",function(){return d.j}),n.d(e,"easeCircleOut",function(){return d.l}),n.d(e,"easeCircleInOut",function(){return d.k}),n.d(e,"easeBounce",function(){return d.e}),n.d(e,"easeBounceIn",function(){return d.f}),n.d(e,"easeBounceOut",function(){return d.h}),n.d(e,"easeBounceInOut",function(){return d.g}),n.d(e,"easeBack",function(){return d.a}),n.d(e,"easeBackIn",function(){return d.b}),n.d(e,"easeBackOut",function(){return d.d}),n.d(e,"easeBackInOut",function(){return d.c}),n.d(e,"easeElastic",function(){return d.q}),n.d(e,"easeElasticIn",function(){return d.r}),n.d(e,"easeElasticOut",function(){return d.t}),n.d(e,"easeElasticInOut",function(){return d.s});var p=n(1722);n.d(e,"forceCenter",function(){return p.a}),n.d(e,"forceCollide",function(){return p.b}),n.d(e,"forceLink",function(){return p.c}),n.d(e,"forceManyBody",function(){return p.d}),n.d(e,"forceRadial",function(){return p.e}),n.d(e,"forceSimulation",function(){return p.f}),n.d(e,"forceX",function(){return p.g}),n.d(e,"forceY",function(){return p.h});var g=n(942);n.d(e,"formatDefaultLocale",function(){return g.b}),n.d(e,"format",function(){return g.a}),n.d(e,"formatPrefix",function(){return g.d}),n.d(e,"formatLocale",function(){return g.c}),n.d(e,"formatSpecifier",function(){return g.e}),n.d(e,"precisionFixed",function(){return g.f}),n.d(e,"precisionPrefix",function(){return g.g}),n.d(e,"precisionRound",function(){return g.h});var v=n(1752);n.d(e,"geoArea",function(){return v.c}),n.d(e,"geoBounds",function(){return v.h}),n.d(e,"geoCentroid",function(){return v.i}),n.d(e,"geoCircle",function(){return v.j}),n.d(e,"geoClipAntimeridian",function(){return v.k}),n.d(e,"geoClipCircle",function(){return v.l}),n.d(e,"geoClipExtent",function(){return v.m}),n.d(e,"geoClipRectangle",function(){return v.n}),n.d(e,"geoContains",function(){return v.u}),n.d(e,"geoDistance",function(){return v.v}),n.d(e,"geoGraticule",function(){return v.A}),n.d(e,"geoGraticule10",function(){return v.B}),n.d(e,"geoInterpolate",function(){return v.D}),n.d(e,"geoLength",function(){return v.E}),n.d(e,"geoPath",function(){return v.L}),n.d(e,"geoAlbers",function(){return v.a}),n.d(e,"geoAlbersUsa",function(){return v.b}),n.d(e,"geoAzimuthalEqualArea",function(){return v.d}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return v.e}),n.d(e,"geoAzimuthalEquidistant",function(){return v.f}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return v.g}),n.d(e,"geoConicConformal",function(){return v.o}),n.d(e,"geoConicConformalRaw",function(){return v.p}),n.d(e,"geoConicEqualArea",function(){return v.q}),n.d(e,"geoConicEqualAreaRaw",function(){return v.r}),n.d(e,"geoConicEquidistant",function(){return v.s}),n.d(e,"geoConicEquidistantRaw",function(){return v.t}),n.d(e,"geoEquirectangular",function(){return v.w}),n.d(e,"geoEquirectangularRaw",function(){return v.x}),n.d(e,"geoGnomonic",function(){return v.y}),n.d(e,"geoGnomonicRaw",function(){return v.z}),n.d(e,"geoIdentity",function(){return v.C}),n.d(e,"geoProjection",function(){return v.M}),n.d(e,"geoProjectionMutator",function(){return v.N}),n.d(e,"geoMercator",function(){return v.F}),n.d(e,"geoMercatorRaw",function(){return v.G}),n.d(e,"geoNaturalEarth1",function(){return v.H}),n.d(e,"geoNaturalEarth1Raw",function(){return v.I}),n.d(e,"geoOrthographic",function(){return v.J}),n.d(e,"geoOrthographicRaw",function(){return v.K}),n.d(e,"geoStereographic",function(){return v.P}),n.d(e,"geoStereographicRaw",function(){return v.Q}),n.d(e,"geoTransverseMercator",function(){return v.T}),n.d(e,"geoTransverseMercatorRaw",function(){return v.U}),n.d(e,"geoRotation",function(){return v.O}),n.d(e,"geoStream",function(){return v.R}),n.d(e,"geoTransform",function(){return v.S});var m=n(1780);n.d(e,"cluster",function(){return m.a}),n.d(e,"hierarchy",function(){return m.b}),n.d(e,"pack",function(){return m.c}),n.d(e,"packSiblings",function(){return m.e}),n.d(e,"packEnclose",function(){return m.d}),n.d(e,"partition",function(){return m.f}),n.d(e,"stratify",function(){return m.g}),n.d(e,"tree",function(){return m.h}),n.d(e,"treemap",function(){return m.i}),n.d(e,"treemapBinary",function(){return m.j}),n.d(e,"treemapDice",function(){return m.k}),n.d(e,"treemapSlice",function(){return m.m}),n.d(e,"treemapSliceDice",function(){return m.n}),n.d(e,"treemapSquarify",function(){return m.o}),n.d(e,"treemapResquarify",function(){return m.l});var y=n(833);n.d(e,"interpolate",function(){return y.a}),n.d(e,"interpolateArray",function(){return y.b}),n.d(e,"interpolateBasis",function(){return y.c}),n.d(e,"interpolateBasisClosed",function(){return y.d}),n.d(e,"interpolateDate",function(){return y.g}),n.d(e,"interpolateNumber",function(){return y.m}),n.d(e,"interpolateObject",function(){return y.n}),n.d(e,"interpolateRound",function(){return y.r}),n.d(e,"interpolateString",function(){return y.s}),n.d(e,"interpolateTransformCss",function(){return y.t}),n.d(e,"interpolateTransformSvg",function(){return y.u}),n.d(e,"interpolateZoom",function(){return y.v}),n.d(e,"interpolateRgb",function(){return y.o}),n.d(e,"interpolateRgbBasis",function(){return y.p}),n.d(e,"interpolateRgbBasisClosed",function(){return y.q}),n.d(e,"interpolateHsl",function(){return y.j}),n.d(e,"interpolateHslLong",function(){return y.k}),n.d(e,"interpolateLab",function(){return y.l}),n.d(e,"interpolateHcl",function(){return y.h}),n.d(e,"interpolateHclLong",function(){return y.i}),n.d(e,"interpolateCubehelix",function(){return y.e}),n.d(e,"interpolateCubehelixLong",function(){return y.f}),n.d(e,"quantize",function(){return y.w});var x=n(803);n.d(e,"path",function(){return x.a});var _=n(1812);n.d(e,"polygonArea",function(){return _.a}),n.d(e,"polygonCentroid",function(){return _.b}),n.d(e,"polygonHull",function(){return _.d}),n.d(e,"polygonContains",function(){return _.c}),n.d(e,"polygonLength",function(){return _.e});var b=n(940);n.d(e,"quadtree",function(){return b.a});var w=n(1819);n.d(e,"queue",function(){return w.a});var M=n(1822);n.d(e,"randomUniform",function(){return M.f}),n.d(e,"randomNormal",function(){return M.e}),n.d(e,"randomLogNormal",function(){return M.d}),n.d(e,"randomBates",function(){return M.a}),n.d(e,"randomIrwinHall",function(){return M.c}),n.d(e,"randomExponential",function(){return M.b});var S=n(1827);n.d(e,"request",function(){return S.d}),n.d(e,"html",function(){return S.b}),n.d(e,"json",function(){return S.c}),n.d(e,"text",function(){return S.e}),n.d(e,"xml",function(){return S.g}),n.d(e,"csv",function(){return S.a}),n.d(e,"tsv",function(){return S.f});var A=n(1834);n.d(e,"scaleBand",function(){return A.i}),n.d(e,"scalePoint",function(){return A.o}),n.d(e,"scaleIdentity",function(){return A.j}),n.d(e,"scaleLinear",function(){return A.l}),n.d(e,"scaleLog",function(){return A.m}),n.d(e,"scaleOrdinal",function(){return A.n}),n.d(e,"scaleImplicit",function(){return A.k}),n.d(e,"scalePow",function(){return A.p}),n.d(e,"scaleSqrt",function(){return A.t}),n.d(e,"scaleQuantile",function(){return A.q}),n.d(e,"scaleQuantize",function(){return A.r}),n.d(e,"scaleThreshold",function(){return A.u}),n.d(e,"scaleTime",function(){return A.v}),n.d(e,"scaleUtc",function(){return A.w}),n.d(e,"schemeCategory10",function(){return A.x}),n.d(e,"schemeCategory20b",function(){return A.z}),n.d(e,"schemeCategory20c",function(){return A.A}),n.d(e,"schemeCategory20",function(){return A.y}),n.d(e,"interpolateCubehelixDefault",function(){return A.b}),n.d(e,"interpolateRainbow",function(){return A.f}),n.d(e,"interpolateWarm",function(){return A.h}),n.d(e,"interpolateCool",function(){return A.a}),n.d(e,"interpolateViridis",function(){return A.g}),n.d(e,"interpolateMagma",function(){return A.d}),n.d(e,"interpolateInferno",function(){return A.c}),n.d(e,"interpolatePlasma",function(){return A.e}),n.d(e,"scaleSequential",function(){return A.s});var T=n(759);n.d(e,"create",function(){return T.b}),n.d(e,"creator",function(){return T.c}),n.d(e,"local",function(){return T.f}),n.d(e,"matcher",function(){return T.g}),n.d(e,"mouse",function(){return T.h}),n.d(e,"namespace",function(){return T.i}),n.d(e,"namespaces",function(){return T.j}),n.d(e,"clientPoint",function(){return T.a}),n.d(e,"select",function(){return T.k}),n.d(e,"selectAll",function(){return T.l}),n.d(e,"selection",function(){return T.m}),n.d(e,"selector",function(){return T.n}),n.d(e,"selectorAll",function(){return T.o}),n.d(e,"style",function(){return T.p}),n.d(e,"touch",function(){return T.q}),n.d(e,"touches",function(){return T.r}),n.d(e,"window",function(){return T.s}),n.d(e,"event",function(){return T.e}),n.d(e,"customEvent",function(){return T.d});var O=n(1867);n.d(e,"arc",function(){return O.a}),n.d(e,"area",function(){return O.b}),n.d(e,"line",function(){return O.v}),n.d(e,"pie",function(){return O.A}),n.d(e,"areaRadial",function(){return O.c}),n.d(e,"radialArea",function(){return O.C}),n.d(e,"lineRadial",function(){return O.w}),n.d(e,"radialLine",function(){return O.D}),n.d(e,"pointRadial",function(){return O.B}),n.d(e,"linkHorizontal",function(){return O.x}),n.d(e,"linkVertical",function(){return O.z}),n.d(e,"linkRadial",function(){return O.y}),n.d(e,"symbol",function(){return O.P}),n.d(e,"symbols",function(){return O.X}),n.d(e,"symbolCircle",function(){return O.Q}),n.d(e,"symbolCross",function(){return O.R}),n.d(e,"symbolDiamond",function(){return O.S}),n.d(e,"symbolSquare",function(){return O.T}),n.d(e,"symbolStar",function(){return O.U}),n.d(e,"symbolTriangle",function(){return O.V}),n.d(e,"symbolWye",function(){return O.W}),n.d(e,"curveBasisClosed",function(){return O.e}),n.d(e,"curveBasisOpen",function(){return O.f}),n.d(e,"curveBasis",function(){return O.d}),n.d(e,"curveBundle",function(){return O.g}),n.d(e,"curveCardinalClosed",function(){return O.i}),n.d(e,"curveCardinalOpen",function(){return O.j}),n.d(e,"curveCardinal",function(){return O.h}),n.d(e,"curveCatmullRomClosed",function(){return O.l}),n.d(e,"curveCatmullRomOpen",function(){return O.m}),n.d(e,"curveCatmullRom",function(){return O.k}),n.d(e,"curveLinearClosed",function(){return O.o}),n.d(e,"curveLinear",function(){return O.n}),n.d(e,"curveMonotoneX",function(){return O.p}),n.d(e,"curveMonotoneY",function(){return O.q}),n.d(e,"curveNatural",function(){return O.r}),n.d(e,"curveStep",function(){return O.s}),n.d(e,"curveStepAfter",function(){return O.t}),n.d(e,"curveStepBefore",function(){return O.u}),n.d(e,"stack",function(){return O.E}),n.d(e,"stackOffsetExpand",function(){return O.G}),n.d(e,"stackOffsetDiverging",function(){return O.F}),n.d(e,"stackOffsetNone",function(){return O.H}),n.d(e,"stackOffsetSilhouette",function(){return O.I}),n.d(e,"stackOffsetWiggle",function(){return O.J}),n.d(e,"stackOrderAscending",function(){return O.K}),n.d(e,"stackOrderDescending",function(){return O.L}),n.d(e,"stackOrderInsideOut",function(){return O.M}),n.d(e,"stackOrderNone",function(){return O.N}),n.d(e,"stackOrderReverse",function(){return O.O});var I=n(879);n.d(e,"timeInterval",function(){return I.g}),n.d(e,"timeMillisecond",function(){return I.h}),n.d(e,"timeMilliseconds",function(){return I.i}),n.d(e,"utcMillisecond",function(){return I.L}),n.d(e,"utcMilliseconds",function(){return I.M}),n.d(e,"timeSecond",function(){return I.r}),n.d(e,"timeSeconds",function(){return I.s}),n.d(e,"utcSecond",function(){return I.V}),n.d(e,"utcSeconds",function(){return I.W}),n.d(e,"timeMinute",function(){return I.j}),n.d(e,"timeMinutes",function(){return I.k}),n.d(e,"timeHour",function(){return I.e}),n.d(e,"timeHours",function(){return I.f}),n.d(e,"timeDay",function(){return I.a}),n.d(e,"timeDays",function(){return I.b}),n.d(e,"timeWeek",function(){return I.B}),n.d(e,"timeWeeks",function(){return I.C}),n.d(e,"timeSunday",function(){return I.t}),n.d(e,"timeSundays",function(){return I.u}),n.d(e,"timeMonday",function(){return I.l}),n.d(e,"timeMondays",function(){return I.m}),n.d(e,"timeTuesday",function(){return I.x}),n.d(e,"timeTuesdays",function(){return I.y}),n.d(e,"timeWednesday",function(){return I.z}),n.d(e,"timeWednesdays",function(){return I.A}),n.d(e,"timeThursday",function(){return I.v}),n.d(e,"timeThursdays",function(){return I.w}),n.d(e,"timeFriday",function(){return I.c}),n.d(e,"timeFridays",function(){return I.d}),n.d(e,"timeSaturday",function(){return I.p}),n.d(e,"timeSaturdays",function(){return I.q}),n.d(e,"timeMonth",function(){return I.n}),n.d(e,"timeMonths",function(){return I.o}),n.d(e,"timeYear",function(){return I.D}),n.d(e,"timeYears",function(){return I.E}),n.d(e,"utcMinute",function(){return I.N}),n.d(e,"utcMinutes",function(){return I.O}),n.d(e,"utcHour",function(){return I.J}),n.d(e,"utcHours",function(){return I.K}),n.d(e,"utcDay",function(){return I.F}),n.d(e,"utcDays",function(){return I.G}),n.d(e,"utcWeek",function(){return I._5}),n.d(e,"utcWeeks",function(){return I._6}),n.d(e,"utcSunday",function(){return I.X}),n.d(e,"utcSundays",function(){return I.Y}),n.d(e,"utcMonday",function(){return I.P}),n.d(e,"utcMondays",function(){return I.Q}),n.d(e,"utcTuesday",function(){return I._1}),n.d(e,"utcTuesdays",function(){return I._2}),n.d(e,"utcWednesday",function(){return I._3}),n.d(e,"utcWednesdays",function(){return I._4}),n.d(e,"utcThursday",function(){return I.Z}),n.d(e,"utcThursdays",function(){return I._0}),n.d(e,"utcFriday",function(){return I.H}),n.d(e,"utcFridays",function(){return I.I}),n.d(e,"utcSaturday",function(){return I.T}),n.d(e,"utcSaturdays",function(){return I.U}),n.d(e,"utcMonth",function(){return I.R}),n.d(e,"utcMonths",function(){return I.S}),n.d(e,"utcYear",function(){return I._7}),n.d(e,"utcYears",function(){return I._8});var C=n(956);n.d(e,"timeFormatDefaultLocale",function(){return C.d}),n.d(e,"timeFormat",function(){return C.c}),n.d(e,"timeParse",function(){return C.f}),n.d(e,"utcFormat",function(){return C.g}),n.d(e,"utcParse",function(){return C.h}),n.d(e,"timeFormatLocale",function(){return C.e}),n.d(e,"isoFormat",function(){return C.a}),n.d(e,"isoParse",function(){return C.b});var k=n(962);n.d(e,"now",function(){return k.b}),n.d(e,"timer",function(){return k.d}),n.d(e,"timerFlush",function(){return k.e}),n.d(e,"timeout",function(){return k.c}),n.d(e,"interval",function(){return k.a});var D=n(1153);n.d(e,"transition",function(){return D.c}),n.d(e,"active",function(){return D.a}),n.d(e,"interrupt",function(){return D.b});var L=n(1914);n.d(e,"voronoi",function(){return L.a});var E=n(1919);n.d(e,"zoom",function(){return E.a}),n.d(e,"zoomTransform",function(){return E.c}),n.d(e,"zoomIdentity",function(){return E.b})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="4.13.0"},function(t,e,n){"use strict";var r=n(1057);e.a=function(t,e,n){var i,o,a,s,u=t.length,c=e.length,l=new Array(u*c);for(null==n&&(n=r.b),i=a=0;i<u;++i)for(s=t[i],o=0;o<c;++o,++a)l[a]=n(s,e[o]);return l}},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";var r=n(1061),i=n(1055),o=n(1549),a=n(1060),s=n(1550),u=n(1062),c=n(1063),l=n(1064);e.a=function(){var t=s.a,e=a.a,n=l.a;function f(r){var o,a,s=r.length,l=new Array(s);for(o=0;o<s;++o)l[o]=t(r[o],o,r);var f=e(l),h=f[0],d=f[1],p=n(l,h,d);Array.isArray(p)||(p=Object(c.c)(h,d,p),p=Object(u.a)(Math.ceil(h/p)*p,Math.floor(d/p)*p,p));for(var g=p.length;p[0]<=h;)p.shift(),--g;for(;p[g-1]>d;)p.pop(),--g;var v,m=new Array(g+1);for(o=0;o<=g;++o)(v=m[o]=[]).x0=o>0?p[o-1]:h,v.x1=o<g?p[o]:d;for(o=0;o<s;++o)h<=(a=l[o])&&a<=d&&m[Object(i.c)(p,a,0,g)].push(r[o]);return m}return f.value=function(e){return arguments.length?(t="function"==typeof e?e:Object(o.a)(e),f):t},f.domain=function(t){return arguments.length?(e="function"==typeof t?t:Object(o.a)([t[0],t[1]]),f):e},f.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Object(o.a)(r.b.call(t)):Object(o.a)(t),f):n},f}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(1061),i=n(815),o=n(828),a=n(915);e.a=function(t,e,n){return t=r.a.call(t,o.a).sort(i.a),Math.ceil((n-e)/(2*(Object(a.a)(t,.75)-Object(a.a)(t,.25))*Math.pow(t.length,-1/3)))}},function(t,e,n){"use strict";var r=n(1058);e.a=function(t,e,n){return Math.ceil((n-e)/(3.5*Object(r.a)(t)*Math.pow(t.length,-1/3)))}},function(t,e,n){"use strict";e.a=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}},function(t,e,n){"use strict";var r=n(828);e.a=function(t,e){var n,i=t.length,o=i,a=-1,s=0;if(null==e)for(;++a<i;)isNaN(n=Object(r.a)(t[a]))?--o:s+=n;else for(;++a<i;)isNaN(n=Object(r.a)(e(t[a],a,t)))?--o:s+=n;if(o)return s/o}},function(t,e,n){"use strict";var r=n(815),i=n(828),o=n(915);e.a=function(t,e){var n,a=t.length,s=-1,u=[];if(null==e)for(;++s<a;)isNaN(n=Object(i.a)(t[s]))||u.push(n);else for(;++s<a;)isNaN(n=Object(i.a)(e(t[s],s,t)))||u.push(n);return Object(o.a)(u.sort(r.a),.5)}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}},function(t,e,n){"use strict";var r=n(815);e.a=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];for(null==e&&(e=r.a);++o<n;)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);return 0===e(s,s)?a:void 0}}},function(t,e,n){"use strict";e.a=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t}},function(t,e,n){"use strict";e.a=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}},function(t,e,n){"use strict";var r=n(1066);e.a=function(){return Object(r.a)(arguments)}},function(t,e,n){"use strict";var r=n(1563);n.d(e,"d",function(){return r.d}),n.d(e,"c",function(){return r.c}),n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b})},function(t,e,n){"use strict";e.d=function(t){return d(o,t)},e.c=function(t){return d(a,t)},e.a=function(t){return d(s,t)},e.b=function(t){return d(u,t)};var r=n(1564),i=n(1565),o=1,a=2,s=3,u=4,c=1e-6;function l(t){return"translate("+(t+.5)+",0)"}function f(t){return"translate(0,"+(t+.5)+")"}function h(){return!this.__axis}function d(t,e){var n=[],d=null,p=null,g=6,v=6,m=3,y=t===o||t===u?-1:1,x=t===u||t===a?"x":"y",_=t===o||t===s?l:f;function b(r){var l=null==d?e.ticks?e.ticks.apply(e,n):e.domain():d,f=null==p?e.tickFormat?e.tickFormat.apply(e,n):i.a:p,b=Math.max(g,0)+m,w=e.range(),M=+w[0]+.5,S=+w[w.length-1]+.5,A=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),T=r.selection?r.selection():r,O=T.selectAll(".domain").data([null]),I=T.selectAll(".tick").data(l,e).order(),C=I.exit(),k=I.enter().append("g").attr("class","tick"),D=I.select("line"),L=I.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),I=I.merge(k),D=D.merge(k.append("line").attr("stroke","#000").attr(x+"2",y*g)),L=L.merge(k.append("text").attr("fill","#000").attr(x,y*b).attr("dy",t===o?"0em":t===s?"0.71em":"0.32em")),r!==T&&(O=O.transition(r),I=I.transition(r),D=D.transition(r),L=L.transition(r),C=C.transition(r).attr("opacity",c).attr("transform",function(t){return isFinite(t=A(t))?_(t):this.getAttribute("transform")}),k.attr("opacity",c).attr("transform",function(t){var e=this.parentNode.__axis;return _(e&&isFinite(e=e(t))?e:A(t))})),C.remove(),O.attr("d",t===u||t==a?"M"+y*v+","+M+"H0.5V"+S+"H"+y*v:"M"+M+","+y*v+"V0.5H"+S+"V"+y*v),I.attr("opacity",1).attr("transform",function(t){return _(A(t))}),D.attr(x+"2",y*g),L.attr(x,y*b).text(f),T.filter(h).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===a?"start":t===u?"end":"middle"),T.each(function(){this.__axis=A})}return b.scale=function(t){return arguments.length?(e=t,b):e},b.ticks=function(){return n=r.a.call(arguments),b},b.tickArguments=function(t){return arguments.length?(n=null==t?[]:r.a.call(t),b):n.slice()},b.tickValues=function(t){return arguments.length?(d=null==t?null:r.a.call(t),b):d&&d.slice()},b.tickFormat=function(t){return arguments.length?(p=t,b):p},b.tickSize=function(t){return arguments.length?(g=v=+t,b):g},b.tickSizeInner=function(t){return arguments.length?(g=+t,b):g},b.tickSizeOuter=function(t){return arguments.length?(v=+t,b):v},b.tickPadding=function(t){return arguments.length?(m=+t,b):m},b}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(1567);n.d(e,"a",function(){return r.d}),n.d(e,"c",function(){return r.b}),n.d(e,"d",function(){return r.c}),n.d(e,"b",function(){return r.a})},function(t,e,n){"use strict";e.a=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},e.b=function(){return I(g)},e.c=function(){return I(v)};var r=n(816),i=n(1067),o=n(780),a=n(756),s=n(1084),u=n(1656),c=n(1657),l=n(1658),f={name:"drag"},h={name:"space"},d={name:"handle"},p={name:"center"},g={name:"x",handles:["e","w"].map(M),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},v={name:"y",handles:["n","s"].map(M),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},m={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(M),input:function(t){return t},output:function(t){return t}},y={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},x={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},b={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},w={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function M(t){return{type:t}}function S(){return!a.event.button}function A(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function T(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function O(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function I(t){var e,n=A,m=S,I=Object(r.a)(k,"start","brush","end"),C=6;function k(e){var n=e.property("__brush",N).selectAll(".overlay").data([M("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",y.overlay).merge(n).each(function(){var t=T(this).extent;Object(a.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([M("selection")]).enter().append("rect").attr("class","selection").attr("cursor",y.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return y[t.type]}),e.each(D).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",P)}function D(){var t=Object(a.select)(this),e=T(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-C/2:e[0][0]-C/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-C/2:e[0][1]-C/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+C:C}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+C:C})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function L(t,e){return t.__brush.emitter||new E(t,e)}function E(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function P(){if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return Object(l.a)()}else if(e)return;if(m.apply(this,arguments)){var n,r,o,u,c,M,S,A,I,C,k,E,P,N=this,j=a.event.target.__data__.type,z="selection"===(a.event.metaKey?j="overlay":j)?f:a.event.altKey?p:d,R=t===v?null:b[j],B=t===g?null:w[j],V=T(N),F=V.extent,H=V.selection,W=F[0][0],G=F[0][1],q=F[1][0],U=F[1][1],Y=R&&B&&a.event.shiftKey,X=Object(a.mouse)(N),Z=X,$=L(N,arguments).beforestart();"overlay"===j?V.selection=H=[[n=t===v?W:X[0],o=t===g?G:X[1]],[c=t===v?q:n,S=t===g?U:o]]:(n=H[0][0],o=H[0][1],c=H[1][0],S=H[1][1]),r=n,u=o,M=c,A=S;var K=Object(a.select)(N).attr("pointer-events","none"),J=K.selectAll(".overlay").attr("cursor",y[j]);if(a.event.touches)K.on("touchmove.brush",tt,!0).on("touchend.brush touchcancel.brush",nt,!0);else{var Q=Object(a.select)(a.event.view).on("keydown.brush",function(){switch(a.event.keyCode){case 16:Y=R&&B;break;case 18:z===d&&(R&&(c=M-I*R,n=r+I*R),B&&(S=A-C*B,o=u+C*B),z=p,et());break;case 32:z!==d&&z!==p||(R<0?c=M-I:R>0&&(n=r-I),B<0?S=A-C:B>0&&(o=u-C),z=h,J.attr("cursor",y.selection),et());break;default:return}Object(l.a)()},!0).on("keyup.brush",function(){switch(a.event.keyCode){case 16:Y&&(E=P=Y=!1,et());break;case 18:z===p&&(R<0?c=M:R>0&&(n=r),B<0?S=A:B>0&&(o=u),z=d,et());break;case 32:z===h&&(a.event.altKey?(R&&(c=M-I*R,n=r+I*R),B&&(S=A-C*B,o=u+C*B),z=p):(R<0?c=M:R>0&&(n=r),B<0?S=A:B>0&&(o=u),z=d),J.attr("cursor",y[j]),et());break;default:return}Object(l.a)()},!0).on("mousemove.brush",tt,!0).on("mouseup.brush",nt,!0);Object(i.a)(a.event.view)}Object(l.b)(),Object(s.a)(N),D.call(N),$.start()}function tt(){var t=Object(a.mouse)(N);!Y||E||P||(Math.abs(t[0]-Z[0])>Math.abs(t[1]-Z[1])?P=!0:E=!0),Z=t,k=!0,Object(l.a)(),et()}function et(){var t;switch(I=Z[0]-X[0],C=Z[1]-X[1],z){case h:case f:R&&(I=Math.max(W-n,Math.min(q-c,I)),r=n+I,M=c+I),B&&(C=Math.max(G-o,Math.min(U-S,C)),u=o+C,A=S+C);break;case d:R<0?(I=Math.max(W-n,Math.min(q-n,I)),r=n+I,M=c):R>0&&(I=Math.max(W-c,Math.min(q-c,I)),r=n,M=c+I),B<0?(C=Math.max(G-o,Math.min(U-o,C)),u=o+C,A=S):B>0&&(C=Math.max(G-S,Math.min(U-S,C)),u=o,A=S+C);break;case p:R&&(r=Math.max(W,Math.min(q,n-I*R)),M=Math.max(W,Math.min(q,c+I*R))),B&&(u=Math.max(G,Math.min(U,o-C*B)),A=Math.max(G,Math.min(U,S+C*B)))}M<r&&(R*=-1,t=n,n=c,c=t,t=r,r=M,M=t,j in x&&J.attr("cursor",y[j=x[j]])),A<u&&(B*=-1,t=o,o=S,S=t,t=u,u=A,A=t,j in _&&J.attr("cursor",y[j=_[j]])),V.selection&&(H=V.selection),E&&(r=H[0][0],M=H[1][0]),P&&(u=H[0][1],A=H[1][1]),H[0][0]===r&&H[0][1]===u&&H[1][0]===M&&H[1][1]===A||(V.selection=[[r,u],[M,A]],D.call(N),$.brush())}function nt(){if(Object(l.b)(),a.event.touches){if(a.event.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),K.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(i.b)(a.event.view,k),Q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);K.attr("pointer-events","all"),J.attr("cursor",y.overlay),V.selection&&(H=V.selection),O(H)&&(V.selection=null,D.call(N)),$.end()}}function N(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return k.move=function(e,n){e.selection?e.on("start.brush",function(){L(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){L(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,i=L(e,arguments),a=r.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),u=Object(o.a)(a,s);function c(t){r.selection=1===t&&O(s)?null:u(t),D.call(e),i.brush()}return a&&s?c:c(1)}):e.each(function(){var e=arguments,r=this.__brush,i=t.input("function"==typeof n?n.apply(this,e):n,r.extent),o=L(this,e).beforestart();Object(s.a)(this),r.selection=null==i||O(i)?null:i,D.call(this),o.start().brush().end()})},E.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Object(a.customEvent)(new c.a(k,e,t.output(this.state.selection)),I.apply,I,[e,this.that,this.args])}},k.extent=function(t){return arguments.length?(n="function"==typeof t?t:Object(u.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),k):n},k.filter=function(t){return arguments.length?(m="function"==typeof t?t:Object(u.a)(!!t),k):m},k.handleSize=function(t){return arguments.length?(C=+t,k):C},k.on=function(){var t=I.on.apply(I,arguments);return t===I?k:t},k}e.d=function(){return I(m)}},function(t,e,n){"use strict";var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,c=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<c;)if(n=(t=o[u]).type)i[n]=s(i[n],t.name,e);else if(null==e)for(n in i)i[n]=s(i[n],t.name,null);return this}for(;++u<c;)if((n=(t=o[u]).type)&&(n=a(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=i},function(t,e,n){"use strict";n(816),n(756),n(1074),n(1075),n(1605),n(1606)},function(t,e,n){"use strict";var r=n(864),i=n(1068);e.a=function(t){return Object(i.a)(Object(r.a)(t).call(document.documentElement))}},function(t,e,n){"use strict";var r=n(775),i=n(918);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u,c=e[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(775),i=n(1069);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],s=0;s<n;++s)for(var u,c=e[s],l=c.length,f=0;f<l;++f)(u=c[f])&&(o.push(t.call(u,u.__data__,f,c)),a.push(u));return new r.a(o,a)}},function(t,e,n){"use strict";var r=n(775),i=n(1070);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=o[a]=[],f=0;f<c;++f)(s=u[f])&&t.call(s,s.__data__,f,u)&&l.push(s);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(775),i=n(1071),o=n(1575),a="$";function s(t,e,n,r,o,a){for(var s,u=0,c=e.length,l=a.length;u<l;++u)(s=e[u])?(s.__data__=a[u],r[u]=s):n[u]=new i.a(t,a[u]);for(;u<c;++u)(s=e[u])&&(o[u]=s)}function u(t,e,n,r,o,s,u){var c,l,f,h={},d=e.length,p=s.length,g=new Array(d);for(c=0;c<d;++c)(l=e[c])&&(g[c]=f=a+u.call(l,l.__data__,c,e),f in h?o[c]=l:h[f]=l);for(c=0;c<p;++c)(l=h[f=a+u.call(t,s[c],c,s)])?(r[c]=l,l.__data__=s[c],h[f]=null):n[c]=new i.a(t,s[c]);for(c=0;c<d;++c)(l=e[c])&&h[g[c]]===l&&(o[c]=l)}e.a=function(t,e){if(!t)return m=new Array(this.size()),d=-1,this.each(function(t){m[++d]=t}),m;var n=e?u:s,i=this._parents,a=this._groups;"function"!=typeof t&&(t=Object(o.a)(t));for(var c=a.length,l=new Array(c),f=new Array(c),h=new Array(c),d=0;d<c;++d){var p=i[d],g=a[d],v=g.length,m=t.call(p,p&&p.__data__,d,i),y=m.length,x=f[d]=new Array(y),_=l[d]=new Array(y);n(p,g,x,_,h[d]=new Array(v),m,e);for(var b,w,M=0,S=0;M<y;++M)if(b=x[M]){for(M>=S&&(S=M+1);!(w=_[S])&&++S<y;);b._next=w||null}}return(l=new r.a(l,i))._enter=f,l._exit=h,l}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(1072),i=n(775);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i}},function(t,e,n){"use strict";var r=n(775);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],f=n[u],h=l.length,d=s[u]=new Array(h),p=0;p<h;++p)(c=l[p]||f[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";var r=n(775);function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=i);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,c=n[s],l=c.length,f=a[s]=new Array(l),h=0;h<l;++h)(u=c[h])&&(f[h]=u);f.sort(e)}return new r.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";var r=n(916);e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},function(t,e,n){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),u=-1,c=n.length;++u<c;)if(!o.contains(n[u]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}:e?function(t){return function(){a(this,t)}}:function(t){return function(){s(this,t)}})(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(864);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";var r=n(864),i=n(918);function o(){return null}e.a=function(t,e){var n="function"==typeof t?t:Object(r.a)(t),a=null==e?o:"function"==typeof e?e:Object(i.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function i(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}e.a=function(t){return this.select(t?i:r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";var r=n(919);function i(t,e,n){var i=Object(r.a)(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return i(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return i(this,t,e)}})(t,e))}},function(t,e,n){"use strict";e.a=i;var r=0;function i(){return new o}function o(){this._="@"+(++r).toString(36)}o.prototype=i.prototype={constructor:o,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(921),i=n(865);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(775);e.a=function(t){return"string"==typeof t?new r.a([document.querySelectorAll(t)],[document.documentElement]):new r.a([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(921),i=n(865);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var o,a=0,s=e?e.length:0;a<s;++a)if((o=e[a]).identifier===n)return Object(i.a)(t,o);return null}},function(t,e,n){"use strict";var r=n(921),i=n(865);e.a=function(t,e){null==e&&(e=Object(r.a)().touches);for(var n=0,o=e?e.length:0,a=new Array(o);n<o;++n)a[n]=Object(i.a)(t,e[n]);return a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}e.a=r,r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,n){"use strict";e.a=p,e.b=b;var r=n(924),i=n(923),o=n(1076),a=.96422,s=1,u=.82521,c=4/29,l=6/29,f=3*l*l,h=l*l*l;function d(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof w){if(isNaN(t.h))return new g(t.l,0,0,t.opacity);var e=t.h*o.a;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof i.b||(t=Object(i.h)(t));var n,r,c=x(t.r),l=x(t.g),f=x(t.b),h=v((.2225045*c+.7168786*l+.0606169*f)/s);return c===l&&l===f?n=r=h:(n=v((.4360747*c+.3850649*l+.1430804*f)/a),r=v((.0139322*c+.0971045*l+.7141733*f)/u)),new g(116*h-16,500*(n-h),200*(h-r),t.opacity)}function p(t,e,n,r){return 1===arguments.length?d(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function v(t){return t>h?Math.pow(t,1/3):t/f+c}function m(t){return t>l?t*t*t:f*(t-c)}function y(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _(t){if(t instanceof w)return new w(t.h,t.c,t.l,t.opacity);if(t instanceof g||(t=d(t)),0===t.a&&0===t.b)return new w(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*o.b;return new w(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function b(t,e,n,r){return 1===arguments.length?_(t):new w(t,e,n,null==r?1:r)}function w(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return new g(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=a*m(e),t=s*m(t),n=u*m(n),new i.b(y(3.1338561*e-1.6168667*t-.4906146*n),y(-.9787684*e+1.9161415*t+.033454*n),y(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(r.a)(w,b,Object(r.b)(i.a,{brighter:function(t){return new w(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new w(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}))},function(t,e,n){"use strict";e.a=p;var r=n(924),i=n(923),o=n(1076),a=-.14861,s=1.78277,u=-.29227,c=-.90649,l=1.97294,f=l*c,h=l*s,d=s*u-c*a;function p(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof g)return new g(t.h,t.s,t.l,t.opacity);t instanceof i.b||(t=Object(i.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(d*r+f*e-h*n)/(d+f-h),s=r-a,p=(l*(n-a)-u*s)/c,v=Math.sqrt(p*p+s*s)/(l*a*(1-a)),m=v?Math.atan2(p,s)*o.b-120:NaN;return new g(m<0?m+360:m,v,a,t.opacity)}(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return t=null==t?i.c:Math.pow(i.c,t),new g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.d:Math.pow(i.d,t),new g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*o.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),f=Math.sin(t);return new i.b(255*(e+n*(a*r+s*f)),255*(e+n*(u*r+c*f)),255*(e+n*(l*r)),this.opacity)}}))},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(817)},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n(866),i=n(1613);function o(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}return function(a,s){var u=[],c=[];return a=t(a),s=t(s),function(t,i,o,a,s,u){if(t!==o||i!==a){var c=s.push("translate(",null,e,null,n);u.push({i:c-4,x:Object(r.a)(t,o)},{i:c-2,x:Object(r.a)(i,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,u,c),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,i)-2,x:Object(r.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}(a.rotate,s.rotate,u,c),function(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,i)-2,x:Object(r.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}(a.skewX,s.skewX,u,c),function(t,e,n,i,a,s){if(t!==n||e!==i){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(r.a)(t,n)},{i:u-2,x:Object(r.a)(e,i)})}else 1===n&&1===i||a.push(o(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,u,c),a=s=null,function(t){for(var e,n=-1,r=c.length;++n<r;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var a=o(i.a,"px, ","px)","deg)"),s=o(i.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){if("none"===t)return s.b;r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView);return r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])},e.b=function(t){if(null==t)return s.b;a||(a=document.createElementNS("http://www.w3.org/2000/svg","g"));return a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b};var r,i,o,a,s=n(1614)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var s,u,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,c/=u),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(c)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";var r=Math.SQRT2;function i(t){return((t=Math.exp(t))+1/t)/2}e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],c=e[0],l=e[1],f=e[2],h=c-a,d=l-s,p=h*h+d*d;if(p<1e-12)o=Math.log(f/u)/r,n=function(t){return[a+t*h,s+t*d,u*Math.exp(r*t*o)]};else{var g=Math.sqrt(p),v=(f*f-u*u+4*p)/(2*u*2*g),m=(f*f-u*u-4*p)/(2*f*2*g),y=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(m*m+1)-m);o=(x-y)/r,n=function(t){var e,n=t*o,c=i(y),l=u/(2*g)*(c*(e=r*n+y,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[a+l*h,s+l*d,u*c/i(r*n+y)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";var r=n(784),i=n(817);function o(t){return function(e,n){var o=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),a=Object(i.a)(e.s,n.s),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}o(i.c),o(i.a)},function(t,e,n){"use strict";n(784),n(817)},function(t,e,n){"use strict";var r=n(784),i=n(817);function o(t){return function(e,n){var o=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),a=Object(i.a)(e.c,n.c),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}o(i.c),o(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(784),i=n(817);function o(t){return function e(n){function o(e,o){var a=t((e=Object(r.b)(e)).h,(o=Object(r.b)(o)).h),s=Object(i.a)(e.s,o.s),u=Object(i.a)(e.l,o.l),c=Object(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,o.gamma=e,o}(1)}o(i.c);var a=o(i.a)},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";var r=n(756),i=n(1623),o=n(1626);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(t,e,n){"use strict";var r=n(1085);e.a=function(t){return this.each(function(){Object(r.a)(this,t)})}},function(t,e,n){"use strict";var r=n(927);e.a=function(t,e,n){var i=new r.a;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}},function(t,e,n){"use strict";n(927)},function(t,e,n){"use strict";var r=n(797),i=n(765),o=n(1644),a=n(926),s={time:null,delay:0,duration:250,ease:o.a};function u(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return s.time=Object(a.a)(),s;return n}e.a=function(t){var e,n;t instanceof r.a?(e=t._id,t=t._name):(e=Object(r.b)(),(n=s).time=Object(a.a)(),t=null==t?null:t+"");for(var o=this._groups,c=o.length,l=0;l<c;++l)for(var f,h=o[l],d=h.length,p=0;p<d;++p)(f=h[p])&&Object(i.e)(f,t,e,p,h,n||u(f,e));return new r.a(o,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(780),i=n(756),o=n(867),a=n(1086);e.a=function(t,e){var n=Object(i.namespace)(t),s="transform"===n?r.h:a.a;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}})(n,s,Object(o.b)(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}})(n,s,e))}},function(t,e,n){"use strict";var r=n(756);e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(r.namespace)(t);return this.tween(n,(i.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i})(i,e))}},function(t,e,n){"use strict";var r=n(765);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.g)(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.g)(this,t).delay=e}})(e,t)):Object(r.f)(this.node(),e).delay}},function(t,e,n){"use strict";var r=n(765);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.h)(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.h)(this,t).duration=e}})(e,t)):Object(r.f)(this.node(),e).duration}},function(t,e,n){"use strict";var r=n(765);e.a=function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Object(r.h)(this,t).ease=e}}(e,t)):Object(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(756),i=n(797);e.a=function(t){"function"!=typeof t&&(t=Object(r.matcher)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=o[a]=[],f=0;f<c;++f)(s=u[f])&&t.call(s,s.__data__,f,u)&&l.push(s);return new i.a(o,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(797);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],f=n[u],h=l.length,d=s[u]=new Array(h),p=0;p<h;++p)(c=l[p]||f[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(765);e.a=function(t,e){var n=this._id;return arguments.length<2?Object(r.f)(this.node(),n).on.on(t):this.each(function(t,e,n){var i,o,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?r.g:r.h;return function(){var r=a(this,t),s=r.on;s!==i&&(o=(i=s).copy()).on(e,n),r.on=o}}(n,t,e))}},function(t,e,n){"use strict";e.a=function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}},function(t,e,n){"use strict";var r=n(756),i=n(797),o=n(765);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selector)(t));for(var a=this._groups,s=a.length,u=new Array(s),c=0;c<s;++c)for(var l,f,h=a[c],d=h.length,p=u[c]=new Array(d),g=0;g<d;++g)(l=h[g])&&(f=t.call(l,l.__data__,g,h))&&("__data__"in l&&(f.__data__=l.__data__),p[g]=f,Object(o.e)(p[g],e,n,g,p,Object(o.f)(l,n)));return new i.a(u,this._parents,e,n)}},function(t,e,n){"use strict";var r=n(756),i=n(797),o=n(765);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selectorAll)(t));for(var a=this._groups,s=a.length,u=[],c=[],l=0;l<s;++l)for(var f,h=a[l],d=h.length,p=0;p<d;++p)if(f=h[p]){for(var g,v=t.call(f,f.__data__,p,h),m=Object(o.f)(f,n),y=0,x=v.length;y<x;++y)(g=v[y])&&Object(o.e)(g,e,n,y,v,m);u.push(v),c.push(f)}return new i.a(u,c,e,n)}},function(t,e,n){"use strict";var r=n(756).selection.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";var r=n(780),i=n(756),o=n(765),a=n(867),s=n(1086);function u(t){return function(){this.style.removeProperty(t)}}e.a=function(t,e,n){var c="transform"==(t+="")?r.g:s.a;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var a=Object(i.style)(this,t),s=(this.style.removeProperty(t),Object(i.style)(this,t));return a===s?null:a===n&&s===r?o:o=e(n=a,r=s)}}(t,c)).on("end.style."+t,u(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,a;return function(){var s=Object(i.style)(this,t),u=n(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=Object(i.style)(this,t)),s===c?null:s===r&&c===o?a:(o=c,a=e(r=s,u))}}(t,c,Object(a.b)(this,"style."+t,e))).each(function(t,e){var n,r,i,a,s="style."+e,c="end."+s;return function(){var l=Object(o.h)(this,t),f=l.on,h=null==l.value[s]?a||(a=u(e)):void 0;f===n&&i===h||(r=(n=f).copy()).on(c,i=h),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,a=n+"";return function(){var s=Object(i.style)(this,t);return s===a?null:s===r?o:o=e(r=s,n)}}(t,c,e),n).on("end.style."+t,null)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))}},function(t,e,n){"use strict";var r=n(867);e.a=function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Object(r.b)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},function(t,e,n){"use strict";var r=n(797),i=n(765);e.a=function(){for(var t=this._name,e=this._id,n=Object(r.b)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var u,c=o[s],l=c.length,f=0;f<l;++f)if(u=c[f]){var h=Object(i.f)(u,e);Object(i.e)(u,t,n,f,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new r.a(o,this._parents,t,n)}},function(t,e,n){"use strict";var r=n(765);e.a=function(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(a,s){var u={value:s},c={value:function(){0==--o&&a()}};n.each(function(){var n=Object(r.h)(this,i),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),n.on=e})})}},function(t,e,n){"use strict";n(1645),n(1646);var r=n(1647);n.d(e,"a",function(){return r.a});n(1648),n(1649),n(1650),n(1651),n(1652),n(1653),n(1654)},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";e.a=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";Math.PI},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";var r=2*Math.PI;(function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o})(1,.3),function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3)},function(t,e,n){"use strict";n(797),n(765)},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.selection=n}},function(t,e,n){"use strict";e.b=function(){r.event.stopImmediatePropagation()};var r=n(756);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){"use strict";var r=n(1660);n.d(e,"a",function(){return r.a});var i=n(1661);n.d(e,"b",function(){return i.a})},function(t,e,n){"use strict";var r=n(762),i=n(1087);e.a=function(){var t=0,e=null,n=null,o=null;function a(a){var s,u,c,l,f,h,d=a.length,p=[],g=Object(r.s)(d),v=[],m=[],y=m.groups=new Array(d),x=new Array(d*d);for(s=0,f=-1;++f<d;){for(u=0,h=-1;++h<d;)u+=a[f][h];p.push(u),v.push(Object(r.s)(d)),s+=u}for(e&&g.sort(function(t,n){return e(p[t],p[n])}),n&&v.forEach(function(t,e){t.sort(function(t,r){return n(a[e][t],a[e][r])})}),l=(s=Object(i.c)(0,i.e-t*d)/s)?t:i.e/d,u=0,f=-1;++f<d;){for(c=u,h=-1;++h<d;){var _=g[f],b=v[_][h],w=a[_][b],M=u,S=u+=w*s;x[b*d+_]={index:_,subindex:b,startAngle:M,endAngle:S,value:w}}y[_]={index:_,startAngle:c,endAngle:u,value:p[_]},u+=l}for(f=-1;++f<d;)for(h=f-1;++h<d;){var A=x[h*d+f],T=x[f*d+h];(A.value||T.value)&&m.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}return o?m.sort(o):m}return a.padAngle=function(e){return arguments.length?(t=Object(i.c)(0,e),a):t},a.sortGroups=function(t){return arguments.length?(e=t,a):e},a.sortSubgroups=function(t){return arguments.length?(n=t,a):n},a.sortChords=function(t){return arguments.length?(null==t?o=null:(e=t,o=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,a):o&&o._;var e},a}},function(t,e,n){"use strict";var r=n(1662),i=n(1663),o=n(1087),a=n(803);function s(t){return t.source}function u(t){return t.target}function c(t){return t.radius}function l(t){return t.startAngle}function f(t){return t.endAngle}e.a=function(){var t=s,e=u,n=c,h=l,d=f,p=null;function g(){var i,s=r.a.call(arguments),u=t.apply(this,s),c=e.apply(this,s),l=+n.apply(this,(s[0]=u,s)),f=h.apply(this,s)-o.b,g=d.apply(this,s)-o.b,v=l*Object(o.a)(f),m=l*Object(o.d)(f),y=+n.apply(this,(s[0]=c,s)),x=h.apply(this,s)-o.b,_=d.apply(this,s)-o.b;if(p||(p=i=Object(a.a)()),p.moveTo(v,m),p.arc(0,0,l,f,g),f===x&&g===_||(p.quadraticCurveTo(0,0,y*Object(o.a)(x),y*Object(o.d)(x)),p.arc(0,0,y,x,_)),p.quadraticCurveTo(0,0,v,m),p.closePath(),i)return p=null,i+""||null}return g.radius=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),g):n},g.startAngle=function(t){return arguments.length?(h="function"==typeof t?t:Object(i.a)(+t),g):h},g.endAngle=function(t){return arguments.length?(d="function"==typeof t?t:Object(i.a)(+t),g):d},g.source=function(e){return arguments.length?(t=e,g):t},g.target=function(t){return arguments.length?(e=t,g):e},g.context=function(t){return arguments.length?(p=null==t?null:t,g):p},g}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=Math.PI,i=2*r,o=i-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new a}a.prototype=s.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var a=this._x1,s=this._y1,u=n-t,c=i-e,l=a-t,f=s-e,h=l*l+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(f*u-c*l)>1e-6&&o){var d=n-a,p=i-s,g=u*u+c*c,v=d*d+p*p,m=Math.sqrt(g),y=Math.sqrt(h),x=o*Math.tan((r-Math.acos((g+h-v)/(2*m*y)))/2),_=x/y,b=x/m;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(e+_*f)),this._+="A"+o+","+o+",0,0,"+ +(f*d>l*p)+","+(this._x1=t+b*u)+","+(this._y1=e+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,a,s,u){t=+t,e=+e;var c=(n=+n)*Math.cos(a),l=n*Math.sin(a),f=t+c,h=e+l,d=1^u,p=u?a-s:s-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),n&&(p<0&&(p=p%i+i),p>o?this._+="A"+n+","+n+",0,1,"+d+","+(t-c)+","+(e-l)+"A"+n+","+n+",0,1,"+d+","+(this._x1=f)+","+(this._y1=h):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+d+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.a=s},function(t,e,n){"use strict";var r=n(928);function i(){return{}}function o(t,e,n){t[e]=n}function a(){return Object(r.a)()}function s(t,e,n){t.set(e,n)}e.a=function(){var t,e,n,u=[],c=[];function l(n,i,o,a){if(i>=u.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var s,c,f,h=-1,d=n.length,p=u[i++],g=Object(r.a)(),v=o();++h<d;)(f=g.get(s=p(c=n[h])+""))?f.push(c):g.set(s,[c]);return g.each(function(t,e){a(v,e,l(t,i,o,a))}),v}return n={object:function(t){return l(t,0,i,o)},map:function(t){return l(t,0,a,s)},entries:function(t){return function t(n,r){if(++r>u.length)return n;var i,o=c[r-1];return null!=e&&r>=u.length?i=n.entries():(i=[],n.each(function(e,n){i.push({key:n,values:t(e,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(l(t,0,a,s),0)},key:function(t){return u.push(t),n},sortKeys:function(t){return c[u.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}},function(t,e,n){"use strict";var r=n(928);function i(){}var o=r.a.prototype;function a(t,e){var n=new i;if(t instanceof i)t.each(function(t){n.add(t)});else if(t){var r=-1,o=t.length;if(null==e)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}i.prototype=a.prototype={constructor:i,has:o.has,add:function(t){return t+="",this[r.b+t]=t,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each},e.a=a},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push(n);return e}},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push(t[n]);return e}},function(t,e,n){"use strict";e.a=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}},function(t,e,n){"use strict";e.a=p,e.b=_;var r=n(930),i=n(929),o=n(1088),a=.95047,s=1,u=1.08883,c=4/29,l=6/29,f=3*l*l,h=l*l*l;function d(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof b){var e=t.h*o.a;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof i.b||(t=Object(i.h)(t));var n=x(t.r),r=x(t.g),c=x(t.b),l=v((.4124564*n+.3575761*r+.1804375*c)/a),f=v((.2126729*n+.7151522*r+.072175*c)/s);return new g(116*f-16,500*(l-f),200*(f-v((.0193339*n+.119192*r+.9503041*c)/u)),t.opacity)}function p(t,e,n,r){return 1===arguments.length?d(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function v(t){return t>h?Math.pow(t,1/3):t/f+c}function m(t){return t>l?t*t*t:f*(t-c)}function y(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof b)return new b(t.h,t.c,t.l,t.opacity);t instanceof g||(t=d(t));var e=Math.atan2(t.b,t.a)*o.b;return new b(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new b(t,e,n,null==r?1:r)}function b(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return new g(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=s*m(t),e=a*m(e),n=u*m(n),new i.b(y(3.2404542*e-1.5371385*t-.4985314*n),y(-.969266*e+1.8760108*t+.041556*n),y(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Object(r.a)(b,_,Object(r.b)(i.a,{brighter:function(t){return new b(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new b(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}))},function(t,e,n){"use strict";e.a=p;var r=n(930),i=n(929),o=n(1088),a=-.14861,s=1.78277,u=-.29227,c=-.90649,l=1.97294,f=l*c,h=l*s,d=s*u-c*a;function p(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof g)return new g(t.h,t.s,t.l,t.opacity);t instanceof i.b||(t=Object(i.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(d*r+f*e-h*n)/(d+f-h),s=r-a,p=(l*(n-a)-u*s)/c,v=Math.sqrt(p*p+s*s)/(l*a*(1-a)),m=v?Math.atan2(p,s)*o.b-120:NaN;return new g(m<0?m+360:m,v,a,t.opacity)}(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return t=null==t?i.c:Math.pow(i.c,t),new g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.d:Math.pow(i.d,t),new g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*o.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),f=Math.sin(t);return new i.b(255*(e+n*(a*r+s*f)),255*(e+n*(u*r+c*f)),255*(e+n*(l*r)),this.opacity)}}))},function(t,e,n){"use strict";var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,c=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<c;)if(n=(t=o[u]).type)i[n]=s(i[n],t.name,e);else if(null==e)for(n in i)i[n]=s(i[n],t.name,null);return this}for(;++u<c;)if((n=(t=o[u]).type)&&(n=a(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=i},function(t,e,n){"use strict";var r=n(868),i=n(759),o=n(1096),a=n(1097),s=n(1708),u=n(1709);function c(){return!i.e.button}function l(){return this.parentNode}function f(t){return null==t?{x:i.e.x,y:i.e.y}:t}function h(){return"ontouchstart"in this}e.a=function(){var t,e,n,d,p=c,g=l,v=f,m=h,y={},x=Object(r.a)("start","drag","end"),_=0,b=0;function w(t){t.on("mousedown.drag",M).filter(m).on("touchstart.drag",T).on("touchmove.drag",O).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(){if(!d&&p.apply(this,arguments)){var r=C("mouse",g.apply(this,arguments),i.h,this,arguments);r&&(Object(i.k)(i.e.view).on("mousemove.drag",S,!0).on("mouseup.drag",A,!0),Object(o.a)(i.e.view),Object(a.b)(),n=!1,t=i.e.clientX,e=i.e.clientY,r("start"))}}function S(){if(Object(a.a)(),!n){var r=i.e.clientX-t,o=i.e.clientY-e;n=r*r+o*o>b}y.mouse("drag")}function A(){Object(i.k)(i.e.view).on("mousemove.drag mouseup.drag",null),Object(o.b)(i.e.view,n),Object(a.a)(),y.mouse("end")}function T(){if(p.apply(this,arguments)){var t,e,n=i.e.changedTouches,r=g.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=C(n[t].identifier,r,i.q,this,arguments))&&(Object(a.b)(),e("start"))}}function O(){var t,e,n=i.e.changedTouches,r=n.length;for(t=0;t<r;++t)(e=y[n[t].identifier])&&(Object(a.a)(),e("drag"))}function I(){var t,e,n=i.e.changedTouches,r=n.length;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),t=0;t<r;++t)(e=y[n[t].identifier])&&(Object(a.b)(),e("end"))}function C(t,e,n,r,o){var a,s,c,l=n(e,t),f=x.copy();if(Object(i.d)(new u.a(w,"beforestart",a,t,_,l[0],l[1],0,0,f),function(){return null!=(i.e.subject=a=v.apply(r,o))&&(s=a.x-l[0]||0,c=a.y-l[1]||0,!0)}))return function h(d){var p,g=l;switch(d){case"start":y[t]=h,p=_++;break;case"end":delete y[t],--_;case"drag":l=n(e,t),p=_}Object(i.d)(new u.a(w,d,a,t,p,l[0]+s,l[1]+c,l[0]-g[0],l[1]-g[1],f),f.apply,f,[d,r,o])}}return w.filter=function(t){return arguments.length?(p="function"==typeof t?t:Object(s.a)(!!t),w):p},w.container=function(t){return arguments.length?(g="function"==typeof t?t:Object(s.a)(t),w):g},w.subject=function(t){return arguments.length?(v="function"==typeof t?t:Object(s.a)(t),w):v},w.touchable=function(t){return arguments.length?(m="function"==typeof t?t:Object(s.a)(!!t),w):m},w.on=function(){var t=x.on.apply(x,arguments);return t===x?w:t},w.clickDistance=function(t){return arguments.length?(b=(t=+t)*t,w):Math.sqrt(b)},w}},function(t,e,n){"use strict";var r=n(869),i=n(1090);e.a=function(t){return Object(i.a)(Object(r.a)(t).call(document.documentElement))}},function(t,e,n){"use strict";var r=n(776),i=n(933);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u,c=e[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(776),i=n(1091);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],s=0;s<n;++s)for(var u,c=e[s],l=c.length,f=0;f<l;++f)(u=c[f])&&(o.push(t.call(u,u.__data__,f,c)),a.push(u));return new r.a(o,a)}},function(t,e,n){"use strict";var r=n(776),i=n(1092);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=o[a]=[],f=0;f<c;++f)(s=u[f])&&t.call(s,s.__data__,f,u)&&l.push(s);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(776),i=n(1093),o=n(1679),a="$";function s(t,e,n,r,o,a){for(var s,u=0,c=e.length,l=a.length;u<l;++u)(s=e[u])?(s.__data__=a[u],r[u]=s):n[u]=new i.a(t,a[u]);for(;u<c;++u)(s=e[u])&&(o[u]=s)}function u(t,e,n,r,o,s,u){var c,l,f,h={},d=e.length,p=s.length,g=new Array(d);for(c=0;c<d;++c)(l=e[c])&&(g[c]=f=a+u.call(l,l.__data__,c,e),f in h?o[c]=l:h[f]=l);for(c=0;c<p;++c)(l=h[f=a+u.call(t,s[c],c,s)])?(r[c]=l,l.__data__=s[c],h[f]=null):n[c]=new i.a(t,s[c]);for(c=0;c<d;++c)(l=e[c])&&h[g[c]]===l&&(o[c]=l)}e.a=function(t,e){if(!t)return m=new Array(this.size()),d=-1,this.each(function(t){m[++d]=t}),m;var n=e?u:s,i=this._parents,a=this._groups;"function"!=typeof t&&(t=Object(o.a)(t));for(var c=a.length,l=new Array(c),f=new Array(c),h=new Array(c),d=0;d<c;++d){var p=i[d],g=a[d],v=g.length,m=t.call(p,p&&p.__data__,d,i),y=m.length,x=f[d]=new Array(y),_=l[d]=new Array(y);n(p,g,x,_,h[d]=new Array(v),m,e);for(var b,w,M=0,S=0;M<y;++M)if(b=x[M]){for(M>=S&&(S=M+1);!(w=_[S])&&++S<y;);b._next=w||null}}return(l=new r.a(l,i))._enter=f,l._exit=h,l}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(1094),i=n(776);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(776);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],f=n[u],h=l.length,d=s[u]=new Array(h),p=0;p<h;++p)(c=l[p]||f[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";var r=n(776);function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=i);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,c=n[s],l=c.length,f=a[s]=new Array(l),h=0;h<l;++h)(u=c[h])&&(f[h]=u);f.sort(e)}return new r.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";var r=n(931);e.a=function(t,e){var n=Object(r.a)(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))}},function(t,e,n){"use strict";e.a=function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function s(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),u=-1,c=n.length;++u<c;)if(!o.contains(n[u]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}:e?function(t){return function(){a(this,t)}}:function(t){return function(){s(this,t)}})(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(869);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";var r=n(869),i=n(933);function o(){return null}e.a=function(t,e){var n="function"==typeof t?t:Object(r.a)(t),a=null==e?o:"function"==typeof e?e:Object(i.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function i(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}e.a=function(t){return this.select(t?i:r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";var r=n(934);function i(t,e,n){var i=Object(r.a)(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}e.a=function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return i(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return i(this,t,e)}})(t,e))}},function(t,e,n){"use strict";e.a=i;var r=0;function i(){return new o}function o(){this._="@"+(++r).toString(36)}o.prototype=i.prototype={constructor:o,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(936),i=n(870);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(776);e.a=function(t){return"string"==typeof t?new r.a([document.querySelectorAll(t)],[document.documentElement]):new r.a([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(936),i=n(870);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var o,a=0,s=e?e.length:0;a<s;++a)if((o=e[a]).identifier===n)return Object(i.a)(t,o);return null}},function(t,e,n){"use strict";var r=n(936),i=n(870);e.a=function(t,e){null==e&&(e=Object(r.a)().touches);for(var n=0,o=e?e.length:0,a=new Array(o);n<o;++n)a[n]=Object(i.a)(t,e[n]);return a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}e.a=r,r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(938),i=Object(r.a)(","),o=i.parse,a=i.parseRows,s=i.format,u=i.formatRows},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(938),i=Object(r.a)("\t"),o=i.parse,a=i.parseRows,s=i.format,u=i.formatRows},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t){return t*t},e.c=function(t){return t*(2-t)},e.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.a=function(t){return 1-Math.cos(t*i)},e.c=function(t){return Math.sin(t*i)},e.b=function(t){return(1-Math.cos(r*t))/2};var r=Math.PI,i=r/2},function(t,e,n){"use strict";e.a=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return 1-d(1-t)},e.c=d,e.b=function(t){return((t*=2)<=1?1-d(1-t):d(t-1)+1)/2};var r=4/11,i=6/11,o=8/11,a=.75,s=9/11,u=10/11,c=.9375,l=21/22,f=63/64,h=1/r/r;function d(t){return(t=+t)<r?h*t*t:t<o?h*(t-=i)*t+a:t<u?h*(t-=s)*t+c:h*(t-=l)*t+f}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),i=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=2*Math.PI,i=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),o=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),a=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3)},function(t,e,n){"use strict";var r=n(1723);n.d(e,"a",function(){return r.a});var i=n(1724);n.d(e,"b",function(){return i.a});var o=n(1738);n.d(e,"c",function(){return o.a});var a=n(1739);n.d(e,"d",function(){return a.a});var s=n(1740);n.d(e,"e",function(){return s.a});var u=n(1099);n.d(e,"f",function(){return u.a});var c=n(1741);n.d(e,"g",function(){return c.a});var l=n(1742);n.d(e,"h",function(){return l.a})},function(t,e,n){"use strict";e.a=function(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}},function(t,e,n){"use strict";var r=n(818),i=n(939),o=n(940);function a(t){return t.x+t.vx}function s(t){return t.y+t.vy}e.a=function(t){var e,n,u=1,c=1;function l(){for(var t,r,l,h,d,p,g,v=e.length,m=0;m<c;++m)for(r=Object(o.a)(e,a,s).visitAfter(f),t=0;t<v;++t)l=e[t],p=n[l.index],g=p*p,h=l.x+l.vx,d=l.y+l.vy,r.visit(y);function y(t,e,n,r,o){var a=t.data,s=t.r,c=p+s;if(!a)return e>h+c||r<h-c||n>d+c||o<d-c;if(a.index>l.index){var f=h-a.x-a.vx,v=d-a.y-a.vy,m=f*f+v*v;m<c*c&&(0===f&&(m+=(f=Object(i.a)())*f),0===v&&(m+=(v=Object(i.a)())*v),m=(c-(m=Math.sqrt(m)))/m*u,l.vx+=(f*=m)*(c=(s*=s)/(g+s)),l.vy+=(v*=m)*c,a.vx-=f*(c=1-c),a.vy-=v*c)}}}function f(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function h(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Object(r.a)(null==t?1:+t)),l.initialize=function(t){e=t,h()},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(u=+t,l):u},l.radius=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),h(),l):t},l}},function(t,e,n){"use strict";e.a=g;var r=n(1726),i=n(1727),o=n(1728),a=n(1729),s=n(1730),u=n(1731),c=n(1732),l=n(1733),f=n(1734),h=n(1735),d=n(1736),p=n(1737);function g(t,e,n){var r=new v(null==e?d.b:e,null==n?p.b:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function v(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function m(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var y=g.prototype=v.prototype;y.copy=function(){var t,e,n=new v(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=m(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=m(e));return n},y.add=r.b,y.addAll=r.a,y.cover=i.a,y.data=o.a,y.extent=a.a,y.find=s.a,y.remove=u.a,y.removeAll=u.b,y.root=c.a,y.size=l.a,y.visit=f.a,y.visitAfter=h.a,y.x=d.a,y.y=p.a},function(t,e,n){"use strict";function r(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a}while((f=l<<1|c)==(h=(u>=a)<<1|s>=o));return i[h]=d,i[f]=p,t}e.a=function(t){var e,n,i,o,a=t.length,s=new Array(a),u=new Array(a),c=1/0,l=1/0,f=-1/0,h=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,u[n]=o,i<c&&(c=i),i>f&&(f=i),o<l&&(l=o),o>h&&(h=o));f<c&&(c=this._x0,f=this._x1);h<l&&(l=this._y0,h=this._y1);for(this.cover(c,l).cover(f,h),n=0;n<a;++n)r(this,s[n],u[n],t[n]);return this},e.b=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return r(this.cover(e,n),e,n,t)}},function(t,e,n){"use strict";e.a=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,c=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),t>(i=n+u)||e>o);break;case 1:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),(n=i-u)>t||e>o);break;case 2:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),t>(i=n+u)||r>e);break;case 3:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),(n=i-u)>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},function(t,e,n){"use strict";var r=n(941);e.a=function(t,e,n){var i,o,a,s,u,c,l,f=this._x0,h=this._y0,d=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new r.a(v,f,h,d,p)),null==n?n=1/0:(f=t-n,h=e-n,d=t+n,p=e+n,n*=n);c=g.pop();)if(!(!(v=c.node)||(o=c.x0)>d||(a=c.y0)>p||(s=c.x1)<f||(u=c.y1)<h))if(v.length){var m=(o+s)/2,y=(a+u)/2;g.push(new r.a(v[3],m,y,s,u),new r.a(v[2],o,y,m,u),new r.a(v[1],m,a,s,y),new r.a(v[0],o,a,m,y)),(l=(e>=y)<<1|t>=m)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-l],g[g.length-1-l]=c)}else{var x=t-+this._x.call(null,v.data),_=e-+this._y.call(null,v.data),b=x*x+_*_;if(b<n){var w=Math.sqrt(n=b);f=t-w,h=e-w,d=t+w,p=e+w,i=v.data}}return i}},function(t,e,n){"use strict";e.b=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},e.a=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+v)/2))?p=s:v=s,(l=a>=(u=(g+m)/2))?g=u:m=u,e=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)}},function(t,e,n){"use strict";e.a=function(){return this._root}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t}},function(t,e,n){"use strict";var r=n(941);e.a=function(t){var e,n,i,o,a,s,u=[],c=this._root;for(c&&u.push(new r.a(c,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(c=e.node,i=e.x0,o=e.y0,a=e.x1,s=e.y1)&&c.length){var l=(i+a)/2,f=(o+s)/2;(n=c[3])&&u.push(new r.a(n,l,f,a,s)),(n=c[2])&&u.push(new r.a(n,i,f,l,s)),(n=c[1])&&u.push(new r.a(n,l,o,a,f)),(n=c[0])&&u.push(new r.a(n,i,o,l,f))}return this}},function(t,e,n){"use strict";var r=n(941);e.a=function(t){var e,n=[],i=[];for(this._root&&n.push(new r.a(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var a,s=e.x0,u=e.y0,c=e.x1,l=e.y1,f=(s+c)/2,h=(u+l)/2;(a=o[0])&&n.push(new r.a(a,s,u,f,h)),(a=o[1])&&n.push(new r.a(a,f,u,c,h)),(a=o[2])&&n.push(new r.a(a,s,h,f,l)),(a=o[3])&&n.push(new r.a(a,f,h,c,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this}},function(t,e,n){"use strict";e.b=function(t){return t[0]},e.a=function(t){return arguments.length?(this._x=t,this):this._x}},function(t,e,n){"use strict";e.b=function(t){return t[1]},e.a=function(t){return arguments.length?(this._y=t,this):this._y}},function(t,e,n){"use strict";var r=n(818),i=n(939),o=n(829);function a(t){return t.index}function s(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}e.a=function(t){var e,n,u,c,l,f=a,h=function(t){return 1/Math.min(c[t.source.index],c[t.target.index])},d=Object(r.a)(30),p=1;function g(r){for(var o=0,a=t.length;o<p;++o)for(var s,u,c,f,h,d,g,v=0;v<a;++v)u=(s=t[v]).source,f=(c=s.target).x+c.vx-u.x-u.vx||Object(i.a)(),h=c.y+c.vy-u.y-u.vy||Object(i.a)(),f*=d=((d=Math.sqrt(f*f+h*h))-n[v])/d*r*e[v],h*=d,c.vx-=f*(g=l[v]),c.vy-=h*g,u.vx+=f*(g=1-g),u.vy+=h*g}function v(){if(u){var r,i,a=u.length,h=t.length,d=Object(o.c)(u,f);for(r=0,c=new Array(a);r<h;++r)(i=t[r]).index=r,"object"!=typeof i.source&&(i.source=s(d,i.source)),"object"!=typeof i.target&&(i.target=s(d,i.target)),c[i.source.index]=(c[i.source.index]||0)+1,c[i.target.index]=(c[i.target.index]||0)+1;for(r=0,l=new Array(h);r<h;++r)i=t[r],l[r]=c[i.source.index]/(c[i.source.index]+c[i.target.index]);e=new Array(h),m(),n=new Array(h),y()}}function m(){if(u)for(var n=0,r=t.length;n<r;++n)e[n]=+h(t[n],n,t)}function y(){if(u)for(var e=0,r=t.length;e<r;++e)n[e]=+d(t[e],e,t)}return null==t&&(t=[]),g.initialize=function(t){u=t,v()},g.links=function(e){return arguments.length?(t=e,v(),g):t},g.id=function(t){return arguments.length?(f=t,g):f},g.iterations=function(t){return arguments.length?(p=+t,g):p},g.strength=function(t){return arguments.length?(h="function"==typeof t?t:Object(r.a)(+t),m(),g):h},g.distance=function(t){return arguments.length?(d="function"==typeof t?t:Object(r.a)(+t),y(),g):d},g}},function(t,e,n){"use strict";var r=n(818),i=n(939),o=n(940),a=n(1099);e.a=function(){var t,e,n,s,u=Object(r.a)(-30),c=1,l=1/0,f=.81;function h(r){var i,s=t.length,u=Object(o.a)(t,a.b,a.c).visitAfter(p);for(n=r,i=0;i<s;++i)e=t[i],u.visit(g)}function d(){if(t){var e,n,r=t.length;for(s=new Array(r),e=0;e<r;++e)n=t[e],s[n.index]=+u(n,e,t)}}function p(t){var e,n,r,i,o,a=0,u=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,r+=n*e.x,i+=n*e.y);t.x=r/u,t.y=i/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=s[e.data.index]}while(e=e.next)}t.value=a}function g(t,r,o,a){if(!t.value)return!0;var u=t.x-e.x,h=t.y-e.y,d=a-r,p=u*u+h*h;if(d*d/f<p)return p<l&&(0===u&&(p+=(u=Object(i.a)())*u),0===h&&(p+=(h=Object(i.a)())*h),p<c&&(p=Math.sqrt(c*p)),e.vx+=u*t.value*n/p,e.vy+=h*t.value*n/p),!0;if(!(t.length||p>=l)){(t.data!==e||t.next)&&(0===u&&(p+=(u=Object(i.a)())*u),0===h&&(p+=(h=Object(i.a)())*h),p<c&&(p=Math.sqrt(c*p)));do{t.data!==e&&(d=s[t.data.index]*n/p,e.vx+=u*d,e.vy+=h*d)}while(t=t.next)}}return h.initialize=function(e){t=e,d()},h.strength=function(t){return arguments.length?(u="function"==typeof t?t:Object(r.a)(+t),d(),h):u},h.distanceMin=function(t){return arguments.length?(c=t*t,h):Math.sqrt(c)},h.distanceMax=function(t){return arguments.length?(l=t*t,h):Math.sqrt(l)},h.theta=function(t){return arguments.length?(f=t*t,h):Math.sqrt(f)},h}},function(t,e,n){"use strict";var r=n(818);e.a=function(t,e,n){var i,o,a,s=Object(r.a)(.1);function u(t){for(var r=0,s=i.length;r<s;++r){var u=i[r],c=u.x-e||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),h=(a[r]-f)*o[r]*t/f;u.vx+=c*h,u.vy+=l*h}}function c(){if(i){var e,n=i.length;for(o=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(i[e],e,i),o[e]=isNaN(a[e])?0:+s(i[e],e,i)}}return"function"!=typeof t&&(t=Object(r.a)(+t)),null==e&&(e=0),null==n&&(n=0),u.initialize=function(t){i=t,c()},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:Object(r.a)(+t),c(),u):s},u.radius=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),c(),u):t},u.x=function(t){return arguments.length?(e=+t,u):e},u.y=function(t){return arguments.length?(n=+t,u):n},u}},function(t,e,n){"use strict";var r=n(818);e.a=function(t){var e,n,i,o=Object(r.a)(.1);function a(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function s(){if(e){var r,a=e.length;for(n=new Array(a),i=new Array(a),r=0;r<a;++r)n[r]=isNaN(i[r]=+t(e[r],r,e))?0:+o(e[r],r,e)}}return"function"!=typeof t&&(t=Object(r.a)(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:Object(r.a)(+t),s(),a):o},a.x=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),s(),a):t},a}},function(t,e,n){"use strict";var r=n(818);e.a=function(t){var e,n,i,o=Object(r.a)(.1);function a(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function s(){if(e){var r,a=e.length;for(n=new Array(a),i=new Array(a),r=0;r<a;++r)n[r]=isNaN(i[r]=+t(e[r],r,e))?0:+o(e[r],r,e)}}return"function"!=typeof t&&(t=Object(r.a)(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:Object(r.a)(+t),s(),a):o},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),s(),a):t},a}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),e.a=s;var r,i,o,a=n(1100);function s(t){return r=Object(a.a)(t),i=r.format,o=r.formatPrefix,r}s({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(t,e,n){"use strict";e.a=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}},function(t,e,n){"use strict";e.a=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}},function(t,e,n){"use strict";e.a=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}},function(t,e,n){"use strict";var r=n(943);e.a=function(t,e){var n=Object(r.a)(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(871);e.a=function(t){return Math.max(0,-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(871);e.a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(e)/3)))-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(871);e.a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Object(r.a)(e)-Object(r.a)(t))+1}},function(t,e,n){"use strict";var r=n(1104);n.d(e,"c",function(){return r.c});var i=n(1753);n.d(e,"h",function(){return i.a});var o=n(1754);n.d(e,"i",function(){return o.a});var a=n(1105);n.d(e,"j",function(){return a.b});var s=n(1107);n.d(e,"k",function(){return s.a});var u=n(1113);n.d(e,"l",function(){return u.a});var c=n(1756);n.d(e,"m",function(){return c.a});var l=n(873);n.d(e,"n",function(){return l.a});var f=n(1758);n.d(e,"u",function(){return f.a});var h=n(1114);n.d(e,"v",function(){return h.a});var d=n(1759);n.d(e,"A",function(){return d.a}),n.d(e,"B",function(){return d.b});var p=n(1760);n.d(e,"D",function(){return p.a});var g=n(1115);n.d(e,"E",function(){return g.a});var v=n(1761);n.d(e,"L",function(){return v.a});var m=n(1117);n.d(e,"a",function(){return m.a});var y=n(1769);n.d(e,"b",function(){return y.a});var x=n(1770);n.d(e,"d",function(){return x.b}),n.d(e,"e",function(){return x.a});var _=n(1771);n.d(e,"f",function(){return _.b}),n.d(e,"g",function(){return _.a});var b=n(1772);n.d(e,"o",function(){return b.b}),n.d(e,"p",function(){return b.a});var w=n(945);n.d(e,"q",function(){return w.b}),n.d(e,"r",function(){return w.a});var M=n(1773);n.d(e,"s",function(){return M.b}),n.d(e,"t",function(){return M.a});var S=n(1118);n.d(e,"w",function(){return S.a}),n.d(e,"x",function(){return S.b});var A=n(1774);n.d(e,"y",function(){return A.a}),n.d(e,"z",function(){return A.b});var T=n(1775);n.d(e,"C",function(){return T.a});var O=n(781);n.d(e,"M",function(){return O.a}),n.d(e,"N",function(){return O.b});var I=n(948);n.d(e,"F",function(){return I.a}),n.d(e,"G",function(){return I.c});var C=n(1776);n.d(e,"H",function(){return C.a}),n.d(e,"I",function(){return C.b});var k=n(1777);n.d(e,"J",function(){return k.a}),n.d(e,"K",function(){return k.b});var D=n(1778);n.d(e,"P",function(){return D.a}),n.d(e,"Q",function(){return D.b});var L=n(1779);n.d(e,"T",function(){return L.a}),n.d(e,"U",function(){return L.b});var E=n(872);n.d(e,"O",function(){return E.a});var P=n(804);n.d(e,"R",function(){return P.a});var N=n(874);n.d(e,"S",function(){return N.a})},function(t,e,n){"use strict";var r,i,o,a,s,u,c,l,f,h,d=n(819),p=n(1104),g=n(830),v=n(741),m=n(804),y=Object(d.a)(),x={point:_,lineStart:w,lineEnd:M,polygonStart:function(){x.point=S,x.lineStart=A,x.lineEnd=T,y.reset(),p.b.polygonStart()},polygonEnd:function(){p.b.polygonEnd(),x.point=_,x.lineStart=w,x.lineEnd=M,p.a<0?(r=-(o=180),i=-(a=90)):y>v.i?a=90:y<-v.i&&(i=-90),h[0]=r,h[1]=o}};function _(t,e){f.push(h=[r=t,o=t]),e<i&&(i=e),e>a&&(a=e)}function b(t,e){var n=Object(g.a)([t*v.r,e*v.r]);if(l){var u=Object(g.c)(l,n),c=[u[1],-u[0],0],d=Object(g.c)(c,u);Object(g.e)(d),d=Object(g.g)(d);var p,m=t-s,y=m>0?1:-1,x=d[0]*v.h*y,_=Object(v.a)(m)>180;_^(y*s<x&&x<y*t)?(p=d[1]*v.h)>a&&(a=p):_^(y*s<(x=(x+360)%360-180)&&x<y*t)?(p=-d[1]*v.h)<i&&(i=p):(e<i&&(i=e),e>a&&(a=e)),_?t<s?O(r,t)>O(r,o)&&(o=t):O(t,o)>O(r,o)&&(r=t):o>=r?(t<r&&(r=t),t>o&&(o=t)):t>s?O(r,t)>O(r,o)&&(o=t):O(t,o)>O(r,o)&&(r=t)}else f.push(h=[r=t,o=t]);e<i&&(i=e),e>a&&(a=e),l=n,s=t}function w(){x.point=b}function M(){h[0]=r,h[1]=o,x.point=_,l=null}function S(t,e){if(l){var n=t-s;y.add(Object(v.a)(n)>180?n+(n>0?360:-360):n)}else u=t,c=e;p.b.point(t,e),b(t,e)}function A(){p.b.lineStart()}function T(){S(u,c),p.b.lineEnd(),Object(v.a)(y)>v.i&&(r=-(o=180)),h[0]=r,h[1]=o,l=null}function O(t,e){return(e-=t)<0?e+360:e}function I(t,e){return t[0]-e[0]}function C(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}e.a=function(t){var e,n,s,u,c,l,d;if(a=o=-(r=i=1/0),f=[],Object(m.a)(t,x),n=f.length){for(f.sort(I),e=1,c=[s=f[0]];e<n;++e)C(s,(u=f[e])[0])||C(s,u[1])?(O(s[0],u[1])>O(s[0],s[1])&&(s[1]=u[1]),O(u[0],s[1])>O(s[0],s[1])&&(s[0]=u[0])):c.push(s=u);for(l=-1/0,e=0,s=c[n=c.length-1];e<=n;s=u,++e)u=c[e],(d=O(s[1],u[0]))>l&&(l=d,r=u[0],o=s[1])}return f=h=null,r===1/0||i===1/0?[[NaN,NaN],[NaN,NaN]]:[[r,i],[o,a]]}},function(t,e,n){"use strict";var r,i,o,a,s,u,c,l,f,h,d,p,g,v,m,y,x=n(741),_=n(799),b=n(804),w={sphere:_.a,point:M,lineStart:A,lineEnd:I,polygonStart:function(){w.lineStart=C,w.lineEnd=k},polygonEnd:function(){w.lineStart=A,w.lineEnd=I}};function M(t,e){t*=x.r,e*=x.r;var n=Object(x.g)(e);S(n*Object(x.g)(t),n*Object(x.t)(t),Object(x.t)(e))}function S(t,e,n){o+=(t-o)/++r,a+=(e-a)/r,s+=(n-s)/r}function A(){w.point=T}function T(t,e){t*=x.r,e*=x.r;var n=Object(x.g)(e);v=n*Object(x.g)(t),m=n*Object(x.t)(t),y=Object(x.t)(e),w.point=O,S(v,m,y)}function O(t,e){t*=x.r,e*=x.r;var n=Object(x.g)(e),r=n*Object(x.g)(t),o=n*Object(x.t)(t),a=Object(x.t)(e),s=Object(x.e)(Object(x.u)((s=m*a-y*o)*s+(s=y*r-v*a)*s+(s=v*o-m*r)*s),v*r+m*o+y*a);i+=s,u+=s*(v+(v=r)),c+=s*(m+(m=o)),l+=s*(y+(y=a)),S(v,m,y)}function I(){w.point=M}function C(){w.point=D}function k(){L(p,g),w.point=M}function D(t,e){p=t,g=e,t*=x.r,e*=x.r,w.point=L;var n=Object(x.g)(e);v=n*Object(x.g)(t),m=n*Object(x.t)(t),y=Object(x.t)(e),S(v,m,y)}function L(t,e){t*=x.r,e*=x.r;var n=Object(x.g)(e),r=n*Object(x.g)(t),o=n*Object(x.t)(t),a=Object(x.t)(e),s=m*a-y*o,p=y*r-v*a,g=v*o-m*r,_=Object(x.u)(s*s+p*p+g*g),b=Object(x.c)(_),w=_&&-b/_;f+=w*s,h+=w*p,d+=w*g,i+=b,u+=b*(v+(v=r)),c+=b*(m+(m=o)),l+=b*(y+(y=a)),S(v,m,y)}e.a=function(t){r=i=o=a=s=u=c=l=f=h=d=0,Object(b.a)(t,w);var e=f,n=h,p=d,g=e*e+n*n+p*p;return g<x.j&&(e=u,n=c,p=l,i<x.i&&(e=o,n=a,p=s),(g=e*e+n*n+p*p)<x.j)?[NaN,NaN]:[Object(x.e)(n,e)*x.h,Object(x.c)(p/Object(x.u)(g))*x.h]}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(873);e.a=function(){var t,e,n,i=0,o=0,a=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Object(r.a)(i,o,a,s)(e=n)},extent:function(r){return arguments.length?(i=+r[0][0],o=+r[0][1],a=+r[1][0],s=+r[1][1],t=e=null,n):[[i,o],[a,s]]}}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*h),l<1&&(e[0]=s+l*f,e[1]=u+l*h),!0}}}}}},function(t,e,n){"use strict";var r=n(1112),i=n(1114),o=n(741),a={Feature:function(t,e){return u(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(u(n[r].geometry,e))return!0;return!1}},s={Sphere:function(){return!0},Point:function(t,e){return c(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(c(n[r],e))return!0;return!1},LineString:function(t,e){return l(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(l(n[r],e))return!0;return!1},Polygon:function(t,e){return f(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(f(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(u(n[r],e))return!0;return!1}};function u(t,e){return!(!t||!s.hasOwnProperty(t.type))&&s[t.type](t,e)}function c(t,e){return 0===Object(i.a)(t,e)}function l(t,e){var n=Object(i.a)(t[0],t[1]);return Object(i.a)(t[0],e)+Object(i.a)(e,t[1])<=n+o.i}function f(t,e){return!!Object(r.a)(t.map(h),d(e))}function h(t){return(t=t.map(d)).pop(),t}function d(t){return[t[0]*o.r,t[1]*o.r]}e.a=function(t,e){return(t&&a.hasOwnProperty(t.type)?a[t.type]:u)(t,e)}},function(t,e,n){"use strict";e.a=s,e.b=function(){return s()()};var r=n(762),i=n(741);function o(t,e,n){var o=Object(r.s)(t,e-i.i,n).concat(e);return function(t){return o.map(function(e){return[t,e]})}}function a(t,e,n){var o=Object(r.s)(t,e-i.i,n).concat(e);return function(t){return o.map(function(e){return[e,t]})}}function s(){var t,e,n,s,u,c,l,f,h,d,p,g,v=10,m=v,y=90,x=360,_=2.5;function b(){return{type:"MultiLineString",coordinates:w()}}function w(){return Object(r.s)(Object(i.f)(s/y)*y,n,y).map(p).concat(Object(r.s)(Object(i.f)(f/x)*x,l,x).map(g)).concat(Object(r.s)(Object(i.f)(e/v)*v,t,v).filter(function(t){return Object(i.a)(t%y)>i.i}).map(h)).concat(Object(r.s)(Object(i.f)(c/m)*m,u,m).filter(function(t){return Object(i.a)(t%x)>i.i}).map(d))}return b.lines=function(){return w().map(function(t){return{type:"LineString",coordinates:t}})},b.outline=function(){return{type:"Polygon",coordinates:[p(s).concat(g(l).slice(1),p(n).reverse().slice(1),g(f).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(s=+t[0][0],n=+t[1][0],f=+t[0][1],l=+t[1][1],s>n&&(t=s,s=n,n=t),f>l&&(t=f,f=l,l=t),b.precision(_)):[[s,f],[n,l]]},b.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],c=+n[0][1],u=+n[1][1],e>t&&(n=e,e=t,t=n),c>u&&(n=c,c=u,u=n),b.precision(_)):[[e,c],[t,u]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(y=+t[0],x=+t[1],b):[y,x]},b.stepMinor=function(t){return arguments.length?(v=+t[0],m=+t[1],b):[v,m]},b.precision=function(r){return arguments.length?(_=+r,h=o(c,u,90),d=a(e,t,_),p=o(f,l,90),g=a(s,n,_),b):_},b.extentMajor([[-180,-90+i.i],[180,90-i.i]]).extentMinor([[-180,-80-i.i],[180,80+i.i]])}},function(t,e,n){"use strict";var r=n(741);e.a=function(t,e){var n=t[0]*r.r,i=t[1]*r.r,o=e[0]*r.r,a=e[1]*r.r,s=Object(r.g)(i),u=Object(r.t)(i),c=Object(r.g)(a),l=Object(r.t)(a),f=s*Object(r.g)(n),h=s*Object(r.t)(n),d=c*Object(r.g)(o),p=c*Object(r.t)(o),g=2*Object(r.c)(Object(r.u)(Object(r.m)(a-i)+s*c*Object(r.m)(o-n))),v=Object(r.t)(g),m=g?function(t){var e=Object(r.t)(t*=g)/v,n=Object(r.t)(g-t)/v,i=n*f+e*d,o=n*h+e*p,a=n*u+e*l;return[Object(r.e)(o,i)*r.h,Object(r.e)(a,Object(r.u)(i*i+o*o))*r.h]}:function(){return[n*r.h,i*r.h]};return m.distance=g,m}},function(t,e,n){"use strict";var r=n(944),i=n(804),o=n(1762),a=n(1116),s=n(1763),u=n(1764),c=n(1765),l=n(1766);e.a=function(t,e){var n,f,h=4.5;function d(t){return t&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),Object(i.a)(t,n(f))),f.result()}return d.area=function(t){return Object(i.a)(t,n(o.a)),o.a.result()},d.measure=function(t){return Object(i.a)(t,n(c.a)),c.a.result()},d.bounds=function(t){return Object(i.a)(t,n(a.a)),a.a.result()},d.centroid=function(t){return Object(i.a)(t,n(s.a)),s.a.result()},d.projection=function(e){return arguments.length?(n=null==e?(t=null,r.a):(t=e).stream,d):t},d.context=function(t){return arguments.length?(f=null==t?(e=null,new l.a):new u.a(e=t),"function"!=typeof h&&f.pointRadius(h),d):e},d.pointRadius=function(t){return arguments.length?(h="function"==typeof t?t:(f.pointRadius(+t),+t),d):h},d.projection(t).context(e)}},function(t,e,n){"use strict";var r,i,o,a,s=n(819),u=n(741),c=n(799),l=Object(s.a)(),f=Object(s.a)(),h={point:c.a,lineStart:c.a,lineEnd:c.a,polygonStart:function(){h.lineStart=d,h.lineEnd=v},polygonEnd:function(){h.lineStart=h.lineEnd=h.point=c.a,l.add(Object(u.a)(f)),f.reset()},result:function(){var t=l/2;return l.reset(),t}};function d(){h.point=p}function p(t,e){h.point=g,r=o=t,i=a=e}function g(t,e){f.add(a*t-o*e),o=t,a=e}function v(){g(r,i)}e.a=h},function(t,e,n){"use strict";var r,i,o,a,s=n(741),u=0,c=0,l=0,f=0,h=0,d=0,p=0,g=0,v=0,m={point:y,lineStart:x,lineEnd:w,polygonStart:function(){m.lineStart=M,m.lineEnd=S},polygonEnd:function(){m.point=y,m.lineStart=x,m.lineEnd=w},result:function(){var t=v?[p/v,g/v]:d?[f/d,h/d]:l?[u/l,c/l]:[NaN,NaN];return u=c=l=f=h=d=p=g=v=0,t}};function y(t,e){u+=t,c+=e,++l}function x(){m.point=_}function _(t,e){m.point=b,y(o=t,a=e)}function b(t,e){var n=t-o,r=e-a,i=Object(s.u)(n*n+r*r);f+=i*(o+t)/2,h+=i*(a+e)/2,d+=i,y(o=t,a=e)}function w(){m.point=y}function M(){m.point=A}function S(){T(r,i)}function A(t,e){m.point=T,y(r=o=t,i=a=e)}function T(t,e){var n=t-o,r=e-a,i=Object(s.u)(n*n+r*r);f+=i*(o+t)/2,h+=i*(a+e)/2,d+=i,p+=(i=a*t-o*e)*(o+t),g+=i*(a+e),v+=3*i,y(o=t,a=e)}e.a=m},function(t,e,n){"use strict";e.a=o;var r=n(741),i=n(799);function o(t){this._context=t}o.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,r.w)}},result:i.a}},function(t,e,n){"use strict";var r,i,o,a,s,u=n(819),c=n(741),l=n(799),f=Object(u.a)(),h={point:l.a,lineStart:function(){h.point=d},lineEnd:function(){r&&p(i,o),h.point=l.a},polygonStart:function(){r=!0},polygonEnd:function(){r=null},result:function(){var t=+f;return f.reset(),t}};function d(t,e){h.point=p,i=a=t,o=s=e}function p(t,e){a-=t,s-=e,f.add(Object(c.u)(a*a+s*s)),a=t,s=e}e.a=h},function(t,e,n){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}e.a=r,r.prototype={_radius:4.5,_circle:i(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=i(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},function(t,e,n){"use strict";var r=n(830),i=n(741),o=n(874),a=16,s=Object(i.g)(30*i.r);e.a=function(t,e){return+e?function(t,e){function n(r,o,a,u,c,l,f,h,d,p,g,v,m,y){var x=f-r,_=h-o,b=x*x+_*_;if(b>4*e&&m--){var w=u+p,M=c+g,S=l+v,A=Object(i.u)(w*w+M*M+S*S),T=Object(i.c)(S/=A),O=Object(i.a)(Object(i.a)(S)-1)<i.i||Object(i.a)(a-d)<i.i?(a+d)/2:Object(i.e)(M,w),I=t(O,T),C=I[0],k=I[1],D=C-r,L=k-o,E=_*D-x*L;(E*E/b>e||Object(i.a)((x*D+_*L)/b-.5)>.3||u*p+c*g+l*v<s)&&(n(r,o,a,u,c,l,C,k,O,w/=A,M/=A,S,m,y),y.point(C,k),n(C,k,O,w,M,S,f,h,d,p,g,v,m,y))}}return function(e){var i,o,s,u,c,l,f,h,d,p,g,v,m={point:y,lineStart:x,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=w},polygonEnd:function(){e.polygonEnd(),m.lineStart=x}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function x(){h=NaN,m.point=_,e.lineStart()}function _(i,o){var s=Object(r.a)([i,o]),u=t(i,o);n(h,d,f,p,g,v,h=u[0],d=u[1],f=i,p=s[0],g=s[1],v=s[2],a,e),e.point(h,d)}function b(){m.point=y,e.lineEnd()}function w(){x(),m.point=M,m.lineEnd=S}function M(t,e){_(i=t,e),o=h,s=d,u=p,c=g,l=v,m.point=_}function S(){n(h,d,f,p,g,v,o,s,i,u,c,l,a,e),m.lineEnd=b,b()}return m}}(t,e):function(t){return Object(o.b)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}},function(t,e,n){"use strict";e.a=function(t){var e=Object(r.g)(t);function n(t,n){return[t*e,Object(r.t)(n)/e]}return n.invert=function(t,n){return[t/e,Object(r.c)(n*e)]},n};var r=n(741)},function(t,e,n){"use strict";var r=n(741),i=n(1117),o=n(945),a=n(947);e.a=function(){var t,e,n,s,u,c,l=Object(i.a)(),f=Object(o.b)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=Object(o.b)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(t,e){c=[t,e]}};function p(t){var e=t[0],r=t[1];return c=null,n.point(e,r),c||(s.point(e,r),c)||(u.point(e,r),c)}function g(){return t=e=null,p}return p.invert=function(t){var e=l.scale(),n=l.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?f:i>=.166&&i<.234&&r>=-.214&&r<-.115?h:l).invert(t)},p.stream=function(n){return t&&e===n?t:(r=[l.stream(e=n),f.stream(n),h.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},p.precision=function(t){return arguments.length?(l.precision(t),f.precision(t),h.precision(t),g()):l.precision()},p.scale=function(t){return arguments.length?(l.scale(t),f.scale(.35*t),h.scale(t),p.translate(l.translate())):l.scale()},p.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),i=+t[0],o=+t[1];return n=l.translate(t).clipExtent([[i-.455*e,o-.238*e],[i+.455*e,o+.238*e]]).stream(d),s=f.translate([i-.307*e,o+.201*e]).clipExtent([[i-.425*e+r.i,o+.12*e+r.i],[i-.214*e-r.i,o+.234*e-r.i]]).stream(d),u=h.translate([i-.205*e,o+.212*e]).clipExtent([[i-.214*e+r.i,o+.166*e+r.i],[i-.115*e-r.i,o+.234*e-r.i]]).stream(d),g()},p.fitExtent=function(t,e){return Object(a.a)(p,t,e)},p.fitSize=function(t,e){return Object(a.c)(p,t,e)},p.fitWidth=function(t,e){return Object(a.d)(p,t,e)},p.fitHeight=function(t,e){return Object(a.b)(p,t,e)},p.scale(1070)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(741),i=n(831),o=n(781),a=Object(i.b)(function(t){return Object(r.u)(2/(1+t))});a.invert=Object(i.a)(function(t){return 2*Object(r.c)(t/2)}),e.b=function(){return Object(o.a)(a).scale(124.75).clipAngle(179.999)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(741),i=n(831),o=n(781),a=Object(i.b)(function(t){return(t=Object(r.b)(t))&&t/Object(r.t)(t)});a.invert=Object(i.a)(function(t){return t}),e.b=function(){return Object(o.a)(a).scale(79.4188).clipAngle(179.999)}},function(t,e,n){"use strict";e.a=s;var r=n(741),i=n(946),o=n(948);function a(t){return Object(r.v)((r.l+t)/2)}function s(t,e){var n=Object(r.g)(t),i=t===e?Object(r.t)(t):Object(r.n)(n/Object(r.g)(e))/Object(r.n)(a(e)/a(t)),s=n*Object(r.p)(a(t),i)/i;if(!i)return o.c;function u(t,e){s>0?e<-r.l+r.i&&(e=-r.l+r.i):e>r.l-r.i&&(e=r.l-r.i);var n=s/Object(r.p)(a(e),i);return[n*Object(r.t)(i*t),s-n*Object(r.g)(i*t)]}return u.invert=function(t,e){var n=s-e,o=Object(r.s)(i)*Object(r.u)(t*t+n*n);return[Object(r.e)(t,Object(r.a)(n))/i*Object(r.s)(n),2*Object(r.d)(Object(r.p)(s/o,1/i))-r.l]},u}e.b=function(){return Object(i.a)(s).scale(109.5).parallels([30,30])}},function(t,e,n){"use strict";e.a=a;var r=n(741),i=n(946),o=n(1118);function a(t,e){var n=Object(r.g)(t),i=t===e?Object(r.t)(t):(n-Object(r.g)(e))/(e-t),a=n/i+t;if(Object(r.a)(i)<r.i)return o.b;function s(t,e){var n=a-e,o=i*t;return[n*Object(r.t)(o),a-n*Object(r.g)(o)]}return s.invert=function(t,e){var n=a-e;return[Object(r.e)(t,Object(r.a)(n))/i*Object(r.s)(n),a-Object(r.s)(i)*Object(r.u)(t*t+n*n)]},s}e.b=function(){return Object(i.a)(a).scale(131.154).center([0,13.9389])}},function(t,e,n){"use strict";e.b=a;var r=n(741),i=n(831),o=n(781);function a(t,e){var n=Object(r.g)(e),i=Object(r.g)(t)*n;return[n*Object(r.t)(t)/i,Object(r.t)(e)/i]}a.invert=Object(i.a)(r.d),e.a=function(){return Object(o.a)(a).scale(144.049).clipAngle(60)}},function(t,e,n){"use strict";var r=n(873),i=n(944),o=n(874),a=n(947);function s(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?i.a:Object(o.b)({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}e.a=function(){var t,e,n,o,u,c,l=1,f=0,h=0,d=1,p=1,g=i.a,v=null,m=i.a;function y(){return o=u=null,c}return c={stream:function(t){return o&&u===t?o:o=g(m(u=t))},postclip:function(r){return arguments.length?(m=r,v=t=e=n=null,y()):m},clipExtent:function(o){return arguments.length?(m=null==o?(v=t=e=n=null,i.a):Object(r.a)(v=+o[0][0],t=+o[0][1],e=+o[1][0],n=+o[1][1]),y()):null==v?null:[[v,t],[e,n]]},scale:function(t){return arguments.length?(g=s((l=+t)*d,l*p,f,h),y()):l},translate:function(t){return arguments.length?(g=s(l*d,l*p,f=+t[0],h=+t[1]),y()):[f,h]},reflectX:function(t){return arguments.length?(g=s(l*(d=t?-1:1),l*p,f,h),y()):d<0},reflectY:function(t){return arguments.length?(g=s(l*d,l*(p=t?-1:1),f,h),y()):p<0},fitExtent:function(t,e){return Object(a.a)(c,t,e)},fitSize:function(t,e){return Object(a.c)(c,t,e)},fitWidth:function(t,e){return Object(a.d)(c,t,e)},fitHeight:function(t,e){return Object(a.b)(c,t,e)}}}},function(t,e,n){"use strict";e.b=o;var r=n(781),i=n(741);function o(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}o.invert=function(t,e){var n,r=e,o=25;do{var a=r*r,s=a*a;r-=n=(r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-e)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(Object(i.a)(n)>i.i&&--o>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},e.a=function(){return Object(r.a)(o).scale(175.295)}},function(t,e,n){"use strict";e.b=a;var r=n(741),i=n(831),o=n(781);function a(t,e){return[Object(r.g)(e)*Object(r.t)(t),Object(r.t)(e)]}a.invert=Object(i.a)(r.c),e.a=function(){return Object(o.a)(a).scale(249.5).clipAngle(90+r.i)}},function(t,e,n){"use strict";e.b=a;var r=n(741),i=n(831),o=n(781);function a(t,e){var n=Object(r.g)(e),i=1+Object(r.g)(t)*n;return[n*Object(r.t)(t)/i,Object(r.t)(e)/i]}a.invert=Object(i.a)(function(t){return 2*Object(r.d)(t)}),e.a=function(){return Object(o.a)(a).scale(250).clipAngle(142)}},function(t,e,n){"use strict";e.b=o;var r=n(741),i=n(948);function o(t,e){return[Object(r.n)(Object(r.v)((r.l+e)/2)),-t]}o.invert=function(t,e){return[-e,2*Object(r.d)(Object(r.k)(t))-r.l]},e.a=function(){var t=Object(i.b)(o),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){"use strict";var r=n(1781);n.d(e,"a",function(){return r.a});var i=n(949);n.d(e,"b",function(){return i.c});var o=n(1793);n.d(e,"c",function(){return o.a});var a=n(1119);n.d(e,"e",function(){return a.a});var s=n(1120);n.d(e,"d",function(){return s.a});var u=n(1795);n.d(e,"f",function(){return u.a});var c=n(1796);n.d(e,"g",function(){return c.a});var l=n(1797);n.d(e,"h",function(){return l.a});var f=n(1798);n.d(e,"i",function(){return f.a});var h=n(1799);n.d(e,"j",function(){return h.a});var d=n(832);n.d(e,"k",function(){return d.a});var p=n(875);n.d(e,"m",function(){return p.a});var g=n(1800);n.d(e,"n",function(){return g.a});var v=n(951);n.d(e,"o",function(){return v.a});var m=n(1801);n.d(e,"l",function(){return m.a})},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t,e){return t+e.x}function o(t,e){return Math.max(t,e.y)}e.a=function(){var t=r,e=1,n=1,a=!1;function s(r){var s,u=0;r.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(i,0)/t.length}(n),e.y=function(t){return 1+t.reduce(o,0)}(n)):(e.x=s?u+=t(e,s):0,e.y=0,s=e)});var c=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),f=c.x-t(c,l)/2,h=l.x+t(l,c)/2;return r.eachAfter(a?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-f)/(h-f)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return s.separation=function(e){return arguments.length?(t=e,s):t},s.size=function(t){return arguments.length?(a=!1,e=+t[0],n=+t[1],s):a?null:[e,n]},s.nodeSize=function(t){return arguments.length?(a=!0,e=+t[0],n=+t[1],s):a?[e,n]:null},s}},function(t,e,n){"use strict";function r(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}e.a=function(){return this.eachAfter(r)}},function(t,e,n){"use strict";e.a=function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this}},function(t,e,n){"use strict";e.a=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}},function(t,e,n){"use strict";e.a=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}},function(t,e,n){"use strict";e.a=function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}},function(t,e,n){"use strict";e.a=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.each(function(e){t.push(e)}),t}},function(t,e,n){"use strict";e.a=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}},function(t,e,n){"use strict";e.a=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}},function(t,e,n){"use strict";var r=n(1119),i=n(950),o=n(1121);function a(t){return Math.sqrt(t.value)}function s(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function u(t,e){return function(n){if(i=n.children){var i,o,a,s=i.length,u=t(n)*e||0;if(u)for(o=0;o<s;++o)i[o].r+=u;if(a=Object(r.b)(i),u)for(o=0;o<s;++o)i[o].r-=u;n.r=a+u}}}function c(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}e.a=function(){var t=null,e=1,n=1,r=o.a;function l(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(s(t)).eachAfter(u(r,.5)).eachBefore(c(1)):i.eachBefore(s(a)).eachAfter(u(o.a,1)).eachAfter(u(r,i.r/Math.min(e,n))).eachBefore(c(Math.min(e,n)/(2*i.r))),i}return l.radius=function(e){return arguments.length?(t=Object(i.a)(e),l):t},l.size=function(t){return arguments.length?(e=+t[0],n=+t[1],l):[e,n]},l.padding=function(t){return arguments.length?(r="function"==typeof t?t:Object(o.b)(+t),l):r},l}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),e.a=function(t){var e,n,r=t.length;for(;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t};var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(1122),i=n(832);e.a=function(){var t=1,e=1,n=0,o=!1;function a(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(function(t,e){return function(r){r.children&&Object(i.a)(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var o=r.x0,a=r.y0,s=r.x1-n,u=r.y1-n;s<o&&(o=s=(o+s)/2),u<a&&(a=u=(a+u)/2),r.x0=o,r.y0=a,r.x1=s,r.y1=u}}(e,s)),o&&a.eachBefore(r.a),a}return a.round=function(t){return arguments.length?(o=!!t,a):o},a.size=function(n){return arguments.length?(t=+n[0],e=+n[1],a):[t,e]},a.padding=function(t){return arguments.length?(n=+t,a):n},a}},function(t,e,n){"use strict";var r=n(950),i=n(949),o="$",a={depth:-1},s={};function u(t){return t.id}function c(t){return t.parentId}e.a=function(){var t=u,e=c;function n(n){var r,u,c,l,f,h,d,p=n.length,g=new Array(p),v={};for(u=0;u<p;++u)r=n[u],f=g[u]=new i.a(r),null!=(h=t(r,u,n))&&(h+="")&&(v[d=o+(f.id=h)]=d in v?s:f);for(u=0;u<p;++u)if(f=g[u],null!=(h=e(n[u],u,n))&&(h+="")){if(!(l=v[o+h]))throw new Error("missing: "+h);if(l===s)throw new Error("ambiguous: "+h);l.children?l.children.push(f):l.children=[f],f.parent=l}else{if(c)throw new Error("multiple roots");c=f}if(!c)throw new Error("no root");if(c.parent=a,c.eachBefore(function(t){t.depth=t.parent.depth+1,--p}).eachBefore(i.b),c.parent=null,p>0)throw new Error("cycle");return c}return n.id=function(e){return arguments.length?(t=Object(r.b)(e),n):t},n.parentId=function(t){return arguments.length?(e=Object(r.b)(t),n):e},n}},function(t,e,n){"use strict";var r=n(949);function i(t,e){return t.parent===e.parent?1:2}function o(t){var e=t.children;return e?e[0]:t.t}function a(t){var e=t.children;return e?e[e.length-1]:t.t}function s(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function u(t,e,n){return t.a.parent===e.parent?t.a:n}function c(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}c.prototype=Object.create(r.a.prototype),e.a=function(){var t=i,e=1,n=1,r=null;function l(i){var o=function(t){for(var e,n,r,i,o,a=new c(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new c(r[i],i)),n.parent=e;return(a.parent=new c(null,0)).children=[a],a}(i);if(o.eachAfter(f),o.parent.m=-o.z,o.eachBefore(h),r)i.eachBefore(d);else{var a=i,s=i,u=i;i.eachBefore(function(t){t.x<a.x&&(a=t),t.x>s.x&&(s=t),t.depth>u.depth&&(u=t)});var l=a===s?1:t(a,s)/2,p=l-a.x,g=e/(s.x+l+p),v=n/(u.depth||1);i.eachBefore(function(t){t.x=(t.x+p)*g,t.y=t.depth*v})}return i}function f(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var c=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-c):e.z=c}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,c=e,l=e,f=n,h=c.parent.children[0],d=c.m,p=l.m,g=f.m,v=h.m;f=a(f),c=o(c),f&&c;)h=o(h),(l=a(l)).a=e,(i=f.z+g-c.z-d+t(f._,c._))>0&&(s(u(f,e,r),e,i),d+=i,p+=i),g+=f.m,d+=c.m,v+=h.m,p+=l.m;f&&!a(l)&&(l.t=f,l.m+=g-p),c&&!o(h)&&(h.t=c,h.m+=d-v,r=e)}return r}(e,i,e.parent.A||r[0])}function h(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function d(t){t.x*=e,t.y=t.depth*n}return l.separation=function(e){return arguments.length?(t=e,l):t},l.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],l):r?null:[e,n]},l.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],l):r?[e,n]:null},l}},function(t,e,n){"use strict";var r=n(1122),i=n(951),o=n(950),a=n(1121);e.a=function(){var t=i.a,e=!1,n=1,s=1,u=[0],c=a.a,l=a.a,f=a.a,h=a.a,d=a.a;function p(t){return t.x0=t.y0=0,t.x1=n,t.y1=s,t.eachBefore(g),u=[0],e&&t.eachBefore(r.a),t}function g(e){var n=u[e.depth],r=e.x0+n,i=e.y0+n,o=e.x1-n,a=e.y1-n;o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),e.x0=r,e.y0=i,e.x1=o,e.y1=a,e.children&&(n=u[e.depth+1]=c(e)/2,r+=d(e)-n,i+=l(e)-n,o-=f(e)-n,a-=h(e)-n,o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),t(e,r,i,o,a))}return p.round=function(t){return arguments.length?(e=!!t,p):e},p.size=function(t){return arguments.length?(n=+t[0],s=+t[1],p):[n,s]},p.tile=function(e){return arguments.length?(t=Object(o.b)(e),p):t},p.padding=function(t){return arguments.length?p.paddingInner(t).paddingOuter(t):p.paddingInner()},p.paddingInner=function(t){return arguments.length?(c="function"==typeof t?t:Object(a.b)(+t),p):c},p.paddingOuter=function(t){return arguments.length?p.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):p.paddingTop()},p.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:Object(a.b)(+t),p):l},p.paddingRight=function(t){return arguments.length?(f="function"==typeof t?t:Object(a.b)(+t),p):f},p.paddingBottom=function(t){return arguments.length?(h="function"==typeof t?t:Object(a.b)(+t),p):h},p.paddingLeft=function(t){return arguments.length?(d="function"==typeof t?t:Object(a.b)(+t),p):d},p}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}var f=c[e],h=r/2+f,d=e+1,p=n-1;for(;d<p;){var g=d+p>>>1;c[g]<h?d=g+1:p=g}h-c[d-1]<c[d]-h&&e+1<d&&--d;var v=c[d]-f,m=r-v;if(a-i>u-o){var y=(i*m+a*v)/r;t(e,d,v,i,o,y,u),t(d,n,m,y,o,a,u)}else{var x=(o*m+u*v)/r;t(e,d,v,i,o,a,x),t(d,n,m,i,x,a,u)}}(0,u,t.value,e,n,r,i)}},function(t,e,n){"use strict";var r=n(832),i=n(875);e.a=function(t,e,n,o,a){(1&t.depth?i.a:r.a)(t,e,n,o,a)}},function(t,e,n){"use strict";var r=n(832),i=n(875),o=n(951);e.a=function t(e){function n(t,n,a,s,u){if((c=t._squarify)&&c.ratio===e)for(var c,l,f,h,d,p=-1,g=c.length,v=t.value;++p<g;){for(f=(l=c[p]).children,h=l.value=0,d=f.length;h<d;++h)l.value+=f[h].value;l.dice?Object(r.a)(l,n,a,s,a+=(u-a)*l.value/v):Object(i.a)(l,n,a,n+=(s-n)*l.value/v,u),v-=l.value}else t._squarify=c=Object(o.c)(e,t,n,a,s,u),c.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(o.b)},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n(876),i=n(1804);function o(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}return function(a,s){var u=[],c=[];return a=t(a),s=t(s),function(t,i,o,a,s,u){if(t!==o||i!==a){var c=s.push("translate(",null,e,null,n);u.push({i:c-4,x:Object(r.a)(t,o)},{i:c-2,x:Object(r.a)(i,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,u,c),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,i)-2,x:Object(r.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}(a.rotate,s.rotate,u,c),function(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,i)-2,x:Object(r.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}(a.skewX,s.skewX,u,c),function(t,e,n,i,a,s){if(t!==n||e!==i){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(r.a)(t,n)},{i:u-2,x:Object(r.a)(e,i)})}else 1===n&&1===i||a.push(o(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,u,c),a=s=null,function(t){for(var e,n=-1,r=c.length;++n<r;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var a=o(i.a,"px, ","px)","deg)"),s=o(i.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){if("none"===t)return s.b;r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView);return r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])},e.b=function(t){if(null==t)return s.b;a||(a=document.createElementNS("http://www.w3.org/2000/svg","g"));return a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b};var r,i,o,a,s=n(1805)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var s,u,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,c/=u),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(c)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";var r=Math.SQRT2;function i(t){return((t=Math.exp(t))+1/t)/2}e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],c=e[0],l=e[1],f=e[2],h=c-a,d=l-s,p=h*h+d*d;if(p<1e-12)o=Math.log(f/u)/r,n=function(t){return[a+t*h,s+t*d,u*Math.exp(r*t*o)]};else{var g=Math.sqrt(p),v=(f*f-u*u+4*p)/(2*u*2*g),m=(f*f-u*u-4*p)/(2*f*2*g),y=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(m*m+1)-m);o=(x-y)/r,n=function(t){var e,n=t*o,c=i(y),l=u/(2*g)*(c*(e=r*n+y,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[a+l*h,s+l*d,u*c/i(r*n+y)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(798),i=n(834);function o(t){return function(e,n){var o=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),a=Object(i.a)(e.s,n.s),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}e.a=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=Object(i.a)((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),o=Object(i.a)(t.a,e.a),a=Object(i.a)(t.b,e.b),s=Object(i.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=a(e),t.opacity=s(e),t+""}};var r=n(798),i=n(834)},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(798),i=n(834);function o(t){return function(e,n){var o=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),a=Object(i.a)(e.c,n.c),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}e.a=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(798),i=n(834);function o(t){return function e(n){function o(e,o){var a=t((e=Object(r.b)(e)).h,(o=Object(r.b)(o)).h),s=Object(i.a)(e.s,o.s),u=Object(i.a)(e.l,o.l),c=Object(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,o.gamma=e,o}(1)}e.b=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){"use strict";var r=n(1813);n.d(e,"a",function(){return r.a});var i=n(1814);n.d(e,"b",function(){return i.a});var o=n(1815);n.d(e,"d",function(){return o.a});var a=n(1817);n.d(e,"c",function(){return a.a});var s=n(1818);n.d(e,"e",function(){return s.a})},function(t,e,n){"use strict";e.a=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]}},function(t,e,n){"use strict";var r=n(1816);function i(t,e){return t[0]-e[0]||t[1]-e[1]}function o(t){for(var e=t.length,n=[0,1],i=2,o=2;o<e;++o){for(;i>1&&Object(r.a)(t[n[i-2]],t[n[i-1]],t[o])<=0;)--i;n[i++]=o}return n.slice(0,i)}e.a=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),a=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(i),e=0;e<n;++e)a[e]=[r[e][0],-r[e][1]];var s=o(r),u=o(a),c=u[0]===s[0],l=u[u.length-1]===s[s.length-1],f=[];for(e=s.length-1;e>=0;--e)f.push(t[r[s[e]][2]]);for(e=+c;e<u.length-l;++e)f.push(t[r[u[e]][2]]);return f}},function(t,e,n){"use strict";e.a=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}},function(t,e,n){"use strict";e.a=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],c=o[1],l=!1,f=0;f<i;++f)n=(o=t[f])[0],(r=o[1])>s!=c>s&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l}},function(t,e,n){"use strict";e.a=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u}},function(t,e,n){"use strict";var r=n(1820);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";e.a=l;var r=n(1821),i={};function o(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function a(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,o=n[r];n[r]=s(t,e),--t._waiting,++t._active,n=o.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||i)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])u(t,e);else if(!t._data)throw e}}function s(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?u(t,n):(t._data[e]=r,t._waiting?a(t):c(t))))}}function u(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,c(t)}function c(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function l(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new o(t)}o.prototype=l.prototype={constructor:o,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=r.a.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),a(this),this},abort:function(){return null==this._error&&u(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},c(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,c(this),this}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=[].slice},function(t,e,n){"use strict";var r=n(1823);n.d(e,"f",function(){return r.a});var i=n(1130);n.d(e,"e",function(){return i.a});var o=n(1824);n.d(e,"d",function(){return o.a});var a=n(1825);n.d(e,"a",function(){return a.a});var s=n(1131);n.d(e,"c",function(){return s.a});var u=n(1826);n.d(e,"b",function(){return u.a})},function(t,e,n){"use strict";var r=n(820);e.a=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(820),i=n(1130);e.a=function t(e){function n(){var t=i.a.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(820),i=n(1131);e.a=function t(e){function n(t){var n=i.a.source(e)(t);return function(){return n()/t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(820);e.a=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(r.a)},function(t,e,n){"use strict";var r=n(954);n.d(e,"d",function(){return r.a});var i=n(1828);n.d(e,"b",function(){return i.a});var o=n(1829);n.d(e,"c",function(){return o.a});var a=n(1830);n.d(e,"e",function(){return a.a});var s=n(1831);n.d(e,"g",function(){return s.a});var u=n(1832);n.d(e,"a",function(){return u.a});var c=n(1833);n.d(e,"f",function(){return c.a})},function(t,e,n){"use strict";var r=n(877);e.a=Object(r.a)("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)})},function(t,e,n){"use strict";var r=n(877);e.a=Object(r.a)("application/json",function(t){return JSON.parse(t.responseText)})},function(t,e,n){"use strict";var r=n(877);e.a=Object(r.a)("text/plain",function(t){return t.responseText})},function(t,e,n){"use strict";var r=n(877);e.a=Object(r.a)("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})},function(t,e,n){"use strict";var r=n(937),i=n(1132);e.a=Object(i.a)("text/csv",r.c)},function(t,e,n){"use strict";var r=n(937),i=n(1132);e.a=Object(i.a)("text/tab-separated-values",r.h)},function(t,e,n){"use strict";var r=n(1835);n.d(e,"i",function(){return r.a}),n.d(e,"o",function(){return r.b});var i=n(1836);n.d(e,"j",function(){return i.a});var o=n(835);n.d(e,"l",function(){return o.a});var a=n(1838);n.d(e,"m",function(){return a.a});var s=n(1133);n.d(e,"n",function(){return s.a}),n.d(e,"k",function(){return s.b});var u=n(1839);n.d(e,"p",function(){return u.a}),n.d(e,"t",function(){return u.b});var c=n(1840);n.d(e,"q",function(){return c.a});var l=n(1841);n.d(e,"r",function(){return l.a});var f=n(1842);n.d(e,"u",function(){return f.a});var h=n(1136);n.d(e,"v",function(){return h.b});var d=n(1858);n.d(e,"w",function(){return d.a});var p=n(1859);n.d(e,"x",function(){return p.a});var g=n(1860);n.d(e,"z",function(){return g.a});var v=n(1861);n.d(e,"A",function(){return v.a});var m=n(1862);n.d(e,"y",function(){return m.a});var y=n(1863);n.d(e,"b",function(){return y.a});var x=n(1864);n.d(e,"f",function(){return x.b}),n.d(e,"h",function(){return x.c}),n.d(e,"a",function(){return x.a});var _=n(1865);n.d(e,"g",function(){return _.a}),n.d(e,"d",function(){return _.c}),n.d(e,"c",function(){return _.b}),n.d(e,"e",function(){return _.d});var b=n(1866);n.d(e,"s",function(){return b.a})},function(t,e,n){"use strict";e.a=o,e.b=function(){return function t(e){var n=e.copy;e.padding=e.paddingOuter;delete e.paddingInner;delete e.paddingOuter;e.copy=function(){return t(n())};return e}(o().paddingInner(1))};var r=n(762),i=n(1133);function o(){var t,e,n=Object(i.a)().unknown(void 0),a=n.domain,s=n.range,u=[0,1],c=!1,l=0,f=0,h=.5;function d(){var n=a().length,i=u[1]<u[0],o=u[i-0],d=u[1-i];t=(d-o)/Math.max(1,n-l+2*f),c&&(t=Math.floor(t)),o+=(d-o-t*(n-l))*h,e=t*(1-l),c&&(o=Math.round(o),e=Math.round(e));var p=Object(r.s)(n).map(function(e){return o+t*e});return s(i?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(a(t),d()):a()},n.range=function(t){return arguments.length?(u=[+t[0],+t[1]],d()):u.slice()},n.rangeRound=function(t){return u=[+t[0],+t[1]],c=!0,d()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(c=!!t,d()):c},n.padding=function(t){return arguments.length?(l=f=Math.max(0,Math.min(1,t)),d()):l},n.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),d()):l},n.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),d()):f},n.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),d()):h},n.copy=function(){return o().domain(a()).range(u).round(c).paddingInner(l).paddingOuter(f).align(h)},d()}},function(t,e,n){"use strict";e.a=function t(){var e=[0,1];function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=r.a.call(t,o.a),n):e.slice()};n.copy=function(){return t().domain(e)};return Object(i.b)(n)};var r=n(805),i=n(835),o=n(1134)},function(t,e,n){"use strict";var r=n(762),i=n(942);e.a=function(t,e,n){var o,a=t[0],s=t[t.length-1],u=Object(r.A)(a,s,null==e?10:e);switch((n=Object(i.e)(null==n?",f":n)).type){case"s":var c=Math.max(Math.abs(a),Math.abs(s));return null!=n.precision||isNaN(o=Object(i.g)(u,c))||(n.precision=o),Object(i.d)(n,c);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=Object(i.h)(u,Math.max(Math.abs(a),Math.abs(s))))||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=Object(i.f)(u))||(n.precision=o-2*("%"===n.type))}return Object(i.a)(n)}},function(t,e,n){"use strict";e.a=function t(){var e=Object(s.b)(u,c).domain([1,10]),n=e.domain,o=10,l=h(10),p=f(10);function g(){return l=h(o),p=f(o),n()[0]<0&&(l=d(l),p=d(p)),e}e.base=function(t){return arguments.length?(o=+t,g()):o};e.domain=function(t){return arguments.length?(n(t),g()):n()};e.ticks=function(t){var e,i=n(),a=i[0],s=i[i.length-1];(e=s<a)&&(h=a,a=s,s=h);var u,c,f,h=l(a),d=l(s),g=null==t?10:+t,v=[];if(!(o%1)&&d-h<g){if(h=Math.round(h)-1,d=Math.round(d)+1,a>0){for(;h<d;++h)for(c=1,u=p(h);c<o;++c)if(!((f=u*c)<a)){if(f>s)break;v.push(f)}}else for(;h<d;++h)for(c=o-1,u=p(h);c>=1;--c)if(!((f=u*c)<a)){if(f>s)break;v.push(f)}}else v=Object(r.B)(h,d,Math.min(d-h,g)).map(p);return e?v.reverse():v};e.tickFormat=function(t,n){if(null==n&&(n=10===o?".0e":","),"function"!=typeof n&&(n=Object(i.a)(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,o*t/e.ticks().length);return function(t){var e=t/p(Math.round(l(t)));return e*o<o-.5&&(e*=o),e<=r?n(t):""}};e.nice=function(){return n(Object(a.a)(n(),{floor:function(t){return p(Math.floor(l(t)))},ceil:function(t){return p(Math.ceil(l(t)))}}))};e.copy=function(){return Object(s.a)(e,t().base(o))};return e};var r=n(762),i=n(942),o=n(955),a=n(1135),s=n(878);function u(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Object(o.a)(e)}function c(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function l(t){return isFinite(t)?+("1e"+t):t<0?0:t}function f(t){return 10===t?l:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function h(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function d(t){return function(e){return-t(-e)}}},function(t,e,n){"use strict";e.a=s,e.b=function(){return s().exponent(.5)};var r=n(955),i=n(835),o=n(878);function a(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function s(){var t=1,e=Object(o.b)(function(e,n){return(n=a(n,t)-(e=a(e,t)))?function(r){return(a(r,t)-e)/n}:Object(r.a)(n)},function(e,n){return n=a(n,t)-(e=a(e,t)),function(r){return a(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return Object(o.a)(e,s().exponent(t))},Object(i.b)(e)}},function(t,e,n){"use strict";e.a=function t(){var e=[],n=[],o=[];function a(){var t=0,i=Math.max(1,n.length);for(o=new Array(i-1);++t<i;)o[t-1]=Object(r.r)(e,t/i);return s}function s(t){if(!isNaN(t=+t))return n[Object(r.b)(o,t)]}s.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?o[r-1]:e[0],r<o.length?o[r]:e[e.length-1]]};s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,o=t.length;i<o;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(r.a),a()};s.range=function(t){return arguments.length?(n=i.b.call(t),a()):n.slice()};s.quantiles=function(){return o.slice()};s.copy=function(){return t().domain(e).range(n)};return s};var r=n(762),i=n(805)},function(t,e,n){"use strict";e.a=function t(){var e=0,n=1,a=1,s=[.5],u=[0,1];function c(t){if(t<=t)return u[Object(r.b)(s,t,0,a)]}function l(){var t=-1;for(s=new Array(a);++t<a;)s[t]=((t+1)*n-(t-a)*e)/(a+1);return c}c.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],l()):[e,n]};c.range=function(t){return arguments.length?(a=(u=i.b.call(t)).length-1,l()):u.slice()};c.invertExtent=function(t){var r=u.indexOf(t);return r<0?[NaN,NaN]:r<1?[e,s[0]]:r>=a?[s[a-1],n]:[s[r-1],s[r]]};c.copy=function(){return t().domain([e,n]).range(u)};return Object(o.b)(c)};var r=n(762),i=n(805),o=n(835)},function(t,e,n){"use strict";e.a=function t(){var e=[.5],n=[0,1],o=1;function a(t){if(t<=t)return n[Object(r.b)(e,t,0,o)]}a.domain=function(t){return arguments.length?(e=i.b.call(t),o=Math.min(e.length,n.length-1),a):e.slice()};a.range=function(t){return arguments.length?(n=i.b.call(t),o=Math.min(e.length,n.length-1),a):n.slice()};a.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]};a.copy=function(){return t().domain(e).range(n)};return a};var r=n(762),i=n(805)},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(760),i=Object(r.a)(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(r.a)(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):i:null},e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(760),i=n(785),o=Object(r.a)(function(t){t.setTime(Math.floor(t/i.d)*i.d)},function(t,e){t.setTime(+t+e*i.d)},function(t,e){return(e-t)/i.d},function(t){return t.getUTCSeconds()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(760),i=n(785),o=Object(r.a)(function(t){t.setTime(Math.floor(t/i.c)*i.c)},function(t,e){t.setTime(+t+e*i.c)},function(t,e){return(e-t)/i.c},function(t){return t.getMinutes()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(760),i=n(785),o=Object(r.a)(function(t){var e=t.getTimezoneOffset()*i.c%i.b;e<0&&(e+=i.b),t.setTime(Math.floor((+t-e)/i.b)*i.b+e)},function(t,e){t.setTime(+t+e*i.b)},function(t,e){return(e-t)/i.b},function(t){return t.getHours()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(760),i=n(785),o=Object(r.a)(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.a},function(t){return t.getDate()-1});e.b=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"g",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"e",function(){return h}),n.d(e,"h",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"n",function(){return v}),n.d(e,"j",function(){return m}),n.d(e,"b",function(){return y}),n.d(e,"f",function(){return x});var r=n(760),i=n(785);function o(t){return Object(r.a)(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.e})}var a=o(0),s=o(1),u=o(2),c=o(3),l=o(4),f=o(5),h=o(6),d=a.range,p=s.range,g=u.range,v=c.range,m=l.range,y=f.range,x=h.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(760),i=Object(r.a)(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(760),i=Object(r.a)(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null},e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(760),i=n(785),o=Object(r.a)(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*i.c)},function(t,e){return(e-t)/i.c},function(t){return t.getUTCMinutes()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(760),i=n(785),o=Object(r.a)(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*i.b)},function(t,e){return(e-t)/i.b},function(t){return t.getUTCHours()});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(760),i=n(785),o=Object(r.a)(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/i.a},function(t){return t.getUTCDate()-1});e.a=o;var a=o.range},function(t,e,n){"use strict";n.d(e,"g",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"e",function(){return h}),n.d(e,"h",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"l",function(){return g}),n.d(e,"n",function(){return v}),n.d(e,"j",function(){return m}),n.d(e,"b",function(){return y}),n.d(e,"f",function(){return x});var r=n(760),i=n(785);function o(t){return Object(r.a)(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/i.e})}var a=o(0),s=o(1),u=o(2),c=o(3),l=o(4),f=o(5),h=o(6),d=a.range,p=s.range,g=u.range,v=c.range,m=l.range,y=f.range,x=h.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(760),i=Object(r.a)(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});e.a=i;var o=i.range},function(t,e,n){"use strict";n.d(e,"b",function(){return o});var r=n(760),i=Object(r.a)(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null},e.a=i;var o=i.range},function(t,e,n){"use strict";var r=n(1138),i=n(957);var o=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Object(i.e)(r.b);e.a=o},function(t,e,n){"use strict";var r=n(1136),i=n(956),o=n(879);e.a=function(){return Object(r.a)(o._7,o.R,o._5,o.F,o.J,o.N,o.V,o.L,i.g).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(t,e,n){"use strict";var r=n(836);e.a=Object(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(t,e,n){"use strict";var r=n(836);e.a=Object(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(t,e,n){"use strict";var r=n(836);e.a=Object(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(t,e,n){"use strict";var r=n(836);e.a=Object(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(t,e,n){"use strict";var r=n(784),i=n(780);e.a=Object(i.b)(Object(r.b)(300,.5,0),Object(r.b)(-240,.5,1))},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var r=n(784),i=n(780),o=Object(i.b)(Object(r.b)(-100,.75,.35),Object(r.b)(80,1.5,.8)),a=Object(i.b)(Object(r.b)(260,.75,.35),Object(r.b)(80,1.5,.8)),s=Object(r.b)();e.b=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return s.h=360*t-100,s.s=1.5-1.5*e,s.l=.8-.9*e,s+""}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s});var r=n(836);function i(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}e.a=i(Object(r.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=i(Object(r.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=i(Object(r.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s=i(Object(r.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(t,e,n){"use strict";e.a=function t(e){var n=0,i=1,o=!1;function a(t){var r=(t-n)/(i-n);return e(o?Math.max(0,Math.min(1,r)):r)}a.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],a):[n,i]};a.clamp=function(t){return arguments.length?(o=!!t,a):o};a.interpolator=function(t){return arguments.length?(e=t,a):e};a.copy=function(){return t(e).domain([n,i]).clamp(o)};return Object(r.b)(a)};var r=n(835)},function(t,e,n){"use strict";var r=n(1868);n.d(e,"a",function(){return r.a});var i=n(1139);n.d(e,"b",function(){return i.a});var o=n(958);n.d(e,"v",function(){return o.a});var a=n(1869);n.d(e,"A",function(){return a.a});var s=n(1872);n.d(e,"c",function(){return s.a}),n.d(e,"C",function(){return s.a});var u=n(1141);n.d(e,"w",function(){return u.a}),n.d(e,"D",function(){return u.a});var c=n(1142);n.d(e,"B",function(){return c.a});var l=n(1873);n.d(e,"x",function(){return l.a}),n.d(e,"z",function(){return l.c}),n.d(e,"y",function(){return l.b});var f=n(1874);n.d(e,"P",function(){return f.a}),n.d(e,"X",function(){return f.b});var h=n(1144);n.d(e,"Q",function(){return h.a});var d=n(1145);n.d(e,"R",function(){return d.a});var p=n(1146);n.d(e,"S",function(){return p.a});var g=n(1148);n.d(e,"T",function(){return g.a});var v=n(1147);n.d(e,"U",function(){return v.a});var m=n(1149);n.d(e,"V",function(){return m.a});var y=n(1150);n.d(e,"W",function(){return y.a});var x=n(1875);n.d(e,"e",function(){return x.a});var _=n(1876);n.d(e,"f",function(){return _.a});var b=n(882);n.d(e,"d",function(){return b.b});var w=n(1877);n.d(e,"g",function(){return w.a});var M=n(1151);n.d(e,"i",function(){return M.b});var S=n(1152);n.d(e,"j",function(){return S.b});var A=n(883);n.d(e,"h",function(){return A.b});var T=n(1878);n.d(e,"l",function(){return T.a});var O=n(1879);n.d(e,"m",function(){return O.a});var I=n(960);n.d(e,"k",function(){return I.a});var C=n(1880);n.d(e,"o",function(){return C.a});var k=n(880);n.d(e,"n",function(){return k.a});var D=n(1881);n.d(e,"p",function(){return D.a}),n.d(e,"q",function(){return D.b});var L=n(1882);n.d(e,"r",function(){return L.a});var E=n(1883);n.d(e,"s",function(){return E.a}),n.d(e,"t",function(){return E.b}),n.d(e,"u",function(){return E.c});var P=n(1884);n.d(e,"E",function(){return P.a});var N=n(1885);n.d(e,"G",function(){return N.a});var j=n(1886);n.d(e,"F",function(){return j.a});var z=n(838);n.d(e,"H",function(){return z.a});var R=n(1887);n.d(e,"I",function(){return R.a});var B=n(1888);n.d(e,"J",function(){return B.a});var V=n(961);n.d(e,"K",function(){return V.a});var F=n(1889);n.d(e,"L",function(){return F.a});var H=n(1890);n.d(e,"M",function(){return H.a});var W=n(839);n.d(e,"N",function(){return W.a});var G=n(1891);n.d(e,"O",function(){return G.a})},function(t,e,n){"use strict";var r=n(803),i=n(806),o=n(837);function a(t){return t.innerRadius}function s(t){return t.outerRadius}function u(t){return t.startAngle}function c(t){return t.endAngle}function l(t){return t&&t.padAngle}function f(t,e,n,r,i,a,s){var u=t-n,c=e-r,l=(s?a:-a)/Object(o.l)(u*u+c*c),f=l*c,h=-l*u,d=t+f,p=e+h,g=n+f,v=r+h,m=(d+g)/2,y=(p+v)/2,x=g-d,_=v-p,b=x*x+_*_,w=i-a,M=d*v-g*p,S=(_<0?-1:1)*Object(o.l)(Object(o.h)(0,w*w*b-M*M)),A=(M*_-x*S)/b,T=(-M*x-_*S)/b,O=(M*_+x*S)/b,I=(-M*x+_*S)/b,C=A-m,k=T-y,D=O-m,L=I-y;return C*C+k*k>D*D+L*L&&(A=O,T=I),{cx:A,cy:T,x01:-f,y01:-h,x11:A*(i/w-1),y11:T*(i/w-1)}}e.a=function(){var t=a,e=s,n=Object(i.a)(0),h=null,d=u,p=c,g=l,v=null;function m(){var i,a,s=+t.apply(this,arguments),u=+e.apply(this,arguments),c=d.apply(this,arguments)-o.g,l=p.apply(this,arguments)-o.g,m=Object(o.a)(l-c),y=l>c;if(v||(v=i=Object(r.a)()),u<s&&(a=u,u=s,s=a),u>o.f)if(m>o.m-o.f)v.moveTo(u*Object(o.e)(c),u*Object(o.k)(c)),v.arc(0,0,u,c,l,!y),s>o.f&&(v.moveTo(s*Object(o.e)(l),s*Object(o.k)(l)),v.arc(0,0,s,l,c,y));else{var x,_,b=c,w=l,M=c,S=l,A=m,T=m,O=g.apply(this,arguments)/2,I=O>o.f&&(h?+h.apply(this,arguments):Object(o.l)(s*s+u*u)),C=Object(o.i)(Object(o.a)(u-s)/2,+n.apply(this,arguments)),k=C,D=C;if(I>o.f){var L=Object(o.c)(I/s*Object(o.k)(O)),E=Object(o.c)(I/u*Object(o.k)(O));(A-=2*L)>o.f?(M+=L*=y?1:-1,S-=L):(A=0,M=S=(c+l)/2),(T-=2*E)>o.f?(b+=E*=y?1:-1,w-=E):(T=0,b=w=(c+l)/2)}var P=u*Object(o.e)(b),N=u*Object(o.k)(b),j=s*Object(o.e)(S),z=s*Object(o.k)(S);if(C>o.f){var R=u*Object(o.e)(w),B=u*Object(o.k)(w),V=s*Object(o.e)(M),F=s*Object(o.k)(M);if(m<o.j){var H=A>o.f?function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,h=(l*(e-o)-f*(t-i))/(f*u-l*c);return[t+h*u,e+h*c]}(P,N,V,F,R,B,j,z):[j,z],W=P-H[0],G=N-H[1],q=R-H[0],U=B-H[1],Y=1/Object(o.k)(Object(o.b)((W*q+G*U)/(Object(o.l)(W*W+G*G)*Object(o.l)(q*q+U*U)))/2),X=Object(o.l)(H[0]*H[0]+H[1]*H[1]);k=Object(o.i)(C,(s-X)/(Y-1)),D=Object(o.i)(C,(u-X)/(Y+1))}}T>o.f?D>o.f?(x=f(V,F,P,N,u,D,y),_=f(R,B,j,z,u,D,y),v.moveTo(x.cx+x.x01,x.cy+x.y01),D<C?v.arc(x.cx,x.cy,D,Object(o.d)(x.y01,x.x01),Object(o.d)(_.y01,_.x01),!y):(v.arc(x.cx,x.cy,D,Object(o.d)(x.y01,x.x01),Object(o.d)(x.y11,x.x11),!y),v.arc(0,0,u,Object(o.d)(x.cy+x.y11,x.cx+x.x11),Object(o.d)(_.cy+_.y11,_.cx+_.x11),!y),v.arc(_.cx,_.cy,D,Object(o.d)(_.y11,_.x11),Object(o.d)(_.y01,_.x01),!y))):(v.moveTo(P,N),v.arc(0,0,u,b,w,!y)):v.moveTo(P,N),s>o.f&&A>o.f?k>o.f?(x=f(j,z,R,B,s,-k,y),_=f(P,N,V,F,s,-k,y),v.lineTo(x.cx+x.x01,x.cy+x.y01),k<C?v.arc(x.cx,x.cy,k,Object(o.d)(x.y01,x.x01),Object(o.d)(_.y01,_.x01),!y):(v.arc(x.cx,x.cy,k,Object(o.d)(x.y01,x.x01),Object(o.d)(x.y11,x.x11),!y),v.arc(0,0,s,Object(o.d)(x.cy+x.y11,x.cx+x.x11),Object(o.d)(_.cy+_.y11,_.cx+_.x11),y),v.arc(_.cx,_.cy,k,Object(o.d)(_.y11,_.x11),Object(o.d)(_.y01,_.x01),!y))):v.arc(0,0,s,S,M,y):v.lineTo(j,z)}else v.moveTo(0,0);if(v.closePath(),i)return v=null,i+""||null}return m.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+d.apply(this,arguments)+ +p.apply(this,arguments))/2-o.j/2;return[Object(o.e)(r)*n,Object(o.k)(r)*n]},m.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Object(i.a)(+e),m):t},m.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Object(i.a)(+t),m):e},m.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),m):n},m.padRadius=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:Object(i.a)(+t),m):h},m.startAngle=function(t){return arguments.length?(d="function"==typeof t?t:Object(i.a)(+t),m):d},m.endAngle=function(t){return arguments.length?(p="function"==typeof t?t:Object(i.a)(+t),m):p},m.padAngle=function(t){return arguments.length?(g="function"==typeof t?t:Object(i.a)(+t),m):g},m.context=function(t){return arguments.length?(v=null==t?null:t,m):v},m}},function(t,e,n){"use strict";var r=n(806),i=n(1870),o=n(1871),a=n(837);e.a=function(){var t=o.a,e=i.a,n=null,s=Object(r.a)(0),u=Object(r.a)(a.m),c=Object(r.a)(0);function l(r){var i,o,l,f,h,d=r.length,p=0,g=new Array(d),v=new Array(d),m=+s.apply(this,arguments),y=Math.min(a.m,Math.max(-a.m,u.apply(this,arguments)-m)),x=Math.min(Math.abs(y)/d,c.apply(this,arguments)),_=x*(y<0?-1:1);for(i=0;i<d;++i)(h=v[g[i]=i]=+t(r[i],i,r))>0&&(p+=h);for(null!=e?g.sort(function(t,n){return e(v[t],v[n])}):null!=n&&g.sort(function(t,e){return n(r[t],r[e])}),i=0,l=p?(y-d*_)/p:0;i<d;++i,m=f)o=g[i],f=m+((h=v[o])>0?h*l:0)+_,v[o]={data:r[o],index:i,value:h,startAngle:m,endAngle:f,padAngle:x};return v}return l.value=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),l):t},l.sortValues=function(t){return arguments.length?(e=t,n=null,l):e},l.sort=function(t){return arguments.length?(n=t,e=null,l):n},l.startAngle=function(t){return arguments.length?(s="function"==typeof t?t:Object(r.a)(+t),l):s},l.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:Object(r.a)(+t),l):u},l.padAngle=function(t){return arguments.length?(c="function"==typeof t?t:Object(r.a)(+t),l):c},l}},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(1140),i=n(1139),o=n(1141);e.a=function(){var t=Object(i.a)().curve(r.a),e=t.curve,n=t.lineX0,a=t.lineX1,s=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Object(o.b)(n())},delete t.lineX0,t.lineEndAngle=function(){return Object(o.b)(a())},delete t.lineX1,t.lineInnerRadius=function(){return Object(o.b)(s())},delete t.lineY0,t.lineOuterRadius=function(){return Object(o.b)(u())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Object(r.b)(t)):e()._curve},t}},function(t,e,n){"use strict";e.a=function(){return l(f)},e.c=function(){return l(h)},e.b=function(){var t=l(d);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t};var r=n(803),i=n(1143),o=n(806),a=n(959),s=n(1142);function u(t){return t.source}function c(t){return t.target}function l(t){var e=u,n=c,s=a.a,l=a.b,f=null;function h(){var o,a=i.a.call(arguments),u=e.apply(this,a),c=n.apply(this,a);if(f||(f=o=Object(r.a)()),t(f,+s.apply(this,(a[0]=u,a)),+l.apply(this,a),+s.apply(this,(a[0]=c,a)),+l.apply(this,a)),o)return f=null,o+""||null}return h.source=function(t){return arguments.length?(e=t,h):e},h.target=function(t){return arguments.length?(n=t,h):n},h.x=function(t){return arguments.length?(s="function"==typeof t?t:Object(o.a)(+t),h):s},h.y=function(t){return arguments.length?(l="function"==typeof t?t:Object(o.a)(+t),h):l},h.context=function(t){return arguments.length?(f=null==t?null:t,h):f},h}function f(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function h(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function d(t,e,n,r,i){var o=Object(s.a)(e,n),a=Object(s.a)(e,n=(n+i)/2),u=Object(s.a)(r,n),c=Object(s.a)(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],c[0],c[1])}},function(t,e,n){"use strict";n.d(e,"b",function(){return h});var r=n(803),i=n(1144),o=n(1145),a=n(1146),s=n(1147),u=n(1148),c=n(1149),l=n(1150),f=n(806),h=[i.a,o.a,a.a,u.a,s.a,c.a,l.a];e.a=function(){var t=Object(f.a)(i.a),e=Object(f.a)(64),n=null;function o(){var i;if(n||(n=i=Object(r.a)()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return o.type=function(e){return arguments.length?(t="function"==typeof e?e:Object(f.a)(e),o):t},o.size=function(t){return arguments.length?(e="function"==typeof t?t:Object(f.a)(+t),o):e},o.context=function(t){return arguments.length?(n=null==t?null:t,o):n},o}},function(t,e,n){"use strict";var r=n(881),i=n(882);function o(t){this._context=t}o.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(882);function i(t){this._context=t}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Object(r.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new i(t)}},function(t,e,n){"use strict";var r=n(882);function i(t,e){this._basis=new r.a(t),this._beta=e}i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function t(e){function n(t){return 1===e?new r.a(t):new i(t,e)}return n.beta=function(e){return t(+e)},n}(.85)},function(t,e,n){"use strict";var r=n(1151),i=n(881),o=n(960);function a(t,e){this._context=t,this._alpha=e}a.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(o.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new a(t,e):new r.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";var r=n(1152),i=n(960);function o(t,e){this._context=t,this._alpha=e}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new o(t,e):new r.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";var r=n(881);function i(t){this._context=t}i.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},e.a=function(t){return new i(t)}},function(t,e,n){"use strict";function r(t){return t<0?-1:1}function i(t,e,n){var i=t._x1-t._x0,o=e-t._x1,a=(t._y1-t._y0)/(i||o<0&&-0),s=(n-t._y1)/(o||i<0&&-0),u=(a*o+s*i)/(i+o);return(r(a)+r(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function o(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function s(t){this._context=t}function u(t){this._context=new c(t)}function c(t){this._context=t}e.a=function(t){return new s(t)},e.b=function(t){return new u(t)},s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,n=i(this,t,e)),n);break;default:a(this,this._t0,n=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(t,e){s.prototype.point.call(this,e,t)},c.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}}},function(t,e,n){"use strict";function r(t){this._context=t}function i(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=i(t),o=i(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e){this._context=t,this._t=e}e.c=function(t){return new r(t,0)},e.b=function(t){return new r(t,1)},r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},e.a=function(t){return new r(t,.5)}},function(t,e,n){"use strict";var r=n(1143),i=n(806),o=n(838),a=n(839);function s(t,e){return t[e]}e.a=function(){var t=Object(i.a)([]),e=a.a,n=o.a,u=s;function c(r){var i,o,a=t.apply(this,arguments),s=r.length,c=a.length,l=new Array(c);for(i=0;i<c;++i){for(var f,h=a[i],d=l[i]=new Array(s),p=0;p<s;++p)d[p]=f=[0,+u(r[p],h,p,r)],f.data=r[p];d.key=h}for(i=0,o=e(l);i<c;++i)l[o[i]].index=i;return n(l,o),l}return c.keys=function(e){return arguments.length?(t="function"==typeof e?e:Object(i.a)(r.a.call(e)),c):t},c.value=function(t){return arguments.length?(u="function"==typeof t?t:Object(i.a)(+t),c):u},c.order=function(t){return arguments.length?(e=null==t?a.a:"function"==typeof t?t:Object(i.a)(r.a.call(t)),c):e},c.offset=function(t){return arguments.length?(n=null==t?o.a:t,c):n},c}},function(t,e,n){"use strict";var r=n(838);e.a=function(t,e){if((i=t.length)>0){for(var n,i,o,a=0,s=t[0].length;a<s;++a){for(o=n=0;n<i;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<i;++n)t[n][a][1]/=o}Object(r.a)(t,e)}}},function(t,e,n){"use strict";e.a=function(t,e){if((s=t.length)>1)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o}},function(t,e,n){"use strict";var r=n(838);e.a=function(t,e){if((n=t.length)>0){for(var n,i=0,o=t[e[0]],a=o.length;i<a;++i){for(var s=0,u=0;s<n;++s)u+=t[s][i][1]||0;o[i][1]+=o[i][0]=-u/2}Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(838);e.a=function(t,e){if((o=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,o,a=0,s=1;s<i;++s){for(var u=0,c=0,l=0;u<o;++u){for(var f=t[e[u]],h=f[s][1]||0,d=(h-(f[s-1][1]||0))/2,p=0;p<u;++p){var g=t[e[p]];d+=(g[s][1]||0)-(g[s-1][1]||0)}c+=h,l+=d*h}n[s-1][1]+=n[s-1][0]=a,c&&(a-=l/c)}n[s-1][1]+=n[s-1][0]=a,Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(961);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(839),i=n(961);e.a=function(t){var e,n,o=t.length,a=t.map(i.b),s=Object(r.a)(t).sort(function(t,e){return a[e]-a[t]}),u=0,c=0,l=[],f=[];for(e=0;e<o;++e)n=s[e],u<c?(u+=a[n],l.push(n)):(c+=a[n],f.push(n));return f.reverse().concat(l)}},function(t,e,n){"use strict";var r=n(839);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(963);e.a=function(t,e,n){var i=new r.a;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}},function(t,e,n){"use strict";var r=n(963);e.a=function(t,e,n){var i=new r.a,o=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Object(r.b)():+n,i.restart(function r(a){a+=o,i.restart(r,o+=e,n),t(a)},e,n),i)}},function(t,e,n){"use strict";var r=n(759),i=n(1895),o=n(1896);r.m.prototype.interrupt=i.a,r.m.prototype.transition=o.a},function(t,e,n){"use strict";var r=n(1154);e.a=function(t){return this.each(function(){Object(r.a)(this,t)})}},function(t,e,n){"use strict";var r=n(800),i=n(777),o=n(1098),a=n(962),s={time:null,delay:0,duration:250,ease:o.o};function u(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return s.time=Object(a.b)(),s;return n}e.a=function(t){var e,n;t instanceof r.a?(e=t._id,t=t._name):(e=Object(r.c)(),(n=s).time=Object(a.b)(),t=null==t?null:t+"");for(var o=this._groups,c=o.length,l=0;l<c;++l)for(var f,h=o[l],d=h.length,p=0;p<d;++p)(f=h[p])&&Object(i.e)(f,t,e,p,h,n||u(f,e));return new r.a(o,this._parents,t,e)}},function(t,e,n){"use strict";var r=n(833),i=n(759),o=n(884),a=n(1155);e.a=function(t,e){var n=Object(i.i)(t),s="transform"===n?r.u:a.a;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,s,Object(o.b)(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,s,e+""))}},function(t,e,n){"use strict";var r=n(759);e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(r.i)(t);return this.tween(n,(i.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(i,e))}},function(t,e,n){"use strict";var r=n(777);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.g)(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.g)(this,t).delay=e}})(e,t)):Object(r.f)(this.node(),e).delay}},function(t,e,n){"use strict";var r=n(777);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Object(r.h)(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Object(r.h)(this,t).duration=e}})(e,t)):Object(r.f)(this.node(),e).duration}},function(t,e,n){"use strict";var r=n(777);e.a=function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Object(r.h)(this,t).ease=e}}(e,t)):Object(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(759),i=n(800);e.a=function(t){"function"!=typeof t&&(t=Object(r.g)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=o[a]=[],f=0;f<c;++f)(s=u[f])&&t.call(s,s.__data__,f,u)&&l.push(s);return new i.a(o,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(800);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],f=n[u],h=l.length,d=s[u]=new Array(h),p=0;p<h;++p)(c=l[p]||f[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new r.a(s,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(777);e.a=function(t,e){var n=this._id;return arguments.length<2?Object(r.f)(this.node(),n).on.on(t):this.each(function(t,e,n){var i,o,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?r.g:r.h;return function(){var r=a(this,t),s=r.on;s!==i&&(o=(i=s).copy()).on(e,n),r.on=o}}(n,t,e))}},function(t,e,n){"use strict";e.a=function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}},function(t,e,n){"use strict";var r=n(759),i=n(800),o=n(777);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.n)(t));for(var a=this._groups,s=a.length,u=new Array(s),c=0;c<s;++c)for(var l,f,h=a[c],d=h.length,p=u[c]=new Array(d),g=0;g<d;++g)(l=h[g])&&(f=t.call(l,l.__data__,g,h))&&("__data__"in l&&(f.__data__=l.__data__),p[g]=f,Object(o.e)(p[g],e,n,g,p,Object(o.f)(l,n)));return new i.a(u,this._parents,e,n)}},function(t,e,n){"use strict";var r=n(759),i=n(800),o=n(777);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.o)(t));for(var a=this._groups,s=a.length,u=[],c=[],l=0;l<s;++l)for(var f,h=a[l],d=h.length,p=0;p<d;++p)if(f=h[p]){for(var g,v=t.call(f,f.__data__,p,h),m=Object(o.f)(f,n),y=0,x=v.length;y<x;++y)(g=v[y])&&Object(o.e)(g,e,n,y,v,m);u.push(v),c.push(f)}return new i.a(u,c,e,n)}},function(t,e,n){"use strict";var r=n(759).m.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";var r=n(833),i=n(759),o=n(884),a=n(1155);e.a=function(t,e,n){var s="transform"==(t+="")?r.t:a.a;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var a=Object(i.p)(this,t),s=(this.style.removeProperty(t),Object(i.p)(this,t));return a===s?null:a===n&&s===r?o:o=e(n=a,r=s)}}(t,s)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,o,a;return function(){var s=Object(i.p)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(i.p)(this,t)),s===u?null:s===r&&u===o?a:a=e(r=s,o=u)}}(t,s,Object(o.b)(this,"style."+t,e)):function(t,e,n){var r,o;return function(){var a=Object(i.p)(this,t);return a===n?null:a===r?o:o=e(r=a,n)}}(t,s,e+""),n)}},function(t,e,n){"use strict";e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))}},function(t,e,n){"use strict";var r=n(884);e.a=function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Object(r.b)(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}},function(t,e,n){"use strict";var r=n(800),i=n(777);e.a=function(){for(var t=this._name,e=this._id,n=Object(r.c)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var u,c=o[s],l=c.length,f=0;f<l;++f)if(u=c[f]){var h=Object(i.f)(u,e);Object(i.e)(u,t,n,f,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new r.a(o,this._parents,t,n)}},function(t,e,n){"use strict";var r=n(800),i=n(777),o=[null];e.a=function(t,e){var n,a,s=t.__transition;if(s)for(a in e=null==e?null:e+"",s)if((n=s[a]).state>i.c&&n.name===e)return new r.a([[t]],o,e,+a);return null}},function(t,e,n){"use strict";var r=n(1915);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=n(1916),i=n(1917),o=n(840);e.a=function(){var t=i.a,e=i.b,n=null;function a(r){return new o.d(r.map(function(n,i){var a=[Math.round(t(n,i,r)/o.f)*o.f,Math.round(e(n,i,r)/o.f)*o.f];return a.index=i,a.data=n,a}),n)}return a.polygons=function(t){return a(t).polygons()},a.links=function(t){return a(t).links()},a.triangles=function(t){return a(t).triangles()},a.x=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Object(r.a)(+t),a):e},a.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],a):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},a.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],a):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t[0]},e.b=function(t){return t[1]}},function(t,e,n){"use strict";e.b=function(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],u=t.P,c=t.N,f=[t];l(t);var h=u;for(;h.circle&&Math.abs(n-h.circle.x)<s.f&&Math.abs(r-h.circle.cy)<s.f;)u=h.P,f.unshift(h),l(h),h=u;f.unshift(h),Object(o.b)(h);var d=c;for(;d.circle&&Math.abs(n-d.circle.x)<s.f&&Math.abs(r-d.circle.cy)<s.f;)c=d.N,f.push(d),l(d),d=c;f.push(d),Object(o.b)(d);var p,g=f.length;for(p=1;p<g;++p)d=f[p],h=f[p-1],Object(a.d)(d.edge,h.site,d.site,i);h=f[0],(d=f[g-1]).edge=Object(a.c)(h.site,d.site,null,i),Object(o.a)(h),Object(o.a)(d)},e.a=function(t){var e,n,r,u,l=t[0],d=t[1],p=s.a._;for(;p;)if((r=f(p,d)-l)>s.f)p=p.L;else{if(!((u=l-h(p,d))>s.f)){r>-s.f?(e=p.P,n=p):u>-s.f?(e=p,n=p.N):e=n=p;break}if(!p.R){e=p;break}p=p.R}Object(i.c)(t);var g=c(t);if(s.a.insert(e,g),!e&&!n)return;if(e===n)return Object(o.b)(e),n=c(e.site),s.a.insert(g,n),g.edge=n.edge=Object(a.c)(e.site,g.site),Object(o.a)(e),void Object(o.a)(n);if(!n)return void(g.edge=Object(a.c)(e.site,g.site));Object(o.b)(e),Object(o.b)(n);var v=e.site,m=v[0],y=v[1],x=t[0]-m,_=t[1]-y,b=n.site,w=b[0]-m,M=b[1]-y,S=2*(x*M-_*w),A=x*x+_*_,T=w*w+M*M,O=[(M*A-_*T)/S+m,(x*T-w*A)/S+y];Object(a.d)(n.edge,v,b,O),g.edge=Object(a.c)(v,t,null,O),n.edge=Object(a.c)(t,b,null,O),Object(o.a)(e),Object(o.a)(n)};var r=n(964),i=n(1156),o=n(1157),a=n(965),s=n(840),u=[];function c(t){var e=u.pop()||new function(){Object(r.a)(this),this.edge=this.site=this.circle=null};return e.site=t,e}function l(t){Object(o.b)(t),s.a.remove(t),u.push(t),Object(r.a)(t)}function f(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function h(t,e){var n=t.N;if(n)return f(n,e);var r=t.site;return r[1]===e?r[0]:1/0}},function(t,e,n){"use strict";var r=n(1920);n.d(e,"a",function(){return r.a});var i=n(1158);n.d(e,"c",function(){return i.b}),n.d(e,"b",function(){return i.c})},function(t,e,n){"use strict";var r=n(868),i=n(1089),o=n(833),a=n(759),s=n(1153),u=n(1921),c=n(1922),l=n(1158),f=n(1923);function h(){return!a.e.button}function d(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function p(){return this.__zoom||l.c}function g(){return-a.e.deltaY*(a.e.deltaMode?120:1)/500}function v(){return"ontouchstart"in this}function m(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}e.a=function(){var t,e,n=h,y=d,x=m,_=g,b=v,w=[0,1/0],M=[[-1/0,-1/0],[1/0,1/0]],S=250,A=o.v,T=[],O=Object(r.a)("start","zoom","end"),I=500,C=150,k=0;function D(t){t.property("__zoom",p).on("wheel.zoom",R).on("mousedown.zoom",B).on("dblclick.zoom",V).filter(b).on("touchstart.zoom",F).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(t,e){return(e=Math.max(w[0],Math.min(w[1],e)))===t.k?t:new l.a(e,t.x,t.y)}function E(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new l.a(t.k,r,i)}function P(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function N(t,e,n){t.on("start.zoom",function(){j(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=j(this,t),i=y.apply(this,t),o=n||P(i),a=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),s=this.__zoom,u="function"==typeof e?e.apply(this,t):e,c=A(s.invert(o).concat(a/s.k),u.invert(o).concat(a/u.k));return function(t){if(1===t)t=u;else{var e=c(t),n=a/e[2];t=new l.a(n,o[0]-e[0]*n,o[1]-e[1]*n)}r.zoom(null,t)}})}function j(t,e){for(var n,r=0,i=T.length;r<i;++r)if((n=T[r]).that===t)return n;return new z(t,e)}function z(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function R(){if(n.apply(this,arguments)){var t=j(this,arguments),e=this.__zoom,r=Math.max(w[0],Math.min(w[1],e.k*Math.pow(2,_.apply(this,arguments)))),i=Object(a.h)(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[i,e.invert(i)],Object(s.b)(this),t.start()}Object(f.a)(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},C),t.zoom("mouse",x(E(L(e,r),t.mouse[0],t.mouse[1]),t.extent,M))}}function B(){if(!e&&n.apply(this,arguments)){var t=j(this,arguments),r=Object(a.k)(a.e.view).on("mousemove.zoom",function(){if(Object(f.a)(),!t.moved){var e=a.e.clientX-u,n=a.e.clientY-c;t.moved=e*e+n*n>k}t.zoom("mouse",x(E(t.that.__zoom,t.mouse[0]=Object(a.h)(t.that),t.mouse[1]),t.extent,M))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.c)(a.e.view,t.moved),Object(f.a)(),t.end()},!0),o=Object(a.h)(this),u=a.e.clientX,c=a.e.clientY;Object(i.b)(a.e.view),Object(f.b)(),t.mouse=[o,this.__zoom.invert(o)],Object(s.b)(this),t.start()}}function V(){if(n.apply(this,arguments)){var t=this.__zoom,e=Object(a.h)(this),r=t.invert(e),i=t.k*(a.e.shiftKey?.5:2),o=x(E(L(t,i),e,r),y.apply(this,arguments),M);Object(f.a)(),S>0?Object(a.k)(this).transition().duration(S).call(N,o,e):Object(a.k)(this).call(D.transform,o)}}function F(){if(n.apply(this,arguments)){var e,r,i,o,u=j(this,arguments),c=a.e.changedTouches,l=c.length;for(Object(f.b)(),r=0;r<l;++r)i=c[r],o=[o=Object(a.q)(this,c,i.identifier),this.__zoom.invert(o),i.identifier],u.touch0?u.touch1||(u.touch1=o):(u.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!u.touch1))return u.end(),void((o=Object(a.k)(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout(function(){t=null},I),Object(s.b)(this),u.start())}}function H(){var e,n,r,i,o=j(this,arguments),s=a.e.changedTouches,u=s.length;for(Object(f.a)(),t&&(t=clearTimeout(t)),e=0;e<u;++e)n=s[e],r=Object(a.q)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var c=o.touch0[0],l=o.touch0[1],h=o.touch1[0],d=o.touch1[1],p=(p=h[0]-c[0])*p+(p=h[1]-c[1])*p,g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g;n=L(n,Math.sqrt(p/g)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],i=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",x(E(n,r,i),o.extent,M))}function W(){var t,n,r=j(this,arguments),i=a.e.changedTouches,o=i.length;for(Object(f.b)(),e&&clearTimeout(e),e=setTimeout(function(){e=null},I),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return D.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",p),t!==n?N(t,e):n.interrupt().each(function(){j(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},D.scaleBy=function(t,e){D.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},D.scaleTo=function(t,e){D.transform(t,function(){var t=y.apply(this,arguments),n=this.__zoom,r=P(t),i=n.invert(r),o="function"==typeof e?e.apply(this,arguments):e;return x(E(L(n,o),r,i),t,M)})},D.translateBy=function(t,e,n){D.transform(t,function(){return x(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments),M)})},D.translateTo=function(t,e,n){D.transform(t,function(){var t=y.apply(this,arguments),r=this.__zoom,i=P(t);return x(l.c.translate(i[0],i[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,M)})},z.prototype={start:function(){return 1==++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(a.d)(new c.a(D,t,this.that.__zoom),O.apply,O,[t,this.that,this.args])}},D.wheelDelta=function(t){return arguments.length?(_="function"==typeof t?t:Object(u.a)(+t),D):_},D.filter=function(t){return arguments.length?(n="function"==typeof t?t:Object(u.a)(!!t),D):n},D.touchable=function(t){return arguments.length?(b="function"==typeof t?t:Object(u.a)(!!t),D):b},D.extent=function(t){return arguments.length?(y="function"==typeof t?t:Object(u.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),D):y},D.scaleExtent=function(t){return arguments.length?(w[0]=+t[0],w[1]=+t[1],D):[w[0],w[1]]},D.translateExtent=function(t){return arguments.length?(M[0][0]=+t[0][0],M[1][0]=+t[1][0],M[0][1]=+t[0][1],M[1][1]=+t[1][1],D):[[M[0][0],M[0][1]],[M[1][0],M[1][1]]]},D.constrain=function(t){return arguments.length?(x=t,D):x},D.duration=function(t){return arguments.length?(S=+t,D):S},D.interpolate=function(t){return arguments.length?(A=t,D):A},D.on=function(){var t=O.on.apply(O,arguments);return t===O?D:t},D.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,D):Math.sqrt(k)},D}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.transform=n}},function(t,e,n){"use strict";e.b=function(){r.e.stopImmediatePropagation()};var r=n(759);e.a=function(){r.e.preventDefault(),r.e.stopImmediatePropagation()}},function(t,e,n){"use strict";var r=n(814),i=n(966),o=n(768),a=n(796);t.exports=function(t,e,n){var s,u=e.nodes().filter(function(t){return!o.isSubgraph(e,t)}),c=t.selectAll("g.node").data(u,function(t){return t}).classed("update",!0);c.exit().remove(),c.enter().append("g").attr("class","node").style("opacity",0),(c=t.selectAll("g.node")).each(function(t){var s=e.node(t),u=a.select(this);o.applyClass(u,s.class,(u.classed("update")?"update ":"")+"node"),u.select("g.label").remove();var c=u.append("g").attr("class","label"),l=i(c,s),f=n[s.shape],h=r.pick(l.node().getBBox(),"width","height");s.elem=this,s.id&&u.attr("id",s.id),s.labelId&&c.attr("id",s.labelId),r.has(s,"width")&&(h.width=s.width),r.has(s,"height")&&(h.height=s.height),h.width+=s.paddingLeft+s.paddingRight,h.height+=s.paddingTop+s.paddingBottom,c.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")");var d=a.select(this);d.select(".label-container").remove();var p=f(d,h,s).classed("label-container",!0);o.applyStyle(p,s.style);var g=p.node().getBBox();s.width=g.width,s.height=g.height}),s=c.exit?c.exit():c.selectAll(null);return o.applyTransition(s,e).style("opacity",0).remove(),c}},function(t,e,n){var r=n(768);t.exports=function(t,e){for(var n=t.append("text"),i=function(t){for(var e,n="",r=!1,i=0;i<t.length;++i)if(e=t[i],r){switch(e){case"n":n+="\n";break;default:n+=e}r=!1}else"\\"===e?r=!0:n+=e;return n}(e.label).split("\n"),o=0;o<i.length;o++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[o]);return r.applyStyle(n,e.labelStyle),n}},function(t,e,n){var r=n(768);t.exports=function(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var o=e.label;switch(typeof o){case"function":i.insert(o);break;case"object":i.insert(function(){return o});break;default:i.html(o)}r.applyStyle(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var a=i.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}},function(t,e,n){var r=n(768);t.exports=function(t,e){var n=t;return n.node().appendChild(e.label),r.applyStyle(n,e.labelStyle),n}},function(t,e,n){var r=n(768),i=n(796),o=n(966);t.exports=function(t,e){var n,a=e.nodes().filter(function(t){return r.isSubgraph(e,t)}),s=t.selectAll("g.cluster").data(a,function(t){return t});s.selectAll("*").remove(),s.enter().append("g").attr("class","cluster").attr("id",function(t){return e.node(t).id}).style("opacity",0),s=t.selectAll("g.cluster"),r.applyTransition(s,e).style("opacity",1),s.each(function(t){var n=e.node(t),r=i.select(this);i.select(this).append("rect");var a=r.append("g").attr("class","label");o(a,n,n.clusterLabelPos)}),s.selectAll("rect").each(function(t){var n=e.node(t),o=i.select(this);r.applyStyle(o,n.style)}),n=s.exit?s.exit():s.selectAll(null);return r.applyTransition(n,e).style("opacity",0).remove(),s}},function(t,e,n){"use strict";var r=n(814),i=n(966),o=n(768),a=n(796);t.exports=function(t,e){var n,s=t.selectAll("g.edgeLabel").data(e.edges(),function(t){return o.edgeToId(t)}).classed("update",!0);s.exit().remove(),s.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(s=t.selectAll("g.edgeLabel")).each(function(t){var n=a.select(this);n.select(".label").remove();var o=e.edge(t),s=i(n,e.edge(t),0,0).classed("label",!0),u=s.node().getBBox();o.labelId&&s.attr("id",o.labelId),r.has(o,"width")||(o.width=u.width),r.has(o,"height")||(o.height=u.height)}),n=s.exit?s.exit():s.selectAll(null);return o.applyTransition(n,e).style("opacity",0).remove(),s}},function(t,e,n){"use strict";var r=n(814),i=n(1051),o=n(768),a=n(796);function s(t,e){var n=(a.line||a.svg.line)().x(function(t){return t.x}).y(function(t){return t.y});return(n.curve||n.interpolate)(t.curve),n(e)}t.exports=function(t,e,n){var u=t.selectAll("g.edgePath").data(e.edges(),function(t){return o.edgeToId(t)}).classed("update",!0),c=function(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",function(t){var n=e.edge(t),i=e.node(t.v).elem;return s(n,r.range(n.points.length).map(function(){return e=(t=i).getBBox(),{x:(n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2)).e,y:n.f};var t,e,n}))}),n.append("defs"),n}(u,e);!function(t,e){var n=t.exit();o.applyTransition(n,e).style("opacity",0).remove()}(u,e);var l=u.merge(c);return o.applyTransition(l,e).style("opacity",1),l.each(function(t){var n=a.select(this),r=e.edge(t);r.elem=this,r.id&&n.attr("id",r.id),o.applyClass(n,r.class,(n.classed("update")?"update ":"")+"edgePath")}),l.selectAll("path.path").each(function(t){var n=e.edge(t);n.arrowheadId=r.uniqueId("arrowhead");var u=a.select(this).attr("marker-end",function(){return"url("+(t=location.href,e=n.arrowheadId,t.split("#")[0]+"#"+e)+")";var t,e}).style("fill","none");o.applyTransition(u,e).attr("d",function(t){return function(t,e){var n=t.edge(e),r=t.node(e.v),o=t.node(e.w),a=n.points.slice(1,n.points.length-1);return a.unshift(i(r,a[0])),a.push(i(o,a[a.length-1])),s(n,a)}(e,t)}),o.applyStyle(u,n.style)}),l.selectAll("defs *").remove(),l.selectAll("defs").each(function(t){var r=e.edge(t);(0,n[r.arrowhead])(a.select(this),r.arrowheadId,r,"arrowhead")}),l}},function(t,e,n){"use strict";var r=n(768),i=n(796);t.exports=function(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}t.filter(function(){return!i.select(this).classed("update")}).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},function(t,e,n){"use strict";var r=n(768),i=n(796),o=n(814);t.exports=function(t,e){function n(t){var n=e.edge(t);return o.has(n,"x")?"translate("+n.x+","+n.y+")":""}t.filter(function(){return!i.select(this).classed("update")}).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},function(t,e,n){"use strict";var r=n(768),i=n(796);t.exports=function(t,e){var n=t.filter(function(){return!i.select(this).classed("update")});function o(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}n.attr("transform",o),r.applyTransition(t,e).style("opacity",1).attr("transform",o),r.applyTransition(n.selectAll("rect"),e).attr("width",function(t){return e.node(t).width}).attr("height",function(t){return e.node(t).height}).attr("x",function(t){var n=e.node(t);return-n.width/2}).attr("y",function(t){var n=e.node(t);return-n.height/2})}},function(t,e,n){"use strict";var r=n(1054),i=n(914),o=n(1052),a=n(1053);t.exports={rect:function(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return r(n,t)},i},ellipse:function(t,e,n){var r=e.width/2,o=e.height/2,a=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",o);return n.intersect=function(t){return i(n,r,o,t)},a},circle:function(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(t){return o(n,r,t)},i},diamond:function(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],s=t.insert("polygon",":first-child").attr("points",o.map(function(t){return t.x+","+t.y}).join(" "));return n.intersect=function(t){return a(n,o,t)},s}}},function(t,e,n){var r=n(768);function i(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}t.exports={default:i,normal:i,vee:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])},undirected:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}}},function(t,e){t.exports="0.6.3"},function(t,e,n){"use strict";var r=n(816),i=n(1067),o=n(780),a=n(756),s=n(1084),u=n(1938),c=n(1939),l=n(1160),f=n(1940);function h(){return!a.event.button}function d(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function p(){return this.__zoom||l.c}function g(){return-a.event.deltaY*(a.event.deltaMode?120:1)/500}function v(){return"ontouchstart"in this}function m(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}e.a=function(){var t,e,n=h,y=d,x=m,_=g,b=v,w=[0,1/0],M=[[-1/0,-1/0],[1/0,1/0]],S=250,A=o.i,T=[],O=Object(r.a)("start","zoom","end"),I=500,C=150,k=0;function D(t){t.property("__zoom",p).on("wheel.zoom",R).on("mousedown.zoom",B).on("dblclick.zoom",V).filter(b).on("touchstart.zoom",F).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(t,e){return(e=Math.max(w[0],Math.min(w[1],e)))===t.k?t:new l.a(e,t.x,t.y)}function E(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new l.a(t.k,r,i)}function P(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function N(t,e,n){t.on("start.zoom",function(){j(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=j(this,t),i=y.apply(this,t),o=n||P(i),a=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),s=this.__zoom,u="function"==typeof e?e.apply(this,t):e,c=A(s.invert(o).concat(a/s.k),u.invert(o).concat(a/u.k));return function(t){if(1===t)t=u;else{var e=c(t),n=a/e[2];t=new l.a(n,o[0]-e[0]*n,o[1]-e[1]*n)}r.zoom(null,t)}})}function j(t,e){for(var n,r=0,i=T.length;r<i;++r)if((n=T[r]).that===t)return n;return new z(t,e)}function z(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function R(){if(n.apply(this,arguments)){var t=j(this,arguments),e=this.__zoom,r=Math.max(w[0],Math.min(w[1],e.k*Math.pow(2,_.apply(this,arguments)))),i=Object(a.mouse)(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[i,e.invert(i)],Object(s.a)(this),t.start()}Object(f.a)(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},C),t.zoom("mouse",x(E(L(e,r),t.mouse[0],t.mouse[1]),t.extent,M))}}function B(){if(!e&&n.apply(this,arguments)){var t=j(this,arguments),r=Object(a.select)(a.event.view).on("mousemove.zoom",function(){if(Object(f.a)(),!t.moved){var e=a.event.clientX-u,n=a.event.clientY-c;t.moved=e*e+n*n>k}t.zoom("mouse",x(E(t.that.__zoom,t.mouse[0]=Object(a.mouse)(t.that),t.mouse[1]),t.extent,M))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.b)(a.event.view,t.moved),Object(f.a)(),t.end()},!0),o=Object(a.mouse)(this),u=a.event.clientX,c=a.event.clientY;Object(i.a)(a.event.view),Object(f.b)(),t.mouse=[o,this.__zoom.invert(o)],Object(s.a)(this),t.start()}}function V(){if(n.apply(this,arguments)){var t=this.__zoom,e=Object(a.mouse)(this),r=t.invert(e),i=t.k*(a.event.shiftKey?.5:2),o=x(E(L(t,i),e,r),y.apply(this,arguments),M);Object(f.a)(),S>0?Object(a.select)(this).transition().duration(S).call(N,o,e):Object(a.select)(this).call(D.transform,o)}}function F(){if(n.apply(this,arguments)){var e,r,i,o,u=j(this,arguments),c=a.event.changedTouches,l=c.length;for(Object(f.b)(),r=0;r<l;++r)i=c[r],o=[o=Object(a.touch)(this,c,i.identifier),this.__zoom.invert(o),i.identifier],u.touch0?u.touch1||(u.touch1=o):(u.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!u.touch1))return u.end(),void((o=Object(a.select)(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout(function(){t=null},I),Object(s.a)(this),u.start())}}function H(){var e,n,r,i,o=j(this,arguments),s=a.event.changedTouches,u=s.length;for(Object(f.a)(),t&&(t=clearTimeout(t)),e=0;e<u;++e)n=s[e],r=Object(a.touch)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var c=o.touch0[0],l=o.touch0[1],h=o.touch1[0],d=o.touch1[1],p=(p=h[0]-c[0])*p+(p=h[1]-c[1])*p,g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g;n=L(n,Math.sqrt(p/g)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],i=[(l[0]+d[0])/2,(l[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",x(E(n,r,i),o.extent,M))}function W(){var t,n,r=j(this,arguments),i=a.event.changedTouches,o=i.length;for(Object(f.b)(),e&&clearTimeout(e),e=setTimeout(function(){e=null},I),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return D.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",p),t!==n?N(t,e):n.interrupt().each(function(){j(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},D.scaleBy=function(t,e){D.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},D.scaleTo=function(t,e){D.transform(t,function(){var t=y.apply(this,arguments),n=this.__zoom,r=P(t),i=n.invert(r),o="function"==typeof e?e.apply(this,arguments):e;return x(E(L(n,o),r,i),t,M)})},D.translateBy=function(t,e,n){D.transform(t,function(){return x(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments),M)})},D.translateTo=function(t,e,n){D.transform(t,function(){var t=y.apply(this,arguments),r=this.__zoom,i=P(t);return x(l.c.translate(i[0],i[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,M)})},z.prototype={start:function(){return 1==++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Object(a.customEvent)(new c.a(D,t,this.that.__zoom),O.apply,O,[t,this.that,this.args])}},D.wheelDelta=function(t){return arguments.length?(_="function"==typeof t?t:Object(u.a)(+t),D):_},D.filter=function(t){return arguments.length?(n="function"==typeof t?t:Object(u.a)(!!t),D):n},D.touchable=function(t){return arguments.length?(b="function"==typeof t?t:Object(u.a)(!!t),D):b},D.extent=function(t){return arguments.length?(y="function"==typeof t?t:Object(u.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),D):y},D.scaleExtent=function(t){return arguments.length?(w[0]=+t[0],w[1]=+t[1],D):[w[0],w[1]]},D.translateExtent=function(t){return arguments.length?(M[0][0]=+t[0][0],M[1][0]=+t[1][0],M[0][1]=+t[0][1],M[1][1]=+t[1][1],D):[[M[0][0],M[0][1]],[M[1][0],M[1][1]]]},D.constrain=function(t){return arguments.length?(x=t,D):x},D.duration=function(t){return arguments.length?(S=+t,D):S},D.interpolate=function(t){return arguments.length?(A=t,D):A},D.on=function(){var t=O.on.apply(O,arguments);return t===O?D:t},D.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,D):Math.sqrt(k)},D}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.transform=n}},function(t,e,n){"use strict";e.b=function(){r.event.stopImmediatePropagation()};var r=n(756);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){var r,i;!function(){var o={version:"3.5.17"},a=[].slice,s=function(t){return a.call(t)},u=this.document;function c(t){return t&&(t.ownerDocument||t.document||t).documentElement}function l(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(u)try{s(u.documentElement.childNodes)[0].nodeType}catch(t){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),u)try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var f=this.Element.prototype,h=f.setAttribute,d=f.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;f.setAttribute=function(t,e){h.call(this,t,e+"")},f.setAttributeNS=function(t,e,n){d.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function x(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}o.ascending=v,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},o.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},o.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)y(n=+t[o])&&(r+=n);else for(;++o<i;)y(n=+e.call(t,t[o],o))&&(r+=n);return r},o.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)y(n=m(t[o]))?r+=n:--a;else for(;++o<i;)y(n=m(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},o.median=function(t,e){var n,r=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)y(n=m(t[a]))&&r.push(n);else for(;++a<i;)y(n=m(e.call(t,t[a],a)))&&r.push(n);if(r.length)return o.quantile(r.sort(v),.5)},o.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)y(n=m(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)y(n=m(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));if(u>1)return a/(u-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _=x(v);function b(t){return t.length}o.bisectLeft=_.left,o.bisect=o.bisectRight=_.right,o.bisector=function(t){return x(1===t.length?function(e,n){return v(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=o.min(t,b),r=new Array(n);++e<n;)for(var i,a=-1,s=r[e]=new Array(i);++a<i;)s[a]=t[a][e];return r},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var w=Math.abs;function M(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function S(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(w(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},o.map=function(t,e){var n=new S;if(t instanceof S)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var A="__proto__",T="\0";function O(t){return(t+="")===A||t[0]===T?T+t:t}function I(t){return(t+="")[0]===T?t.slice(1):t}function C(t){return O(t)in this._}function k(t){return(t=O(t))in this._&&delete this._[t]}function D(){var t=[];for(var e in this._)t.push(I(e));return t}function L(){var t=0;for(var e in this._)++t;return t}function E(){for(var t in this._)return!1;return!0}function P(){this._=Object.create(null)}function N(t){return t}function j(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function z(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=R.length;n<r;++n){var i=R[n]+e;if(i in t)return i}}M(S,{has:C,get:function(t){return this._[O(t)]},set:function(t,e){return this._[O(t)]=e},remove:k,keys:D,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:I(e),value:this._[e]});return t},size:L,empty:E,forEach:function(t){for(var e in this._)t.call(this,I(e),this._[e])}}),o.nest=function(){var t,e,n={},r=[],i=[];function a(i,o,s){if(s>=r.length)return e?e.call(n,o):t?o.sort(t):o;for(var u,c,l,f,h=-1,d=o.length,p=r[s++],g=new S;++h<d;)(f=g.get(u=p(c=o[h])))?f.push(c):g.set(u,[c]);return i?(c=i(),l=function(t,e){c.set(t,a(i,e,s))}):(c={},l=function(t,e){c[t]=a(i,e,s)}),g.forEach(l),c}return n.map=function(t,e){return a(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var o=[],a=i[n++];return e.forEach(function(e,r){o.push({key:e,values:t(r,n)})}),a?o.sort(function(t,e){return a(t.key,e.key)}):o}(a(o.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new P;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},M(P,{has:C,add:function(t){return this._[O(t+="")]=!0,t},remove:k,values:D,size:L,empty:E,forEach:function(t){for(var e in this._)t.call(this,I(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=j(t,e,e[n]);return t};var R=["webkit","ms","moz","Moz","o","O"];function B(){}function V(){}function F(t){var e=[],n=new S;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function H(){o.event.preventDefault()}function W(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function G(t){for(var e=new V,n=0,r=arguments.length;++n<r;)e[arguments[n]]=F(e);return e.of=function(n,r){return function(i){try{var a=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(n,r)}finally{o.event=a}}},e}o.dispatch=function(){for(var t=new V,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=F(t);return t},V.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},o.event=null,o.requote=function(t){return t.replace(q,"\\$&")};var q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Y(t){return U(t,K),t}var X=function(t,e){return e.querySelector(t)},Z=function(t,e){return e.querySelectorAll(t)},$=function(t,e){var n=t.matches||t[z(t,"matchesSelector")];return($=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(X=function(t,e){return Sizzle(t,e)[0]||null},Z=Sizzle,$=Sizzle.matchesSelector),o.selection=function(){return o.select(u.documentElement)};var K=o.selection.prototype=[];function J(t){return"function"==typeof t?t:function(){return X(t,this)}}function Q(t){return"function"==typeof t?t:function(){return Z(t,this)}}K.select=function(t){var e,n,r,i,o=[];t=J(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return Y(o)},K.selectAll=function(t){var e,n,r=[];t=Q(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],u=-1,c=a.length;++u<c;)(n=a[u])&&(r.push(e=s(t.call(n,n.__data__,u,i))),e.parentNode=n);return Y(r)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function rt(t){return t.trim().replace(/\s+/g," ")}function it(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function ot(t){return(t+"").trim().split(/^|\s+/)}function at(t,e){var n=(t=ot(t).map(st)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function st(t){var e=it(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",rt(i+" "+t))):n.setAttribute("class",rt(i.replace(e," ")))}}function ut(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function ct(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function lt(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function ht(t){return{__data__:t}}function dt(t){return function(){return $(this,t)}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function gt(t){return U(t,vt),t}o.ns={prefix:et,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}},K.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},K.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=ot(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!it(t[i]).test(e))return!1;return!0}for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},K.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(ut(n,t[n],e));return this}if(r<2){var i=this.node();return l(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(ut(t,e,n))},K.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ct(e,t[e]));return this}return this.each(ct(t,e))},K.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},K.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},K.append=function(t){return t=lt(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},K.insert=function(t,e){return t=lt(t),e=J(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},K.remove=function(){return this.each(ft)},K.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,l=n.length,f=Math.min(a,l),h=new Array(l),d=new Array(l),p=new Array(a);if(e){var g,v=new S,m=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?p[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<l;)(i=v.get(g=e.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):d[r]=ht(o),v.set(g,!0);for(r=-1;++r<a;)r in m&&!0!==v.get(m[r])&&(p[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],o=n[r],i?(i.__data__=o,h[r]=i):d[r]=ht(o);for(;r<l;++r)d[r]=ht(n[r]);for(;r<a;++r)p[r]=t[r]}d.update=h,d.parentNode=h.parentNode=p.parentNode=t.parentNode,s.push(d),u.push(h),c.push(p)}var s=gt([]),u=Y([]),c=Y([]);if("function"==typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return u.enter=function(){return s},u.exit=function(){return c},u},K.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},K.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=dt(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Y(i)},K.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},K.sort=function(t){t=function(t){arguments.length||(t=v);return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},K.each=function(t){return pt(this,function(e,n,r){t.call(e,e.__data__,n,r)})},K.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},K.empty=function(){return!this.node()},K.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},K.size=function(){var t=0;return pt(this,function(){++t}),t};var vt=[];function mt(t,e,n){var r="__on"+t,i=t.indexOf("."),a=xt;i>0&&(t=t.slice(0,i));var u=yt.get(t);function c(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return u&&(t=u,a=_t),i?e?function(){var i=a(e,s(arguments));c.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:c:e?B:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}o.selection.enter=gt,o.selection.enter.prototype=vt,vt.append=K.append,vt.empty=K.empty,vt.node=K.node,vt.call=K.call,vt.size=K.size,vt.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return Y(a)},vt.insert=function(t,e){var n,r,i;return arguments.length<2&&(n=this,e=function(t,e,o){var a,s=n[o].update,u=s.length;for(o!=i&&(i=o,r=0),e>=r&&(r=e+1);!(a=s[r])&&++r<u;);return a}),K.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[X(t,u)]).parentNode=u.documentElement:(e=[t]).parentNode=c(t),Y([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=s(Z(t,u))).parentNode=u.documentElement:(e=s(t)).parentNode=null,Y([e])},K.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(mt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(mt(t,e,n))};var yt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function xt(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function _t(t,e){var n=xt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}u&&yt.forEach(function(t){"on"+t in u&&yt.remove(t)});var bt,wt=0;function Mt(t){var e=".dragsuppress-"+ ++wt,n="click"+e,r=o.select(l(t)).on("touchmove"+e,H).on("dragstart"+e,H).on("selectstart"+e,H);if(null==bt&&(bt=!("onselectstart"in t)&&z(t.style,"userSelect")),bt){var i=c(t).style,a=i[bt];i[bt]="none"}return function(t){if(r.on(e,null),bt&&(i[bt]=a),t){var o=function(){r.on(n,null)};r.on(n,function(){H(),o()},!0),setTimeout(o,0)}}}o.mouse=function(t){return At(t,W())};var St=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function At(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(St<0){var i=l(t);if(i.scrollX||i.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();St=!(a.f||a.e),n.remove()}}return St?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Tt(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=W().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return At(t,r)},o.behavior.drag=function(){var t=G(i,"drag","dragstart","dragend"),e=null,n=a(B,o.mouse,l,"mousemove","mouseup"),r=a(Tt,o.touch,N,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(n,r,i,a,s){return function(){var u,c=o.event.target.correspondingElement||o.event.target,l=this.parentNode,f=t.of(this,arguments),h=0,d=n(),p=".drag"+(null==d?"":"-"+d),g=o.select(i(c)).on(a+p,function(){var t,e,n=r(l,d);if(!n)return;t=n[0]-m[0],e=n[1]-m[1],h|=t|e,m=n,f({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:e})}).on(s+p,function(){if(!r(l,d))return;g.on(a+p,null).on(s+p,null),v(h),f({type:"dragend"})}),v=Mt(c),m=r(l,d);u=e?[(u=e.apply(this,arguments)).x-m[0],u.y-m[1]]:[0,0],f({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=W().touches),e?s(e).map(function(e){var n=At(t,e);return n.identifier=e.identifier,n}):[]};var Ot=1e-6,It=Ot*Ot,Ct=Math.PI,kt=2*Ct,Dt=kt-Ot,Lt=Ct/2,Et=Ct/180,Pt=180/Ct;function Nt(t){return t>0?1:t<0?-1:0}function jt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function zt(t){return t>1?0:t<-1?Ct:Math.acos(t)}function Rt(t){return t>1?Lt:t<-1?-Lt:Math.asin(t)}function Bt(t){return((t=Math.exp(t))+1/t)/2}function Vt(t){return(t=Math.sin(t/2))*t}var Ft=Math.SQRT2;o.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,f=u-o,h=l*l+f*f;if(h<It)r=Math.log(c/a)/Ft,n=function(t){return[i+t*l,o+t*f,a*Math.exp(Ft*t*r)]};else{var d=Math.sqrt(h),p=(c*c-a*a+4*h)/(2*a*2*d),g=(c*c-a*a-4*h)/(2*c*2*d),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Ft,n=function(t){var e,n=t*r,s=Bt(v),u=a/(2*d)*(s*(e=Ft*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+u*l,o+u*f,a*s/Bt(Ft*n+v)]}}return n.duration=1e3*r,n},o.behavior.zoom=function(){var t,e,n,r,i,a,s,c,f,h={x:0,y:0,k:1},d=[960,500],p=Gt,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",x="mouseup.zoom",_="touchstart.zoom",b=G(w,"zoomstart","zoom","zoomend");function w(t){t.on(m,D).on(Wt+".zoom",E).on("dblclick.zoom",P).on(_,L)}function M(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function S(t){h.k=Math.max(p[0],Math.min(p[1],t))}function A(t,e){e=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(e),h.x+=t[0]-e[0],h.y+=t[1]-e[1]}function T(t,n,r,i){t.__chart__={x:h.x,y:h.y,k:h.k},S(Math.pow(2,i)),A(e=n,r),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function O(){s&&s.domain(a.range().map(function(t){return(t-h.x)/h.k}).map(a.invert)),f&&f.domain(c.range().map(function(t){return(t-h.y)/h.k}).map(c.invert))}function I(t){v++||t({type:"zoomstart"})}function C(t){O(),t({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function k(t){--v||(t({type:"zoomend"}),e=null)}function D(){var t=this,e=b.of(t,arguments),n=0,r=o.select(l(t)).on(y,function(){n=1,A(o.mouse(t),i),C(e)}).on(x,function(){r.on(y,null).on(x,null),a(n),k(e)}),i=M(o.mouse(t)),a=Mt(t);fs.call(t),I(e)}function L(){var t,e=this,n=b.of(e,arguments),r={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,u="touchmove"+s,c="touchend"+s,l=[],f=o.select(e),d=Mt(e);function p(){var n=o.touches(e);return t=h.k,n.forEach(function(t){t.identifier in r&&(r[t.identifier]=M(t))}),n}function g(){var t=o.event.target;o.select(t).on(u,v).on(c,y),l.push(t);for(var n=o.event.changedTouches,s=0,f=n.length;s<f;++s)r[n[s].identifier]=null;var d=p(),g=Date.now();if(1===d.length){if(g-i<500){var m=d[0];T(e,m,r[m.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),H()}i=g}else if(d.length>1){m=d[0];var x=d[1],_=m[0]-x[0],b=m[1]-x[1];a=_*_+b*b}}function v(){var s,u,c,l,f=o.touches(e);fs.call(e);for(var h=0,d=f.length;h<d;++h,l=null)if(c=f[h],l=r[c.identifier]){if(u)break;s=c,u=l}if(l){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,g=a&&Math.sqrt(p/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],u=[(u[0]+l[0])/2,(u[1]+l[1])/2],S(g*t)}i=null,A(s,u),C(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var a in r)return void p()}o.selectAll(l).on(s,null),f.on(m,D).on(_,L),d(),k(n)}g(),I(n),f.on(m,null).on(_,g)}function E(){var i=b.of(this,arguments);r?clearTimeout(r):(fs.call(this),t=M(e=n||o.mouse(this)),I(i)),r=setTimeout(function(){r=null,k(i)},50),H(),S(Math.pow(2,.002*Ht())*h.k),A(e,t),C(i)}function P(){var t=o.mouse(this),e=Math.log(h.k)/Math.LN2;T(this,t,M(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Wt||(Wt="onwheel"in u?(Ht=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?(Ht=function(){return o.event.wheelDelta},"mousewheel"):(Ht=function(){return-o.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each(function(){var t=b.of(this,arguments),n=h;ps?o.select(this).transition().each("start.zoom",function(){h=this.__chart__||{x:0,y:0,k:1},I(t)}).tween("zoom:zoom",function(){var r=d[0],i=d[1],a=e?e[0]:r/2,s=e?e[1]:i/2,u=o.interpolateZoom([(a-h.x)/h.k,(s-h.y)/h.k,r/h.k],[(a-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(e){var n=u(e),i=r/n[2];this.__chart__=h={x:a-n[0]*i,y:s-n[1]*i,k:i},C(t)}}).each("interrupt.zoom",function(){k(t)}).each("end.zoom",function(){k(t)}):(this.__chart__=h,I(t),C(t),k(t))})},w.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},O(),w):[h.x,h.y]},w.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:null},S(+t),O(),w):h.k},w.scaleExtent=function(t){return arguments.length?(p=null==t?Gt:[+t[0],+t[1]],w):p},w.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(d=t&&[+t[0],+t[1]],w):d},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(s=t,a=t.copy(),h={x:0,y:0,k:1},w):s},w.y=function(t){return arguments.length?(f=t,c=t.copy(),h={x:0,y:0,k:1},w):f},o.rebind(w,b,"on")};var Ht,Wt,Gt=[0,1/0];function qt(){}function Ut(t,e,n){return this instanceof Ut?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Ut?new Ut(t.h,t.s,t.l):pe(""+t,ge,Ut):new Ut(t,e,n)}o.color=qt,qt.prototype.toString=function(){return this.rgb()+""},o.hsl=Ut;var Yt=Ut.prototype=new qt;function Xt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new ce(o(t+120),o(t),o(t-120))}function Zt(t,e,n){return this instanceof Zt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):oe(t instanceof Jt?t.l:(t=ve((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,e,n)}Yt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,this.l/t)},Yt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,t*this.l)},Yt.rgb=function(){return Xt(this.h,this.s,this.l)},o.hcl=Zt;var $t=Zt.prototype=new qt;function Kt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Jt(n,Math.cos(t*=Et)*e,Math.sin(t)*e)}function Jt(t,e,n){return this instanceof Jt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Jt?new Jt(t.l,t.a,t.b):t instanceof Zt?Kt(t.h,t.c,t.l):ve((t=ce(t)).r,t.g,t.b):new Jt(t,e,n)}$t.brighter=function(t){return new Zt(this.h,this.c,Math.min(100,this.l+Qt*(arguments.length?t:1)))},$t.darker=function(t){return new Zt(this.h,this.c,Math.max(0,this.l-Qt*(arguments.length?t:1)))},$t.rgb=function(){return Kt(this.h,this.c,this.l).rgb()},o.lab=Jt;var Qt=18,te=.95047,ee=1,ne=1.08883,re=Jt.prototype=new qt;function ie(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new ce(ue(3.2404542*(i=ae(i)*te)-1.5371385*(r=ae(r)*ee)-.4985314*(o=ae(o)*ne)),ue(-.969266*i+1.8760108*r+.041556*o),ue(.0556434*i-.2040259*r+1.0572252*o))}function oe(t,e,n){return t>0?new Zt(Math.atan2(n,e)*Pt,Math.sqrt(e*e+n*n),t):new Zt(NaN,NaN,t)}function ae(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function se(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ue(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ce(t,e,n){return this instanceof ce?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ce?new ce(t.r,t.g,t.b):pe(""+t,ce,Xt):new ce(t,e,n)}function le(t){return new ce(t>>16,t>>8&255,255&t)}function fe(t){return le(t)+""}re.brighter=function(t){return new Jt(Math.min(100,this.l+Qt*(arguments.length?t:1)),this.a,this.b)},re.darker=function(t){return new Jt(Math.max(0,this.l-Qt*(arguments.length?t:1)),this.a,this.b)},re.rgb=function(){return ie(this.l,this.a,this.b)},o.rgb=ce;var he=ce.prototype=new qt;function de(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function pe(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ye(i[0]),ye(i[1]),ye(i[2]))}return(o=xe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function ge(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new Ut(r,i,u)}function ve(t,e,n){var r=se((.4124564*(t=me(t))+.3575761*(e=me(e))+.1804375*(n=me(n)))/te),i=se((.2126729*t+.7151522*e+.072175*n)/ee);return Jt(116*i-16,500*(r-i),200*(i-se((.0193339*t+.119192*e+.9503041*n)/ne)))}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}he.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ce(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ce(i,i,i)},he.darker=function(t){return new ce((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},he.hsl=function(){return ge(this.r,this.g,this.b)},he.toString=function(){return"#"+de(this.r)+de(this.g)+de(this.b)};var xe=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function _e(t){return"function"==typeof t?t:function(){return t}}function be(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),we(e,n,t,r)}}function we(t,e,n,r){var i={},a=o.dispatch("beforesend","progress","load","error"),u={},c=new XMLHttpRequest,l=null;function f(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||e>=200&&e<300||304===e){try{t=n.call(i,c)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=f:c.onreadystatechange=function(){c.readyState>3&&f()},c.onprogress=function(t){var e=o.event;o.event=t;try{a.progress.call(i,c)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(l=t,i):l},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),c.open(n,t,!0),null==e||"accept"in u||(u.accept=e+",*/*"),c.setRequestHeader)for(var s in u)c.setRequestHeader(s,u[s]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=l&&(c.responseType=l),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},o.rebind(i,a,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}xe.forEach(function(t,e){xe.set(t,le(e))}),o.functor=_e,o.xhr=be(N),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=we(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(u).join(t)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},i.parseRows=function(t,e){var n,i,o={},a={},s=[],u=t.length,c=0,l=0;function f(){if(c>=u)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(s=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++c):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var s,l=1;if(10===(s=t.charCodeAt(c++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++l);else if(s!==r)continue;return t.slice(e,c-l)}return t.slice(e)}for(;(n=f())!==a;){for(var h=[];n!==o&&n!==a;)h.push(n),n=f();e&&null==(h=e(h,l++))||s.push(h)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new P,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(u).join(t)].concat(e.map(function(e){return r.map(function(t){return u(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Me,Se,Ae,Te,Oe=this[z(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ie(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return Se?Se.n=i:Me=i,Se=i,Ae||(Te=clearTimeout(Te),Ae=1,Oe(Ce)),i}function Ce(){var t=ke(),e=De()-t;e>24?(isFinite(e)&&(clearTimeout(Te),Te=setTimeout(Ce,e)),Ae=0):(Ae=1,Oe(Ce))}function ke(){for(var t=Date.now(),e=Me;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function De(){for(var t,e=Me,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Me=e.n;return Se=t,n}function Le(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){Ie.apply(this,arguments)},o.timer.flush=function(){ke(),De()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ee=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*w(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,Le(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ee[8+n/3]};var Pe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ne=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Le(t,e))).toFixed(Math.max(0,Math.min(20,Le(t*(1+1e-15),e))))}});function je(t){return t+""}var ze=o.time={},Re=Date;function Be(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Be.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ve.setUTCDate.apply(this._,arguments)},setDay:function(){Ve.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ve.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ve.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ve.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ve.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ve.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ve.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ve.setTime.apply(this._,arguments)}};var Ve=Date.prototype;function Fe(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Re(n-1)),1),n}function o(t,n){return e(t=new Re(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var s=t.utc=He(t);return s.floor=s,s.round=He(r),s.ceil=He(i),s.offset=He(o),s.range=function(t,e,n){try{Re=Be;var r=new Be;return r._=t,a(r,e,n)}finally{Re=Date}},t}function He(t){return function(e,n){try{Re=Be;var r=new Be;return r._=e,t(r,n)._}finally{Re=Date}}}ze.year=Fe(function(t){return(t=ze.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ze.years=ze.year.range,ze.years.utc=ze.year.utc.range,ze.day=Fe(function(t){var e=new Re(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ze.days=ze.day.range,ze.days.utc=ze.day.utc.range,ze.dayOfYear=function(t){var e=ze.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ze[t]=Fe(function(t){return(t=ze.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ze[t+"s"]=n.range,ze[t+"s"].utc=n.utc.range,ze[t+"OfYear"]=function(t){var n=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(n+e)%7)/7)}}),ze.week=ze.sunday,ze.weeks=ze.sunday.range,ze.weeks.utc=ze.sunday.utc.range,ze.weekOfYear=ze.sundayOfYear;var We={"-":"",_:" ",0:"0"},Ge=/^\s*\d+/,qe=/^%/;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ye(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Xe(t){for(var e=new S,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ze(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $e(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Ke(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Je(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ge.lastIndex=0;var r,i=Ge.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function tn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function en(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function on(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function an(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function un(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+Ue(r,"0",2)+Ue(i,"0",2)}function ln(t,e,n){qe.lastIndex=0;var r=qe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}o.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:N;return function(t){var n=Pe.exec(t),r=n[1]||" ",s=n[2]||">",u=n[3]||"-",c=n[4]||"",l=n[5],f=+n[6],h=n[7],d=n[8],p=n[9],g=1,v="",m="",y=!1,x=!0;switch(d&&(d=+d.substring(1)),(l||"0"===r&&"="===s)&&(l=r="0",s="="),p){case"n":h=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+p.toLowerCase());case"c":x=!1;case"d":y=!0,d=0;break;case"s":g=-1,p="r"}"$"===c&&(v=i[0],m=i[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):"e"!=p&&"f"!=p||(d=Math.max(0,Math.min(20,d)))),p=Ne.get(p)||je;var _=l&&h;return function(t){var n=m;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(g<0){var c=o.formatPrefix(t,d);t=c.scale(t),n=c.symbol+m}else t*=g;var b,w,M=(t=p(t,d)).lastIndexOf(".");if(M<0){var S=x?t.lastIndexOf("e"):-1;S<0?(b=t,w=""):(b=t.substring(0,S),w=t.substring(S))}else b=t.substring(0,M),w=e+t.substring(M+1);!l&&h&&(b=a(b,1/0));var A=v.length+b.length+w.length+(_?0:i.length),T=A<f?new Array(A=f-A+1).join(r):"";return _&&(b=a(T+b,T.length?f-w.length:1/0)),i+=v,t=b+w,("<"===s?i+t+T:">"===s?T+i+t:"^"===s?T.substring(0,A>>=1)+i+t+T.substring(A):i+(_?t:T+t))+n}}}(t),timeFormat:function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths;function l(t){var e=t.length;function n(n){for(var r,i,o,a=[],s=-1,u=0;++s<e;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=We[r=t.charAt(++s)])&&(r=t.charAt(++s)),(o=b[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Re!==Be,i=new(r?Be:Re);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function f(t,e,n,r){for(var i,o,a,s=0,u=e.length,c=n.length;s<u;){if(r>=c)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=w[a in We?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}l.utc=function(t){var e=l(t);function n(t){try{var n=new(Re=Be);return n._=t,e(n)}finally{Re=Date}}return n.parse=function(t){try{Re=Be;var n=e.parse(t);return n&&n._}finally{Re=Date}},n.toString=e.toString,n},l.multi=l.utc.multi=fn;var h=o.map(),d=Ye(a),p=Xe(a),g=Ye(s),v=Xe(s),m=Ye(u),y=Xe(u),x=Ye(c),_=Xe(c);i.forEach(function(t,e){h.set(t.toLowerCase(),e)});var b={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:l(e),d:function(t,e){return Ue(t.getDate(),e,2)},e:function(t,e){return Ue(t.getDate(),e,2)},H:function(t,e){return Ue(t.getHours(),e,2)},I:function(t,e){return Ue(t.getHours()%12||12,e,2)},j:function(t,e){return Ue(1+ze.dayOfYear(t),e,3)},L:function(t,e){return Ue(t.getMilliseconds(),e,3)},m:function(t,e){return Ue(t.getMonth()+1,e,2)},M:function(t,e){return Ue(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return Ue(t.getSeconds(),e,2)},U:function(t,e){return Ue(ze.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ue(ze.mondayOfYear(t),e,2)},x:l(n),X:l(r),y:function(t,e){return Ue(t.getFullYear()%100,e,2)},Y:function(t,e){return Ue(t.getFullYear()%1e4,e,4)},Z:cn,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){d.lastIndex=0;var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return f(t,b.c.toString(),e,n)},d:nn,e:nn,H:on,I:on,j:rn,L:un,m:en,M:an,p:function(t,e,n){var r=h.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:sn,U:$e,w:Ze,W:Ke,x:function(t,e,n){return f(t,b.x.toString(),e,n)},X:function(t,e,n){return f(t,b.X.toString(),e,n)},y:Qe,Y:Je,Z:tn,"%":ln};return l}(t)}};var hn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dn(){}o.format=hn.numberFormat,o.geo={},dn.prototype={s:0,t:0,add:function(t){gn(t,this.t,pn),gn(pn.s,this.s,this),this.s?this.t+=pn.t:this.s=pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pn=new dn;function gn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function vn(t,e){t&&yn.hasOwnProperty(t.type)&&yn[t.type](t,e)}o.geo.stream=function(t,e){t&&mn.hasOwnProperty(t.type)?mn[t.type](t,e):vn(t,e)};var mn={Feature:function(t,e){vn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)vn(n[r].geometry,e)}},yn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){xn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xn(n[r],e,0)},Polygon:function(t,e){_n(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)_n(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)vn(n[r],e)}};function xn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function _n(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)xn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return bn=0,o.geo.stream(t,Pn),bn};var bn,wn,Mn,Sn,An,Tn,On,In,Cn,kn,Dn,Ln,En=new dn,Pn={sphere:function(){bn+=4*Ct},point:B,lineStart:B,lineEnd:B,polygonStart:function(){En.reset(),Pn.lineStart=Nn},polygonEnd:function(){var t=2*En;bn+=t<0?4*Ct+t:t,Pn.lineStart=Pn.lineEnd=Pn.point=B}};function Nn(){var t,e,n,r,i;function o(t,e){e=e*Et/2+Ct/4;var o=(t*=Et)-n,a=o>=0?1:-1,s=a*o,u=Math.cos(e),c=Math.sin(e),l=i*c,f=r*u+l*Math.cos(s),h=l*a*Math.sin(s);En.add(Math.atan2(h,f)),n=t,r=u,i=c}Pn.point=function(a,s){Pn.point=o,n=(t=a)*Et,r=Math.cos(s=(e=s)*Et/2+Ct/4),i=Math.sin(s)},Pn.lineEnd=function(){o(t,e)}}function jn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function zn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Rn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Bn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Vn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Fn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Hn(t){return[Math.atan2(t[1],t[0]),Rt(t[2])]}function Wn(t,e){return w(t[0]-e[0])<Ot&&w(t[1]-e[1])<Ot}o.geo.bounds=function(){var t,e,n,r,i,a,s,u,c,l,f,h={point:d,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=x,c=0,Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),h.point=d,h.lineStart=g,h.lineEnd=v,En<0?(t=-(n=180),e=-(r=90)):c>Ot?r=90:c<-Ot&&(e=-90),f[0]=t,f[1]=n}};function d(i,o){l.push(f=[t=i,n=i]),o<e&&(e=o),o>r&&(r=o)}function p(o,a){var s=jn([o*Et,a*Et]);if(u){var c=Rn(u,s),l=Rn([c[1],-c[0],0],c);Fn(l),l=Hn(l);var f=o-i,h=f>0?1:-1,p=l[0]*Pt*h,g=w(f)>180;if(g^(h*i<p&&p<h*o))(v=l[1]*Pt)>r&&(r=v);else if(g^(h*i<(p=(p+360)%360-180)&&p<h*o)){var v;(v=-l[1]*Pt)<e&&(e=v)}else a<e&&(e=a),a>r&&(r=a);g?o<i?_(t,o)>_(t,n)&&(n=o):_(o,n)>_(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>i?_(t,o)>_(t,n)&&(n=o):_(o,n)>_(t,n)&&(t=o)}else d(o,a);u=s,i=o}function g(){h.point=p}function v(){f[0]=t,f[1]=n,h.point=d,u=null}function m(t,e){if(u){var n=t-i;c+=w(n)>180?n+(n>0?360:-360):n}else a=t,s=e;Pn.point(t,e),p(t,e)}function y(){Pn.lineStart()}function x(){m(a,s),Pn.lineEnd(),w(c)>Ot&&(t=-(n=180)),f[0]=t,f[1]=n,u=null}function _(t,e){return(e-=t)<0?e+360:e}function b(t,e){return t[0]-e[0]}function M(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),l=[],o.geo.stream(i,h),c=l.length){l.sort(b);for(var a=1,s=[g=l[0]];a<c;++a)M((d=l[a])[0],g)||M(d[1],g)?(_(g[0],d[1])>_(g[0],g[1])&&(g[1]=d[1]),_(d[0],g[1])>_(g[0],g[1])&&(g[0]=d[0])):s.push(g=d);for(var u,c,d,p=-1/0,g=(a=0,s[c=s.length-1]);a<=c;g=d,++a)d=s[a],(u=_(g[1],d[0]))>p&&(p=u,t=d[0],n=g[1])}return l=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){wn=Mn=Sn=An=Tn=On=In=Cn=kn=Dn=Ln=0,o.geo.stream(t,Gn);var e=kn,n=Dn,r=Ln,i=e*e+n*n+r*r;return i<It&&(e=On,n=In,r=Cn,Mn<Ot&&(e=Sn,n=An,r=Tn),(i=e*e+n*n+r*r)<It)?[NaN,NaN]:[Math.atan2(n,e)*Pt,Rt(r/Math.sqrt(i))*Pt]};var Gn={sphere:B,point:qn,lineStart:Yn,lineEnd:Xn,polygonStart:function(){Gn.lineStart=Zn},polygonEnd:function(){Gn.lineStart=Yn}};function qn(t,e){t*=Et;var n=Math.cos(e*=Et);Un(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Un(t,e,n){Sn+=(t-Sn)/++wn,An+=(e-An)/wn,Tn+=(n-Tn)/wn}function Yn(){var t,e,n;function r(r,i){r*=Et;var o=Math.cos(i*=Et),a=o*Math.cos(r),s=o*Math.sin(r),u=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*u-n*s)*c+(c=n*a-t*u)*c+(c=t*s-e*a)*c),t*a+e*s+n*u);Mn+=c,On+=c*(t+(t=a)),In+=c*(e+(e=s)),Cn+=c*(n+(n=u)),Un(t,e,n)}Gn.point=function(i,o){i*=Et;var a=Math.cos(o*=Et);t=a*Math.cos(i),e=a*Math.sin(i),n=Math.sin(o),Gn.point=r,Un(t,e,n)}}function Xn(){Gn.point=qn}function Zn(){var t,e,n,r,i;function o(t,e){t*=Et;var o=Math.cos(e*=Et),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(e),c=r*u-i*s,l=i*a-n*u,f=n*s-r*a,h=Math.sqrt(c*c+l*l+f*f),d=n*a+r*s+i*u,p=h&&-zt(d)/h,g=Math.atan2(h,d);kn+=p*c,Dn+=p*l,Ln+=p*f,Mn+=g,On+=g*(n+(n=a)),In+=g*(r+(r=s)),Cn+=g*(i+(i=u)),Un(n,r,i)}Gn.point=function(a,s){t=a,e=s,Gn.point=o,a*=Et;var u=Math.cos(s*=Et);n=u*Math.cos(a),r=u*Math.sin(a),i=Math.sin(s),Un(n,r,i)},Gn.lineEnd=function(){o(t,e),Gn.lineEnd=Xn,Gn.point=qn}}function $n(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Kn(){return!0}function Jn(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Wn(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var u=new tr(n,t,null,!0),c=new tr(n,null,u,!1);u.o=c,o.push(u),a.push(c),c=new tr(r,null,u=new tr(r,t,null,!1),!0),u.o=c,o.push(u),a.push(c)}}}),a.sort(e),Qn(o),Qn(a),o.length){for(var s=0,u=n,c=a.length;s<c;++s)a[s].e=u=!u;for(var l,f,h=o[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,c=l.length;s<c;++s)i.point((f=l[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(s=(l=d.p.z).length-1;s>=0;--s)i.point((f=l[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function Qn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function tr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function er(t,e,n,r){return function(i,a){var s,u=e(a),c=i.invert(r[0],r[1]),l={point:f,lineStart:d,lineEnd:p,polygonStart:function(){l.point=_,l.lineStart=b,l.lineEnd=w,s=[],g=[]},polygonEnd:function(){l.point=f,l.lineStart=d,l.lineEnd=p,s=o.merge(s);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;En.reset();for(var s=0,u=e.length;s<u;++s){var c=e[s],l=c.length;if(l)for(var f=c[0],h=f[0],d=f[1]/2+Ct/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===l&&(v=0);var m=(t=c[v])[0],y=t[1]/2+Ct/4,x=Math.sin(y),_=Math.cos(y),b=m-h,w=b>=0?1:-1,M=w*b,S=M>Ct,A=p*x;if(En.add(Math.atan2(A*w*Math.sin(M),g*_+A*Math.cos(M))),o+=S?b+w*kt:b,S^h>=n^m>=n){var T=Rn(jn(f),jn(t));Fn(T);var O=Rn(i,T);Fn(O);var I=(S^b>=0?-1:1)*Rt(O[2]);(r>I||r===I&&(T[0]||T[1]))&&(a+=S^b>=0?1:-1)}if(!v++)break;h=m,p=x,g=_,f=t}}return(o<-Ot||o<Ot&&En<-Ot)^1&a}(c,g);s.length?(x||(a.polygonStart(),x=!0),Jn(s,ir,t,n,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),s=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function h(t,e){var n=i(t,e);u.point(n[0],n[1])}function d(){l.point=h,u.lineStart()}function p(){l.point=f,u.lineEnd()}var g,v,m=rr(),y=e(m),x=!1;function _(t,e){v.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function b(){y.lineStart(),v=[]}function w(){_(v[0][0],v[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(nr))}return l}}function nr(t){return t.length>1}function rr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:B,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ir(t,e){return((t=t.x)[0]<0?t[1]-Lt-Ot:Lt-t[1])-((e=e.x)[0]<0?e[1]-Lt-Ot:Lt-e[1])}var or=er(Kn,function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ct:-Ct,u=w(o-n);w(u-Ct)<Ot?(t.point(n,r=(r+a)/2>0?Lt:-Lt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Ct&&(w(n-i)<Ot&&(n-=i*Ot),w(o-s)<Ot&&(o-=s*Ot),r=function(t,e,n,r){var i,o,a=Math.sin(t-n);return w(a)>Ot?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Lt,r.point(-Ct,i),r.point(0,i),r.point(Ct,i),r.point(Ct,0),r.point(Ct,-i),r.point(0,-i),r.point(-Ct,-i),r.point(-Ct,0),r.point(-Ct,i);else if(w(t[0]-e[0])>Ot){var o=t[0]<e[0]?Ct:-Ct;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Ct,-Ct/2]);function ar(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,c=a.y,l=0,f=1,h=s.x-u,d=s.y-c;if(o=t-u,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=n-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>l&&(l=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<f&&(f=o)}return l>0&&(i.a={x:u+l*h,y:c+l*d}),f<1&&(i.b={x:u+f*h,y:c+f*d}),i}}}}}}var sr=1e9;function ur(t,e,n,r){return function(u){var c,l,f,h,d,p,g,v,m,y,x,_=u,b=rr(),w=ar(t,e,n,r),M={point:T,lineStart:function(){M.point=O,l&&l.push(f=[]);y=!0,m=!1,g=v=NaN},lineEnd:function(){c&&(O(h,d),p&&m&&b.rejoin(),c.push(b.buffer()));M.point=T,m&&u.lineEnd()},polygonStart:function(){u=b,c=[],l=[],x=!0},polygonEnd:function(){u=_,c=o.merge(c);var e=function(t){for(var e=0,n=l.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=l[i],u=s.length,c=s[0];a<u;++a)o=s[a],c[1]<=r?o[1]>r&&jt(c,o,t)>0&&++e:o[1]<=r&&jt(c,o,t)<0&&--e,c=o;return 0!==e}([t,r]),n=x&&e,i=c.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),S(null,null,1,u),u.lineEnd()),i&&Jn(c,a,e,S,u),u.polygonEnd()),c=l=f=null}};function S(o,a,u,c){var l=0,f=0;if(null==o||(l=i(o,u))!==(f=i(a,u))||s(o,a)<0^u>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+u+4)%4)!==f);else c.point(a[0],a[1])}function A(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function T(t,e){A(t,e)&&u.point(t,e)}function O(t,e){var n=A(t=Math.max(-sr,Math.min(sr,t)),e=Math.max(-sr,Math.min(sr,e)));if(l&&f.push([t,e]),y)h=t,d=e,p=n,y=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&m)u.point(t,e);else{var r={a:{x:g,y:v},b:{x:t,y:e}};w(r)?(m||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),x=!1):n&&(u.lineStart(),u.point(t,e),x=!1)}g=t,v=e,m=n}return M};function i(r,i){return w(r[0]-t)<Ot?i>0?0:3:w(r[0]-n)<Ot?i>0?2:1:w(r[1]-e)<Ot?i>0?1:0:i>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function cr(t){var e=0,n=Ct/3,r=Dr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ct/180,n=t[1]*Ct/180):[e/Ct*180,n/Ct*180]},i}function lr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,Rt((i-(t*t+n*n)*r*r)/(2*r))]},a}o.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(s){return arguments.length?(o=ur(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return cr(lr)}).raw=lr,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,r,i=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function c(i){var o=i[0],a=i[1];return t=null,e(o,a),t||(n(o,a),t)||r(o,a),t}return c.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(t)},c.stream=function(t){var e=i.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},c.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),s.precision(t),c):i.precision()},c.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),s.scale(t),c.translate(i.translate())):i.scale()},c.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),l=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[l-.455*o,f-.238*o],[l+.455*o,f+.238*o]]).stream(u).point,n=a.translate([l-.307*o,f+.201*o]).clipExtent([[l-.425*o+Ot,f+.12*o+Ot],[l-.214*o-Ot,f+.234*o-Ot]]).stream(u).point,r=s.translate([l-.205*o,f+.212*o]).clipExtent([[l-.214*o+Ot,f+.166*o+Ot],[l-.115*o-Ot,f+.234*o-Ot]]).stream(u).point,c},c.scale(1070)};var fr,hr,dr,pr,gr,vr,mr={point:B,lineStart:B,lineEnd:B,polygonStart:function(){hr=0,mr.lineStart=yr},polygonEnd:function(){mr.lineStart=mr.lineEnd=mr.point=B,fr+=w(hr/2)}};function yr(){var t,e,n,r;function i(t,e){hr+=r*t-n*e,n=t,r=e}mr.point=function(o,a){mr.point=i,t=n=o,e=r=a},mr.lineEnd=function(){i(t,e)}}var xr={point:function(t,e){t<dr&&(dr=t);t>gr&&(gr=t);e<pr&&(pr=e);e>vr&&(vr=e)},lineStart:B,lineEnd:B,polygonStart:B,polygonEnd:B};function _r(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var br,wr={point:Mr,lineStart:Sr,lineEnd:Ar,polygonStart:function(){wr.lineStart=Tr},polygonEnd:function(){wr.point=Mr,wr.lineStart=Sr,wr.lineEnd=Ar}};function Mr(t,e){Sn+=t,An+=e,++Tn}function Sr(){var t,e;function n(n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);On+=a*(t+n)/2,In+=a*(e+r)/2,Cn+=a,Mr(t=n,e=r)}wr.point=function(r,i){wr.point=n,Mr(t=r,e=i)}}function Ar(){wr.point=Mr}function Tr(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,a=Math.sqrt(i*i+o*o);On+=a*(n+t)/2,In+=a*(r+e)/2,Cn+=a,kn+=(a=r*t-n*e)*(n+t),Dn+=a*(r+e),Ln+=3*a,Mr(n=t,r=e)}wr.point=function(o,a){wr.point=i,Mr(t=n=o,e=r=a)},wr.lineEnd=function(){i(t,e)}}function Or(t){var e=.5,n=Math.cos(30*Et),r=16;function i(e){return(r?function(e){var n,i,a,s,u,c,l,f,h,d,p,g,v={point:m,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),v.lineStart=b},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,v.point=x,e.lineStart()}function x(n,i){var a=jn([n,i]),s=t(n,i);o(f,h,l,d,p,g,f=s[0],h=s[1],l=n,d=a[0],p=a[1],g=a[2],r,e),e.point(f,h)}function _(){v.point=m,e.lineEnd()}function b(){y(),v.point=w,v.lineEnd=M}function w(t,e){x(n=t,e),i=f,a=h,s=d,u=p,c=g,v.point=x}function M(){o(f,h,l,d,p,g,i,a,n,s,u,c,r,e),v.lineEnd=_,_()}return v}:function(e){return Cr(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})})(e)}function o(r,i,a,s,u,c,l,f,h,d,p,g,v,m){var y=l-r,x=f-i,_=y*y+x*x;if(_>4*e&&v--){var b=s+d,M=u+p,S=c+g,A=Math.sqrt(b*b+M*M+S*S),T=Math.asin(S/=A),O=w(w(S)-1)<Ot||w(a-h)<Ot?(a+h)/2:Math.atan2(M,b),I=t(O,T),C=I[0],k=I[1],D=C-r,L=k-i,E=x*D-y*L;(E*E/_>e||w((y*D+x*L)/_-.5)>.3||s*d+u*p+c*g<n)&&(o(r,i,a,s,u,c,C,k,O,b/=A,M/=A,S,v,m),m.point(C,k),o(C,k,O,b,M,S,l,f,h,d,p,g,v,m))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Ir(t){this.stream=t}function Cr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function kr(t){return Dr(function(){return t})()}function Dr(t){var e,n,r,i,a,s,u=Or(function(t,n){return[(t=e(t,n))[0]*c+i,a-t[1]*c]}),c=150,l=480,f=250,h=0,d=0,p=0,g=0,v=0,m=or,y=N,x=null,_=null;function b(t){return[(t=r(t[0]*Et,t[1]*Et))[0]*c+i,a-t[1]*c]}function M(t){return(t=r.invert((t[0]-i)/c,(a-t[1])/c))&&[t[0]*Pt,t[1]*Pt]}function S(){r=$n(n=Nr(p,g,v),e);var t=e(h,d);return i=l-t[0]*c,a=f+t[1]*c,A()}function A(){return s&&(s.valid=!1,s=null),b}return b.stream=function(t){return s&&(s.valid=!1),(s=Lr(m(n,u(y(t))))).valid=!0,s},b.clipAngle=function(t){return arguments.length?(m=null==t?(x=t,or):function(t){var e=Math.cos(t),n=e>0,r=w(e)>Ot;return er(i,function(t){var e,s,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,h){var d,p=[f,h],g=i(f,h),v=n?g?0:a(f,h):g?a(f+(f<0?Ct:-Ct),h):0;if(!e&&(c=u=g)&&t.lineStart(),g!==u&&(d=o(e,p),(Wn(e,d)||Wn(p,d))&&(p[0]+=Ot,p[1]+=Ot,g=i(p[0],p[1]))),g!==u)l=0,g?(t.lineStart(),d=o(p,e),t.point(d[0],d[1])):(d=o(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(r&&e&&n^g){var m;v&s||!(m=o(p,e,!0))||(l=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&Wn(e,p)||t.point(p[0],p[1]),e=p,u=g,s=v},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}},Br(t,6*Et),n?[0,-t]:[-Ct,t-Ct]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=Rn(jn(t),jn(n)),a=zn(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var c=e*a/u,l=-e*s/u,f=Rn(i,o),h=Vn(i,c);Bn(h,Vn(o,l));var d=f,p=zn(h,d),g=zn(d,d),v=p*p-g*(zn(h,h)-1);if(!(v<0)){var m=Math.sqrt(v),y=Vn(d,(-p-m)/g);if(Bn(y,h),y=Hn(y),!r)return y;var x,_=t[0],b=n[0],M=t[1],S=n[1];b<_&&(x=_,_=b,b=x);var A=b-_,T=w(A-Ct)<Ot;if(!T&&S<M&&(x=M,M=S,S=x),T||A<Ot?T?M+S>0^y[1]<(w(y[0]-_)<Ot?M:S):M<=y[1]&&y[1]<=S:A>Ct^(_<=y[0]&&y[0]<=b)){var O=Vn(d,(-p+m)/g);return Bn(O,h),[y,Hn(O)]}}}function a(e,r){var i=n?t:Ct-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((x=+t)*Et),A()):x},b.clipExtent=function(t){return arguments.length?(_=t,y=t?ur(t[0][0],t[0][1],t[1][0],t[1][1]):N,A()):_},b.scale=function(t){return arguments.length?(c=+t,S()):c},b.translate=function(t){return arguments.length?(l=+t[0],f=+t[1],S()):[l,f]},b.center=function(t){return arguments.length?(h=t[0]%360*Et,d=t[1]%360*Et,S()):[h*Pt,d*Pt]},b.rotate=function(t){return arguments.length?(p=t[0]%360*Et,g=t[1]%360*Et,v=t.length>2?t[2]%360*Et:0,S()):[p*Pt,g*Pt,v*Pt]},o.rebind(b,u,"precision"),function(){return e=t.apply(this,arguments),b.invert=e.invert&&M,S()}}function Lr(t){return Cr(t,function(e,n){t.point(e*Et,n*Et)})}function Er(t,e){return[t,e]}function Pr(t,e){return[t>Ct?t-kt:t<-Ct?t+kt:t,e]}function Nr(t,e,n){return t?e||n?$n(zr(t),Rr(e,n)):zr(t):e||n?Rr(e,n):Pr}function jr(t){return function(e,n){return[(e+=t)>Ct?e-kt:e<-Ct?e+kt:e,n]}}function zr(t){var e=jr(t);return e.invert=jr(-t),e}function Rr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),s=Math.cos(t)*a,u=Math.sin(t)*a,c=Math.sin(e),l=c*n+s*r;return[Math.atan2(u*i-l*o,s*n-c*r),Rt(l*i+u*o)]}return a.invert=function(t,e){var a=Math.cos(e),s=Math.cos(t)*a,u=Math.sin(t)*a,c=Math.sin(e),l=c*i-u*o;return[Math.atan2(u*i+c*o,s*n+l*r),Rt(l*n-s*r)]},a}function Br(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=Vr(n,i),o=Vr(n,o),(a>0?i<o:i>o)&&(i+=a*kt)):(i=t+a*kt,o=t-.5*u);for(var c,l=i;a>0?l>o:l<o;l-=u)s.point((c=Hn([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function Vr(t,e){var n=jn(e);n[0]-=t,Fn(n);var r=zt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ot)%(2*Math.PI)}function Fr(t,e,n){var r=o.range(t,e-Ot,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Hr(t,e,n){var r=o.range(t,e-Ot,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Wr(t){return t.source}function Gr(t){return t.target}o.geo.path=function(){var t,e,n,r,i,a=4.5;function s(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(t,i)),r.result()}function u(){return i=null,s}return s.area=function(t){return fr=0,o.geo.stream(t,n(mr)),fr},s.centroid=function(t){return Sn=An=Tn=On=In=Cn=kn=Dn=Ln=0,o.geo.stream(t,n(wr)),Ln?[kn/Ln,Dn/Ln]:Cn?[On/Cn,In/Cn]:Tn?[Sn/Tn,An/Tn]:[NaN,NaN]},s.bounds=function(t){return gr=vr=-(dr=pr=1/0),o.geo.stream(t,n(xr)),[[dr,pr],[gr,vr]]},s.projection=function(e){return arguments.length?(n=(t=e)?e.stream||(r=e,i=Or(function(t,e){return r([t*Pt,e*Pt])}),function(t){return Lr(i(t))}):N,u()):t;var r,i},s.context=function(t){return arguments.length?(r=null==(e=t)?new function(){var t=_r(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=_r(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function a(){n.point=r}function s(){e.push("Z")}return n}:new function(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:B};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,kt)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=r}function s(){t.closePath()}return n}(t),"function"!=typeof a&&r.pointRadius(a),u()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),s):a},s.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Ir(e);for(var r in t)n[r]=t[r];return n}}},Ir.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=kr,o.geo.projectionMutator=Dr,(o.geo.equirectangular=function(){return kr(Er)}).raw=Er.invert=Er,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*Et,e[1]*Et))[0]*=Pt,e[1]*=Pt,e}return t=Nr(t[0]%360*Et,t[1]*Et,t.length>2?t[2]*Et:0),e.invert=function(e){return(e=t.invert(e[0]*Et,e[1]*Et))[0]*=Pt,e[1]*=Pt,e},e},Pr.invert=Er,o.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Nr(-t[0]*Et,-t[1]*Et,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Pt,t[1]*=Pt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=Br((t=+n)*Et,r*Et),i):t},i.precision=function(n){return arguments.length?(e=Br(t*Et,(r=+n)*Et),i):r},i.angle(90)},o.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Et,i=t[1]*Et,o=e[1]*Et,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=c*l-u*f*s)*n),u*l+c*f*s)},o.geo.graticule=function(){var t,e,n,r,i,a,s,u,c,l,f,h,d=10,p=d,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return o.range(Math.ceil(r/g)*g,n,g).map(f).concat(o.range(Math.ceil(u/v)*v,s,v).map(h)).concat(o.range(Math.ceil(e/d)*d,t,d).filter(function(t){return w(t%g)>Ot}).map(c)).concat(o.range(Math.ceil(a/p)*p,i,p).filter(function(t){return w(t%v)>Ot}).map(l))}return y.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(s).slice(1),f(n).reverse().slice(1),h(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),u>s&&(t=u,u=s,s=t),y.precision(m)):[[r,u],[n,s]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),y.precision(m)):[[e,a],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.minorStep=function(t){return arguments.length?(d=+t[0],p=+t[1],y):[d,p]},y.precision=function(o){return arguments.length?(m=+o,c=Fr(a,i,90),l=Hr(e,t,m),f=Fr(u,s,90),h=Hr(r,n,m),y):m},y.majorExtent([[-180,-90+Ot],[180,90-Ot]]).minorExtent([[-180,-80-Ot],[180,80+Ot]])},o.geo.greatArc=function(){var t,e,n=Wr,r=Gr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return n=t[0]*Et,r=t[1]*Et,i=e[0]*Et,o=e[1]*Et,a=Math.cos(r),s=Math.sin(r),u=Math.cos(o),c=Math.sin(o),l=a*Math.cos(n),f=a*Math.sin(n),h=u*Math.cos(i),d=u*Math.sin(i),p=2*Math.asin(Math.sqrt(Vt(o-r)+a*u*Vt(i-n))),g=1/Math.sin(p),(v=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,r=n*l+e*h,i=n*f+e*d,o=n*s+e*c;return[Math.atan2(i,r)*Pt,Math.atan2(o,Math.sqrt(r*r+i*i))*Pt]}:function(){return[n*Pt,r*Pt]}).distance=p,v;var n,r,i,o,a,s,u,c,l,f,h,d,p,g,v},o.geo.length=function(t){return br=0,o.geo.stream(t,qr),br};var qr={sphere:B,point:B,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=Et),a=Math.cos(i),s=w((r*=Et)-t),u=Math.cos(s);br+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-e*a*u)*s),e*o+n*a*u),t=r,e=o,n=a}qr.point=function(i,o){t=i*Et,e=Math.sin(o*=Et),n=Math.cos(o),qr.point=r},qr.lineEnd=function(){qr.point=qr.lineEnd=B}},lineEnd:B,polygonStart:B,polygonEnd:B};function Ur(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}var Yr=Ur(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return kr(Yr)}).raw=Yr;var Xr=Ur(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},N);function Zr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Ct/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return Jr;function a(t,e){o>0?e<-Lt+Ot&&(e=-Lt+Ot):e>Lt-Ot&&(e=Lt-Ot);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=Nt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Lt]},a}function $r(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<Ot)return Er;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Nt(r)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return kr(Xr)}).raw=Xr,(o.geo.conicConformal=function(){return cr(Zr)}).raw=Zr,(o.geo.conicEquidistant=function(){return cr($r)}).raw=$r;var Kr=Ur(function(t){return 1/t},Math.atan);function Jr(t,e){return[t,Math.log(Math.tan(Ct/4+e/2))]}function Qr(t){var e,n=kr(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Ct*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}(o.geo.gnomonic=function(){return kr(Kr)}).raw=Kr,Jr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Lt]},(o.geo.mercator=function(){return Qr(Jr)}).raw=Jr;var ti=Ur(function(){return 1},Math.asin);(o.geo.orthographic=function(){return kr(ti)}).raw=ti;var ei=Ur(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function ni(t,e){return[Math.log(Math.tan(Ct/4+e/2)),-t]}function ri(t){return t[0]}function ii(t){return t[1]}function oi(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&jt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ai(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return kr(ei)}).raw=ei,ni.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Lt]},(o.geo.transverseMercator=function(){var t=Qr(ni),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ni,o.geom={},o.geom.hull=function(t){var e=ri,n=ii;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=_e(e),o=_e(n),a=t.length,s=[],u=[];for(r=0;r<a;r++)s.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(s.sort(ai),r=0;r<a;r++)u.push([s[r][0],-s[r][1]]);var c=oi(s),l=oi(u),f=l[0]===c[0],h=l[l.length-1]===c[c.length-1],d=[];for(r=c.length-1;r>=0;--r)d.push(t[s[c[r]][2]]);for(r=+f;r<l.length-h;++r)d.push(t[s[l[r]][2]]);return d}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},o.geom.polygon=function(t){return U(t,si),t};var si=o.geom.polygon.prototype=[];function ui(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ci(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],c=n[1],l=e[1]-u,f=r[1]-c,h=(s*(u-c)-f*(i-o))/(f*a-s*l);return[i+h*a,u+h*l]}function li(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}si.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},si.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},si.clip=function(t){for(var e,n,r,i,o,a,s=li(t),u=-1,c=this.length-li(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)ui(a=e[n],l,i)?(ui(o,l,i)||t.push(ci(o,a,l,i)),t.push(a)):ui(o,l,i)&&t.push(ci(o,a,l,i)),o=a;s&&t.push(t[0]),l=i}return t};var fi,hi,di,pi,gi,vi=[],mi=[];function yi(t){var e=vi.pop()||new function(){Pi(this),this.edge=this.site=this.circle=null};return e.site=t,e}function xi(t){Oi(t),di.remove(t),vi.push(t),Pi(t)}function _i(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];xi(t);for(var u=o;u.circle&&w(n-u.circle.x)<Ot&&w(r-u.circle.cy)<Ot;)o=u.P,s.unshift(u),xi(u),u=o;s.unshift(u),Oi(u);for(var c=a;c.circle&&w(n-c.circle.x)<Ot&&w(r-c.circle.cy)<Ot;)a=c.N,s.push(c),xi(c),c=a;s.push(c),Oi(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],Di(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=ki(u.site,c.site,null,i),Ti(u),Ti(c)}function bi(t){for(var e,n,r,i,o=t.x,a=t.y,s=di._;s;)if((r=wi(s,a)-o)>Ot)s=s.L;else{if(!((i=o-Mi(s,a))>Ot)){r>-Ot?(e=s.P,n=s):i>-Ot?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=yi(t);if(di.insert(e,u),e||n){if(e===n)return Oi(e),n=yi(e.site),di.insert(u,n),u.edge=n.edge=ki(e.site,u.site),Ti(e),void Ti(n);if(n){Oi(e),Oi(n);var c=e.site,l=c.x,f=c.y,h=t.x-l,d=t.y-f,p=n.site,g=p.x-l,v=p.y-f,m=2*(h*v-d*g),y=h*h+d*d,x=g*g+v*v,_={x:(v*y-d*x)/m+l,y:(h*x-g*y)/m+f};Di(n.edge,c,p,_),u.edge=ki(c,t,null,_),n.edge=ki(t,p,null,_),Ti(e),Ti(n)}else u.edge=ki(e.site,u.site)}}function wi(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function Mi(t,e){var n=t.N;if(n)return wi(n,e);var r=t.site;return r.y===e?r.x:1/0}function Si(t){this.site=t,this.edges=[]}function Ai(t,e){return e.angle-t.angle}function Ti(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,c=r.y-s,l=o.x-a,f=2*(u*(v=o.y-s)-c*l);if(!(f>=-It)){var h=u*u+c*c,d=l*l+v*v,p=(v*h-c*d)/f,g=(u*d-l*h)/f,v=g+s,m=mi.pop()||new function(){Pi(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=i,m.x=p+a,m.y=v+Math.sqrt(p*p+g*g),m.cy=v,t.circle=m;for(var y=null,x=gi._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}gi.insert(y,m),y||(pi=m)}}}}function Oi(t){var e=t.circle;e&&(e.P||(pi=e.N),gi.remove(e),mi.push(e),Pi(e),t.circle=null)}function Ii(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],c=e[1][1],l=t.l,f=t.r,h=l.x,d=l.y,p=f.x,g=f.y,v=(h+p)/2,m=(d+g)/2;if(g===d){if(v<a||v>=s)return;if(h>p){if(o){if(o.y>=c)return}else o={x:v,y:u};n={x:v,y:c}}else{if(o){if(o.y<u)return}else o={x:v,y:c};n={x:v,y:u}}}else if(i=m-(r=(h-p)/(g-d))*v,r<-1||r>1)if(h>p){if(o){if(o.y>=c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Ci(t,e){this.l=t,this.r=e,this.a=this.b=null}function ki(t,e,n,r){var i=new Ci(t,e);return fi.push(i),n&&Di(i,t,e,n),r&&Di(i,e,t,r),hi[t.i].edges.push(new Li(i,t,e)),hi[e.i].edges.push(new Li(i,e,t)),i}function Di(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Li(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Ei(){this._=null}function Pi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ni(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ji(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function zi(t){for(;t.L;)t=t.L;return t}function Ri(t,e){var n,r,i,o=t.sort(Bi).pop();for(fi=[],hi=new Array(t.length),di=new Ei,gi=new Ei;;)if(i=pi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(hi[o.i]=new Si(o),bi(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;_i(i.arc)}e&&(function(t){for(var e,n=fi,r=ar(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Ii(e=n[i],t)||!r(e)||w(e.a.x-e.b.x)<Ot&&w(e.a.y-e.b.y)<Ot)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,a,s,u,c,l,f=t[0][0],h=t[1][0],d=t[0][1],p=t[1][1],g=hi,v=g.length;v--;)if((o=g[v])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(l=s[a].end()).x,i=l.y,e=(c=s[++a%u].start()).x,n=c.y,(w(r-e)>Ot||w(i-n)>Ot)&&(s.splice(a,0,new Li((m=o.site,y=l,x=w(r-f)<Ot&&p-i>Ot?{x:f,y:w(e-f)<Ot?n:p}:w(i-p)<Ot&&h-r>Ot?{x:w(n-p)<Ot?e:h,y:p}:w(r-h)<Ot&&i-d>Ot?{x:h,y:w(e-h)<Ot?n:d}:w(i-d)<Ot&&r-f>Ot?{x:w(n-d)<Ot?e:f,y:d}:null,_=void 0,_=new Ci(m,null),_.a=y,_.b=x,fi.push(_),_),o.site,null)),++u);var m,y,x,_}(e));var a={cells:hi,edges:fi};return di=gi=fi=hi=null,a}function Bi(t,e){return e.y-t.y||e.x-t.x}Si.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Ai),e.length},Li.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ei.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=zi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ni(this,n),n=(t=n).U),n.C=!1,r.C=!0,ji(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ji(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ni(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?zi(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ni(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ji(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ni(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ji(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ni(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ji(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ri,n=ii,r=e,i=n,o=Vi;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return Ri(s(t),o).cells.forEach(function(o,s){var u=o.edges,c=o.site;(e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[s]}),e}function s(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/Ot)*Ot,y:Math.round(i(t,e)/Ot)*Ot,i:e}})}return a.links=function(t){return Ri(s(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(t){var e=[];return Ri(s(t)).cells.forEach(function(n,r){for(var i,o,a,s,u=n.site,c=n.edges.sort(Ai),l=-1,f=c.length,h=c[f-1].edge,d=h.l===u?h.r:h.l;++l<f;)h,i=d,d=(h=c[l].edge).l===u?h.r:h.l,r<i.i&&r<d.i&&(a=i,s=d,((o=u).x-s.x)*(a.y-o.y)-(o.x-a.x)*(s.y-o.y)<0)&&e.push([t[r],t[i.i],t[d.i]])}),e},a.x=function(t){return arguments.length?(r=_e(e=t),a):e},a.y=function(t){return arguments.length?(i=_e(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?Vi:t,a):o===Vi?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===Vi?null:o&&o[1]},a};var Vi=[[-1e6,-1e6],[1e6,1e6]];function Fi(t){return t.x}function Hi(t){return t.y}function Wi(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,s=e.g-r,u=e.b-i;return function(t){return"#"+de(Math.round(n+a*t))+de(Math.round(r+s*t))+de(Math.round(i+u*t))}}function Gi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Zi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function qi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ui(t,e){var n,r,i,o=Yi.lastIndex=Xi.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Yi.exec(t))&&(r=Xi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:qi(n,r)})),o=Xi.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var o,a=ri,s=ii;if(o=arguments.length)return a=Fi,s=Hi,3===o&&(i=n,r=e,n=e=0),u(t);function u(t){var u,c,l,f,h,d,p,g,v,m=_e(a),y=_e(s);if(null!=e)d=e,p=n,g=r,v=i;else if(g=v=-(d=p=1/0),c=[],l=[],h=t.length,o)for(f=0;f<h;++f)(u=t[f]).x<d&&(d=u.x),u.y<p&&(p=u.y),u.x>g&&(g=u.x),u.y>v&&(v=u.y),c.push(u.x),l.push(u.y);else for(f=0;f<h;++f){var x=+m(u=t[f],f),_=+y(u,f);x<d&&(d=x),_<p&&(p=_),x>g&&(g=x),_>v&&(v=_),c.push(x),l.push(_)}var b=g-d,M=v-p;function S(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(w(u-n)+w(c-r)<.01)A(t,e,n,r,i,o,a,s);else{var l=t.point;t.x=t.y=t.point=null,A(t,l,u,c,i,o,a,s),A(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else A(t,e,n,r,i,o,a,s)}function A(t,e,n,r,i,o,a,s){var u=.5*(i+a),c=.5*(o+s),l=n>=u,f=r>=c,h=f<<1|l;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(T,t,+m(t,++f),+y(t,f),d,p,g,v)}}),l?i=u:a=u,f?o=c:s=c,S(t,e,n,r,i,o,a,s)}b>M?v=p+b:g=d+M;var T={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(T,t,+m(t,++f),+y(t,f),d,p,g,v)}};if(T.visit=function(t){!function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var s=.5*(r+o),u=.5*(i+a),c=n.nodes;c[0]&&t(e,c[0],r,i,s,u),c[1]&&t(e,c[1],s,i,o,u),c[2]&&t(e,c[2],r,u,s,a),c[3]&&t(e,c[3],s,u,o,a)}}(t,T,d,p,g,v)},T.find=function(t){return function(t,e,n,r,i,o,a){var s,u=1/0;return function t(c,l,f,h,d){if(!(l>o||f>a||h<r||d<i)){if(p=c.point){var p,g=e-c.x,v=n-c.y,m=g*g+v*v;if(m<u){var y=Math.sqrt(u=m);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var x=c.nodes,_=.5*(l+h),b=.5*(f+d),w=(n>=b)<<1|e>=_,M=w+4;w<M;++w)if(c=x[3&w])switch(3&w){case 0:t(c,l,f,_,b);break;case 1:t(c,_,f,h,b);break;case 2:t(c,l,b,_,d);break;case 3:t(c,_,b,h,d)}}}(t,r,i,o,a),s}(T,t[0],t[1],d,p,g,v)},f=-1,null==e){for(;++f<h;)S(T,t[f],c[f],l[f],d,p,g,v);--f}else t.forEach(T.add);return c=l=t=u=null,T}return u.x=function(t){return arguments.length?(a=t,u):a},u.y=function(t){return arguments.length?(s=t,u):s},u.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),u):null==e?null:[[e,n],[r,i]]},u.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),u):null==e?null:[r-e,i-n]},u},o.interpolateRgb=Wi,o.interpolateObject=Gi,o.interpolateNumber=qi,o.interpolateString=Ui;var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xi=new RegExp(Yi.source,"g");function Zi(t,e){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](t,e)););return n}function $i(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(Zi(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}o.interpolate=Zi,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?xe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Wi:Ui:e instanceof qt?Wi:Array.isArray(e)?$i:"object"===n&&isNaN(e)?Gi:qi)(t,e)}],o.interpolateArray=$i;var Ki=function(){return N},Ji=o.map({linear:Ki,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return no},cubic:function(){return ro},sin:function(){return oo},exp:function(){return ao},circle:function(){return so},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/kt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*kt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return uo}}),Qi=o.map({in:N,out:to,"in-out":eo,"out-in":function(t){return eo(to(t))}});function to(t){return function(e){return 1-t(1-e)}}function eo(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function no(t){return t*t}function ro(t){return t*t*t}function io(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function oo(t){return 1-Math.cos(t*Lt)}function ao(t){return Math.pow(2,10*(t-1))}function so(t){return 1-Math.sqrt(1-t*t)}function uo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function co(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function lo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=ho(i),s=fo(i,o),u=ho(((e=o)[0]+=(r=-s)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Pt,this.translate=[t.e,t.f],this.scale=[a,u],this.skew=u?Math.atan2(s,u)*Pt:0}function fo(t,e){return t[0]*e[0]+t[1]*e[1]}function ho(t){var e=Math.sqrt(fo(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e,n=t.indexOf("-"),r=n>=0?t.slice(0,n):t,i=n>=0?t.slice(n+1):"in";return r=Ji.get(r)||Ki,i=Qi.get(i)||N,e=i(r.apply(null,a.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,s=e.c-r,u=e.l-i;isNaN(s)&&(s=0,r=isNaN(r)?e.c:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Kt(n+a*t,r+s*t,i+u*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,s=e.s-r,u=e.l-i;isNaN(s)&&(s=0,r=isNaN(r)?e.s:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Xt(n+a*t,r+s*t,i+u*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,s=e.a-r,u=e.b-i;return function(t){return ie(n+a*t,r+s*t,i+u*t)+""}},o.interpolateRound=co,o.transform=function(t){var e=u.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new lo(n?n.matrix:po)})(t)},lo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var po={a:1,b:0,c:0,d:1,e:0,f:0};function go(t){return t.length?t.pop()+",":""}function vo(t,e){var n=[],r=[];return t=o.transform(t),e=o.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:qi(t[0],e[0])},{i:i-2,x:qi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(go(n)+"rotate(",null,")")-2,x:qi(t,e)})):e&&n.push(go(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(go(n)+"skewX(",null,")")-2,x:qi(t,e)}):e&&n.push(go(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(go(n)+"scale(",null,",",null,")");r.push({i:i-4,x:qi(t[0],e[0])},{i:i-2,x:qi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(go(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function mo(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function yo(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function xo(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=_o(t),r=_o(e),i=n.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function _o(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function bo(t){t.fixed|=2}function wo(t){t.fixed&=-7}function Mo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function So(t){t.fixed&=-5}o.interpolateTransform=vo,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(xo(t[n]));return e}},o.layout.chord=function(){var t,e,n,r,i,a,s,u={},c=0;function l(){var u,l,h,d,p,g={},v=[],m=o.range(r),y=[];for(t=[],e=[],u=0,d=-1;++d<r;){for(l=0,p=-1;++p<r;)l+=n[d][p];v.push(l),y.push(o.range(r)),u+=l}for(i&&m.sort(function(t,e){return i(v[t],v[e])}),a&&y.forEach(function(t,e){t.sort(function(t,r){return a(n[e][t],n[e][r])})}),u=(kt-c*r)/u,l=0,d=-1;++d<r;){for(h=l,p=-1;++p<r;){var x=m[d],_=y[x][p],b=n[x][_],w=l,M=l+=b*u;g[x+"-"+_]={index:x,subindex:_,startAngle:w,endAngle:M,value:b}}e[x]={index:x,startAngle:h,endAngle:l,value:v[x]},l+=c}for(d=-1;++d<r;)for(p=d-1;++p<r;){var S=g[d+"-"+p],A=g[p+"-"+d];(S.value||A.value)&&t.push(S.value<A.value?{source:A,target:S}:{source:S,target:A})}s&&f()}function f(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return u.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,u):n},u.padding=function(n){return arguments.length?(c=n,t=e=null,u):c},u.sortGroups=function(n){return arguments.length?(i=n,t=e=null,u):i},u.sortSubgroups=function(e){return arguments.length?(a=e,t=null,u):a},u.sortChords=function(e){return arguments.length?(s=e,t&&f(),u):s},u.chords=function(){return t||l(),t},u.groups=function(){return e||l(),e},u},o.layout.force=function(){var t,e,n,r,i,a,s={},u=o.dispatch("start","tick","end"),c=[1,1],l=.9,f=Ao,h=To,d=-30,p=Oo,g=.1,v=.64,m=[],y=[];function x(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(s*s/v<u){if(u<p){var c=e.charge/u;t.px-=o*c,t.py-=a*c}return!0}if(e.point&&u&&u<p){c=e.pointCharge/u;t.px-=o*c,t.py-=a*c}}return!e.charge}}function _(t){t.px=o.event.x,t.py=o.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return t=null,u.end({type:"end",alpha:n=0}),!0;var e,s,f,h,p,v,_,b,w,M=m.length,S=y.length;for(s=0;s<S;++s)h=(f=y[s]).source,(v=(b=(p=f.target).x-h.x)*b+(w=p.y-h.y)*w)&&(b*=v=n*i[s]*((v=Math.sqrt(v))-r[s])/v,w*=v,p.x-=b*(_=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=w*_,h.x+=b*(_=1-_),h.y+=w*_);if((_=n*g)&&(b=c[0]/2,w=c[1]/2,s=-1,_))for(;++s<M;)(f=m[s]).x+=(b-f.x)*_,f.y+=(w-f.y)*_;if(d)for(!function t(e,n,r){var i=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,u=s.length,c=-1;++c<u;)null!=(a=s[c])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=n*r[e.point.index];e.charge+=e.pointCharge=l,i+=l*e.point.x,o+=l*e.point.y}e.cx=i/e.charge;e.cy=o/e.charge}(e=o.geom.quadtree(m),n,a),s=-1;++s<M;)(f=m[s]).fixed||e.visit(x(f));for(s=-1;++s<M;)(f=m[s]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*l,f.y-=(f.py-(f.py=f.y))*l);u.tick({type:"tick",alpha:n})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(l=+t,s):l},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,u.end({type:"end",alpha:n=0})):e>0&&(u.start({type:"start",alpha:n=e}),t=Ie(s.tick)),s):n},s.start=function(){var t,e,n,o=m.length,u=y.length,l=c[0],p=c[1];for(t=0;t<o;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<u;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<o;++t)n=m[t],isNaN(n.x)&&(n.x=g("x",l)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof f)for(t=0;t<u;++t)r[t]=+f.call(this,y[t],t);else for(t=0;t<u;++t)r[t]=f;if(i=[],"function"==typeof h)for(t=0;t<u;++t)i[t]=+h.call(this,y[t],t);else for(t=0;t<u;++t)i[t]=h;if(a=[],"function"==typeof d)for(t=0;t<o;++t)a[t]=+d.call(this,m[t],t);else for(t=0;t<o;++t)a[t]=d;function g(n,r){if(!e){for(e=new Array(o),c=0;c<o;++c)e[c]=[];for(c=0;c<u;++c){var i=y[c];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,s=e[t],c=-1,l=s.length;++c<l;)if(!isNaN(a=s[c][n]))return a;return Math.random()*r}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(e||(e=o.behavior.drag().origin(N).on("dragstart.force",bo).on("drag.force",_).on("dragend.force",wo)),!arguments.length)return e;this.on("mouseover.force",Mo).on("mouseout.force",So).call(e)},o.rebind(s,u,"on")};var Ao=20,To=1,Oo=1/0;function Io(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Po,t}function Co(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ko(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function Do(t){return t.children}function Lo(t){return t.value}function Eo(t,e){return e.value-t.value}function Po(t){return o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}o.layout.hierarchy=function(){var t=Eo,e=Do,n=Lo;function r(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(c=e.call(r,o,o.depth))&&(u=c.length)){for(var u,c,l;--u>=0;)a.push(l=c[u]),l.parent=o,l.depth=o.depth+1;n&&(o.value=0),o.children=c}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return ko(i,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),s}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Co(t,function(t){t.children&&(t.value=0)}),ko(t,function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,r){var i=t.call(this,n,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,c=-1;for(r=e.value?r/e.value:0;++c<a;)t(s=o[c],n,u=s.value*r,i),n+=u}}(i[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return n.size=function(t){return arguments.length?(e=t,n):e},Io(n,t)},o.layout.pie=function(){var t=Number,e=No,n=0,r=kt,i=0;function a(s){var u,c=s.length,l=s.map(function(e,n){return+t.call(a,e,n)}),f=+("function"==typeof n?n.apply(this,arguments):n),h=("function"==typeof r?r.apply(this,arguments):r)-f,d=Math.min(Math.abs(h)/c,+("function"==typeof i?i.apply(this,arguments):i)),p=d*(h<0?-1:1),g=o.sum(l),v=g?(h-c*p)/g:0,m=o.range(c),y=[];return null!=e&&m.sort(e===No?function(t,e){return l[e]-l[t]}:function(t,n){return e(s[t],s[n])}),m.forEach(function(t){y[t]={data:s[t],value:u=l[t],startAngle:f,endAngle:f+=u*v+p,padAngle:d}}),y}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(n=t,a):n},a.endAngle=function(t){return arguments.length?(r=t,a):r},a.padAngle=function(t){return arguments.length?(i=t,a):i},a};var No={};function jo(t){return t.x}function zo(t){return t.y}function Ro(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=N,e=Fo,n=Ho,r=Ro,i=jo,a=zo;function s(u,c){if(!(d=u.length))return u;var l=u.map(function(e,n){return t.call(s,e,n)}),f=l.map(function(t){return t.map(function(t,e){return[i.call(s,t,e),a.call(s,t,e)]})}),h=e.call(s,f,c);l=o.permute(l,h),f=o.permute(f,h);var d,p,g,v,m=n.call(s,f,c),y=l[0].length;for(g=0;g<y;++g)for(r.call(s,l[0][g],v=m[g],f[0][g][1]),p=1;p<d;++p)r.call(s,l[p][g],v+=f[p-1][g][1],f[p][g][1]);return u}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(e="function"==typeof t?t:Bo.get(t)||Fo,s):e},s.offset=function(t){return arguments.length?(n="function"==typeof t?t:Vo.get(t)||Ho,s):n},s.x=function(t){return arguments.length?(i=t,s):i},s.y=function(t){return arguments.length?(a=t,s):a},s.out=function(t){return arguments.length?(r=t,s):r},s};var Bo=o.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Wo),a=t.map(Go),s=o.range(r).sort(function(t,e){return i[t]-i[e]}),u=0,c=0,l=[],f=[];for(e=0;e<r;++e)n=s[e],u<c?(u+=a[n],l.push(n)):(c+=a[n],f.push(n));return f.reverse().concat(l)},reverse:function(t){return o.range(t.length).reverse()},default:Fo}),Vo=o.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,c,l=t.length,f=t[0],h=f.length,d=[];for(d[0]=u=c=0,n=1;n<h;++n){for(e=0,i=0;e<l;++e)i+=t[e][n][1];for(e=0,o=0,s=f[n][0]-f[n-1][0];e<l;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,u<c&&(c=u)}for(n=0;n<h;++n)d[n]-=c;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Ho});function Fo(t){return o.range(t.length)}function Ho(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Wo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Go(t){return t.reduce(qo,0)}function qo(t,e){return t+e[1]}function Uo(t,e){return Yo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Yo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Xo(t){return[o.min(t),o.max(t)]}function Zo(t,e){return t.value-e.value}function $o(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ko(t,e){t._pack_next=e,e._pack_prev=t}function Jo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Qo(t){if((e=t.children)&&(u=e.length)){var e,n,r,i,o,a,s,u,c=1/0,l=-1/0,f=1/0,h=-1/0;if(e.forEach(ta),(n=e[0]).x=-n.r,n.y=0,x(n),u>1&&((r=e[1]).x=r.r,r.y=0,x(r),u>2))for(na(n,r,i=e[2]),x(i),$o(n,i),n._pack_prev=i,$o(i,r),r=n._pack_next,o=3;o<u;o++){na(n,r,i=e[o]);var d=0,p=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(Jo(a,i)){d=1;break}if(1==d)for(s=n._pack_prev;s!==a._pack_prev&&!Jo(s,i);s=s._pack_prev,g++);d?(p<g||p==g&&r.r<n.r?Ko(n,r=a):Ko(n=s,r),o--):($o(n,i),r=i,x(i))}var v=(c+l)/2,m=(f+h)/2,y=0;for(o=0;o<u;o++)(i=e[o]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(ea)}function x(t){c=Math.min(t.x-t.r,c),l=Math.max(t.x+t.r,l),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}}function ta(t){t._pack_next=t._pack_prev=t}function ea(t){delete t._pack_next,delete t._pack_prev}function na(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+c*o,n.y=t.y+u*o-c*i}else n.x=t.x+r,n.y=t.y}function ra(t,e){return t.parent==e.parent?1:2}function ia(t){var e=t.children;return e.length?e[0]:t.t}function oa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function aa(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function sa(t,e,n){return t.a.parent===e.parent?t.a:n}function ua(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ca(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function la(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function fa(t){return t.rangeExtent?t.rangeExtent():la(t.range())}function ha(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function da(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function pa(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ga}o.layout.histogram=function(){var t=!0,e=Number,n=Xo,r=Uo;function i(i,a){for(var s,u,c=[],l=i.map(e,this),f=n.call(this,l,a),h=r.call(this,f,l,a),d=(a=-1,l.length),p=h.length-1,g=t?1:1/d;++a<p;)(s=c[a]=[]).dx=h[a+1]-(s.x=h[a]),s.y=0;if(p>0)for(a=-1;++a<d;)(u=l[a])>=f[0]&&u<=f[1]&&((s=c[o.bisect(h,u,1,p)-1]).y+=g,s.push(i[a]));return c}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=_e(t),i):n},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return Yo(e,t)}:_e(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(Zo),n=0,r=[1,1];function i(i,o){var a=e.call(this,i,o),s=a[0],u=r[0],c=r[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,ko(s,function(t){t.r=+l(t.value)}),ko(s,Qo),n){var f=n*(t?1:Math.max(2*s.r/u,2*s.r/c))/2;ko(s,function(t){t.r+=f}),ko(s,Qo),ko(s,function(t){t.r-=f})}return function t(e,n,r,i){var o=e.children;e.x=n+=i*e.x;e.y=r+=i*e.y;e.r*=i;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,r,i)}(s,u/2,c/2,t?1:1/Math.max(2*s.r/u,2*s.r/c)),a}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},Io(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ra,n=[1,1],r=null;function i(i,o){var c=t.call(this,i,o),l=c[0],f=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(l);if(ko(f,a),f.parent.m=-f.z,Co(f,s),r)Co(l,u);else{var h=l,d=l,p=l;Co(l,function(t){t.x<h.x&&(h=t),t.x>d.x&&(d=t),t.depth>p.depth&&(p=t)});var g=e(h,d)/2-h.x,v=n[0]/(d.x+e(d,h)/2+g),m=n[1]/(p.depth||1);Co(l,function(t){t.x=(t.x+g)*v,t.y=t.depth*m})}return c}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,i=t.children,o=i.length;for(;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,u=o.parent.children[0],c=o.m,l=a.m,f=s.m,h=u.m;s=oa(s),o=ia(o),s&&o;)u=ia(u),(a=oa(a)).a=t,(i=s.z+f-o.z-c+e(s._,o._))>0&&(aa(sa(s,t,r),t,i),c+=i,l+=i),f+=s.m,c+=o.m,h+=u.m,l+=a.m;s&&!oa(a)&&(a.t=s,a.m+=f-l),o&&!ia(u)&&(u.t=o,u.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?u:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:u,i):r?n:null},Io(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ra,n=[1,1],r=!1;function i(i,a){var s,u=t.call(this,i,a),c=u[0],l=0;ko(c,function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(n),t.y=function(t){return 1+o.max(t,function(t){return t.y})}(n)):(t.x=s?l+=e(t,s):0,t.y=0,s=t)});var f=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(c),h=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(c),d=f.x-e(f,h)/2,p=h.x+e(h,f)/2;return ko(c,r?function(t){t.x=(t.x-c.x)*n[0],t.y=(c.y-t.y)*n[1]}:function(t){t.x=(t.x-d)/(p-d)*n[0],t.y=(1-(c.y?t.y/c.y:1))*n[1]}),u}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},Io(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,a=ua,s=!1,u="squarify",c=.5*(1+Math.sqrt(5));function l(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,i,o=a(t),s=[],c=e.slice(),h=1/0,g="slice"===u?o.dx:"dice"===u?o.dy:"slice-dice"===u?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(l(c,o.dx*o.dy/t.value),s.area=0;(i=c.length)>0;)s.push(n=c[i-1]),s.area+=n.area,"squarify"!==u||(r=d(s,g))<=h?(c.pop(),h=r):(s.area-=s.pop().area,p(s,g,o,!1),g=Math.min(o.dx,o.dy),s.length=s.area=0,h=1/0);s.length&&(p(s,g,o,!0),s.length=s.area=0),e.forEach(f)}}function h(t){var e=t.children;if(e&&e.length){var n,r=a(t),i=e.slice(),o=[];for(l(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(h)}}function d(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*c/r,r/(e*o*c)):1/0}function p(t,e,r,i){var o,a=-1,s=t.length,u=r.x,c=r.y,l=e?n(t.area/e):0;if(e==r.dx){for((i||l>r.dy)&&(l=r.dy);++a<s;)(o=t[a]).x=u,o.y=c,o.dy=l,u+=o.dx=Math.min(r.x+r.dx-u,l?n(o.area/l):0);o.z=!0,o.dx+=r.x+r.dx-u,r.y+=l,r.dy-=l}else{for((i||l>r.dx)&&(l=r.dx);++a<s;)(o=t[a]).x=u,o.y=c,o.dx=l,c+=o.dy=Math.min(r.y+r.dy-c,l?n(o.area/l):0);o.z=!1,o.dy+=r.y+r.dy-c,r.x+=l,r.dx-=l}}function g(n){var i=t||e(n),o=i[0];return o.x=o.y=0,o.value?(o.dx=r[0],o.dy=r[1]):o.dx=o.dy=0,t&&e.revalue(o),l([o],o.dx*o.dy/o.value),(t?h:f)(o),s&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){return ca(e,t)}var n;return a=null==(i=t)?ua:"function"==(n=typeof t)?function(e){var n=t.call(g,e,e.depth);return null==n?ua(e):ca(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(s=e,t=null,g):s},g.ratio=function(t){return arguments.length?(c=t,g):c},g.mode=function(t){return arguments.length?(u=t+"",g):u},Io(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var ga={floor:N,ceil:N};function va(t,e,n,r){var i=[],a=[],s=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=u;)i.push(n(t[s-1],t[s])),a.push(r(e[s-1],e[s]));return function(e){var n=o.bisect(t,e,1,u)-1;return a[n](i[n](e))}}function ma(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ya(t,e){return da(t,pa(xa(t,e)[2])),da(t,pa(xa(t,e)[2])),t}function xa(t,e){null==e&&(e=10);var n=la(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function _a(t,e){return o.range.apply(o,xa(t,e))}function ba(t,e,n){var r=xa(t,e);if(n){var i=Pe.exec(n);if(i.shift(),"s"===i[8]){var a=o.formatPrefix(Math.max(w(r[0]),w(r[1])));return i[7]||(i[7]="."+Ma(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+function(t,e){var n=Ma(e[2]);return t in wa?Math.abs(n-Ma(Math.max(w(e[0]),w(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Ma(r[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,r,i){var o,a;function s(){var t=Math.min(e.length,n.length)>2?va:ha,s=i?yo:mo;return o=t(e,n,s,r),a=t(n,e,s,Zi),u}function u(t){return o(t)}u.invert=function(t){return a(t)};u.domain=function(t){return arguments.length?(e=t.map(Number),s()):e};u.range=function(t){return arguments.length?(n=t,s()):n};u.rangeRound=function(t){return u.range(t).interpolate(co)};u.clamp=function(t){return arguments.length?(i=t,s()):i};u.interpolate=function(t){return arguments.length?(r=t,s()):r};u.ticks=function(t){return _a(e,t)};u.tickFormat=function(t,n){return ba(e,t,n)};u.nice=function(t){return ya(e,t),s()};u.copy=function(){return t(e,n,r,i)};return s()}([0,1],[0,1],Zi,!1)};var wa={s:1,g:1,p:1,r:1,e:1};function Ma(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,r,i){function a(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function s(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function u(t){return e(a(t))}u.invert=function(t){return s(e.invert(t))};u.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(a)),u):i};u.base=function(t){return arguments.length?(n=+t,e.domain(i.map(a)),u):n};u.nice=function(){var t=da(i.map(a),r?Math:Aa);return e.domain(t),i=t.map(s),u};u.ticks=function(){var t=la(i),e=[],o=t[0],u=t[1],c=Math.floor(a(o)),l=Math.ceil(a(u)),f=n%1?2:n;if(isFinite(l-c)){if(r){for(;c<l;c++)for(var h=1;h<f;h++)e.push(s(c)*h);e.push(s(c))}else for(e.push(s(c));c++<l;)for(var h=f-1;h>0;h--)e.push(s(c)*h);for(c=0;e[c]<o;c++);for(l=e.length;e[l-1]>u;l--);e=e.slice(c,l)}return e};u.tickFormat=function(t,e){if(!arguments.length)return Sa;arguments.length<2?e=Sa:"function"!=typeof e&&(e=o.format(e));var r=Math.max(1,n*t/u.ticks().length);return function(t){var i=t/s(Math.round(a(t)));return i*n<n-.5&&(i*=n),i<=r?e(t):""}};u.copy=function(){return t(e.copy(),n,r,i)};return ma(u,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Sa=o.format(".0e"),Aa={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ta(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,r){var i=Ta(n),o=Ta(1/n);function a(t){return e(i(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r};a.ticks=function(t){return _a(r,t)};a.tickFormat=function(t,e){return ba(r,t,e)};a.nice=function(t){return a.domain(ya(r,t))};a.exponent=function(t){return arguments.length?(i=Ta(n=t),o=Ta(1/n),e.domain(r.map(i)),a):n};a.copy=function(){return t(e.copy(),n,r)};return ma(a,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var r,i,a;function s(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function u(t,n){return o.range(e.length).map(function(e){return t+n*e})}s.domain=function(t){if(!arguments.length)return e;e=[],r=new S;for(var i,o=-1,a=t.length;++o<a;)r.has(i=t[o])||r.set(i,e.push(i));return s[n.t].apply(s,n.a)};s.range=function(t){return arguments.length?(i=t,a=0,n={t:"range",a:arguments},s):i};s.rangePoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],c=t[1],l=e.length<2?(o=(o+c)/2,0):(c-o)/(e.length-1+r);return i=u(o+l*r/2,l),a=0,n={t:"rangePoints",a:arguments},s};s.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],c=t[1],l=e.length<2?(o=c=Math.round((o+c)/2),0):(c-o)/(e.length-1+r)|0;return i=u(o+Math.round(l*r/2+(c-o-(e.length-1+r)*l)/2),l),a=0,n={t:"rangeRoundPoints",a:arguments},s};s.rangeBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var c=t[1]<t[0],l=t[c-0],f=t[1-c],h=(f-l)/(e.length-r+2*o);return i=u(l+h*o,h),c&&i.reverse(),a=h*(1-r),n={t:"rangeBands",a:arguments},s};s.rangeRoundBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var c=t[1]<t[0],l=t[c-0],f=t[1-c],h=Math.floor((f-l)/(e.length-r+2*o));return i=u(l+Math.round((f-l-(e.length-r)*h)/2),h),c&&i.reverse(),a=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},s};s.rangeBand=function(){return a};s.rangeExtent=function(){return la(n.a[0])};s.copy=function(){return t(e,n)};return s.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Oa)},o.scale.category20=function(){return o.scale.ordinal().range(Ia)},o.scale.category20b=function(){return o.scale.ordinal().range(Ca)},o.scale.category20c=function(){return o.scale.ordinal().range(ka)};var Oa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(fe),Ia=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(fe),Ca=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(fe),ka=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(fe);function Da(){return 0}o.scale.quantile=function(){return function t(e,n){var r;function i(){var t=0,i=n.length;for(r=[];++t<i;)r[t-1]=o.quantile(e,t/i);return a}function a(t){if(!isNaN(t=+t))return n[o.bisect(r,t)]}a.domain=function(t){return arguments.length?(e=t.map(m).filter(y).sort(v),i()):e};a.range=function(t){return arguments.length?(n=t,i()):n};a.quantiles=function(){return r};a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]};a.copy=function(){return t(e,n)};return i()}([],[])},o.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function s(){return i=r.length/(n-e),o=r.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(r=t,s()):r};a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]};a.copy=function(){return t(e,n,r)};return s()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[o.bisect(e,t)]}r.domain=function(t){return arguments.length?(e=t,r):e};r.range=function(t){return arguments.length?(n=t,r):n};r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};r.copy=function(){return t(e,n)};return r}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return _a(e,t)};n.tickFormat=function(t,n){return ba(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},o.svg={},o.svg.arc=function(){var t=Ea,e=Pa,n=Da,r=La,i=Na,o=ja,a=za;function s(){var s=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),l=i.apply(this,arguments)-Lt,f=o.apply(this,arguments)-Lt,h=Math.abs(f-l),d=l>f?0:1;if(c<s&&(p=c,c=s,s=p),h>=Dt)return u(c,d)+(s?u(s,1-d):"")+"Z";var p,g,v,m,y,x,_,b,w,M,S,A,T=0,O=0,I=[];if((m=(+a.apply(this,arguments)||0)/2)&&(v=r===La?Math.sqrt(s*s+c*c):+r.apply(this,arguments),d||(O*=-1),c&&(O=Rt(v/c*Math.sin(m))),s&&(T=Rt(v/s*Math.sin(m)))),c){y=c*Math.cos(l+O),x=c*Math.sin(l+O),_=c*Math.cos(f-O),b=c*Math.sin(f-O);var C=Math.abs(f-l-2*O)<=Ct?0:1;if(O&&Ra(y,x,_,b)===d^C){var k=(l+f)/2;y=c*Math.cos(k),x=c*Math.sin(k),_=b=null}}else y=x=0;if(s){w=s*Math.cos(f-T),M=s*Math.sin(f-T),S=s*Math.cos(l+T),A=s*Math.sin(l+T);var D=Math.abs(l-f+2*T)<=Ct?0:1;if(T&&Ra(w,M,S,A)===1-d^D){var L=(l+f)/2;w=s*Math.cos(L),M=s*Math.sin(L),S=A=null}}else w=M=0;if(h>Ot&&(p=Math.min(Math.abs(c-s)/2,+n.apply(this,arguments)))>.001){g=s<c^d?0:1;var E=p,P=p;if(h<Ct){var N=null==S?[w,M]:null==_?[y,x]:ci([y,x],[S,A],[_,b],[w,M]),j=y-N[0],z=x-N[1],R=_-N[0],B=b-N[1],V=1/Math.sin(Math.acos((j*R+z*B)/(Math.sqrt(j*j+z*z)*Math.sqrt(R*R+B*B)))/2),F=Math.sqrt(N[0]*N[0]+N[1]*N[1]);P=Math.min(p,(s-F)/(V-1)),E=Math.min(p,(c-F)/(V+1))}if(null!=_){var H=Ba(null==S?[w,M]:[S,A],[y,x],c,E,d),W=Ba([_,b],[w,M],c,E,d);p===E?I.push("M",H[0],"A",E,",",E," 0 0,",g," ",H[1],"A",c,",",c," 0 ",1-d^Ra(H[1][0],H[1][1],W[1][0],W[1][1]),",",d," ",W[1],"A",E,",",E," 0 0,",g," ",W[0]):I.push("M",H[0],"A",E,",",E," 0 1,",g," ",W[0])}else I.push("M",y,",",x);if(null!=S){var G=Ba([y,x],[S,A],s,-P,d),q=Ba([w,M],null==_?[y,x]:[_,b],s,-P,d);p===P?I.push("L",q[0],"A",P,",",P," 0 0,",g," ",q[1],"A",s,",",s," 0 ",d^Ra(q[1][0],q[1][1],G[1][0],G[1][1]),",",1-d," ",G[1],"A",P,",",P," 0 0,",g," ",G[0]):I.push("L",q[0],"A",P,",",P," 0 0,",g," ",G[0])}else I.push("L",w,",",M)}else I.push("M",y,",",x),null!=_&&I.push("A",c,",",c," 0 ",C,",",d," ",_,",",b),I.push("L",w,",",M),null!=S&&I.push("A",s,",",s," 0 ",D,",",1-d," ",S,",",A);return I.push("Z"),I.join("")}function u(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=_e(e),s):t},s.outerRadius=function(t){return arguments.length?(e=_e(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=_e(t),s):n},s.padRadius=function(t){return arguments.length?(r=t==La?La:_e(t),s):r},s.startAngle=function(t){return arguments.length?(i=_e(t),s):i},s.endAngle=function(t){return arguments.length?(o=_e(t),s):o},s.padAngle=function(t){return arguments.length?(a=_e(t),s):a},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Lt;return[Math.cos(r)*n,Math.sin(r)*n]},s};var La="auto";function Ea(t){return t.innerRadius}function Pa(t){return t.outerRadius}function Na(t){return t.startAngle}function ja(t){return t.endAngle}function za(t){return t&&t.padAngle}function Ra(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Ba(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,c=-s*o,l=t[0]+u,f=t[1]+c,h=e[0]+u,d=e[1]+c,p=(l+h)/2,g=(f+d)/2,v=h-l,m=d-f,y=v*v+m*m,x=n-r,_=l*d-h*f,b=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*y-_*_)),w=(_*m-v*b)/y,M=(-_*v-m*b)/y,S=(_*m+v*b)/y,A=(-_*v+m*b)/y,T=w-p,O=M-g,I=S-p,C=A-g;return T*T+O*O>I*I+C*C&&(w=S,M=A),[[w-u,M-c],[w*n/x,M*n/x]]}function Va(t){var e=ri,n=ii,r=Kn,i=Ha,o=i.key,a=.7;function s(o){var s,u=[],c=[],l=-1,f=o.length,h=_e(e),d=_e(n);function p(){u.push("M",i(t(c),a))}for(;++l<f;)r.call(this,s=o[l],l)?c.push([+h.call(this,s,l),+d.call(this,s,l)]):c.length&&(p(),c=[]);return c.length&&p(),u.length?u.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Fa.get(t)||Ha).key,s):o},s.tension=function(t){return arguments.length?(a=t,s):a},s}o.svg.line=function(){return Va(N)};var Fa=o.map({linear:Ha,"linear-closed":Wa,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":Ga,"step-after":qa,basis:Xa,"basis-open":function(t){if(t.length<4)return Ha(t);var e,n=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);n.push(Za(Ja,o)+","+Za(Ja,a)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Qa(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];for(;++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);e=[Za(Ja,a),",",Za(Ja,s)],--r;for(;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Qa(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Xa(t)},cardinal:function(t,e){return t.length<3?Ha(t):t[0]+Ua(t,Ya(t,e))},"cardinal-open":function(t,e){return t.length<4?Ha(t):t[1]+Ua(t.slice(1,-1),Ya(t,e))},"cardinal-closed":function(t,e){return t.length<3?Wa(t):t[0]+Ua((t.push(t[0]),t),Ya([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ha(t):t[0]+Ua(t,function(t){var e,n,r,i,o=[],a=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=ts(i,o);for(;++e<n;)r[e]=(a+(a=ts(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),s=-1,u=t.length-1;for(;++s<u;)e=ts(t[s],t[s+1]),w(e)<Ot?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,(i=n*n+r*r)>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));s=-1;for(;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function Ha(t){return t.length>1?t.join("L"):t+"Z"}function Wa(t){return t.join("L")+"Z"}function Ga(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function qa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ua(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ha(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],s=e[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return r}function Ya(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Xa(t){if(t.length<3)return Ha(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Za(Ja,a),",",Za(Ja,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Qa(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Za(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Fa.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var $a=[0,2/3,1/3,0],Ka=[0,1/3,2/3,0],Ja=[0,1/6,2/3,1/6];function Qa(t,e,n){t.push("C",Za($a,e),",",Za($a,n),",",Za(Ka,e),",",Za(Ka,n),",",Za(Ja,e),",",Za(Ja,n))}function ts(t,e){return(e[1]-t[1])/(e[0]-t[0])}function es(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Lt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function ns(t){var e=ri,n=ri,r=0,i=ii,o=Kn,a=Ha,s=a.key,u=a,c="L",l=.7;function f(s){var f,h,d,p=[],g=[],v=[],m=-1,y=s.length,x=_e(e),_=_e(r),b=e===n?function(){return h}:_e(n),w=r===i?function(){return d}:_e(i);function M(){p.push("M",a(t(v),l),c,u(t(g.reverse()),l),"Z")}for(;++m<y;)o.call(this,f=s[m],m)?(g.push([h=+x.call(this,f,m),d=+_.call(this,f,m)]),v.push([+b.call(this,f,m),+w.call(this,f,m)])):g.length&&(M(),g=[],v=[]);return g.length&&M(),p.length?p.join(""):null}return f.x=function(t){return arguments.length?(e=n=t,f):n},f.x0=function(t){return arguments.length?(e=t,f):e},f.x1=function(t){return arguments.length?(n=t,f):n},f.y=function(t){return arguments.length?(r=i=t,f):i},f.y0=function(t){return arguments.length?(r=t,f):r},f.y1=function(t){return arguments.length?(i=t,f):i},f.defined=function(t){return arguments.length?(o=t,f):o},f.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=Fa.get(t)||Ha).key,u=a.reverse||a,c=a.closed?"M":"L",f):s},f.tension=function(t){return arguments.length?(l=t,f):l},f}function rs(t){return t.radius}function is(t){return[t.x,t.y]}function os(){return 64}function as(){return"circle"}function ss(t){var e=Math.sqrt(t/Ct);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Va(es);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ga.reverse=qa,qa.reverse=Ga,o.svg.area=function(){return ns(N)},o.svg.area.radial=function(){var t=ns(es);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Wr,e=Gr,n=rs,r=Na,i=ja;function o(n,r){var i,o,c=a(this,t,n,r),l=a(this,e,n,r);return"M"+c.p0+s(c.r,c.p1,c.a1-c.a0)+(o=l,(i=c).a0==o.a0&&i.a1==o.a1?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,l.r,l.p0)+s(l.r,l.p1,l.a1-l.a0)+u(l.r,l.p1,c.r,c.p0))+"Z"}function a(t,e,o,a){var s=e.call(t,o,a),u=n.call(t,s,a),c=r.call(t,s,a)-Lt,l=i.call(t,s,a)-Lt;return{r:u,a0:c,a1:l,p0:[u*Math.cos(c),u*Math.sin(c)],p1:[u*Math.cos(l),u*Math.sin(l)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ct)+",1 "+e}function u(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=_e(t),o):n},o.source=function(e){return arguments.length?(t=_e(e),o):t},o.target=function(t){return arguments.length?(e=_e(t),o):e},o.startAngle=function(t){return arguments.length?(r=_e(t),o):r},o.endAngle=function(t){return arguments.length?(i=_e(t),o):i},o},o.svg.diagonal=function(){var t=Wr,e=Gr,n=is;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return r.source=function(e){return arguments.length?(t=_e(e),r):t},r.target=function(t){return arguments.length?(e=_e(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=is,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Lt;return[n*Math.cos(r),n*Math.sin(r)]}}(e=t)):e},t},o.svg.symbol=function(){var t=as,e=os;function n(n,r){return(us.get(t.call(this,n,r))||ss)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=_e(e),n):t},n.size=function(t){return arguments.length?(e=_e(t),n):e},n};var us=o.map({circle:ss,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ls)),n=e*ls;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/cs),n=e*cs/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/cs),n=e*cs/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=us.keys();var cs=Math.sqrt(3),ls=Math.tan(30*Et);K.transition=function(t){for(var e,n,r=ps||++ms,i=_s(t),o=[],a=gs||{time:Date.now(),ease:io,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var c=this[s],l=-1,f=c.length;++l<f;)(n=c[l])&&bs(n,l,i,r,a),e.push(n)}return ds(o,i,r)},K.interrupt=function(t){return this.each(null==t?fs:hs(_s(t)))};var fs=hs(_s());function hs(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ds(t,e,n){return U(t,vs),t.namespace=e,t.id=n,t}var ps,gs,vs=[],ms=0;function ys(t,e,n,r){var i=t.id,o=t.namespace;return pt(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function xs(t){return null==t&&(t=""),function(){this.textContent=t}}function _s(t){return null==t?"__transition__":"__transition_"+t+"__"}function bs(t,e,n,r,i){var o,a,s,u,c,l=t[n]||(t[n]={active:0,count:0}),f=l[r];function h(n){var i=l.active,h=l[i];for(var p in h&&(h.timer.c=null,h.timer.t=NaN,--l.count,delete l[i],h.event&&h.event.interrupt.call(t,t.__data__,h.index)),l)if(+p<r){var g=l[p];g.timer.c=null,g.timer.t=NaN,--l.count,delete l[p]}a.c=d,Ie(function(){return a.c&&d(n||1)&&(a.c=null,a.t=NaN),1},0,o),l.active=r,f.event&&f.event.start.call(t,t.__data__,e),c=[],f.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&c.push(r)}),u=f.ease,s=f.duration}function d(i){for(var o=i/s,a=u(o),h=c.length;h>0;)c[--h].call(t,a);if(o>=1)return f.event&&f.event.end.call(t,t.__data__,e),--l.count?delete l[r]:delete t[n],1}f||(o=i.time,a=Ie(function(t){var e=f.delay;if(a.t=e+o,e<=t)return h(t-e);a.c=h},0,o),f=l[r]={tween:new S,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++l.count)}vs.call=K.call,vs.empty=K.empty,vs.node=K.node,vs.size=K.size,o.transition=function(t,e){return t&&t.transition?ps?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=vs,vs.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=J(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var c=this[s],l=-1,f=c.length;++l<f;)(r=c[l])&&(n=t.call(r,r.__data__,l,s))?("__data__"in r&&(n.__data__=r.__data__),bs(n,l,o,i,r[o][i]),e.push(n)):e.push(null)}return ds(a,o,i)},vs.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=Q(t);for(var c=-1,l=this.length;++c<l;)for(var f=this[c],h=-1,d=f.length;++h<d;)if(r=f[h]){o=r[s][a],n=t.call(r,r.__data__,h,c),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&bs(i,p,s,a,o),e.push(i)}return ds(u,s,a)},vs.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=dt(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,u=(a=this[i]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return ds(r,this.namespace,this.id)},vs.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},vs.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?vo:Zi,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}return ys(this,"attr."+t,e,r.local?function(t){return null==t?a:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})})},vs.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},vs.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}return ys(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var r,i=l(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Zi(i,e),function(e){this.style.setProperty(t,r(e),n)})})})},vs.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,i){var o=e.call(this,r,i,l(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},vs.text=function(t){return ys(this,"text",t,xs)},vs.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},vs.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),pt(this,function(r){r[n][e].ease=t}))},vs.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},vs.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},vs.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=gs,a=ps;try{ps=n,pt(this,function(e,i,o){gs=e[r][n],t.call(e,e.__data__,i,o)})}finally{gs=i,ps=a}}else pt(this,function(i){var a=i[r][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},vs.transition=function(){for(var t,e,n,r=this.id,i=++ms,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var c,l=0,f=(c=this[s]).length;l<f;l++)(e=c[l])&&bs(e,l,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return ds(a,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),n=ws,r=6,i=6,a=3,u=[10],c=null;function l(s){s.each(function(){var s,l=o.select(this),f=this.__chart__||e,h=this.__chart__=e.copy(),d=null==c?h.ticks?h.ticks.apply(h,u):h.domain():c,p=null==t?h.tickFormat?h.tickFormat.apply(h,u):N:t,g=l.selectAll(".tick").data(d,h),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ot),m=o.transition(g.exit()).style("opacity",Ot).remove(),y=o.transition(g.order()).style("opacity",1),x=Math.max(r,0)+a,_=fa(h),b=l.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),o.transition(b));v.append("line"),v.append("text");var M,S,A,T,O=v.select("line"),I=y.select("line"),C=g.select("text").text(p),k=v.select("text"),D=y.select("text"),L="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Ss,M="x",A="y",S="x2",T="y2",C.attr("dy",L<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+L*i+"V0H"+_[1]+"V"+L*i)):(s=As,M="y",A="x",S="y2",T="x2",C.attr("dy",".32em").style("text-anchor",L<0?"end":"start"),w.attr("d","M"+L*i+","+_[0]+"H0V"+_[1]+"H"+L*i)),O.attr(T,L*r),k.attr(A,L*x),I.attr(S,0).attr(T,L*r),D.attr(M,0).attr(A,L*x),h.rangeBand){var E=h,P=E.rangeBand()/2;f=h=function(t){return E(t)+P}}else f.rangeBand?f=h:m.call(s,h,f);v.call(s,f,h),y.call(s,h,h)})}return l.scale=function(t){return arguments.length?(e=t,l):e},l.orient=function(t){return arguments.length?(n=t in Ms?t+"":ws,l):n},l.ticks=function(){return arguments.length?(u=s(arguments),l):u},l.tickValues=function(t){return arguments.length?(c=t,l):c},l.tickFormat=function(e){return arguments.length?(t=e,l):t},l.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],l):r},l.innerTickSize=function(t){return arguments.length?(r=+t,l):r},l.outerTickSize=function(t){return arguments.length?(i=+t,l):i},l.tickPadding=function(t){return arguments.length?(a=+t,l):a},l.tickSubdivide=function(){return arguments.length&&l},l};var ws="bottom",Ms={top:1,right:1,bottom:1,left:1};function Ss(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function As(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}o.svg.brush=function(){var t,e,n=G(h,"brushstart","brush","brushend"),r=null,i=null,a=[0,0],s=[0,0],u=!0,c=!0,f=Os[0];function h(t){t.each(function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(f,N);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ts[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var a,s=o.transition(t),u=o.transition(e);r&&(a=fa(r),u.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),i&&(a=fa(i),u.attr("y",a[0]).attr("height",a[1]-a[0]),g(s)),d(s)})}function d(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+a[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function g(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function v(){var f,v,m=this,y=o.select(o.event.target),x=n.of(m,arguments),_=o.select(m),b=y.datum(),w=!/^(n|s)$/.test(b)&&r,M=!/^(e|w)$/.test(b)&&i,S=y.classed("extent"),A=Mt(m),T=o.mouse(m),O=o.select(l(m)).on("keydown.brush",function(){32==o.event.keyCode&&(S||(f=null,T[0]-=a[1],T[1]-=s[1],S=2),H())}).on("keyup.brush",function(){32==o.event.keyCode&&2==S&&(T[0]+=a[1],T[1]+=s[1],S=0,H())});if(o.event.changedTouches?O.on("touchmove.brush",k).on("touchend.brush",L):O.on("mousemove.brush",k).on("mouseup.brush",L),_.interrupt().selectAll("*").interrupt(),S)T[0]=a[0]-T[0],T[1]=s[0]-T[1];else if(b){var I=+/w$/.test(b),C=+/^n/.test(b);v=[a[1-I]-T[0],s[1-C]-T[1]],T[0]=a[I],T[1]=s[C]}else o.event.altKey&&(f=T.slice());function k(){var t=o.mouse(m),e=!1;v&&(t[0]+=v[0],t[1]+=v[1]),S||(o.event.altKey?(f||(f=[(a[0]+a[1])/2,(s[0]+s[1])/2]),T[0]=a[+(t[0]<f[0])],T[1]=s[+(t[1]<f[1])]):f=null),w&&D(t,r,0)&&(p(_),e=!0),M&&D(t,i,1)&&(g(_),e=!0),e&&(d(_),x({type:"brush",mode:S?"move":"resize"}))}function D(n,r,i){var o,l,h=fa(r),d=h[0],p=h[1],g=T[i],v=i?s:a,m=v[1]-v[0];if(S&&(d-=g,p-=m+g),o=(i?c:u)?Math.max(d,Math.min(p,n[i])):n[i],S?l=(o+=g)+m:(f&&(g=Math.max(d,Math.min(p,2*f[i]-o))),g<o?(l=o,o=g):l=g),v[0]!=o||v[1]!=l)return i?e=null:t=null,v[0]=o,v[1]=l,!0}function L(){k(),_.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),o.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),x({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),x({type:"brushstart"}),k()}return h.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:a,y:s,i:t,j:e},u=this.__chart__||i;this.__chart__=i,ps?o.select(this).transition().each("start.brush",function(){t=u.i,e=u.j,a=u.x,s=u.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=$i(a,i.x),o=$i(s,i.y);return t=e=null,function(t){a=i.x=n(t),s=i.y=o(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},h.x=function(t){return arguments.length?(f=Os[!(r=t)<<1|!i],h):r},h.y=function(t){return arguments.length?(f=Os[!r<<1|!(i=t)],h):i},h.clamp=function(t){return arguments.length?(r&&i?(u=!!t[0],c=!!t[1]):r?u=!!t:i&&(c=!!t),h):r&&i?[u,c]:r?u:i?c:null},h.extent=function(n){var o,u,c,l,f;return arguments.length?(r&&(o=n[0],u=n[1],i&&(o=o[0],u=u[0]),t=[o,u],r.invert&&(o=r(o),u=r(u)),u<o&&(f=o,o=u,u=f),o==a[0]&&u==a[1]||(a=[o,u])),i&&(c=n[0],l=n[1],r&&(c=c[1],l=l[1]),e=[c,l],i.invert&&(c=i(c),l=i(l)),l<c&&(f=c,c=l,l=f),c==s[0]&&l==s[1]||(s=[c,l])),h):(r&&(t?(o=t[0],u=t[1]):(o=a[0],u=a[1],r.invert&&(o=r.invert(o),u=r.invert(u)),u<o&&(f=o,o=u,u=f))),i&&(e?(c=e[0],l=e[1]):(c=s[0],l=s[1],i.invert&&(c=i.invert(c),l=i.invert(l)),l<c&&(f=c,c=l,l=f))),r&&i?[[o,c],[u,l]]:r?[o,u]:i&&[c,l])},h.clear=function(){return h.empty()||(a=[0,0],s=[0,0],t=e=null),h},h.empty=function(){return!!r&&a[0]==a[1]||!!i&&s[0]==s[1]},o.rebind(h,n,"on")};var Ts={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Os=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Is=ze.format=hn.timeFormat,Cs=Is.utc,ks=Cs("%Y-%m-%dT%H:%M:%S.%LZ");function Ds(t){return t.toISOString()}function Ls(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=o.bisect(Ps,r);return i==Ps.length?[e.year,xa(t.map(function(t){return t/31536e6}),n)[2]]:i?e[r/Ps[i-1]<Ps[i]/r?i-1:i]:[zs,xa(t,n)[2]]}return r.invert=function(e){return Es(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Es)},r.nice=function(t,e){var n=r.domain(),o=la(n),a=null==t?i(o,10):"number"==typeof t&&i(o,t);function s(n){return!isNaN(n)&&!t.range(n,Es(+n+1),e).length}return a&&(t=a[0],e=a[1]),r.domain(da(n,e>1?{floor:function(e){for(;s(e=t.floor(e));)e=Es(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=Es(+e+1);return e}}:t))},r.ticks=function(t,e){var n=la(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Es(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Ls(t.copy(),e,n)},ma(r,t)}function Es(t){return new Date(t)}Is.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ds:ks,Ds.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ds.toString=ks.toString,ze.second=Fe(function(t){return new Re(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ze.seconds=ze.second.range,ze.seconds.utc=ze.second.utc.range,ze.minute=Fe(function(t){return new Re(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ze.minutes=ze.minute.range,ze.minutes.utc=ze.minute.utc.range,ze.hour=Fe(function(t){var e=t.getTimezoneOffset()/60;return new Re(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ze.hours=ze.hour.range,ze.hours.utc=ze.hour.utc.range,ze.month=Fe(function(t){return(t=ze.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ze.months=ze.month.range,ze.months.utc=ze.month.utc.range;var Ps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ns=[[ze.second,1],[ze.second,5],[ze.second,15],[ze.second,30],[ze.minute,1],[ze.minute,5],[ze.minute,15],[ze.minute,30],[ze.hour,1],[ze.hour,3],[ze.hour,6],[ze.hour,12],[ze.day,1],[ze.day,2],[ze.week,1],[ze.month,1],[ze.month,3],[ze.year,1]],js=Is.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Kn]]),zs={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Es)},floor:N,ceil:N};Ns.year=ze.year,ze.scale=function(){return Ls(o.scale.linear(),Ns,js)};var Rs=Ns.map(function(t){return[t[0].utc,t[1]]}),Bs=Cs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Kn]]);function Vs(t){return JSON.parse(t.responseText)}function Fs(t){var e=u.createRange();return e.selectNode(u.body),e.createContextualFragment(t.responseText)}Rs.year=ze.year.utc,ze.scale.utc=function(){return Ls(o.scale.linear(),Rs,Bs)},o.text=be(function(t){return t.responseText}),o.json=function(t,e){return we(t,"application/json",Vs,e)},o.html=function(t,e){return we(t,"text/html",Fs,e)},o.xml=be(function(t){return t.responseXML}),this.d3=o,void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)}()}]));
//# sourceMappingURL=4.fcd97944.js.map