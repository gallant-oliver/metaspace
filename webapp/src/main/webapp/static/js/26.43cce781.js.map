{"version":3,"sources":["webpack:///./src/views/data-share/overview/api-tablelist/index.vue","webpack:///index.vue?6211","webpack:///./src/views/data-share/overview/api-tablelist/index.vue?8168"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_29605c4c_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","Component","normalizeComponent","components","props","activeGroup","type","default","data","activeTab","createApiModalVisible","keyword","tableData","pagination","total","pageSize","pageSizes","current","loading","publishState","selectApi","watch","handler","val","guid","this","fetchTableList","deep","immediate","methods","batchPublishApi","length","localStorage","setItem","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","$router","push","$Message","warning","publish","scope","row","pageChange","sizeChange","size","page","_this","__WEBPACK_IMPORTED_MODULE_2_src_service_data_share_index__","belong","offset","limit","query","then","sum","lists","catch","e","checkDetail","path","groupId","revoke","_this2","$Modal","confirm","title","content","onOk","ids","success","copyApi","name","apiId","handleSelectionChange","customRenderHeader","h","_ref","column","$index","handleStateChange","attrs","mode","slot","class","on","change","bind","label","createApi","$route","collect","_this3","star","id","selectable","index","esExports","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticClass","tab-click","$event","model","callback","$$v","_v","click","_e","placeholder","search","clear","staticStyle","width","paging","size-change","page-change","selection-change","fixed","prop","show-overflow-tooltip","scopedSlots","_u","key","fn","gs-icon-star-o","gs-icon-star","_s","render-header","max-width","active","disabled","_b","page-sizes","layout","page-size-change","staticRenderFns"],"mappings":"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","file":"static/js/26.43cce781.js","sourcesContent":["var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29605c4c\\\",\\\"hasScoped\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/data-share/overview/api-tablelist/index.vue\n// module id = 2136\n// module chunks = 26","<template>\r\n  <div\r\n    v-loading=\"loading\"\r\n    class=\"api-tablelist\"\r\n  >\r\n    <gs-tabs\r\n      v-model=\"activeTab\"\r\n      type=\"content-tab\"\r\n      @tab-click=\"fetchTableList(1)\"\r\n    >\r\n      <gs-tab-pane\r\n        label=\"我的API\"\r\n        name=\"mine\"\r\n      />\r\n      <gs-tab-pane\r\n        label=\"全部API\"\r\n        name=\"all\"\r\n      />\r\n    </gs-tabs>\r\n    <div class=\"table\">\r\n      <div class=\"operation-box\">\r\n        <div class=\"left\">\r\n          <gs-button\r\n            type=\"primary\"\r\n            @click=\"createApi\"\r\n          >\r\n            创建API\r\n          </gs-button>\r\n          <gs-button\r\n            v-if=\"activeTab === 'mine'\"\r\n            @click=\"batchPublishApi\"\r\n          >批量发布API</gs-button>\r\n        </div>\r\n        <gs-search\r\n          v-model=\"keyword\"\r\n          placeholder=\"请输入API名称\"\r\n          @search=\"fetchTableList(1)\"\r\n          @clear=\"fetchTableList(1)\"\r\n        />\r\n      </div>\r\n      <el-table\r\n        :data=\"tableData\"\r\n        :pagination=\"pagination\"\r\n        style=\"width: 100%\"\r\n        paging\r\n        @size-change=\"sizeChange\"\r\n        @page-change=\"pageChange\"\r\n        @selection-change=\"handleSelectionChange\"\r\n      >\r\n        <el-table-column\r\n          :selectable=\"selectable\"\r\n          type=\"selection\"\r\n          fixed\r\n        />\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"API名称\"\r\n          width=\"120\"\r\n          show-overflow-tooltip\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <i\r\n              :class=\"{\r\n                'star': true,\r\n                'gs-icon-star-o': !scope.row.star,\r\n                'gs-icon-star': scope.row.star\r\n              }\"\r\n              :title=\"scope.row.star ? '取消收藏' : '收藏'\"\r\n              @click=\"collect(scope)\"\r\n            />\r\n            <span>{{ scope.row.name }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"groupName\"\r\n          label=\"分组\"\r\n          show-overflow-tooltip\r\n        />\r\n        <el-table-column\r\n          prop=\"version\"\r\n          label=\"版本\"\r\n          show-overflow-tooltip\r\n        />\r\n        <el-table-column\r\n          prop=\"updater\"\r\n          label=\"修改人\"\r\n          show-overflow-tooltip\r\n        />\r\n        <el-table-column\r\n          prop=\"updateTime\"\r\n          label=\"修改时间\"\r\n          show-overflow-tooltip\r\n        />\r\n        <el-table-column\r\n          :render-header=\"customRenderHeader\"\r\n          max-width=\"100\"\r\n          label=\"发布状态\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <span\r\n                :class=\"{'active': scope.row.publish}\"\r\n                class=\"dot\"\r\n              />\r\n              <span>{{ scope.row.publish ? '已发布' : '未发布' }}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"操作\"\r\n          width=\"160\"\r\n          fixed=\"right\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <gs-button\r\n              type=\"text-primary\"\r\n              @click=\"checkDetail(scope)\"\r\n            >详情</gs-button>\r\n            <gs-button\r\n              v-if=\"scope.row.publish && activeTab === 'mine'\"\r\n              :disabled=\"activeTab !== 'mine'\"\r\n              type=\"text-primary\"\r\n              @click=\"revoke(scope)\"\r\n            >撤销</gs-button>\r\n            <gs-button\r\n              v-if=\"!scope.row.publish && activeTab === 'mine'\"\r\n              :disabled=\"activeTab !== 'mine'\"\r\n              type=\"text-primary\"\r\n              @click=\"publish(scope)\"\r\n            >发布</gs-button>\r\n            <gs-button\r\n              type=\"text-primary\"\r\n              @click=\"copyApi(scope)\"\r\n            >克隆</gs-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <gs-pagination\r\n        v-bind=\"pagination\"\r\n        :page-sizes=\"[10, 20, 30]\"\r\n        :layout=\"'range,total,pagesizes,pager,jumper,jumpbtn'\"\r\n        @page-change=\"pageChange\"\r\n        @page-size-change=\"sizeChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport './style.scss';\r\nimport * as service from 'src/service/data-share/index';\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    activeGroup: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeTab: 'mine',\r\n      createApiModalVisible: false,\r\n      keyword: '',\r\n      tableData: [],\r\n      pagination: {\r\n        total: 0,\r\n        pageSize: 10,\r\n        pageSizes: [10, 20, 30],\r\n        current: 1\r\n      },\r\n      loading: false,\r\n      publishState: 'all',\r\n      selectApi: []\r\n    };\r\n  },\r\n  watch: {\r\n    activeGroup: {\r\n      handler(val) {\r\n        val.guid && this.fetchTableList(1);\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    batchPublishApi() {\r\n      if (!this.selectApi.length) {\r\n        this.$Message.warning(`请选择要发布的API`);\r\n        return;\r\n      }\r\n      localStorage && localStorage.setItem('SELECTED_API', JSON.stringify(this.selectApi));\r\n      this.$router.push('/main/data-share/publish');\r\n    },\r\n    publish(scope) {\r\n      localStorage && localStorage.setItem('SELECTED_API', JSON.stringify([scope.row]));\r\n      this.$router.push('/main/data-share/publish');\r\n    },\r\n    pageChange(current) {\r\n      this.pagination.current = current;\r\n      this.fetchTableList();\r\n    },\r\n    sizeChange(size) {\r\n      this.pagination.pageSize = size;\r\n      this.fetchTableList(1);\r\n    },\r\n    fetchTableList(page) {\r\n      if (page) this.pagination.current = page;\r\n      this.loading = true;\r\n      service.getApiList({\r\n        guid: this.activeGroup.guid,\r\n        belong: this.activeTab === 'mine' ? 0 : 1,\r\n        publishState: this.publishState,\r\n        offset: (this.pagination.current - 1) * this.pagination.pageSize,\r\n        limit: this.pagination.pageSize,\r\n        query: this.keyword\r\n      }).then(data => {\r\n        this.pagination.total = data.sum;\r\n        this.tableData = data.lists;\r\n        this.loading = false;\r\n      }).catch(e => {\r\n        this.loading = false;\r\n      });\r\n    },\r\n    checkDetail(scope) {\r\n      this.$router.push({\r\n        path: `/main/data-share/detail/${scope.row.guid}`,\r\n        query: {\r\n          groupId: this.activeGroup.guid\r\n        }\r\n      });\r\n    },\r\n    revoke(scope) {\r\n      this.$Modal.confirm({\r\n        title: '撤销',\r\n        content: '该API已发布，是否撤销？',\r\n        onOk: () => {\r\n          service.unPublishApi({\r\n            ids: [scope.row.guid]\r\n          }).then(data => {\r\n            this.$Message.success(`撤销成功`);\r\n            this.fetchTableList();\r\n          });\r\n        }\r\n      });\r\n    },\r\n    copyApi(scope) {\r\n      this.$router.push({\r\n        name: `/main/data-share/create`,\r\n        query: {\r\n          apiId: scope.row.guid\r\n        }\r\n      });\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.selectApi = val;\r\n    },\r\n    customRenderHeader(h, { column, $index }) {\r\n      const { publishState, handleStateChange } = this;\r\n      return (\r\n        <div>\r\n          <span>状态</span>\r\n          <gs-popover>\r\n            <gs-icon\r\n              name=\"filter\"\r\n              mode=\"button\"\r\n              type=\"primary\"\r\n              slot=\"reference\"\r\n            />\r\n            <gs-radio-group\r\n              class=\"filter-radio-group\"\r\n              value={publishState}\r\n              on-change={handleStateChange.bind(this)}\r\n            >\r\n              <gs-radio label=\"all\">全部</gs-radio>\r\n              <gs-radio label=\"publish\">发布</gs-radio>\r\n              <gs-radio label=\"unpublish\">未发布</gs-radio>\r\n            </gs-radio-group>\r\n          </gs-popover>\r\n        </div>\r\n      );\r\n    },\r\n    handleStateChange(val) {\r\n      this.publishState = val;\r\n      this.fetchTableList(1);\r\n    },\r\n    createApi() {\r\n      this.$router.push({\r\n        name: `/main/data-share/create`,\r\n        query: {\r\n          groupId: this.$route.query.groupId\r\n        }\r\n      });\r\n    },\r\n    collect(scope) {\r\n      service[scope.row.star ? 'unCollectApi' : 'collectApi']({\r\n        id: scope.row.guid\r\n      }).then(data => {\r\n        this.fetchTableList();\r\n      });\r\n    },\r\n    selectable(row, index) {\r\n      return !row.publish;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?4b8c5da2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"api-tablelist\"\n  }, [_c('gs-tabs', {\n    attrs: {\n      \"type\": \"content-tab\"\n    },\n    on: {\n      \"tab-click\": function($event) {\n        return _vm.fetchTableList(1)\n      }\n    },\n    model: {\n      value: (_vm.activeTab),\n      callback: function($$v) {\n        _vm.activeTab = $$v\n      },\n      expression: \"activeTab\"\n    }\n  }, [_c('gs-tab-pane', {\n    attrs: {\n      \"label\": \"我的API\",\n      \"name\": \"mine\"\n    }\n  }), _vm._v(\" \"), _c('gs-tab-pane', {\n    attrs: {\n      \"label\": \"全部API\",\n      \"name\": \"all\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"table\"\n  }, [_c('div', {\n    staticClass: \"operation-box\"\n  }, [_c('div', {\n    staticClass: \"left\"\n  }, [_c('gs-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.createApi\n    }\n  }, [_vm._v(\"\\n          创建API\\n        \")]), _vm._v(\" \"), (_vm.activeTab === 'mine') ? _c('gs-button', {\n    on: {\n      \"click\": _vm.batchPublishApi\n    }\n  }, [_vm._v(\"批量发布API\")]) : _vm._e()], 1), _vm._v(\" \"), _c('gs-search', {\n    attrs: {\n      \"placeholder\": \"请输入API名称\"\n    },\n    on: {\n      \"search\": function($event) {\n        return _vm.fetchTableList(1)\n      },\n      \"clear\": function($event) {\n        return _vm.fetchTableList(1)\n      }\n    },\n    model: {\n      value: (_vm.keyword),\n      callback: function($$v) {\n        _vm.keyword = $$v\n      },\n      expression: \"keyword\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"pagination\": _vm.pagination,\n      \"paging\": \"\"\n    },\n    on: {\n      \"size-change\": _vm.sizeChange,\n      \"page-change\": _vm.pageChange,\n      \"selection-change\": _vm.handleSelectionChange\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"selectable\": _vm.selectable,\n      \"type\": \"selection\",\n      \"fixed\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"API名称\",\n      \"width\": \"120\",\n      \"show-overflow-tooltip\": \"\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('i', {\n          class: {\n            'star': true,\n            'gs-icon-star-o': !scope.row.star,\n              'gs-icon-star': scope.row.star\n          },\n          attrs: {\n            \"title\": scope.row.star ? '取消收藏' : '收藏'\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.collect(scope)\n            }\n          }\n        }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(scope.row.name))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"groupName\",\n      \"label\": \"分组\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"version\",\n      \"label\": \"版本\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"updater\",\n      \"label\": \"修改人\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"updateTime\",\n      \"label\": \"修改时间\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"render-header\": _vm.customRenderHeader,\n      \"max-width\": \"100\",\n      \"label\": \"发布状态\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('div', [_c('span', {\n          staticClass: \"dot\",\n          class: {\n            'active': scope.row.publish\n          }\n        }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(scope.row.publish ? '已发布' : '未发布'))])])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"160\",\n      \"fixed\": \"right\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('gs-button', {\n          attrs: {\n            \"type\": \"text-primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.checkDetail(scope)\n            }\n          }\n        }, [_vm._v(\"详情\")]), _vm._v(\" \"), (scope.row.publish && _vm.activeTab === 'mine') ? _c('gs-button', {\n          attrs: {\n            \"disabled\": _vm.activeTab !== 'mine',\n            \"type\": \"text-primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.revoke(scope)\n            }\n          }\n        }, [_vm._v(\"撤销\")]) : _vm._e(), _vm._v(\" \"), (!scope.row.publish && _vm.activeTab === 'mine') ? _c('gs-button', {\n          attrs: {\n            \"disabled\": _vm.activeTab !== 'mine',\n            \"type\": \"text-primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.publish(scope)\n            }\n          }\n        }, [_vm._v(\"发布\")]) : _vm._e(), _vm._v(\" \"), _c('gs-button', {\n          attrs: {\n            \"type\": \"text-primary\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.copyApi(scope)\n            }\n          }\n        }, [_vm._v(\"克隆\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('gs-pagination', _vm._b({\n    attrs: {\n      \"page-sizes\": [10, 20, 30],\n      \"layout\": 'range,total,pagesizes,pager,jumper,jumpbtn'\n    },\n    on: {\n      \"page-change\": _vm.pageChange,\n      \"page-size-change\": _vm.sizeChange\n    }\n  }, 'gs-pagination', _vm.pagination, false))], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29605c4c\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/data-share/overview/api-tablelist/index.vue\n// module id = 2139\n// module chunks = 26"],"sourceRoot":""}