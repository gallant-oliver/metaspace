{"version":3,"sources":["webpack:///./src/components/action-comfirm/action-comfirm.vue?c66a","webpack:///src/components/action-comfirm/action-comfirm.vue","webpack:///./src/components/action-comfirm/action-comfirm.vue?3eae","webpack:///./src/components/action-comfirm/action-comfirm.vue","webpack:///./src/components/action-comfirm/index.js","webpack:///./src/views/metadata-management/table-create/index.vue?40f4","webpack:///./src/views/metadata-management/table-create/form-mode.vue?64bf","webpack:///./src/views/metadata-management/table-create/field-table.vue?e9f7","webpack:///src/views/metadata-management/table-create/field-table.vue","webpack:///./src/views/metadata-management/table-create/field-table.vue?831d","webpack:///./src/views/metadata-management/table-create/field-table.vue","webpack:///src/views/metadata-management/table-create/form-mode.vue","webpack:///./src/views/metadata-management/table-create/form-mode.vue?496b","webpack:///./src/views/metadata-management/table-create/form-mode.vue","webpack:///./src/views/metadata-management/table-create/sql-mode.vue?c7b8","webpack:///src/views/metadata-management/table-create/sql-mode.vue","webpack:///./src/views/metadata-management/table-create/sql-mode.vue?4ad4","webpack:///./src/views/metadata-management/table-create/sql-mode.vue","webpack:///src/views/metadata-management/table-create/index.vue","webpack:///./src/views/metadata-management/table-create/index.vue?22d0","webpack:///./src/views/metadata-management/table-create/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_b","ref","staticClass","attrs","supernatant","placement","trigger","model","value","callback","$$v","visible","expression","popoverProps","_t","name","_v","_s","title","type","on","click","onComfirm","onCancel","slot","staticRenderFns","action_comfirmvue_type_script_lang_js_","props","String","default","Object","data","methods","$emit","action_comfirm_action_comfirmvue_type_script_lang_js_","component","componentNormalizer","action_comfirm","ActionComfirm","activeName","label","databases","list","formData","sqlData","handleScan","_e","comfirm","createTable","loading","isCreating","cancelCreate","form_modevue_type_template_id_5219c22b_render","rules","label-width","prop","required","placeholder","$set","_l","database","index","key","change","handleTableTypeChange","tableType","item","form_modevue_type_template_id_5219c22b_staticRenderFns","field_tablevue_type_template_id_1af55804_render","dataSources","border","width","scopedSlots","_u","fn","scope","validate-event","isValid","row","columnName","$event","handleColumnInput","deleteField","addField","field_tablevue_type_template_id_1af55804_staticRenderFns","field_tablevue_type_script_lang_js_","components","mixins","emitter","Array","fieldTypes","watch","val","re","test","_this","push","description","$nextTick","$refs","columnInput","focus","splice","$index","dispatch","table_create_field_tablevue_type_script_lang_js_","field_table","form_modevue_type_script_lang_js_","FieldTable","filedsValidator","rule","cb","length","i","Error","concat","terminatedValidator","fileTypes","requiredTerminated","tableName","validator","hdfsPath","message","fields","partitionFields","fieldsTerminated","mounted","$watch","deep","form","validateField","table_create_form_modevue_type_script_lang_js_","form_mode_component","form_mode","sql_modevue_type_template_id_23872f4f_render","disabled","options","cmOptions","sql_modevue_type_template_id_23872f4f_staticRenderFns","sql_modevue_type_script_lang_js_","readOnly","tabSize","mode","styleActiveLine","lineNumbers","line","table_create_sql_modevue_type_script_lang_js_","sql_mode_component","sql_mode","table_createvue_type_script_lang_js_","FormMode","SqlMode","lifecycle","expireDate","isPartition","storedFormat","lineTerminated","sql","computed","objectSpread2","vuex_esm","transformForm2Sql","then","getDatabases","form2sql","_this$formData","external","TABLE","FIELDS","createFieldStatement","STORED","LOCATION","PARTITIONED","join","statement","map","field","desc","_this2","success","res","$Message","setTimeout","$router","path","tableId","fail","formMode","validate","createTableByForm","createTableBySql","metadata_management_table_createvue_type_script_lang_js_","table_create_component","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-05886bb2.b2b014cf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('gs-popover',_vm._b({ref:\"popover\",staticClass:\"action-comfirm-popover\",attrs:{\"supernatant\":\"\",\"placement\":\"top\",\"trigger\":\"click\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},'gs-popover',_vm.popoverProps,false),[_c('div',{staticClass:\"action-comfirm\"},[_vm._t(\"default\",[_c('gs-icon',{staticClass:\"action-comfirm-tip-icon\",attrs:{\"name\":\"exclamation-circle\"}}),_vm._v(_vm._s(_vm.title)+\"\\n    \")])],2),_c('div',{staticClass:\"action-comfirm-footer\"},[_c('gs-button',{attrs:{\"type\":\"text-primary\"},on:{\"click\":_vm.onComfirm}},[_vm._v(\"\\n      确定\\n    \")]),_c('gs-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.onCancel}},[_vm._v(\"\\n      取消\\n    \")])],1),_vm._t(\"reference\",null,{\"slot\":\"reference\"})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <gs-popover\r\n    ref=\"popover\"\r\n    v-model=\"visible\"\r\n    v-bind=\"popoverProps\"\r\n    class=\"action-comfirm-popover\"\r\n    supernatant\r\n    placement=\"top\"\r\n    trigger=\"click\"\r\n  >\r\n    <div class=\"action-comfirm\">\r\n      <slot>\r\n        <gs-icon\r\n          class=\"action-comfirm-tip-icon\"\r\n          name=\"exclamation-circle\"\r\n        />{{ title }}\r\n      </slot>\r\n    </div>\r\n    <div class=\"action-comfirm-footer\">\r\n      <gs-button\r\n        type=\"text-primary\"\r\n        @click=\"onComfirm\"\r\n      >\r\n        确定\r\n      </gs-button>\r\n      <gs-button\r\n        type=\"text\"\r\n        @click=\"onCancel\"\r\n      >\r\n        取消\r\n      </gs-button>\r\n    </div>\r\n    <slot\r\n      slot=\"reference\"\r\n      name=\"reference\"\r\n    />\r\n  </gs-popover>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    popoverProps: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      visible: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    onComfirm() {\r\n      this.visible = false;\r\n      this.$emit('comfirm');\r\n    },\r\n\r\n    onCancel() {\r\n      this.visible = false;\r\n      this.$emit('cancel');\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-comfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-comfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./action-comfirm.vue?vue&type=template&id=1bfc45d4&\"\nimport script from \"./action-comfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./action-comfirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ActionComfirm from './action-comfirm.vue';\r\nimport './style.scss';\r\n\r\nexport default ActionComfirm;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-create-page\"},[_c('h3',{staticClass:\"table-create-title\"},[_vm._v(\"\\n    新建离线表\\n  \")]),_c('gs-tabs',{attrs:{\"type\":\"content-tab\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('gs-tab-pane',{attrs:{\"label\":\"表单模式\",\"name\":\"form\"}},[_c('form-mode',{ref:\"formMode\",attrs:{\"databases\":_vm.databases.list},model:{value:(_vm.formData),callback:function ($$v) {_vm.formData=$$v},expression:\"formData\"}})],1),_c('gs-tab-pane',{attrs:{\"label\":\"SQL模式\",\"name\":\"sql\"}},[_c('sql-mode',{ref:\"sqlMode\",attrs:{\"databases\":_vm.databases.list,\"value\":_vm.sqlData}})],1)],1),_c('div',{staticClass:\"sql-scan\"},[(_vm.activeName !== 'sql')?_c('gs-button',{attrs:{\"type\":\"text-primary\"},on:{\"click\":_vm.handleScan}},[_vm._v(\"\\n      预览\\n    \")]):_vm._e()],1),_c('div',{staticClass:\"action-btns\"},[_c('action-comfirm',{attrs:{\"title\":\"确定新建离线表吗？\"},on:{\"comfirm\":_vm.createTable}},[_c('gs-button',{attrs:{\"slot\":\"reference\",\"loading\":_vm.isCreating,\"type\":\"primary\"},slot:\"reference\"},[_vm._v(\"\\n        确定\\n      \")])],1),_c('action-comfirm',{attrs:{\"title\":\"确定取消新建离线表吗？\"},on:{\"comfirm\":_vm.cancelCreate}},[_c('gs-button',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(\"\\n        取消\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-mode\"},[_c('gs-form',{ref:\"form\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-width\":\"90px\"}},[_c('gs-form-item',{attrs:{\"label\":\"数据库\",\"prop\":\"database\",\"required\":\"\"}},[_c('gs-select',{attrs:{\"placeholder\":\"请选择数据库\"},model:{value:(_vm.formData.database),callback:function ($$v) {_vm.$set(_vm.formData, \"database\", $$v)},expression:\"formData.database\"}},_vm._l((_vm.databases),function(database,index){return _c('gs-option',{key:index,attrs:{\"label\":database.label,\"value\":database.label}})}),1)],1),_c('gs-form-item',{attrs:{\"label\":\"表名称\",\"prop\":\"tableName\",\"required\":\"\"}},[_c('gs-input',{attrs:{\"placeholder\":\"请输入表名称\"},model:{value:(_vm.formData.tableName),callback:function ($$v) {_vm.$set(_vm.formData, \"tableName\", $$v)},expression:\"formData.tableName\"}})],1),_c('gs-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"tableType\"}},[_c('gs-radio-group',{on:{\"change\":_vm.handleTableTypeChange},model:{value:(_vm.formData.tableType),callback:function ($$v) {_vm.$set(_vm.formData, \"tableType\", $$v)},expression:\"formData.tableType\"}},[_c('gs-radio',{attrs:{\"label\":1}},[_vm._v(\"\\n          外部表\\n        \")]),_c('gs-radio',{attrs:{\"label\":2}},[_vm._v(\"\\n          内部表\\n        \")])],1)],1),(_vm.formData.tableType === 1)?_c('gs-form-item',{key:\"hdfsPath\",attrs:{\"label\":\"HDFS路径\",\"prop\":\"hdfsPath\"}},[_c('gs-input',{attrs:{\"placeholder\":\"请输入HDFS路径\"},model:{value:(_vm.formData.hdfsPath),callback:function ($$v) {_vm.$set(_vm.formData, \"hdfsPath\", $$v)},expression:\"formData.hdfsPath\"}})],1):_vm._e(),_c('gs-form-item',{key:\"fieldsTerminated\",attrs:{\"label\":\"字段分隔符\",\"prop\":\"fieldsTerminated\"}},[_c('gs-input',{attrs:{\"placeholder\":\"请输入字段分隔符\"},model:{value:(_vm.formData.fieldsTerminated),callback:function ($$v) {_vm.$set(_vm.formData, \"fieldsTerminated\", $$v)},expression:\"formData.fieldsTerminated\"}})],1),_c('gs-form-item',{key:\"lineTerminated\",attrs:{\"label\":\"行分隔符\",\"prop\":\"lineTerminated\"}},[_c('gs-input',{attrs:{\"placeholder\":\"请输入行分隔符\"},model:{value:(_vm.formData.lineTerminated),callback:function ($$v) {_vm.$set(_vm.formData, \"lineTerminated\", $$v)},expression:\"formData.lineTerminated\"}})],1),_c('gs-form-item',{staticClass:\"field-table-item\",attrs:{\"label\":\"普通字段\",\"prop\":\"fields\",\"required\":\"\"}},[_c('field-table',{model:{value:(_vm.formData.fields),callback:function ($$v) {_vm.$set(_vm.formData, \"fields\", $$v)},expression:\"formData.fields\"}})],1),_c('gs-form-item',{attrs:{\"label\":\"分区表\",\"prop\":\"isPartition\"}},[_c('gs-checkbox-group',{model:{value:(_vm.formData.isPartition),callback:function ($$v) {_vm.$set(_vm.formData, \"isPartition\", $$v)},expression:\"formData.isPartition\"}},[_c('gs-checkbox')],1)],1),(_vm.formData.isPartition)?_c('gs-form-item',{staticClass:\"field-table-item\",attrs:{\"label\":\"分区字段\",\"prop\":\"partitionFields\",\"required\":\"\"}},[_c('field-table',{model:{value:(_vm.formData.partitionFields),callback:function ($$v) {_vm.$set(_vm.formData, \"partitionFields\", $$v)},expression:\"formData.partitionFields\"}})],1):_vm._e(),_c('gs-form-item',{attrs:{\"label\":\"HDFS文件格式\",\"prop\":\"storedFormat\"}},[_c('gs-select',{attrs:{\"placeholder\":\"请选择HDFS文件格式\"},model:{value:(_vm.formData.storedFormat),callback:function ($$v) {_vm.$set(_vm.formData, \"storedFormat\", $$v)},expression:\"formData.storedFormat\"}},_vm._l((_vm.fileTypes),function(item,index){return _c('gs-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-table\"},[_c('el-table',{attrs:{\"data\":_vm.dataSources,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"columnName\",\"label\":\"列名\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('gs-input',{ref:\"columnInput\",attrs:{\"validate-event\":!_vm.isValid(scope.row.columnName),\"placeholder\":\"请输入列名\"},on:{\"change\":function($event){return _vm.handleColumnInput(scope)}},model:{value:(scope.row.columnName),callback:function ($$v) {_vm.$set(scope.row, \"columnName\", $$v)},expression:\"scope.row.columnName\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('gs-input',{attrs:{\"validate-event\":false,\"placeholder\":\"请输入字段描述\"},on:{\"change\":function($event){return _vm.handleColumnInput(scope)}},model:{value:(scope.row.description),callback:function ($$v) {_vm.$set(scope.row, \"description\", $$v)},expression:\"scope.row.description\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('gs-select',{attrs:{\"validate-event\":false,\"placeholder\":\"请选择数据库\"},on:{\"change\":function($event){return _vm.handleColumnInput(scope)}},model:{value:(scope.row.type),callback:function ($$v) {_vm.$set(scope.row, \"type\", $$v)},expression:\"scope.row.type\"}},_vm._l((_vm.fieldTypes),function(item,index){return _c('gs-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('action-comfirm',{attrs:{\"title\":\"确定删除该字段吗？\"},on:{\"comfirm\":function($event){return _vm.deleteField(scope)}}},[_c('span',{staticClass:\"remove-icon\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('gs-icon',{attrs:{\"name\":\"close\"}}),_vm._v(\"删除\\n          \")],1)])]}}])})],1),_c('span',{staticClass:\"add-icon\",on:{\"click\":_vm.addField}},[_c('gs-icon',{attrs:{\"name\":\"plus-circle\"}}),_c('span',[_vm._v(\"添加\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"field-table\">\r\n    <el-table\r\n      :data=\"dataSources\"\r\n      border\r\n    >\r\n      <el-table-column\r\n        prop=\"columnName\"\r\n        label=\"列名\"\r\n        width=\"180\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <gs-input\r\n            ref=\"columnInput\"\r\n            v-model=\"scope.row.columnName\"\r\n            :validate-event=\"!isValid(scope.row.columnName)\"\r\n            placeholder=\"请输入列名\"\r\n            @change=\"handleColumnInput(scope)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"description\"\r\n        label=\"描述\"\r\n        width=\"180\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <gs-input\r\n            v-model=\"scope.row.description\"\r\n            :validate-event=\"false\"\r\n            placeholder=\"请输入字段描述\"\r\n            @change=\"handleColumnInput(scope)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"type\"\r\n        label=\"类型\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <gs-select\r\n            v-model=\"scope.row.type\"\r\n            :validate-event=\"false\"\r\n            placeholder=\"请选择数据库\"\r\n            @change=\"handleColumnInput(scope)\"\r\n          >\r\n            <gs-option\r\n              v-for=\"(item, index) in fieldTypes\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            />\r\n          </gs-select>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"id\"\r\n        label=\"操作\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <action-comfirm\r\n            title=\"确定删除该字段吗？\"\r\n            @comfirm=\"deleteField(scope)\"\r\n          >\r\n            <span\r\n              slot=\"reference\"\r\n              class=\"remove-icon\"\r\n            >\r\n              <gs-icon name=\"close\" />删除\r\n            </span>\r\n          </action-comfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <span\r\n      class=\"add-icon\"\r\n      @click=\"addField\"\r\n    >\r\n      <gs-icon name=\"plus-circle\" /><span>添加</span>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@gs-ui/gs-ui/lib/_utils/mixins/emitter';\r\nimport ActionComfirm from 'src/components/action-comfirm';\r\n\r\nexport default {\r\n  components: {\r\n    ActionComfirm\r\n  },\r\n\r\n  mixins: [emitter],\r\n\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      fieldTypes: [\r\n        'BOOLEAN',\r\n        'TINYINT',\r\n        'SMALLINT',\r\n        'INT',\r\n        'BIGINT',\r\n        'FLOAT',\r\n        'DOUBLE',\r\n        'DECIMAL',\r\n        'STRING',\r\n        'BINARY',\r\n        'TIMESTAMP',\r\n        'DATE'\r\n      ],\r\n      dataSources: this.value\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value(val) {\r\n      this.dataSources = val;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    isValid(value) {\r\n      const re = /^[a-zA-Z$_][a-zA-Z\\d_]*$/;\r\n\r\n      return value && re.test(value);\r\n    },\r\n\r\n    addField() {\r\n      this.dataSources.push({\r\n        columnName: '',\r\n        description: '',\r\n        type: this.fieldTypes[0]\r\n      });\r\n      this.$emit('input', this.dataSources);\r\n      this.$nextTick(() => {\r\n        this.$refs.columnInput.focus();\r\n      });\r\n    },\r\n\r\n    deleteField(scope) {\r\n      this.dataSources.splice(scope.$index, 1);\r\n      this.$emit('input', this.dataSources);\r\n      this.dispatch('GsFormItem', 'gs.form.change', this.dataSources);\r\n    },\r\n\r\n    handleColumnInput(scope) {\r\n      const {\r\n        $index,\r\n        row\r\n      } = scope;\r\n\r\n      this.dataSources[$index] = row;\r\n      this.$emit('input', this.dataSources);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./field-table.vue?vue&type=template&id=1af55804&\"\nimport script from \"./field-table.vue?vue&type=script&lang=js&\"\nexport * from \"./field-table.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"form-mode\">\r\n    <gs-form\r\n      ref=\"form\"\r\n      :model=\"formData\"\r\n      :rules=\"rules\"\r\n      label-width=\"90px\"\r\n    >\r\n      <gs-form-item\r\n        label=\"数据库\"\r\n        prop=\"database\"\r\n        required\r\n      >\r\n        <gs-select\r\n          v-model=\"formData.database\"\r\n          placeholder=\"请选择数据库\"\r\n        >\r\n          <gs-option\r\n            v-for=\"(database, index) in databases\"\r\n            :key=\"index\"\r\n            :label=\"database.label\"\r\n            :value=\"database.label\"\r\n          />\r\n        </gs-select>\r\n      </gs-form-item>\r\n\r\n      <gs-form-item\r\n        label=\"表名称\"\r\n        prop=\"tableName\"\r\n        required\r\n      >\r\n        <gs-input\r\n          v-model=\"formData.tableName\"\r\n          placeholder=\"请输入表名称\"\r\n        />\r\n      </gs-form-item>\r\n\r\n      <gs-form-item\r\n        label=\"类型\"\r\n        prop=\"tableType\"\r\n      >\r\n        <gs-radio-group\r\n          v-model=\"formData.tableType\"\r\n          @change=\"handleTableTypeChange\"\r\n        >\r\n          <gs-radio :label=\"1\">\r\n            外部表\r\n          </gs-radio>\r\n          <gs-radio :label=\"2\">\r\n            内部表\r\n          </gs-radio>\r\n        </gs-radio-group>\r\n      </gs-form-item>\r\n\r\n      <!-- <gs-form-item\r\n        v-if=\"formData.tableType === 2\"\r\n        label=\"表生命周期\"\r\n        prop=\"lifecycle\"\r\n      >\r\n        <gs-radio-group v-model=\"formData.lifecycle\">\r\n          <gs-radio :label=\"1\">永久</gs-radio>\r\n          <gs-radio :label=\"2\">自定义</gs-radio>\r\n          <gs-input-number\r\n            v-if=\"formData.lifecycle === 2\"\r\n            v-model=\"formData.expireDate\"\r\n            min=\"0\"\r\n            placeholder=\"天\"\r\n          />\r\n        </gs-radio-group>\r\n      </gs-form-item> -->\r\n\r\n      <gs-form-item\r\n        v-if=\"formData.tableType === 1\"\r\n        key=\"hdfsPath\"\r\n        label=\"HDFS路径\"\r\n        prop=\"hdfsPath\"\r\n      >\r\n        <gs-input\r\n          v-model=\"formData.hdfsPath\"\r\n          placeholder=\"请输入HDFS路径\"\r\n        />\r\n      </gs-form-item>\r\n\r\n      <gs-form-item\r\n        key=\"fieldsTerminated\"\r\n        label=\"字段分隔符\"\r\n        prop=\"fieldsTerminated\"\r\n      >\r\n        <gs-input\r\n          v-model=\"formData.fieldsTerminated\"\r\n          placeholder=\"请输入字段分隔符\"\r\n        />\r\n      </gs-form-item>\r\n\r\n      <gs-form-item\r\n        key=\"lineTerminated\"\r\n        label=\"行分隔符\"\r\n        prop=\"lineTerminated\"\r\n      >\r\n        <gs-input\r\n          v-model=\"formData.lineTerminated\"\r\n          placeholder=\"请输入行分隔符\"\r\n        />\r\n      </gs-form-item>\r\n\r\n      <!-- <gs-form-item\r\n        label=\"模式\"\r\n        prop=\"fieldMode\"\r\n      >\r\n        <gs-radio-group v-model=\"formData.fieldMode\">\r\n          <gs-radio :label=\"1\">手动添加字段</gs-radio>\r\n        </gs-radio-group>\r\n      </gs-form-item> -->\r\n\r\n      <gs-form-item\r\n        class=\"field-table-item\"\r\n        label=\"普通字段\"\r\n        prop=\"fields\"\r\n        required\r\n      >\r\n        <field-table v-model=\"formData.fields\" />\r\n      </gs-form-item>\r\n\r\n      <gs-form-item\r\n        label=\"分区表\"\r\n        prop=\"isPartition\"\r\n      >\r\n        <gs-checkbox-group v-model=\"formData.isPartition\">\r\n          <gs-checkbox />\r\n        </gs-checkbox-group>\r\n      </gs-form-item>\r\n\r\n      <gs-form-item\r\n        v-if=\"formData.isPartition\"\r\n        class=\"field-table-item\"\r\n        label=\"分区字段\"\r\n        prop=\"partitionFields\"\r\n        required\r\n      >\r\n        <field-table v-model=\"formData.partitionFields\" />\r\n      </gs-form-item>\r\n\r\n      <gs-form-item\r\n        label=\"HDFS文件格式\"\r\n        prop=\"storedFormat\"\r\n      >\r\n        <gs-select\r\n          v-model=\"formData.storedFormat\"\r\n          placeholder=\"请选择HDFS文件格式\"\r\n        >\r\n          <gs-option\r\n            v-for=\"(item, index) in fileTypes\"\r\n            :key=\"index\"\r\n            :label=\"item\"\r\n            :value=\"item\"\r\n          />\r\n        </gs-select>\r\n      </gs-form-item>\r\n    </gs-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FieldTable from './field-table';\r\n\r\nconst re = /^[a-zA-Z$_][a-zA-Z\\d_]*$/;\r\n\r\nexport default {\r\n  components: {\r\n    FieldTable\r\n  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    },\r\n    databases: {\r\n      type: Array,\r\n      default() {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    const filedsValidator = (rule, value, cb) => {\r\n      if (!value || value.length === 0) {\r\n        cb(new Error('字段不能为空'));\r\n      } else {\r\n        for (let i = 0; i < value.length; i++) {\r\n          const columnName = value[i].columnName;\r\n\r\n          if (!columnName) {\r\n            cb(new Error(`第${i + 1}行的列名不能为空`));\r\n            return;\r\n          } else if (!re.test(columnName)) {\r\n            cb(new Error(`第${i + 1}行的列名不合法`));\r\n            return;\r\n          }\r\n        }\r\n        cb();\r\n      }\r\n    };\r\n    const terminatedValidator = (rule, value, cb) => {\r\n      if (!value) {\r\n        cb(new Error('字段分隔符不能为空'));\r\n      } else if (/\\\\n/.test(value)) {\r\n        cb(new Error('字段分隔符不能为换行符'));\r\n      } else {\r\n        cb();\r\n      }\r\n    };\r\n\r\n    return {\r\n      formData: this.value,\r\n      fileTypes: ['avro', 'parquet', 'textfile', 'sequencefile', 'orc'],\r\n      requiredTerminated: true,\r\n      rules: {\r\n        tableName: [\r\n          {\r\n            validator: (rule, value, cb) => {\r\n              if (!value) {\r\n                cb(new Error('表名不能为空'));\r\n              } else if (!re.test(value)) {\r\n                cb(new Error('请输入合法的表名'));\r\n              } else if (value.length >= 64) {\r\n                cb(new Error('表名长度不能超过64个字符'));\r\n              } else {\r\n                cb();\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        hdfsPath: [\r\n          {\r\n            message: 'HDFS路径不能为空',\r\n            required: true\r\n          }\r\n        ],\r\n        fields: [\r\n          {\r\n            validator: filedsValidator\r\n          }\r\n        ],\r\n        partitionFields: [\r\n          {\r\n            validator: filedsValidator\r\n          }\r\n        ],\r\n        fieldsTerminated: [\r\n          {\r\n            required: true,\r\n            validator: terminatedValidator\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value(val) {\r\n      this.formData = val;\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.$watch('formData', () => {\r\n      this.$emit('input', this.formData);\r\n    }, {\r\n      deep: true\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    handleTableTypeChange(val) {\r\n      this.rules.fieldsTerminated[0].required = val === 1;\r\n      if (val === 2) {\r\n        this.$refs.form.validateField('fieldsTerminated');\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form-mode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form-mode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form-mode.vue?vue&type=template&id=5219c22b&\"\nimport script from \"./form-mode.vue?vue&type=script&lang=js&\"\nexport * from \"./form-mode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sql-mode\"},[_c('gs-form',{ref:\"form\",attrs:{\"model\":_vm.sqlData,\"label-width\":\"80px\"}},[_c('gs-form-item',{attrs:{\"label\":\"数据库\",\"prop\":\"database\"}},[_c('gs-select',{attrs:{\"placeholder\":\"请选择数据库\",\"disabled\":\"\"},model:{value:(_vm.sqlData.database),callback:function ($$v) {_vm.$set(_vm.sqlData, \"database\", $$v)},expression:\"sqlData.database\"}},_vm._l((_vm.databases),function(database,index){return _c('gs-option',{key:index,attrs:{\"label\":database.label,\"value\":database.label}})}),1)],1)],1),_c('div',{staticClass:\"codemirror-input\"},[_c('label',{staticClass:\"codemirror-input-label\"},[_vm._v(\"建表语句\")]),_c('codemirror',{attrs:{\"options\":_vm.cmOptions},model:{value:(_vm.sqlData.sql),callback:function ($$v) {_vm.$set(_vm.sqlData, \"sql\", $$v)},expression:\"sqlData.sql\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"sql-mode\">\r\n    <gs-form\r\n      ref=\"form\"\r\n      :model=\"sqlData\"\r\n      label-width=\"80px\"\r\n    >\r\n      <gs-form-item\r\n        label=\"数据库\"\r\n        prop=\"database\"\r\n      >\r\n        <gs-select\r\n          v-model=\"sqlData.database\"\r\n          placeholder=\"请选择数据库\"\r\n          disabled\r\n        >\r\n          <gs-option\r\n            v-for=\"(database, index) in databases\"\r\n            :key=\"index\"\r\n            :label=\"database.label\"\r\n            :value=\"database.label\"\r\n          />\r\n        </gs-select>\r\n      </gs-form-item>\r\n    </gs-form>\r\n    <div class=\"codemirror-input\">\r\n      <label class=\"codemirror-input-label\">建表语句</label>\r\n      <codemirror\r\n        v-model=\"sqlData.sql\"\r\n        :options=\"cmOptions\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    },\r\n    databases: {\r\n      type: Array,\r\n      default() {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      sqlData: this.value,\r\n      cmOptions: {\r\n        readOnly: 'nocursor',\r\n        tabSize: 4,\r\n        mode: 'text/x-hive',\r\n        styleActiveLine: true,\r\n        lineNumbers: true,\r\n        line: true\r\n      }\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value(val) {\r\n      this.sqlData = val;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sql-mode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sql-mode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sql-mode.vue?vue&type=template&id=23872f4f&\"\nimport script from \"./sql-mode.vue?vue&type=script&lang=js&\"\nexport * from \"./sql-mode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"table-create-page\">\r\n    <h3 class=\"table-create-title\">\r\n      新建离线表\r\n    </h3>\r\n    <gs-tabs\r\n      v-model=\"activeName\"\r\n      type=\"content-tab\"\r\n    >\r\n      <gs-tab-pane\r\n        label=\"表单模式\"\r\n        name=\"form\"\r\n      >\r\n        <form-mode\r\n          ref=\"formMode\"\r\n          v-model=\"formData\"\r\n          :databases=\"databases.list\"\r\n        />\r\n      </gs-tab-pane>\r\n      <gs-tab-pane\r\n        label=\"SQL模式\"\r\n        name=\"sql\"\r\n      >\r\n        <sql-mode\r\n          ref=\"sqlMode\"\r\n          :databases=\"databases.list\"\r\n          :value=\"sqlData\"\r\n        />\r\n      </gs-tab-pane>\r\n    </gs-tabs>\r\n\r\n    <div class=\"sql-scan\">\r\n      <gs-button\r\n        v-if=\"activeName !== 'sql'\"\r\n        type=\"text-primary\"\r\n        @click=\"handleScan\"\r\n      >\r\n        预览\r\n      </gs-button>\r\n    </div>\r\n\r\n    <div class=\"action-btns\">\r\n      <action-comfirm\r\n        title=\"确定新建离线表吗？\"\r\n        @comfirm=\"createTable\"\r\n      >\r\n        <gs-button\r\n          slot=\"reference\"\r\n          :loading=\"isCreating\"\r\n          type=\"primary\"\r\n        >\r\n          确定\r\n        </gs-button>\r\n      </action-comfirm>\r\n      <action-comfirm\r\n        title=\"确定取消新建离线表吗？\"\r\n        @comfirm=\"cancelCreate\"\r\n      >\r\n        <gs-button slot=\"reference\">\r\n          取消\r\n        </gs-button>\r\n      </action-comfirm>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  mapState,\r\n  mapActions\r\n} from 'vuex';\r\nimport ActionComfirm from 'src/components/action-comfirm';\r\nimport FormMode from './form-mode';\r\nimport SqlMode from './sql-mode';\r\nimport './style.scss';\r\n\r\nexport default {\r\n  components: {\r\n    ActionComfirm,\r\n    FormMode,\r\n    SqlMode\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      isCreating: false,\r\n      activeName: 'form',\r\n      formData: {\r\n        database: '',\r\n        tableName: '',\r\n        tableType: 2,\r\n        lifecycle: 1,\r\n        expireDate: -1,\r\n        hdfsPath: '',\r\n        // fieldMode: 1,\r\n        fields: [],\r\n        isPartition: false,\r\n        partitionFields: [],\r\n        storedFormat: '',\r\n        fieldsTerminated: '',\r\n        lineTerminated: '\\\\n'\r\n      },\r\n      sqlData: {\r\n        database: '',\r\n        sql: ''\r\n      }\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('metadata', {\r\n      databases: 'databases'\r\n    })\r\n  },\r\n\r\n  watch: {\r\n    activeName(val) {\r\n      const {\r\n        formData\r\n      } = this;\r\n\r\n      if (val === 'sql') {\r\n        this.transformForm2Sql(formData).then((sql) => {\r\n          this.sqlData = {\r\n            database: formData.database,\r\n            sql\r\n          };\r\n        });\r\n      }\r\n    },\r\n    databases(val) {\r\n      const list = val.list;\r\n\r\n      if (list && list.length > 0) {\r\n        const database = list[0].label;\r\n\r\n        this.formData.database = database;\r\n        this.sqlData.database = database;\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getDatabases();\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions('table', [\r\n      'createTableByForm',\r\n      'createTableBySql',\r\n      'transformForm2Sql'\r\n    ]),\r\n    ...mapActions('metadata', [\r\n      'getDatabases'\r\n    ]),\r\n\r\n    form2sql() {\r\n      const {\r\n        tableName,\r\n        type,\r\n        // lifecycle,\r\n        // expireDate,\r\n        hdfsPath,\r\n        // fieldMode,\r\n        fields,\r\n        isPartition,\r\n        partitionFields,\r\n        storedFormat\r\n      } = this.formData;\r\n      const external = type === 1;\r\n      const TABLE = `CREATE ${external ? 'EXTERNAL ' : ''}TABLE ${tableName} \\n`;\r\n      const FIELDS = this.createFieldStatement(fields);\r\n      const STORED = storedFormat ? `STORED AS ${storedFormat} \\n` : '';\r\n      const LOCATION = hdfsPath ? `LOCATION ${hdfsPath};` : '';\r\n      const PARTITIONED = isPartition && partitionFields.length > 0\r\n        ? `PARTITIONED BY \\n${this.createFieldStatement(partitionFields)}` : '';\r\n\r\n      return [\r\n        TABLE,\r\n        FIELDS,\r\n        PARTITIONED,\r\n        STORED,\r\n        LOCATION\r\n      ].join('');\r\n    },\r\n\r\n    createFieldStatement(fields) {\r\n      const statement = fields.map(field => {\r\n        const {\r\n          columnName,\r\n          desc,\r\n          type\r\n        } = field;\r\n        let sql = `    ${columnName} ${type}`;\r\n\r\n        if (desc) {\r\n          sql += ` COMMENT '${desc}'`;\r\n        }\r\n        return sql;\r\n      }).join('\\n');\r\n\r\n      if (!fields || fields.length === 0) {\r\n        return '';\r\n      }\r\n      return `(\\n${statement}\\n)\\n`;\r\n    },\r\n\r\n    handleScan() {\r\n      this.activeName = 'sql';\r\n    },\r\n\r\n    createTable() {\r\n      const success = (res) => {\r\n        this.$Message.success('新建成功，正在跳转到表信息页...', 1.5);\r\n        setTimeout(() => {\r\n          this.$router.push({\r\n            path: `/main/metadata/detail/${res.tableId}`\r\n          });\r\n        }, 1500);\r\n      };\r\n      const fail = () => {\r\n        this.isCreating = false;\r\n      };\r\n\r\n      if (this.activeName === 'form') {\r\n        const form = this.$refs.formMode.$refs.form;\r\n\r\n        form.validate((isValid) => {\r\n          if (isValid) {\r\n            this.isCreating = true;\r\n            this.createTableByForm(this.formData).then(success, fail);\r\n          }\r\n        });\r\n      } else {\r\n        this.isCreating = true;\r\n        this.createTableBySql({ sql: this.sqlData.sql }).then(success, fail);\r\n      }\r\n    },\r\n\r\n    cancelCreate() {\r\n      this.$router.push({\r\n        path: '/main/metadata'\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=18da8812&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}