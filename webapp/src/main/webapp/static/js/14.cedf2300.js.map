{"version":3,"sources":["webpack:///./src/views/auth/role/detail/index.vue","webpack:///index.vue?a212","webpack:///./src/views/auth/role/detail/authorize.vue","webpack:///authorize.vue","webpack:///./src/views/auth/role/detail/authorize.vue?ef3e","webpack:///./src/views/auth/role/detail/member.vue","webpack:///member.vue","webpack:///./src/views/auth/role/detail/add-member.vue","webpack:///add-member.vue","webpack:///./src/views/auth/role/detail/add-member.vue?710e","webpack:///./src/views/auth/role/detail/member.vue?af9a","webpack:///./src/views/auth/role/detail/index.vue?d0ce","webpack:///./src/service/auth/role.js","webpack:///./src/service/auth/auth.js"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0b65937a_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","Component","normalizeComponent","components","authorize","__WEBPACK_IMPORTED_MODULE_0__authorize__","member","__WEBPACK_IMPORTED_MODULE_1__member__","data","activeName","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_authorize_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a099c54c_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_authorize_vue__","privilege","privilegeName","modules","storePrivilege","roleId","technicalCategories","businessCategories","edit","privilegesOptions","privilegeId","businessCheck","technicalCheck","loading","allowEdit","created","this","$route","params","id","fetchRolePrivilege","methods","_this","__WEBPACK_IMPORTED_MODULE_2_src_service_auth_role__","limit","query","then","lists","length","map","item","disabled","show","status","push","guid","technicalUnsortCategories","__WEBPACK_IMPORTED_MODULE_1_src_utils__","businessUnsortCategories","JSON","parse","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","renderTree","h","_ref","node","hide","attrs","on","change","categoryChange","bind","class","name","filterNode","tree","a","filter","i","children","setChildrenStatus","changePrivilege","_this2","getCheckedKeys","categories","deepFlatten","arr","_ref2","concat","apply","flatten","x","Array","isArray","$Message","success","changePrivilegeOption","_this3","__WEBPACK_IMPORTED_MODULE_3_src_service_auth_auth__","cancel","copyTechnicalTree","copyBusinessTree","editPrivilege","esExports","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticClass","_v","popper-class","model","callback","$$v","_l","key","label","_s","type","click","moduleId","moduleName","some","ref","props","className","render-content","node-key","includes","staticRenderFns","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_member_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_54fe710e_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_member_vue__","addMember","__WEBPACK_IMPORTED_MODULE_1__add_member__","keyword","tableData","pagination","total","pageSize","pageSizes","current","selection","computed","fetchMemberList","arguments","undefined","offset","roles","roleName","sum","catch","e","pageChange","sizeChange","size","removeMember","userId","$Modal","confirm","title","content","onOk","warning","selectionChange","val","__WEBPACK_IMPORTED_MODULE_0__happypack_loader_id_babel_node_modules_vue_loader_lib_selector_type_script_index_0_add_member_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3ca47eb6_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_add_member_vue__","String","required","default","visible","roleOptions","roleFilter","memberOptions","selected","openAddMemberModal","$emit","visibleChange","__WEBPACK_IMPORTED_MODULE_0_src_service_auth_role__","index","findIndex","splice","handleSearch","roleChange","width","visible-change","search","clear","slot","username","is-show","flex-end","role-id","_e","placeholder","$event","staticStyle","paging","size-change","page-change","selection-change","fixed","prop","show-overflow-tooltip","scopedSlots","_u","fn","scope","tags","row","show-count","http","post","delete","users","get","put","__WEBPACK_IMPORTED_MODULE_0_src_utils_http__","form"],"mappings":"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","file":"static/js/14.cedf2300.js","sourcesContent":["var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b65937a\\\",\\\"hasScoped\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/auth/role/detail/index.vue\n// module id = 2066\n// module chunks = 14","<template>\n  <div class=\"role-detail\">\n    <gs-tabs\n      v-model=\"activeName\"\n      type=\"content-tab\"\n    >\n      <gs-tab-pane\n        label=\"成员\"\n        name=\"member\"\n      >\n        <member />\n      </gs-tab-pane>\n      <gs-tab-pane\n        label=\"权限\"\n        name=\"authorize\"\n      >\n        <authorize />\n      </gs-tab-pane>\n    </gs-tabs>\n  </div>\n</template>\n<script>\nimport authorize from './authorize';\nimport member from './member';\nexport default {\n  components: {\n    authorize,\n    member\n  },\n  data() {\n    return {\n      activeName: 'member'\n    };\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?ef6a2668","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./authorize.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a099c54c\\\",\\\"hasScoped\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./authorize.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/auth/role/detail/authorize.vue\n// module id = 2068\n// module chunks = 14","<template>\n  <div\n    v-loading=\"loading\"\n    class=\"authorize\"\n  >\n    <div class=\"header\">\n      <div class=\"title\">\n        <span class=\"label\">权限方案:</span>\n        <span v-if=\"!edit\">{{ privilege.privilegeName }}</span>\n        <gs-select\n          v-else\n          v-model=\"privilegeId\"\n          class=\"doc-select\"\n          popper-class=\"searchable-select\"\n          @change=\"changePrivilegeOption\"\n        >\n          <gs-option\n            v-for=\"item in privilegesOptions\"\n            :key=\"item.privilegeId\"\n            :label=\"item.privilegeName\"\n            :value=\"item.privilegeId\"\n          />\n        </gs-select>\n      </div>\n      <div class=\"operation-box\">\n        <gs-button\n          v-show=\"allowEdit && !edit\"\n          type=\"text-primary\"\n          @click=\"editPrivilege\"\n        >编辑</gs-button>\n        <gs-button\n          v-show=\"edit\"\n          type=\"text-primary\"\n          @click=\"changePrivilege\"\n        >确定</gs-button>\n        <gs-button\n          v-show=\"edit\"\n          type=\"text-primary\"\n          @click=\"cancel\"\n        >取消</gs-button>\n      </div>\n    </div>\n    <div class=\"wrap\">\n      <div class=\"left\">\n        <div class=\"authorize-module\">\n          <div class=\"title\">授权模块</div>\n          <p\n            v-for=\"item in privilege.modules.filter(i => i.type) || []\"\n            :key=\"item.moduleId\"\n          >\n            <i class=\"gs-icon-check\" />{{ item.moduleName }}\n          </p>\n        </div>\n        <div class=\"business-obj-ope\">\n          <div class=\"title\">业务对象操作</div>\n          <p\n            v-for=\"item in privilege.modules.filter(i => !i.type) || []\"\n            :key=\"item.moduleId\"\n          >\n            <i class=\"gs-icon-check\" />{{ item.moduleName }}\n          </p>\n        </div>\n      </div>\n      <div class=\"right\">\n        <div class=\"title\">授权范围</div>\n        <div class=\"wrapper\">\n          <div\n            v-show=\"privilege.modules.some(item =>item.moduleId === 1)\"\n            class=\"technical\"\n          >\n            <div class=\"title\">技术目录</div>\n            <gs-tree\n              ref=\"technicalTree\"\n              :data=\"technicalCategories\"\n              :props=\"{\n                label: 'name',\n                className: 'hide'\n              }\"\n              :render-content=\"renderTree\"\n              node-key=\"guid\"\n            />\n          </div>\n          <div\n            v-show=\"privilege.modules.some(item => [2, 5].includes(item.moduleId))\"\n            class=\"bussiness\"\n          >\n            <div class=\"title\">业务目录</div>\n            <gs-tree\n              ref=\"businessTree\"\n              :data=\"businessCategories\"\n              :props=\"{\n                label: 'name'\n              }\"\n              :render-content=\"renderTree\"\n              node-key=\"guid\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  list2tree,\n  sortTreeList,\n  deleteInTree\n} from 'src/utils';\nimport * as service from 'src/service/auth/role';\nimport * as authService from 'src/service/auth/auth';\nexport default {\n  data() {\n    return {\n      privilege: {\n        privilegeName: '',\n        modules: []\n      },\n      storePrivilege: {},\n      roleId: '',\n      technicalCategories: [],\n      businessCategories: [],\n      edit: false,\n      privilegesOptions: [],\n      privilegeId: '',\n      businessCheck: [],\n      technicalCheck: [],\n      loading: false,\n      allowEdit: false\n    };\n  },\n  created() {\n    this.roleId = this.$route.params.id;\n    this.fetchRolePrivilege();\n  },\n  methods: {\n    fetchRolePrivilege() {\n      this.loading = true;\n      service.getPrivileges({\n        limit: -1,\n        query: ''\n      }).then(data => {\n        this.privilegesOptions = data.lists;\n      });\n      service.getRolePrivilege(this.roleId).then(data => {\n        this.allowEdit = !!(data.edit);\n        if (data.technicalCategories && data.technicalCategories.length) {\n          data.technicalCategories.map(item => {\n            item.disabled = !item.show;\n            item.status && this.technicalCheck.push(item.guid);\n            return item;\n          });\n          const technicalUnsortCategories = list2tree(data.technicalCategories, 'guid', 'parentCategoryGuid');\n          const technicalCategories = sortTreeList(technicalUnsortCategories, 'guid', 'upBrotherCategoryGuid', 'downBrotherCategoryGuid');\n          this.technicalCategories = deleteInTree(technicalCategories, true, 'hide');\n        }\n        if (data.businessCategories && data.businessCategories.length) {\n          data.businessCategories.map(item => {\n            item.disabled = !item.show;\n            item.status && this.businessCheck.push(item.guid);\n            return item;\n          });\n          const businessUnsortCategories = list2tree(data.businessCategories, 'guid', 'parentCategoryGuid');\n          const businessCategories = sortTreeList(businessUnsortCategories, 'guid', 'upBrotherCategoryGuid', 'downBrotherCategoryGuid');\n          this.businessCategories = deleteInTree(businessCategories, true, 'hide'); ;\n        }\n        this.privilegeId = data.privilege.privilegeId;\n        this.privilege = data.privilege;\n        this.storePrivilege = JSON.parse(JSON.stringify(data.privilege));\n        this.loading = false;\n      });\n    },\n    renderTree(h, { node, data }) {\n      const { edit } = this;\n      return (\n        data.hide\n          ? <div>1</div>\n          : <span>\n            {(!edit)\n              ? (data.status ? <i class=\"gs-icon-check\"></i> : null)\n              : <gs-checkbox\n                value={!!data.status}\n                disabled={!data.show}\n                on-change={this.categoryChange.bind(this, data)}\n              ></gs-checkbox>}\n            <span>{data.name}</span>\n          </span>\n      );\n    },\n    filterNode(tree) {\n      function a(data) {\n        data = data.filter(i => {\n          if (i.children) {\n            i.children = a(i.children);\n          };\n          return !i.hide;\n        });\n        return data;\n      }\n      return a(tree);\n    },\n    categoryChange(data) {\n      const setChildrenStatus = (data, status) => {\n        if (data.children) {\n          data.children.map(item => {\n            if (item.children) {\n              item.status = status;\n              return setChildrenStatus(item, status);\n            } else {\n              item.status = status;\n              return item;\n            }\n          });\n        }\n      };\n      data.status = data.status === 1 ? 0 : 1;\n      setChildrenStatus(data, data.status);\n    },\n    changePrivilege() {\n      const params = {};\n      params.privilege = {\n        privilegeId: this.privilegeId,\n        modules: this.privilege.modules\n      };\n      // const technicalCategories = this.$refs.technicalTree.getCheckedKeys(true);\n      // const businessCategories = this.$refs.businessTree.getCheckedKeys(true);\n      const getCheckedKeys = (categories) => {\n        function deepFlatten(arr) {\n          const flatten = (arr) => [].concat(...arr);\n          return flatten(arr.map(x => {\n            if (Array.isArray(x.children) && x.status === 0) {\n              return [...x, ...deepFlatten(x.children)];\n            } else {\n              return x;\n            }\n          }));\n        }\n        return deepFlatten(categories)\n          .filter(item => item.status === 1)\n          .map(item => item.guid);\n      };\n      const technicalCategories = getCheckedKeys(this.technicalCategories);\n      const businessCategories = getCheckedKeys(this.businessCategories);\n      if (technicalCategories && technicalCategories.length) {\n        params.technicalCategories = technicalCategories.map(item => {\n          return {\n            guid: item,\n            status: 1\n          };\n        });\n      }\n      if (businessCategories && businessCategories.length) {\n        params.businessCategories = businessCategories.map(item => {\n          return {\n            guid: item,\n            status: 1\n          };\n        });\n      }\n      service.changePrivilege({\n        params,\n        roleId: this.roleId\n      }).then(data => {\n        this.edit = false;\n        this.$Message.success('修改成功');\n        this.fetchRolePrivilege();\n      });\n    },\n    changePrivilegeOption(value) {\n      authService.getPrivilegeDetail(value).then(data => {\n        this.privilege.modules = data.modules;\n      });\n    },\n    cancel() {\n      this.edit = false;\n      this.privilege = JSON.parse(JSON.stringify(this.storePrivilege));\n      this.privilegeId = this.privilege.privilegeId;\n      this.technicalCategories = JSON.parse(this.copyTechnicalTree);\n      this.businessCategories = JSON.parse(this.copyBusinessTree);\n    },\n    editPrivilege() {\n      this.edit = true;\n      // this.$refs.technicalTree.setCheckedKeys(this.technicalCheck);\n      // this.$refs.businessTree.setCheckedKeys(this.businessCheck);\n      this.copyTechnicalTree = JSON.stringify(this.technicalCategories);\n      this.copyBusinessTree = JSON.stringify(this.businessCategories);\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// authorize.vue?313e6fee","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"authorize\"\n  }, [_c('div', {\n    staticClass: \"header\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_c('span', {\n    staticClass: \"label\"\n  }, [_vm._v(\"权限方案:\")]), _vm._v(\" \"), (!_vm.edit) ? _c('span', [_vm._v(_vm._s(_vm.privilege.privilegeName))]) : _c('gs-select', {\n    staticClass: \"doc-select\",\n    attrs: {\n      \"popper-class\": \"searchable-select\"\n    },\n    on: {\n      \"change\": _vm.changePrivilegeOption\n    },\n    model: {\n      value: (_vm.privilegeId),\n      callback: function($$v) {\n        _vm.privilegeId = $$v\n      },\n      expression: \"privilegeId\"\n    }\n  }, _vm._l((_vm.privilegesOptions), function(item) {\n    return _c('gs-option', {\n      key: item.privilegeId,\n      attrs: {\n        \"label\": item.privilegeName,\n        \"value\": item.privilegeId\n      }\n    })\n  }), 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"operation-box\"\n  }, [_c('gs-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.allowEdit && !_vm.edit),\n      expression: \"allowEdit && !edit\"\n    }],\n    attrs: {\n      \"type\": \"text-primary\"\n    },\n    on: {\n      \"click\": _vm.editPrivilege\n    }\n  }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('gs-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.edit),\n      expression: \"edit\"\n    }],\n    attrs: {\n      \"type\": \"text-primary\"\n    },\n    on: {\n      \"click\": _vm.changePrivilege\n    }\n  }, [_vm._v(\"确定\")]), _vm._v(\" \"), _c('gs-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.edit),\n      expression: \"edit\"\n    }],\n    attrs: {\n      \"type\": \"text-primary\"\n    },\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"wrap\"\n  }, [_c('div', {\n    staticClass: \"left\"\n  }, [_c('div', {\n    staticClass: \"authorize-module\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"授权模块\")]), _vm._v(\" \"), _vm._l((_vm.privilege.modules.filter(function (i) { return i.type; }) || []), function(item) {\n    return _c('p', {\n      key: item.moduleId\n    }, [_c('i', {\n      staticClass: \"gs-icon-check\"\n    }), _vm._v(_vm._s(item.moduleName) + \"\\n        \")])\n  })], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"business-obj-ope\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"业务对象操作\")]), _vm._v(\" \"), _vm._l((_vm.privilege.modules.filter(function (i) { return !i.type; }) || []), function(item) {\n    return _c('p', {\n      key: item.moduleId\n    }, [_c('i', {\n      staticClass: \"gs-icon-check\"\n    }), _vm._v(_vm._s(item.moduleName) + \"\\n        \")])\n  })], 2)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"right\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"授权范围\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"wrapper\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.privilege.modules.some(function (item) { return item.moduleId === 1; })),\n      expression: \"privilege.modules.some(item =>item.moduleId === 1)\"\n    }],\n    staticClass: \"technical\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"技术目录\")]), _vm._v(\" \"), _c('gs-tree', {\n    ref: \"technicalTree\",\n    attrs: {\n      \"data\": _vm.technicalCategories,\n      \"props\": {\n        label: 'name',\n        className: 'hide'\n      },\n      \"render-content\": _vm.renderTree,\n      \"node-key\": \"guid\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.privilege.modules.some(function (item) { return [2, 5].includes(item.moduleId); })),\n      expression: \"privilege.modules.some(item => [2, 5].includes(item.moduleId))\"\n    }],\n    staticClass: \"bussiness\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"业务目录\")]), _vm._v(\" \"), _c('gs-tree', {\n    ref: \"businessTree\",\n    attrs: {\n      \"data\": _vm.businessCategories,\n      \"props\": {\n        label: 'name'\n      },\n      \"render-content\": _vm.renderTree,\n      \"node-key\": \"guid\"\n    }\n  })], 1)])])])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a099c54c\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/auth/role/detail/authorize.vue\n// module id = 2070\n// module chunks = 14","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54fe710e\\\",\\\"hasScoped\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./member.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/auth/role/detail/member.vue\n// module id = 2071\n// module chunks = 14","<template>\n  <div class=\"member\">\n    <div\n      :class=\"{ 'flex-end': roleId === '1' }\"\n      class=\"search-box\"\n    >\n      <add-member\n        v-if=\"roleId !== '1'\"\n        :role-id=\"roleId\"\n        @removeMember=\"removeMember\"\n        @addMember=\"addMember\"\n      />\n      <gs-search\n        v-model=\"keyword\"\n        placeholder=\"请输入用户名或帐号\"\n        @clear=\"fetchMemberList(1)\"\n        @search=\"fetchMemberList\"\n      />\n    </div>\n    <gs-table\n      v-loading=\"loading\"\n      :data=\"tableData\"\n      :pagination=\"pagination\"\n      style=\"width: 100%\"\n      paging\n      @size-change=\"sizeChange\"\n      @page-change=\"pageChange\"\n      @selection-change=\"selectionChange\"\n    >\n      <gs-table-column\n        type=\"selection\"\n        fixed\n      />\n      <gs-table-column\n        prop=\"account\"\n        label=\"帐号\"\n        show-overflow-tooltip\n      />\n      <gs-table-column\n        prop=\"username\"\n        label=\"用户名\"\n        show-overflow-tooltip\n      />\n      <gs-table-column\n        prop=\"roleName\"\n        label=\"角色\"\n      >\n        <template slot-scope=\"scope\">\n          <gs-table-tags\n            :tags=\"scope.row.roles\"\n            :show-count=\"2\"\n          />\n        </template>\n      </gs-table-column>\n    </gs-table>\n  </div>\n</template>\n<script>\nimport './style';\nimport addMember from './add-member';\nimport * as service from 'src/service/auth/role';\nexport default {\n  components: {\n    addMember\n  },\n  data() {\n    return {\n      keyword: '',\n      tableData: [\n      ],\n      pagination: {\n        total: 0,\n        pageSize: 10,\n        pageSizes: [10, 20, 30],\n        current: 1\n      },\n      loading: false,\n      selection: [],\n      roleId: ''\n    };\n  },\n  computed: {\n\n  },\n\n  created() {\n    this.roleId = this.$route.params.id;\n    this.fetchMemberList(1);\n  },\n\n  methods: {\n    fetchMemberList(isfirstPage = 0) {\n      if (isfirstPage === 1) this.pagination.current = 1;\n      this.loading = true;\n      service.getMemberList(this.roleId, {\n        offset: (this.pagination.current - 1) * this.pagination.pageSize,\n        limit: this.pagination.pageSize,\n        query: this.keyword\n      }).then(data => {\n        data.lists.map(item => {\n          item.roles = [item.roleName];\n          return item;\n        });\n        this.tableData = data.lists;\n        this.pagination.total = data.sum || 0;\n        this.loading = false;\n      }).catch(e => {\n        this.loading = false;\n      });\n    },\n    pageChange(current) {\n      this.pagination.current = current;\n      this.fetchMemberList();\n    },\n    sizeChange(size) {\n      this.pagination.pageSize = size;\n      this.fetchMemberList(1);\n    },\n    removeMember() {\n      if (this.selection.length) {\n        const userId = this.selection.map(item => item.userId);\n        this.$Modal.confirm({\n          title: '警告',\n          content: '是否删除该成员？删除后将无法恢复',\n          onOk: () => {\n            service.deleteMember(this.roleId, userId).then(data => {\n              this.$Message.success('删除成员成功');\n              this.fetchMemberList();\n            });\n          }\n        });\n      } else {\n        this.$Message.warning(`请选择成员`);\n      }\n    },\n    selectionChange(val) {\n      this.selection = val;\n    },\n    addMember(val) {\n      service.addMember(this.roleId, val).then(data => {\n        this.$Message.success('添加成员成功');\n        this.fetchMemberList(1);\n      });\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// member.vue?9cdd7eea","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!happypack/loader?id=babel!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add-member.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ca47eb6\\\",\\\"hasScoped\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add-member.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/auth/role/detail/add-member.vue\n// module id = 2074\n// module chunks = 14","<template>\n  <div>\n    <gs-button\n      type=\"primary\"\n      @click=\"openAddMemberModal\"\n    >添加成员</gs-button>\n    <gs-button\n      type=\"primary\"\n      @click=\"removeMember\"\n    >移除成员</gs-button>\n    <gs-modal\n      v-model=\"visible\"\n      title=\"添加成员\"\n      width=\"620px\"\n      @visible-change=\"visibleChange\"\n      @confirm=\"addMember\"\n    >\n      <div class=\"add-member-modal\">\n        <gs-search\n          v-model=\"keyword\"\n          class=\"search\"\n          @search=\"handleSearch\"\n          @clear=\"handleSearch\"\n        >\n          <template slot=\"prepend\">\n            <gs-select\n              v-model=\"roleFilter\"\n              @change=\"roleChange\"\n            >\n              <gs-option\n                v-for=\"item in roleOptions\"\n                :key=\"item.roleId\"\n                :label=\"item.roleName\"\n                :value=\"item.roleId\"\n                :title=\"item.roleName\"\n              />\n            </gs-select>\n          </template>\n        </gs-search>\n        <gs-modal-select\n          v-model=\"selected\"\n          class=\"searchable-modal-select\"\n          flatten\n        >\n          <gs-option\n            v-for=\"item in memberOptions\"\n            :key=\"item.userId\"\n            :label=\"item.username\"\n            :value=\"item.userId\"\n            :disabled=\"!!item.status\"\n          >\n            <span>{{ item.username }}</span>\n            <span class=\"role-name\">({{ item.roleName }})</span>\n          </gs-option>\n        </gs-modal-select>\n      </div>\n      <gs-loading\n        :is-show=\"loading\"\n      />\n    </gs-modal>\n  </div>\n</template>\n<script>\nimport * as roleService from 'src/service/auth/role';\nexport default {\n  props: {\n    roleId: {\n      type: String,\n      required: true,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      visible: false,\n      roleOptions: [],\n      roleFilter: 'all',\n      memberOptions: [],\n      keyword: '',\n      selected: [],\n      loading: false\n    };\n  },\n  methods: {\n    openAddMemberModal() {\n      this.visible = true;\n    },\n    removeMember() {\n      this.$emit('removeMember');\n    },\n    visibleChange(val) {\n      if (val) {\n        this.loading = true;\n        this.roleFilter = 'all';\n        this.selected = [];\n        roleService.getRoleList({limit: -1, query: ''}).then(data => {\n          data.lists = [\n            {\n              roleName: '全部',\n              roleId: 'all'\n            },\n            ...data.lists\n          ];\n          const index = data.lists.findIndex(item => item.roleId === this.roleId);\n          if (index !== -1) data.lists.splice(index, 1);\n          this.roleOptions = data.lists.filter(i => i.roleId !== '1');\n        });\n        roleService.getAllMemberList(this.roleId, {limit: -1, query: this.keyword}).then(data => {\n          this.memberOptions = data.lists;\n          this.loading = false;\n        });\n      }\n    },\n    addMember() {\n      if (this.selected && this.selected.length) {\n        this.$emit('addMember', this.selected);\n        this.visible = false;\n      } else {\n        this.$Message.warning(`请选择成员`);\n      }\n    },\n    handleSearch() {\n      if (this.roleFilter === 'all') {\n        roleService.getAllMemberList(this.roleId, {limit: -1, query: this.keyword}).then(data => {\n          this.memberOptions = data.lists;\n        });\n      } else {\n        roleService.getMemberList(this.roleFilter, {limit: -1, query: this.keyword}).then(data => {\n          this.memberOptions = data.lists;\n        });\n      }\n    },\n    roleChange() {\n      this.keyword = '';\n      if (this.roleFilter === 'all') {\n        roleService.getAllMemberList(this.roleId, {limit: -1, query: ''}).then(data => {\n          this.memberOptions = data.lists;\n        });\n      } else {\n        roleService.getMemberList(this.roleFilter, {limit: -1, query: ''}).then(data => {\n          this.memberOptions = data.lists;\n        });\n      }\n    }\n  }\n};\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// add-member.vue?f6d16e84","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('gs-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.openAddMemberModal\n    }\n  }, [_vm._v(\"添加成员\")]), _vm._v(\" \"), _c('gs-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.removeMember\n    }\n  }, [_vm._v(\"移除成员\")]), _vm._v(\" \"), _c('gs-modal', {\n    attrs: {\n      \"title\": \"添加成员\",\n      \"width\": \"620px\"\n    },\n    on: {\n      \"visible-change\": _vm.visibleChange,\n      \"confirm\": _vm.addMember\n    },\n    model: {\n      value: (_vm.visible),\n      callback: function($$v) {\n        _vm.visible = $$v\n      },\n      expression: \"visible\"\n    }\n  }, [_c('div', {\n    staticClass: \"add-member-modal\"\n  }, [_c('gs-search', {\n    staticClass: \"search\",\n    on: {\n      \"search\": _vm.handleSearch,\n      \"clear\": _vm.handleSearch\n    },\n    model: {\n      value: (_vm.keyword),\n      callback: function($$v) {\n        _vm.keyword = $$v\n      },\n      expression: \"keyword\"\n    }\n  }, [_c('template', {\n    slot: \"prepend\"\n  }, [_c('gs-select', {\n    on: {\n      \"change\": _vm.roleChange\n    },\n    model: {\n      value: (_vm.roleFilter),\n      callback: function($$v) {\n        _vm.roleFilter = $$v\n      },\n      expression: \"roleFilter\"\n    }\n  }, _vm._l((_vm.roleOptions), function(item) {\n    return _c('gs-option', {\n      key: item.roleId,\n      attrs: {\n        \"label\": item.roleName,\n        \"value\": item.roleId,\n        \"title\": item.roleName\n      }\n    })\n  }), 1)], 1)], 2), _vm._v(\" \"), _c('gs-modal-select', {\n    staticClass: \"searchable-modal-select\",\n    attrs: {\n      \"flatten\": \"\"\n    },\n    model: {\n      value: (_vm.selected),\n      callback: function($$v) {\n        _vm.selected = $$v\n      },\n      expression: \"selected\"\n    }\n  }, _vm._l((_vm.memberOptions), function(item) {\n    return _c('gs-option', {\n      key: item.userId,\n      attrs: {\n        \"label\": item.username,\n        \"value\": item.userId,\n        \"disabled\": !!item.status\n      }\n    }, [_c('span', [_vm._v(_vm._s(item.username))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"role-name\"\n    }, [_vm._v(\"(\" + _vm._s(item.roleName) + \")\")])])\n  }), 1)], 1), _vm._v(\" \"), _c('gs-loading', {\n    attrs: {\n      \"is-show\": _vm.loading\n    }\n  })], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ca47eb6\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/auth/role/detail/add-member.vue\n// module id = 2076\n// module chunks = 14","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"member\"\n  }, [_c('div', {\n    staticClass: \"search-box\",\n    class: {\n      'flex-end': _vm.roleId === '1'\n    }\n  }, [(_vm.roleId !== '1') ? _c('add-member', {\n    attrs: {\n      \"role-id\": _vm.roleId\n    },\n    on: {\n      \"removeMember\": _vm.removeMember,\n      \"addMember\": _vm.addMember\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('gs-search', {\n    attrs: {\n      \"placeholder\": \"请输入用户名或帐号\"\n    },\n    on: {\n      \"clear\": function($event) {\n        _vm.fetchMemberList(1)\n      },\n      \"search\": _vm.fetchMemberList\n    },\n    model: {\n      value: (_vm.keyword),\n      callback: function($$v) {\n        _vm.keyword = $$v\n      },\n      expression: \"keyword\"\n    }\n  })], 1), _vm._v(\" \"), _c('gs-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"pagination\": _vm.pagination,\n      \"paging\": \"\"\n    },\n    on: {\n      \"size-change\": _vm.sizeChange,\n      \"page-change\": _vm.pageChange,\n      \"selection-change\": _vm.selectionChange\n    }\n  }, [_c('gs-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"fixed\": \"\"\n    }\n  }), _vm._v(\" \"), _c('gs-table-column', {\n    attrs: {\n      \"prop\": \"account\",\n      \"label\": \"帐号\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('gs-table-column', {\n    attrs: {\n      \"prop\": \"username\",\n      \"label\": \"用户名\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('gs-table-column', {\n    attrs: {\n      \"prop\": \"roleName\",\n      \"label\": \"角色\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('gs-table-tags', {\n          attrs: {\n            \"tags\": scope.row.roles,\n            \"show-count\": 2\n          }\n        })]\n      }\n    }])\n  })], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54fe710e\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/auth/role/detail/member.vue\n// module id = 2077\n// module chunks = 14","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"role-detail\"\n  }, [_c('gs-tabs', {\n    attrs: {\n      \"type\": \"content-tab\"\n    },\n    model: {\n      value: (_vm.activeName),\n      callback: function($$v) {\n        _vm.activeName = $$v\n      },\n      expression: \"activeName\"\n    }\n  }, [_c('gs-tab-pane', {\n    attrs: {\n      \"label\": \"成员\",\n      \"name\": \"member\"\n    }\n  }, [_c('member')], 1), _vm._v(\" \"), _c('gs-tab-pane', {\n    attrs: {\n      \"label\": \"权限\",\n      \"name\": \"authorize\"\n    }\n  }, [_c('authorize')], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b65937a\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/auth/role/detail/index.vue\n// module id = 2078\n// module chunks = 14","import http from 'src/utils/http';\n\nexport function getRoleList(params) {\n  return http.post(`/role/roles`, params);\n}\nexport function deleteRole(roleId) {\n  return http.delete(`/role/${roleId}`);\n}\nexport function getPrivileges(params) {\n  return http.post(`/role/privileges`, params);\n}\nexport function addRole(params) {\n  return http.post(`/role`, params);\n}\nexport function getMemberList(roleId, params) {\n  return http.post(`/role/${roleId}/users`, params);\n}\nexport function deleteMember(roleId, users) {\n  return http.delete(`/role/${roleId}/user`, { data: users });\n}\nexport function addMember(roleId, users) {\n  return http.post(`role/${roleId}/user`, users);\n}\nexport function getRolePrivilege(roleId) {\n  return http.get(`/role/${roleId}/privileges`);\n}\nexport function changePrivilege({params, roleId}) {\n  return http.put(`/role/${roleId}/privileges`, params);\n}\nexport function changeRoleStatus({roleId, status}) {\n  return http.put(`/role/${roleId}/${status}`);\n}\nexport function getAllMemberList(roleId, params) {\n  return http.post(`/role/users/${roleId}`, params);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/auth/role.js","import http from 'src/utils/http';\n\nexport function getPrivilegeList(params) {\n  return http.post(`/privilege/privileges`, params);\n}\nexport function deletePrivilege(privilegeId) {\n  return http.delete(`/privilege/${privilegeId}`);\n}\nexport function getPrivilegeDetail(privilegeId) {\n  return http.get(`/privilege/${privilegeId}`);\n}\nexport function getModules() {\n  return http.get(`/privilege/modules`);\n}\nexport function createPrivilege(form) {\n  return http.post(`/privilege`, form);\n}\nexport function editPrivilege(privilegeId, form) {\n  return http.put(`/privilege/${privilegeId}`, form);\n}\nexport function getRoleList(params) {\n  return http.post(`/privilege/roles`, params);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/auth/auth.js"],"sourceRoot":""}